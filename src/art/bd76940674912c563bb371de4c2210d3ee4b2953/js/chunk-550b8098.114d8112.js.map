{"version":3,"sources":["webpack:///./src/components/base/User.vue?bd5d","webpack:///./node_modules/@4dst-saas/public-utils/dist/date.js","webpack:///./src/components/base/User.vue?c91f","webpack:///src/components/base/User.vue","webpack:///./src/components/base/User.vue?9762","webpack:///./src/components/base/User.vue","webpack:///./src/views/file-list/components/workspace/MemberSelectorItem.vue?0c62","webpack:///./src/api/account.js","webpack:///./node_modules/@4dst-saas/public-utils/dist/random-string.js","webpack:///./src/views/file-list/components/workspace/MemberSelector.vue?1d18","webpack:///./src/utils/validators/valid-password.ts","webpack:///./src/assets/img/header/default_avatar.png","webpack:///./src/utils/composables/use-callback-when-last-element-shown.ts","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/views/file-list/components/workspace/MemberSelector.vue?0e34","webpack:///./src/views/file-list/components/workspace/MemberSelectorItem.vue?2943","webpack:///src/views/file-list/components/workspace/MemberSelectorItem.vue","webpack:///./src/views/file-list/components/workspace/MemberSelectorItem.vue?00f5","webpack:///./src/views/file-list/components/workspace/MemberSelectorItem.vue","webpack:///src/views/file-list/components/workspace/MemberSelector.vue","webpack:///./src/views/file-list/components/workspace/MemberSelector.vue?277a","webpack:///./src/views/file-list/components/workspace/MemberSelector.vue"],"names":["startOfDate","date","result","Date","setHours","setMinutes","setSeconds","setMilliseconds","nextOfDate","setDate","getDate","prevOfDate","Object","defineProperty","exports","value","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","size","_t","attrs","userImage","$scopedSlots","default","_v","_s","user","account","email","mail","name","staticRenderFns","components","BaseImage","props","computed","headImg","avatar","icon","component","registerAccount","data","axiosEncrypt","method","url","headers","token","applyAccountForTrial","axios","subscribeOurWebsite","getUserInfo","getUsersInfoByIds","_userIds","userIds","Array","from","Set","filter","id","length","fill","res","users","fromEntries","map","updateUserInfo","updateUserPasswordByVerificatioCode","createPaidSubaccount","fetchGroupMembers","keyword","groupAppId","createVirtualAccount","ApiConnectAccount","searchUsersToAdd","params","randomString","seed","number","seedlength","createString","i","num","Math","floor","random","_default","validPassword","pass","min","max","e","Error","t","test","hasNum","hasChar","hasUpperCase","hasLowerCase","score","reduce","total","v","module","callbackWhenLastElementShown","list","callback","targetSelectorOrSelector","io","watcher","currentVm","nL","$nextTick","targets","$el","querySelectorAll","target","IntersectionObserver","entries","obs","forEach","entry","intersectionRatio","unobserve","root","rootMargin","threshold","observe","immediate","terminate","disconnect","callbackWhenLastElementShownNotCompositionVersion","listName","$watch","children","childElementCount","beforeDestroy","$options","call","$","addToUnscopables","proto","directives","rawName","members","expression","model","$$v","tabValue","tabLabels","workspace","businessType","_e","$loadingState","staticStyle","selected","on","toggleSelect","$t","slot","$event","$emit","$act","handleOk","prop","label","width","showTooltip","align","scopedSlots","_u","key","fn","ref","member","row","judgeMemberDisabled","itemType","scopeContent","extensionText","includes","changeValue","BaseUser","String","type","Number","disabled","Boolean","methods","MemberSelectorItem","membersHandler","Function","tabValues","pageNumber","pageSize","pages","created","$Error","clearSelected","splice","isSameUser","a","b"],"mappings":"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","file":"js/chunk-550b8098.114d8112.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startOfDate = startOfDate;\nexports.nextOfDate = nextOfDate;\nexports.prevOfDate = prevOfDate;\n\n/**\n * 获取某个date所在时区当天零时零分的date\n * @param date 日期\n */\nfunction startOfDate(date) {\n  var result = new Date(+date);\n  result.setHours(0);\n  result.setMinutes(0);\n  result.setSeconds(0);\n  result.setMilliseconds(0);\n  return result;\n}\n/**\n * 获取某个date所在时区的下一天零时零分的date\n * @param date 日期\n */\n\n\nfunction nextOfDate(date) {\n  var result = startOfDate(date);\n  result.setDate(result.getDate() + 1);\n  return result;\n}\n/**\n * 获取某个date所在时区的上一天的date\n * @param date 日期\n */\n\n\nfunction prevOfDate(date) {\n  var result = startOfDate(date);\n  result.setDate(result.getDate() - 1);\n  return result;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\",class:(\"user-\" + _vm.size)},[_vm._t(\"avatar\",[_c('BaseImage',{staticClass:\"avatar\",attrs:{\"src\":_vm.userImage}})]),_c('div',{staticClass:\"content ellipsis\",class:{ 'ellipsis': !_vm.$scopedSlots.default }},[_vm._t(\"default\",[_vm._v(\" \"+_vm._s(_vm.user.account || _vm.user.email || _vm.user.mail || _vm.user.name)+\" \")])],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user\" :class=\"`user-${size}`\">\n    <slot name=\"avatar\">\n      <BaseImage class=\"avatar\" :src=\"userImage\"></BaseImage>\n    </slot>\n    <div class=\"content ellipsis\" :class=\"{ 'ellipsis': !$scopedSlots.default }\">\n      <slot>\n        {{ user.account || user.email || user.mail || user.name  }}\n      </slot>\n    </div>\n  </div>\n</template>\n<script>\nimport BaseImage from '@/components/base/Image';\n\nexport default {\n  components: {\n    BaseImage,\n  },\n  props: {\n    user: {},\n    size: { default: 'medium' },\n  },\n  computed: {\n    userImage() {\n      return this.user.headImg || this.user.avatar || this.user.icon || require('@/assets/img/header/default_avatar.png');\n    },\n  },\n\n};\n</script>\n<style lang=\"scss\" scoped>\n.user {\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n  &-medium {\n    .avatar {\n      width: 36px;\n      height: 36px;\n    }\n  }\n  &-small {\n    .avatar {\n      width: 28px;\n      height: 28px;\n    }\n  }\n  &-mini {\n    .avatar {\n      width: 24px;\n      height: 24px;\n    }\n  }\n  &-large {\n    .avatar {\n      width: 40px;\n      height: 40px;\n    }\n  }\n  .avatar {\n    border-radius: 50%;\n    background-color: #f5f5f5;\n    margin-right: 10px;\n  }\n  /deep/ .img-err {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    color: #909399;\n  }\n  .content {\n    flex: 1;\n  }\n  .ellipsis {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=09fce134&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09fce134\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberSelectorItem.vue?vue&type=style&index=0&lang=css&\"","import axios, { axiosEncrypt } from '@/utils/axios';\n\n/* =========================== 账号相关 =========================== */\nexport const registerAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/register',\n    headers: {\n      token: '',\n    },\n    data,\n  });\n};\n\nexport const loginByName = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/login/login',\n    data,\n  });\n};\n\n// 重置密码\n// 已废弃\n// export const resetPassword = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/pass/reset',\n//     data,\n//   });\n// };\n\n// 发送验证码\n// 已废弃\n// export const sendVerifyCode = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/verification/code',\n//     data,\n//   });\n// };\n\n// 校验验证码\n// 已废弃\n// export const checkVerifyCode = (code, account) => {\n//   return axios({\n//     method: 'get',\n//     url: `/authcenter/user/check/verify?verifyCode=${code}&account=${account}`,\n//   });\n// };\n\n// 验证邮箱接口\nexport const emailVerify = (email) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/email/verify?email=${email}`,\n  });\n};\n\n// 校验账号是否为主账号或普通账号\nexport const checkRole = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/check/role?account=${account}`,\n  });\n};\n\n// 账号购买套餐的信息\nexport const getUserPurchaseInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/info/all',\n  });\n};\n\n/**\n * 申请试用\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const applyAccountForTrial = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/trial/add',\n    data,\n  });\n};\n\n/**\n * 订阅更新信息\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const subscribeOurWebsite = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/subscribe',\n    data,\n  });\n};\n\n/**\n * 校验账户是否重复\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const checkAcountExistent = (account) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/account/check',\n    params: {\n      account,\n    },\n  });\n};\n\n/* =========================== 当前登录用户 =========================== */\n/**\n * 根据token来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUserInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/info/get',\n  });\n};\n\n/**\n * 根据用户ID来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUsersInfoByIds = async (_userIds = []) => {\n  const userIds = Array.from(new Set(_userIds.filter(id => !!id)));\n  if (!userIds.length) {\n    const data = new Array(_userIds.length);\n    data.fill(null);\n    return { data };\n  }\n  const res = await axios({\n    method: 'post',\n    url: '/authcenter/user/im/info',\n    data: userIds,\n  });\n  const users = Object.fromEntries(res.data.map(user => ([user.id, user])));\n  res.data = _userIds.map(id => users[id] ?? null);\n  return res;\n};\n\n/**  ???????????????????????????\n * 根据token来获取当前登录用户信息\n * @param {Object} data 登录信息\n * @returns {Promise}\n */\nexport const uploadAccountInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/update',\n    data,\n  });\n};\n\n/**\n * 修改用户信息\n * @param {Object} data 支持 name, email, headImg 三个属性修改\n * @returns {Promise}\n */\nexport const updateUserInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update/self',\n    data,\n  });\n};\n\n/**\n * 根据邮箱或账号重置账号密码\n * @param {Object} data 邮箱和信息密码\n * @returns {Promise}\n */\nexport const updateUserPasswordByVerificatioCode = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/password/reset',\n    data,\n  });\n};\n\n/**\n * 获取是否有剩余的子账号（true/fase）(deprecated)\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetLeaveSubaccount = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/check?resourceType=${type}`,\n  });\n};\n\n/**\n * 新增收费子账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createPaidSubaccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/add',\n    data,\n  });\n};\n\n/**\n * 新增免费账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const ApiAddFreeAccount = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/free/add',\n    data,\n  });\n};\n\n/* =========================== 账号中心 =========================== */\n/**\n * 公司列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiCompanyList = (groupAppId, keyword = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiAddressList = (keyWord, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: `/authcenter/contacts/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 虚拟账号列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiVirtualList = (keyWord) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/virtual/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 协同空间群设置的成员列表（可搜索）\n * @param {String} keyword 搜索\n * @returns {Promise}\n */\nexport const fetchGroupMembers = ({\n  keyword,\n  groupAppId,\n}) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/ugroup/users/search?keyword=${keyword}`,\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n  });\n};\n\n/**\n * 公司账号的子账号列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getSubaccountListOfCompany = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getContactList = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/contacts/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 虚拟账号列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getVirtualList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/virtual/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 编辑\n * @param {String} data 编辑信息对象\n * @returns {Promise}\n */\nexport const ApiupdateUserAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update',\n    data,\n  });\n};\n\n/**\n * 删除单个 非邀请Delete\n * @param {String} id 删除id  <!-- null 和0 都是，1 是邀请 Disconnect-->\n * @returns {Promise}\n */\nexport const ApiDelAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/delete?userId=${id}`,\n  });\n};\n\n/**\n * 删除单个 邀请 Disconnect\n * @param {String} id 删除id\n * @returns {Promise}\n */\nexport const ApiDisconnectAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/contacts/disconnect?relateUserId=${id}`,\n  });\n};\n\n/**\n * 获取新增子账号剩余多少\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetCanUseWorkspace = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/info?resourceType=${type}`,\n  });\n};\n\n/**\n * 检查名称是否重复\n * @param {String} account 名称\n * @returns {Promise}\n */\nexport const ApicheckUsable = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/check?account=${account}`,\n  });\n};\n\n/**\n * 清除到期账号\n * @returns {Promise}\n */\nexport const ApiDelOverdue = () => {\n  return axios({\n    method: 'get',\n    url: '/user/overdue/delete',\n  });\n};\n\n/**\n * 查询是否遮罩\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApigetShade = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/shade/get?type=${type}`,\n  });\n};\n\n/**\n * 关闭遮罩\n * @param {String} data 类型\n * @returns {Promise}\n */\nexport const ApiaddShade = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/shade/add',\n    data,\n  });\n};\n\n/**\n * 新增虚拟账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createVirtualAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/virtual/add',\n    data,\n  });\n};\n\n// 头和目标账号信息\nexport const ApiConnectAccount = (data, headers) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/add/mutiple',\n    data,\n    headers,\n  });\n};\n\n/**\n * 公司套餐workspace数量(deprecated)\n * @param {String}\n * @returns {Promise}\n */\nexport const getWorkspacesNumberOfPackage = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/package/workspace/number',\n  });\n};\n\n/**\n * 添加协同空间成员时搜索可添加的列表\n * @param {String}\n * @returns {Promise}\n */\nexport const searchUsersToAdd = (keyword, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/search',\n    params: {\n      keyword,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.randomString = void 0;\nvar seed = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'm', 'n', 'p', 'Q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\nvar number = ['1', '2', '3', '4', '5', '6', '7', '8', '9'];\n/** 随机生成指定位数的字符串 */\n\nvar randomString = function randomString(size) {\n  var seedlength = seed.length;\n  var createString = '';\n\n  for (var i = 0; i < size - 1; i++) {\n    var num = Math.floor(Math.random() * seedlength);\n    createString += seed[num];\n  }\n\n  return createString + number[Math.floor(Math.random() * number.length)];\n};\n\nexports.randomString = randomString;\nvar _default = randomString;\nexports.default = _default;","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberSelector.vue?vue&type=style&index=0&id=75c543b5&lang=scss&scoped=true&\"","import { i18n } from '@/i18n';\nimport strLength from '@/utils/validators/str-length';\n\nexport function validPassword(pass: string) {\n  // const reg = /^(?![0-9]+$)(?![a-zA-Z]+$).+$/;\n  // if (!reg.test(pass)) {\n  //   throw new Error(i18n.t('validator.not_only_digit_letter'));\n  // }\n  if (!pass) {\n    return;\n  }\n\n\n  // 1.长度为6-20个字符\n  // strLength(pass, { min: 6, max: 20 });\n  try {\n    strLength(pass, { min: 6, max: 20 });\n  } catch (e) {\n    throw new Error(i18n.t('validator.pass.char_len_between', { min: 6, max: 20 }));\n  }\n\n  // 2.只能输入可见的ASCII字符\n  // new Array(127 - 33).fill(0).map((v, i) => String.fromCharCode(i + 33)).join('')\n  // !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\n  // !\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~\n  // 注意中间一部分需要转义: [\\] => [\\\\\\]\n  // if (/[^`~!@#$%^&*()_\\-+=<>?:\"{}|,./;'\\\\[\\]·~！@#￥%……&*（）——\\-+={}|《》？：“”【】、；‘'，。、A-Za-z0-9]/.test(pass)) {\n  if (/[^!\"#$%&'()*+,-./:;<=>?@[\\\\\\]^_`{|}~A-Za-z0-9]/.test(pass)) {\n    throw new Error(i18n.t('validator.pass.ascii_char_only'));\n  }\n\n  // 3.至少包含数字/字符/大写字母/小写字母中的三种\n  const hasNum = /\\d/.test(pass);\n  const hasChar = /[!\"#$%&'()*+,-./:;<=>?@[\\\\\\]^_`{|}~]/.test(pass);\n  const hasUpperCase = /[A-Z]/.test(pass);\n  const hasLowerCase = /[a-z]/.test(pass);\n  const score = [hasNum, hasChar, hasUpperCase, hasLowerCase].reduce(((total, v) => total + (v ? 1 : 0)), 0);\n  // console.log('score=====', score);\n  if (score < 3) {\n    throw new Error(i18n.t('validator.pass.choose_three'));\n  }\n}\n\nexport default validPassword;\n","module.exports = \"data:image/png;base64,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\"","import {\n  watch, Ref, getCurrentInstance, onUnmounted, onMounted,\n} from '@vue/composition-api';\nimport Vue from 'vue';\nimport 'intersection-observer';\n\nexport function callbackWhenLastElementShown(\n  list: Ref<any[]|null>, callback: ()=> any, targetSelector: string\n):void;\n\nexport function callbackWhenLastElementShown(\n  list: Ref<any[]|null>, callback: ()=> any, container: Ref<Element>\n):void;\n\nexport function callbackWhenLastElementShown(\n  list: Ref<any[]|null>, callback: ()=> any, targetSelectorOrSelector: string | Ref<Element>,\n) {\n  let io:IntersectionObserver;\n  let watcher: any;\n  const currentVm = getCurrentInstance();\n  onMounted(() => {\n    watcher = watch(() => list?.value, async (nL) => {\n      if (nL && nL.length && nL.length > 0) {\n        await currentVm?.$nextTick();\n        let target: Element;\n        if (typeof targetSelectorOrSelector === 'string') {\n          const targets = currentVm!.$el.querySelectorAll(targetSelectorOrSelector);\n          target = targets[targets.length - 1];\n        } else {\n          target = targetSelectorOrSelector.value;\n        }\n        io = new IntersectionObserver((entries, obs) => {\n          entries.forEach(entry => {\n            if (entry.intersectionRatio > 0.9 && entry.target === target) {\n              obs.unobserve(entry.target);\n              callback();\n            }\n          });\n        }, {\n          root: null,\n          rootMargin: '0px 0px 0px 0px',\n          threshold: 0.9,\n        });\n        io.observe(target);\n      }\n    }, {\n      immediate: true,\n    });\n  });\n  const terminate = () => {\n    if (watcher) {\n      watcher();\n    }\n    if (io) {\n      io.disconnect();\n    }\n  };\n  onUnmounted(terminate);\n  return terminate;\n}\n\nexport function callbackWhenLastElementShownNotCompositionVersion(\n  listName: string, callback: ()=> any, targetSelectorOrSelector: string | Element,\n) {\n  let io:IntersectionObserver;\n  // @ts-ignore\n  const currentVm = (this as InstanceType<typeof Vue>);\n  currentVm.$watch(listName, async (nL) => {\n    if (nL && nL.length > 0) {\n      await currentVm.$nextTick();\n\n      let target;\n\n      if (typeof targetSelectorOrSelector === 'string') {\n        const targets = currentVm!.$el.querySelectorAll(targetSelectorOrSelector);\n        target = targets[targets.length - 1];\n        // console.log(target);\n      } else {\n        target = targetSelectorOrSelector.children[targetSelectorOrSelector.childElementCount - 1];\n      }\n      io = new IntersectionObserver((entries, obs) => {\n        entries.forEach(entry => {\n          // console.log(entry.intersectionRatio);\n          if (entry.intersectionRatio === 1) {\n            obs.unobserve(entry.target);\n            callback();\n          }\n        });\n      }, {\n        root: null,\n        rootMargin: '0px 0px 0px 0px',\n        threshold: 1,\n      });\n      io.observe(target);\n    }\n  });\n  const { beforeDestroy } = currentVm.$options;\n  currentVm.$options.beforeDestroy = function newBeforeDestroy() {\n    // console.log('beforedestroy');\n    if (io) {\n      io.disconnect();\n    }\n    if (beforeDestroy) {\n      beforeDestroy.call(currentVm);\n    }\n  };\n}\n\nexport default callbackWhenLastElementShown;\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.members === null),expression:\"members === null\"}]},[_c('el-radio-group',{staticClass:\"selector-tabs flex-center\",model:{value:(_vm.tabValue),callback:function ($$v) {_vm.tabValue=$$v},expression:\"tabValue\"}},[_c('el-radio-button',{attrs:{\"label\":\"公司成员\"}},[_vm._v(\" \"+_vm._s(_vm.tabLabels[0])+\" \")]),_c('el-radio-button',{attrs:{\"label\":\"通讯录\"}},[_vm._v(\" \"+_vm._s(_vm.tabLabels[1])+\" \")]),((!_vm.workspace || _vm.workspace.businessType !== 1) && _vm.user.businessType !== 1)?_c('el-radio-button',{attrs:{\"label\":\"虚拟ID\"}},[_vm._v(\" \"+_vm._s(_vm.tabLabels[2])+\" \")]):_vm._e()],1),(_vm.members === _vm.$loadingState)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticClass:\"loading\",staticStyle:{\"height\":\"400px\"}}):_c('el-table',{staticClass:\"custom-table custom-table-noborder\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.members,\"height\":\"400\",\"border\":false,\"row-class-name\":\"member-item\"}},[_c('member-selector-item',{attrs:{\"width\":\"25\",\"selected\":_vm.selected,\"scopeContent\":\"recipientEmail\",\"itemType\":\"checkbox\",\"showTooltip\":false},on:{\"toggleSelect\":function (e){ return _vm.toggleSelect(e); }}}),(_vm.tabValue !== '虚拟ID')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.email_or_id'),\"scopeContent\":\"mail\",\"itemType\":\"user\",\"align\":\"left\"}}):_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.email_or_id'),\"scopeContent\":\"account\",\"itemType\":\"user\",\"align\":\"left\"}}),(_vm.tabValue === '虚拟ID')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.recipient_email'),\"width\":\"150\",\"scopeContent\":\"recipientEmail\"}}):_vm._e(),(_vm.tabValue === '公司成员')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.username'),\"width\":\"120\",\"scopeContent\":\"name\"}}):_vm._e(),(_vm.tabValue === '通讯录')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.username'),\"width\":\"120\",\"scopeContent\":\"userName\"}}):_vm._e(),(_vm.tabValue === '公司成员')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.department'),\"width\":\"230\",\"scopeContent\":\"department\"}}):(_vm.tabValue === '通讯录')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.company_name'),\"width\":\"230\",\"scopeContent\":\"companyName\"}}):_vm._e(),(_vm.tabValue === '虚拟ID')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.workspace'),\"width\":\"120\",\"scopeContent\":\"workspaceName\"}}):_vm._e(),(_vm.tabValue === '虚拟ID')?_c('member-selector-item',{attrs:{\"label\":_vm.$t('workspace.expires_on'),\"width\":\"120\",\"scopeContent\":\"overtime\",\"extensionText\":_vm.$t('workspace.days'),\"showTooltip\":false}}):_vm._e()],1),_c('div',{staticClass:\"button-group\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div'),_c('div',[_c('el-button',{staticClass:\"btn-cancel\",attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.cancel'))+\" \")]),_c('el-button',{attrs:{\"round\":\"\",\"disabled\":!_vm.selected.length,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$act(_vm.handleOk)}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.confirm')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table-column',{attrs:{\"prop\":_vm.prop,\"label\":_vm.label,\"width\":_vm.width,\"show-overflow-tooltip\":_vm.showTooltip,\"align\":_vm.align},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar member = ref.row;\nreturn [_c('span',{attrs:{\"disabled\":_vm.judgeMemberDisabled(member)}},[(_vm.itemType === 'text')?[_vm._v(\" \"+_vm._s(member[_vm.scopeContent])+\" \"+_vm._s(_vm.extensionText)+\" \")]:(_vm.itemType === 'user')?[_c('BaseUser',{attrs:{\"user\":member}},[_vm._v(_vm._s(member[_vm.scopeContent]))])]:(_vm.itemType === 'checkbox')?[_c('el-checkbox',{attrs:{\"disabled\":_vm.judgeMemberDisabled(member),\"checked\":_vm.selected ? (\n            _vm.selected.includes(member) ||\n            _vm.judgeMemberDisabled(member)\n          ) : false},on:{\"change\":function($event){return _vm.changeValue(member)}}})]:_vm._e()],2)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-table-column\n    :prop=\"prop\" :label=\"label\" :width=\"width\" :show-overflow-tooltip=\"showTooltip\"\n    :align=\"align\">\n    <template slot-scope=\"{ row: member }\">\n      <!-- <el-tooltip effect=\"dark\" :disabled=\"!showTooltip\" :content=\"member[scopeContent]\"> -->\n      <span :disabled=\"judgeMemberDisabled(member)\">\n        <template v-if=\"itemType === 'text'\">\n          {{ member[scopeContent] }} {{ extensionText }}\n        </template>\n        <template v-else-if=\"itemType === 'user'\">\n          <BaseUser :user=\"member\">{{ member[scopeContent] }}</BaseUser>\n        </template>\n        <template v-else-if=\"itemType === 'checkbox'\">\n          <el-checkbox\n            :disabled=\"judgeMemberDisabled(member)\"\n            :checked=\"selected ? (\n              selected.includes(member) ||\n              judgeMemberDisabled(member)\n            ) : false\"\n            @change=\"changeValue(member)\" >\n            <!-- {{ judgeMemberDisabled(member) }}\n            {{ selected.includes(member) }}\n            {{ judgeMemberDisabled(member) || selected.includes(member) }} -->\n          </el-checkbox>\n        </template>\n      </span>\n      <!-- </el-tooltip> -->\n    </template>\n  </el-table-column>\n</template>\n\n<script>\nimport BaseUser from '@/components/base/User';\nimport { getContextUser } from '../../../../loaders/context';\n\nexport default {\n  components: {\n    BaseUser,\n  },\n  props: {\n    prop: String,\n    label: {\n      type: String,\n      default: '',\n    },\n    extensionText: String,\n    width: {\n      type: [String, Number],\n      default: 'auto',\n    },\n    scopeContent: [String, Array],\n    disabled: Boolean,\n    itemType: {\n      default: 'text',\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true,\n    },\n    selected: Array,\n    align: {\n      default: 'center',\n      type: String,\n    },\n  },\n  // computed: {\n  //   content() {\n\n  //   }\n  // },\n  methods: {\n    judgeMemberDisabled(member) {\n      const currentUser = getContextUser();\n      // eslint-disable-next-line max-len\n      // const a = !member.enable || currentUser.id === member.id;\n      // const b = this.selected?.includes(member);\n      // console.log(a || b, member.userName);\n      return (!member.enable || currentUser.id === member.id);\n    },\n    changeValue(v) {\n      this.$emit('toggleSelect', v);\n    },\n  },\n};\n</script>\n\n<style>\nspan[disabled] {\n  color: #bbb;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberSelectorItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberSelectorItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberSelectorItem.vue?vue&type=template&id=57be2a66&\"\nimport script from \"./MemberSelectorItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberSelectorItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberSelectorItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-loading=\"members === null\">\n\n    <el-radio-group v-model=\"tabValue\" class=\"selector-tabs flex-center\">\n      <el-radio-button label=\"公司成员\">\n        {{ tabLabels[0] }}\n      </el-radio-button>\n      <el-radio-button label=\"通讯录\">\n        {{ tabLabels[1] }}\n      </el-radio-button>\n      <el-radio-button label=\"虚拟ID\"\n        v-if=\"(!workspace || workspace.businessType !== 1) && user.businessType !== 1\">\n        {{ tabLabels[2] }}\n      </el-radio-button>\n    </el-radio-group>\n    <div\n      v-loading=\"true\" class=\"loading\" v-if=\"members === $loadingState\"\n      style=\"height: 400px\"></div>\n    <el-table :data=\"members\"\n      height=\"400\" :border=\"false\"\n      style=\"width: 100%;margin-top:20px;\"\n      v-else\n      class=\"custom-table custom-table-noborder\"\n      row-class-name=\"member-item\">\n\n      <!-- 虚拟账号邮箱接收者 -->\n      <!-- <el-table-column\n        width=\"25\">\n        <template slot-scope=\"{ row: member }\">\n          <el-checkbox\n            :disabled=\"!member.enable || $store.state.account.user.id === member.id\"\n            :checked=\"!member.enable\n             || $store.state.account.user.id === member.id\n             || selected.includes(member)\"\n            @change=\"toggleSelect(member)\" />\n        </template>\n      </el-table-column> -->\n      <!-- 选择框 -->\n      <member-selector-item\n        width=\"25\" @toggleSelect=\"e=>toggleSelect(e)\" :selected=\"selected\"\n        scopeContent=\"recipientEmail\" itemType=\"checkbox\" :showTooltip=\"false\" />\n\n      <!-- 非虚拟账号的账号名/邮箱 -->\n      <member-selector-item v-if=\"tabValue !== '虚拟ID'\" :label=\"$t('workspace.email_or_id')\"\n        scopeContent=\"mail\" itemType=\"user\" align='left' />\n      <!-- 虚拟账号的账号名+邮箱 -->\n      <member-selector-item v-else :label=\"$t('workspace.email_or_id')\"\n        scopeContent=\"account\" itemType=\"user\"\n        align='left' />\n      <!-- 虚拟账号邮箱接收者 -->\n      <member-selector-item v-if=\"tabValue === '虚拟ID'\" :label=\"$t('workspace.recipient_email')\"\n        width=\"150\" scopeContent=\"recipientEmail\" />\n      <!-- 用户名 -->\n      <member-selector-item v-if=\"tabValue === '公司成员'\" :label=\"$t('workspace.username')\"\n        width=\"120\" scopeContent=\"name\" />\n      <member-selector-item v-if=\"tabValue === '通讯录'\" :label=\"$t('workspace.username')\"\n        width=\"120\" scopeContent=\"userName\" />\n      <!-- 所属部门 -->\n      <member-selector-item v-if=\"tabValue === '公司成员'\" :label=\"$t('workspace.department')\"\n        width=\"230\" scopeContent=\"department\" />\n      <!-- 公司名称 -->\n      <member-selector-item v-else-if=\"tabValue === '通讯录'\" :label=\"$t('workspace.company_name')\"\n        width=\"230\" scopeContent=\"companyName\" />\n      <!-- 公司名称 -->\n      <member-selector-item v-if=\"tabValue === '虚拟ID'\" :label=\"$t('workspace.workspace')\"\n        width=\"120\" scopeContent=\"workspaceName\" />\n      <!-- 截止过期日期 -->\n      <member-selector-item v-if=\"tabValue === '虚拟ID'\" :label=\"$t('workspace.expires_on')\"\n        width=\"120\" scopeContent=\"overtime\" :extensionText=\"$t('workspace.days')\"\n        :showTooltip=\"false\" />\n    </el-table>\n\n    <div slot=\"footer\" class=\"button-group\">\n      <div></div>\n      <div>\n        <el-button\n          round\n          class=\"btn-cancel\"\n          @click=\"$emit('cancel')\">\n          {{ $t('public.dialog.cancel') }}\n        </el-button>\n        <el-button\n          round\n          :disabled=\"!selected.length\"\n          type=\"primary\"\n          @click=\"$act(handleOk)\">\n          {{ $t('public.dialog.confirm') }}</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport axios from '@/utils/axios';\n\nimport { WorkspaceOrm } from '@/models';\nimport { getContextUser } from '../../../../loaders/context';\nimport { callbackWhenLastElementShownNotCompositionVersion } from '../../../../utils/composables/use-callback-when-last-element-shown';\nimport MemberSelectorItem from './MemberSelectorItem';\n\nconst urls = [\n  '/authcenter/user/list/page',\n  '/authcenter/contacts/list/page',\n  '/authcenter/virtual/list',\n];\nexport default {\n  name: 'MemberSelector',\n  components: {\n    MemberSelectorItem,\n  },\n  props: {\n    groupAppId: String,\n    selected: {\n      default() { return []; },\n    },\n    membersHandler: {\n      type: Function,\n      async default(list) {\n        if (!list.length) return list;\n        if (this.tabValues[2] === this.tabValue) {\n          const isVirtualAccountInMeeting = (await axios.post('/meeting/member/virtual/exists', {\n            userIds: list.map(member => member.id),\n          })).data;\n          Object.entries(isVirtualAccountInMeeting).filter(([_, value]) => value).forEach(\n            ([id]) => { list.find(i => i.id === id).enable = false; },\n          );\n        }\n        return list;\n      },\n    },\n    tabLabels: {\n      type: Array,\n      default() {\n        return [\n          i18n.t('workspace.internal_contact'),\n          i18n.t('workspace.external_contack'),\n          i18n.t('workspace.workspace_pass'),\n        ];\n      },\n    },\n  },\n  computed: {\n    workspace() {\n      return WorkspaceOrm.find(this.groupAppId);\n    },\n    user() {\n      return getContextUser();\n    },\n  },\n  data() {\n    return {\n      tabValue: '公司成员',\n      tabValues: ['公司成员', '通讯录', '虚拟ID'],\n      members: [],\n\n      pageNumber: 1,\n      pageSize: 10,\n      pages: 0,\n    };\n  },\n  created() {\n    this.$watch(() => {\n      return [this.tabValue];\n    }, () => {\n      this.reloadMembers();\n    }, {\n      immediate: true,\n    });\n\n    callbackWhenLastElementShownNotCompositionVersion.call(this, 'members', async () => {\n      // console.log(this.pages, this.pageNumber, 'callback invoked.');\n      if (this.pages < this.pageNumber + 1) return;\n      const index = this.tabValues.indexOf(this.tabValue);\n      const url = urls[index];\n      this.loadMore(url, ++this.pageNumber);\n    }, '.member-item');\n  },\n  methods: {\n    judgeMemberDisabled(member) {\n      const currentUser = this.user;\n      return (!member.enable || currentUser.id === member.id);\n    },\n    handleOk() {\n      if (!this.selected.length) {\n        throw new this.$Error(i18n.t('workspace.select_user_empty_tip'));\n      }\n      this.$emit('confirm', this.selected);\n    },\n    // 选择或取消选中该对象，并在选中的列表中增加后删除\n    toggleSelect(target) {\n      // eslint-disable-next-line\n      this.selected.includes(target)\n        ? this.selected.splice(this.selected.indexOf(target), 1)\n        : this.selected.push(target);\n    },\n    clearSelected() {\n      this.selected.splice(0, this.selected.length + 1);\n    },\n    isSameUser(a, b) {\n      return a.id === b.id;\n    },\n    async reloadMembers() {\n      this.clearSelected();\n      this.members = null;\n      const index = this.tabValues.indexOf(this.tabValue);\n      const res = (await axios({\n        url: urls[index],\n        params: {\n          pageNumber: 1,\n          pageSize: this.pageSize,\n          keyword: '',\n        },\n        headers: { groupAppId: this.groupAppId },\n      })).data;\n      this.pages = res.pages;\n      this.pageNumber = 1;\n      this.members = await this.membersHandler.call(this, res.records);\n      this.selected.splice(0, this.selected.length + 1);\n      // this.members.forEach((member) => {\n      //   const i = this.selected.findIndex((item) => this.isSameUser(member, item));\n      //   if (i !== -1) {\n      //     this.selected.splice(i, 1, member);\n      //   }\n      // });\n    },\n    async loadMore(url, pageNumber, pageSize = this.pageSize) {\n      const res = (await axios({\n        url,\n        params: {\n          pageNumber,\n          pageSize,\n          keyword: '',\n        },\n        headers: { groupAppId: this.groupAppId },\n      })).data?.records;\n      this.members.push(...(await this.membersHandler.call(this, res)));\n    },\n  },\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n/deep/ .el-dialog__header {\n  padding-bottom: 0 !important;\n}\n.table-header-dropdown {\n  padding: 0;\n  cursor: pointer;\n  display: inline;\n}\n\n.button-group {\n  display: flex;\n  margin-top: 30px;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.btn-cancel {\n  border: none;\n}\n\n/deep/ .el-table .add-members-table-head {\n  background-color: #eee;\n  font-weight: 400 !important;\n  color: #666;\n  border-radius: 16px;\n}\n/deep/ .el-table th {\n  background-color: transparent;\n}\n.text-ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n/deep/ .el-table .cell {\n  white-space: nowrap;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.disable-gray {\n  color: #ddd;\n}\n/deep/ .el-radio-button__inner {\n  padding: 9px 9px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberSelector.vue?vue&type=template&id=75c543b5&scoped=true&\"\nimport script from \"./MemberSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberSelector.vue?vue&type=style&index=0&id=75c543b5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75c543b5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}