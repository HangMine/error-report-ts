{"version":3,"sources":["webpack:///./src/views/up-meeting/home/index.vue?b1fb","webpack:///./src/loaders/workspace.ts","webpack:///./src/components/Tree.vue?e5e4","webpack:///./src/views/up-meeting/home/review/List.vue?bf65","webpack:///./src/api/permission.js","webpack:///./src/views/up-meeting/home/review/Cols.vue?debe","webpack:///./src/views/file-list/components/catalog/FolderTree.vue?5ea9","webpack:///src/views/file-list/components/catalog/FolderTree.vue","webpack:///./src/views/file-list/components/catalog/FolderTree.vue?384a","webpack:///./src/views/file-list/components/catalog/FolderTree.vue","webpack:///./src/views/up-meeting/modelInfo/components/shoeInfo.vue?e0e2","webpack:///./src/views/up-meeting/components/CatalogSelector.vue?577b","webpack:///./src/views/file-list/components/catalog/FolderTree.vue?7370","webpack:///./src/api/catalogue.js","webpack:///./src/views/up-meeting/home/review/Item.vue?9144","webpack:///./src/views/up-meeting/components/CreateSku.vue?18a7","webpack:///./src/components/base/CheckboxBtn.vue?3d6f","webpack:///./src/views/up-meeting/home/Header.vue?2ee8","webpack:///./src/views/up-meeting/home/review/index.vue?4602","webpack:///./src/views/up-meeting/components/FileSelect.vue?a6ed","webpack:///./src/views/up-meeting/home/Empty.vue?4673","webpack:///./src/views/up-meeting/components/List.vue?0d2c","webpack:///./src/components/Tree.vue?12ca","webpack:///src/components/Tree.vue","webpack:///./src/components/Tree.vue?2284","webpack:///./src/components/Tree.vue","webpack:///./node_modules/vue-intersect/dist/index.js","webpack:///./src/utils/resize-watch.ts","webpack:///./src/views/up-meeting/home/index.vue?3339","webpack:///./src/utils/composables/use-resize.ts","webpack:///./src/components/base/CheckboxBtn.vue","webpack:///./src/views/up-meeting/home/Header.vue?9b45","webpack:///./src/views/up-meeting/components/LogoPicker.vue?cef2","webpack:///./src/views/up-meeting/components/LogoPicker.vue?b999","webpack:///./src/views/up-meeting/components/LogoPicker.vue?0d24","webpack:///./src/views/up-meeting/components/LogoPicker.vue","webpack:///./src/views/up-meeting/home/useBg.ts","webpack:///./src/views/up-meeting/home/Header.vue?b112","webpack:///./src/views/up-meeting/home/Header.vue?2b19","webpack:///./src/views/up-meeting/home/Header.vue","webpack:///./src/views/up-meeting/home/Edit.vue?a1df","webpack:///./src/components/base/CheckboxBtn.vue?0d9b","webpack:///./src/components/base/CheckboxBtn.vue?306b","webpack:///./src/views/up-meeting/utils/useCatalog.ts","webpack:///./src/views/up-meeting/components/List.vue?82f2","webpack:///./src/views/up-meeting/components/List.vue","webpack:///./src/views/up-meeting/components/CatalogSelector.vue","webpack:///./src/views/up-meeting/components/List.vue?f0e9","webpack:///./src/views/up-meeting/components/CatalogSelector.vue?da99","webpack:///./src/views/up-meeting/components/CatalogSelector.vue?5df3","webpack:///./src/views/up-meeting/components/FileSelect.vue?5e5b","webpack:///./src/views/up-meeting/components/FileSelect.vue","webpack:///./src/views/up-meeting/modelInfo/components/Tags.vue","webpack:///./src/views/up-meeting/modelInfo/components/shoeInfo.vue","webpack:///./src/views/up-meeting/modelInfo/components/styleForm.vue","webpack:///./src/views/up-meeting/modelInfo/components/handbagInfo.vue","webpack:///./src/views/up-meeting/modelInfo/index.vue","webpack:///./src/views/up-meeting/components/FileSelect.vue?b9f1","webpack:///./src/views/up-meeting/modelInfo/components/shoeInfoSchema.js","webpack:///./src/views/up-meeting/modelInfo/components/Tags.vue?b85c","webpack:///./src/views/up-meeting/modelInfo/components/Tags.vue?09d8","webpack:///./src/views/up-meeting/modelInfo/components/shoeInfo.vue?5cbd","webpack:///./src/views/up-meeting/modelInfo/components/shoeInfo.vue?2ab1","webpack:///./src/views/up-meeting/modelInfo/components/handbagInfoSchema.js","webpack:///./src/views/up-meeting/modelInfo/components/styleForm.vue?bbfe","webpack:///./src/views/up-meeting/modelInfo/components/styleForm.vue?5bd4","webpack:///./src/views/up-meeting/modelInfo/components/handbagInfo.vue?9c61","webpack:///./src/views/up-meeting/modelInfo/components/handbagInfo.vue?03e7","webpack:///./src/views/up-meeting/modelInfo/index.vue?8ec9","webpack:///./src/views/up-meeting/modelInfo/index.vue?946c","webpack:///./src/views/up-meeting/home/useProcess.ts","webpack:///./src/views/up-meeting/home/useOutDrag.ts","webpack:///./src/views/up-meeting/components/CreateSku.vue?d8ee","webpack:///./src/views/up-meeting/components/CreateSku.vue","webpack:///./src/views/up-meeting/components/CreateSku.vue?bdac","webpack:///./src/views/up-meeting/home/api.ts","webpack:///./src/views/up-meeting/home/useListDrag.ts","webpack:///./src/views/up-meeting/home/Edit.vue?70e6","webpack:///./src/views/up-meeting/home/Edit.vue?c5bf","webpack:///./src/views/up-meeting/home/Edit.vue","webpack:///./src/views/up-meeting/home/review/index.vue?8bd1","webpack:///./src/views/up-meeting/home/review/Cols.vue?66cd","webpack:///./src/views/up-meeting/home/review/useCols.ts","webpack:///./src/views/up-meeting/home/review/useWidthTransitionEnd.ts","webpack:///./src/views/up-meeting/home/review/Item.vue?1c7d","webpack:///./src/views/up-meeting/home/review/Item.vue?2366","webpack:///./src/views/up-meeting/home/review/Item.vue?7329","webpack:///./src/views/up-meeting/home/review/Item.vue","webpack:///./src/views/up-meeting/home/review/Cols.vue?c357","webpack:///./src/views/up-meeting/home/review/Cols.vue?cf4c","webpack:///./src/views/up-meeting/home/review/Cols.vue","webpack:///./src/views/up-meeting/home/review/List.vue?c9aa","webpack:///./src/views/up-meeting/home/review/List.vue?d61a","webpack:///./src/views/up-meeting/home/review/List.vue?e3b7","webpack:///./src/views/up-meeting/home/review/List.vue","webpack:///./src/views/up-meeting/home/review/SearchEmpty.vue?2005","webpack:///./src/views/up-meeting/home/review/SearchEmpty.vue?ea9b","webpack:///./src/views/up-meeting/home/review/SearchEmpty.vue?0f7e","webpack:///./src/views/up-meeting/home/review/SearchEmpty.vue","webpack:///./src/views/up-meeting/home/review/index.vue?fdc1","webpack:///./src/views/up-meeting/home/review/index.vue?c9d3","webpack:///./src/views/up-meeting/home/review/index.vue","webpack:///./src/views/up-meeting/home/Empty.vue?fa5a","webpack:///./src/views/up-meeting/home/Empty.vue?c3f3","webpack:///./src/views/up-meeting/home/Empty.vue?bcac","webpack:///./src/views/up-meeting/home/Empty.vue","webpack:///./src/views/up-meeting/home/index.vue?3039","webpack:///./src/views/up-meeting/home/index.vue?885c","webpack:///./src/views/up-meeting/home/index.vue","webpack:///./src/assets/img/error/no-result.png","webpack:///./src/views/up-meeting/modelInfo/index.vue?92e8","webpack:///./src/views/up-meeting/modelInfo/components/handbagInfo.vue?6d6e","webpack:///./src/views/up-meeting/modelInfo/components/Tags.vue?e23c","webpack:///./src/views/up-meeting/components/LogoPicker.vue?7a3b","webpack:///./src/views/up-meeting/home/Edit.vue?4ab3","webpack:///./src/views/up-meeting/home/review/SearchEmpty.vue?47ea"],"names":["refreshWorkspace","workspaces","insertOrUpdate","refreshWorkspaceWithoutMembers","addWorkspace","name","groupAppId","data","roleId","type","delWorkspace","delete","renameWorkspace","update","where","w","quitWorkspace","ApiGroupappList","id","axios","method","url","params","appId","ApiSingleWorkpaceTable","headers","getWorkspaceConfig","workspaceId","getWorkspaceConfigSelf","updateWorkspaceWatermart","openWatermark","ApiDismissWorkpace","ApiRenameWorkspace","ApiAddWorkspace","ApiQuitWorkpace","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","invisible","visible","attrs","children","key","isCatalogExpandable","getChildren","opened","scopedSlots","_u","fn","ref","selected","currentCatalog","on","$event","handleClick","_v","_s","appType2Name","appType","counts","_e","staticRenderFns","components","Tree","Scrollable","props","Boolean","default","paths","Array","required","getCounts","Function","model","event","prop","setup","cache","map","_item","_cache","Object","assign","_getCount","item","then","value","selectCatalog","folderCount","propsPaths","forEach","_cacheCatalogs","console","log","getCount","index","isFirst","parent","includes","push","isLast","length","splice","first","immediate","refresh","fetchChildCatalog","component","getMyUploadIds","getCatalogUrl","catalogId","get","getFileRelateIdByCatalogId","from","reloadModelRendererUrl","getPanelBoardList","fetchWorkspaces","changeSequence","updateResourceItemStatus","folderIds","status","getHiddenCatalog","isHidden","isRoot","isDragging","isOpened","isDroppable","insertIndex","isDraggable","target","currentTarget","handleDragStart","preventDefault","handleDragOver","handleDragEnd","valueKey","pendingChildren","stopPropagation","toggle","_g","handleContextmenu","dragenter","handleDragEnter","dragleave","handleDragLeave","drop","handleDrop","_t","labelKey","scopedData","loadedChildren","directives","rawName","expression","_l","i","openedItems","load","hidden","draggable","droppable","expandable","draggingData","indexs","concat","nodes","updateDraggingData","v","$emit","e","keys","$scopedSlots","slot","scope","other","isShowOther","handleOtherContextmenu","loadedVisibleChildrenLength","showOther","ancestors","getOpenedItems","innerOpened","undefined","computed","isExpandable","s","filter","methods","isArray","$listeners","othercontextmenu","ev","contextmenu","dataTransfer","dropEffect","_enterElement","clearOpenTimeout","setOpenTimeout","_openTimeout","setTimeout","clearTimeout","slice","watch","warn","msg","config","silent","abstract","threshold","root","HTMLElement","rootMargin","String","mounted","_this","observer","IntersectionObserver","entries","isIntersecting","$nextTick","$slots","observe","elm","destroyed","disconnect","elsAndCallbacks","Map","ro","elsAndCallbacksEntries","entry","findIndex","el","fns","contentRect","resizeWatch","callback","document","documentElement","set","unobserve","currentMeeting","currentOperateType","isEdit","allCols","showCols","editCols","currentCol","colsNum","isSearch","searchValue","list","loading","uploadProcess","handleTypeChange","cancelEdit","commitEdit","search","colsChange","colsNumChange","bgLoading","style","toCols","$t","title","meetingId","meeting","editColsChange","processChange","editLoading","openColList","toEdit","useResize","unWatch","useElOrTarget","vm","_target","$el","_unWatch","isShowRoom","logoKey","logo","logoChange","setBg","cancelBg","commitLoading","nativeOn","indexOf","_k","keyCode","$$v","currentSearchValue","setting","open","$set","changeIsShowAllCols","isShowAllCols","col","cancel","done","disabled","showDisplayTypes","changeCols","fontSize","marginRight","changeType","enterEvent","onClick","onDrop","onEnter","onLeave","clear","backgroundImage","_m","image","src","emit","URL","revokeObjectURL","createObjectURL","flush","file","evt","files","fetchMeeting","res","operateMeeting","bgStyle","updateBg","newMeeting","allowExt","extensions","sizeLimit","uploadToOSS","imgKey","editMeeting","Header","LogoPicker","operateType","process","state","displayTypes","i18n","t","icon","temCurrentAllCols","currentAllCols","user","userImage","headImg","userTitle","account","show","JSON","parse","stringify","isShow","deep","initLogo","width","height","imgUrl","updateLogo","$confirm","values","uploadingItems","abortController","abort","langConfigList","isDraging","containerEnter","containerDrop","containerStart","containerDragEnd","position","listStartIndex","listDragStart","listDragEnd","refInFor","listDraging","isInput","blurColTitle","editColTitle","delCol","proxy","itemI","dragInfo","colIndex","itemIndex","album","coverImageUrl","percent","cancelUpload","editItem","delItem","addItem","currentCols","addCol","listDragEnter","staticStyle","CheckboxBtn","require","changeCheck","info","self","$attrs","checked","getNavs","activeFolder","entryAppType","workspaceBusinessType","workspaceType","result","fileType","useCatalog","searchParams","catalogPaging","loadingPage","catalogs","pageSize","emptyTips","folderTreeVisible","workspaceName","p","ps","timestamp","Date","now","activeModule","loadPage","page","relateType","sortParams","cursor","limit","catalogData","loadMore","current","canLoadMore","pages","_searchParams","_p","_params","paging","records","isImage","nameArr","split","types","len","ext","Number","selectedCatalog","Empty","empty","catalog","active","find","contentThumbnail","img","fileInfo","thumbnail","code","message","getMeetingInfo","isHandbag","checkHasModel","modelId","relateId","ctmList","catalogs2imgList","imgList","c","idx","path","imgArgument","imgType","businessType","sort","imgDetail","fileSize","isCover","submitCore","o","meetingCatalogId","parentFolderId","oldRelateId","curtailImg","selectRenderPicturesCore","isModel","hasModel","Error","IMG_CURRENT_MODEL","dialogify","flex","top","bottom","closeOnClickModal","size","outDragOptions","val","selectedWorkspace","catalogOptions","addCatalog","$act","selectRenderPictures","addPictures","myDesign","handleOutDrag","ideationDragData","dataType","_activeFolder","workspace","ableToSubmit","can","submit","withRenderPicture","$injectDialog","is","RenderPicture","maxLength","query","orderBy","myMaterialCatalogId","Promise","all","unshift","entryId","schema","validator","oneOf","const","label","properties","toFixed","unit","language","inputType","rows","builder","wrapperStyle","Tags","tags","maxlength","maxTagsLen","inputValue","inputVisible","saveTagInput","showInput","$refs","input","focus","handleInputConfirm","trim","tag","testForm","jsonschema","form","formRef","validate","isFilled","styleForm","options","HandbagForm","StyleForm","bindRelateId","relateInfo","getTags","shareId","getEditInfo","modelInfo","binaryFileInfoList","price","monetaryUnit","priceUnit","unPublishedImgList","unPublishedBinaryFileInfoList","publishedImgList","publishedBinaryFileInfoList","bindRelateCatalogId","parentId","filesParentId","prototype","hasOwnProperty","call","isPublished","bindRelateType","getEditRelateInfo","formBinaryFileInfoList","formData","coverImageItem","_binaryFileInfoList","_form","_imgList","coverImage","apiData","ModelInfo","shoeInfoForm","shoeInfo","handbagInfoForm","handbagInfo","processStart","onprocess","uploadDone","noPadding","attachment","modelForm","albumRef","hasRelateModel","temId","upload","uploaded","total","fileList","isIdeationDrop","files2albums","filterFileAndAlbum","_files","albums","modelInfoForm","isOutDrag","dragProcessStart","isInsert","AbortController","temSku","isTempSku","itemInfos","normalProcessStart","Math","max","min","round","getTemSkuPosition","colI","_col","sku","$delete","ALLOW_IMG_TYPES","_albums","File","itemId","command","reset","getParentEl","parentClass","classList","contains","parentElement","handleEnter","targetEl","dataset","colindex","itemindex","itemid","file2promise","resolve","_webkitRelativePath","directory2promise","dirReader","createReader","readEntries","items","getItemPromises","_path","itemPromises","loop","isFile","isDirectory","isIdeationItems","every","allFilesIsImage","checkFilesLength","originImgLength","checkFilesType","reduce","_modelFiles","_otherFiles","modelFiles","otherFiles","needValidFiles","downloadPath","error","isFileTypeError","checkIdeationCan","checkIdeationFiles","filterLocalFileNames","getDragDataType","_isModel","isImg","setLocalFiles","some","kind","webkitGetAsEntry","itemPromisesList","filesList","flatFiles","setIdeationFiles","addSku","modelData","submitModelCore","meetingColumnId","valueOf","editSku","isAdd","querySelector","ideationDragDataStr","getData","isBreak","getHandbagInfo","handbagId","getInfo","Shoe","Handbag","selectedKey","remove","modelRelateInfo","synchronizationModel","success","formRules","idObj","CreateSku","compact","imgListFromWS","defaultAttrs","padding","step","albumType","nextStep","isUploading","dataFromIedation","modelNumber","$errHandler","_uploaded","_total","FileSelect","api","getMettingInfo","meetingInfo","moveItem","fetchReviewCols","fetchSearch","fetchEditCols","release","editCol","moveCol","originListStartIndex","listEnterIndex","swap","start","end","startItem","listDragReset","sorts","makeUnloadWarn","bind","returnValue","window","addEventListener","makeSureUnbind","removeEventListener","DragContainer","DragList","OverText","BaseImage","refs","itemDraging","dragStartItem","unloadEvent","dragProcess","dragCancelUpload","localProcess","localCancelUpload","_process","dragListVms","dragContainer","colNameInputes","setCol2Vm","newCol","temName","_newCol","init","columnId","addEvents","startIndex","endVm","isInside","cross","inside","enterIndex","toCol","endIndex","fromCol","cols","currentList","currentShowCols","handleWidthTransitionend","currentColsNum","itemHeightStyle","swipeIndex","swipe","maxSwipeIndex","inicColsNum","review","colWidth","colHeight","setColHeight","clientWidth","MARGIN_PADDING_WIDTH","ADD_COL_WIDTH","colWidthStyle","overText","toDetail","small","toggleLike","like","userLoveCount","imgStyle","$router","userLoveStatus","post","ReviewItem","colWrapStyle","paddingRight","containerStyle","transform","BlockError","fetchLikeObj","relateIds","likeObj","Cols","List","SearchEmpty","showList","flat","Edit","Review","header","setHeight","winHei","clientHeight","headerBottomHei","getBoundingClientRect","MARGIN","showBackBtn","mainStyle","fetchList","condition","meetingColumnSize","meetingColumnPage","regetMeeting","resetSearch","module","exports"],"mappings":"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","file":"js/chunk-60957c03.9f727cb1.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3be903bd&lang=scss&scoped=true&\"","import { WorkspaceOrm } from '@/models';\nimport { Workspace } from '@/models/Workspace';\nimport {\n  ApiGroupappList as FetchWorkspacesInfo, // 获取个人workpace信息\n  ApiDismissWorkpace as DeleteWorkspace, // 解散worksapce\n  ApiQuitWorkpace as QuitWorkspace, // 退出worksapce\n  ApiRenameWorkspace as RenameWorkspace, // 重命名worksapce\n  ApiAddWorkspace as CreateWorkspace, // 新建worksapce\n} from '@/api/permission';\nimport {\n  fetchWorkspaces,\n} from '@/api/catalogue';\nimport axios from '@/utils/axios';\n\nasync function getWorkspace(groupAppId: string) {\n  return (await axios.get<Workspace>('authcenter/manage/groupapp/detail', {\n    headers: { groupAppId },\n  })).data;\n}\n\nasync function updateWorkspace(groupAppId: string) {\n  const workspace = await getWorkspace(groupAppId);\n  await WorkspaceOrm.insertOrUpdate({ data: workspace });\n  return workspace;\n}\n\nexport async function refreshWorkspace() {\n  // this.deleteAll();\n  const workspaces = await FetchWorkspacesInfo('2');\n  await WorkspaceOrm.insertOrUpdate(workspaces);\n}\n\nexport async function refreshWorkspaceWithoutMembers() {\n  // this.deleteAll();\n  const workspaces = await fetchWorkspaces(2);\n  await WorkspaceOrm.insertOrUpdate(workspaces);\n}\n\nexport async function addWorkspace(name: string) {\n  const { data: groupAppId } = await CreateWorkspace({ name });\n  return (await WorkspaceOrm.insertOrUpdate({\n    data: [{\n      groupAppId,\n      name,\n      roleId: '4', // 创建者roleId为4\n      type: 1,\n    }],\n  })).workspaces[0];\n}\n\nexport async function delWorkspace(groupAppId: string) {\n  await DeleteWorkspace(groupAppId);\n  WorkspaceOrm.delete(groupAppId);\n}\n\nexport async function renameWorkspace(groupAppId: string, name: string) {\n  await RenameWorkspace(groupAppId, name);\n  WorkspaceOrm.update({\n    where: w => w.groupAppId === groupAppId,\n    data: { name },\n  });\n}\n\nexport async function quitWorkspace(groupAppId: string) {\n  await QuitWorkspace(groupAppId);\n  WorkspaceOrm.delete(groupAppId);\n}\n\nexport { getWorkspace, updateWorkspace };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=0&id=c5ece6ca&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=54a40850&lang=scss&scoped=true&\"","/**\n * 该文件记录与系统权限相关的接口\n */\n\nimport axios from './axios';\n\n/* ========================= 系统权限 ============================ */\n/* ======================== 获取 system 权限相关 ============================ */\n/**\n * 登录用户系统权限列表\n * @returns {Promise}\n */\nexport const getSystemPermissionList = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/system',\n  });\n};\n\n/* ======================== 获取 workspace 权限相关 ============================ */\n/**\n * 单个workspace的权限列表\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpacePermissionList = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/workspace',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取 workspace 所属公司的名称； 没有则返回用户的名称\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpaceCompnayInfo = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/company',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取登录人拥有的workpace个数\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiGroupappList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiroleList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 修改权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiUpdateRole = (data, id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/role/change',\n    headers: {\n      groupAppId: id,\n    },\n    data,\n  });\n};\n\n/**\n * 移除账号\n * @param {String} id workspaceId\n * @param {String} userId 用户id\n * @returns {Promise}\n */\nexport const ApiRemoveAccount = (id, userId) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove',\n    headers: {\n      groupAppId: id,\n      targetIds: JSON.stringify([userId]),\n    },\n  });\n};\n\n/**\n * 获取单个workspace的列表数据\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiSingleWorkpaceTable = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/users',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfig = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/byWorkspaceId',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置（个人）\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfigSelf = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/needOpenWatermark',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 更变workspace的水印配置\n * @param {String} id workspaceId\n * @param {Number} openWatermark 1开启，0关闭\n * @returns {Promise}\n */\nexport const updateWorkspaceWatermart = (id, openWatermark) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/config/workspace/openWatermark',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      workspaceId: id,\n      openWatermark,\n    },\n  });\n};\n\n/**\n * 解散workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiDismissWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/clear',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 用户workspace统计信息\n * @returns {Promise}\n */\nexport const ApiGetTotalWorkpaces = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/self/detail',\n  });\n};\n\n/**\n *  重命名workspace\n * @param {String} id workspaceId\n * @param {String} name 新名称\n * @returns {Promise}\n */\nexport const ApiRenameWorkspace = (id, name) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/rename',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      name,\n    },\n  });\n};\n\n/**\n *  新增workspace\n * @param {String} name 名称\n */\nexport const ApiAddWorkspace = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/add',\n    data,\n  });\n};\n\n/**\n * 退出workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiQuitWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove/self',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 权限角色\n * @param {String}\n * @returns {Promise}\n */\nexport const getDictionaryByType = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: 2,\n    },\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cols.vue?vue&type=style&index=0&id=6307a399&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tree-wrapper\",class:{ invisible: !_vm.visible}},[_c('scrollable',{staticClass:\"scrollable\",attrs:{\"x\":\"\",\"y\":\"\"}},[(_vm.data.children.length)?_c('tree',{key:_vm.data.children[0].id,attrs:{\"expandable\":_vm.isCatalogExpandable,\"data\":_vm.data,\"load\":_vm.getChildren,\"opened\":_vm.opened},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('div',{staticClass:\"tree-item\",class:{\n          selected: _vm.currentCatalog === data,\n        },attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.handleClick(data)}}},[_c('span',{staticClass:\"tree-title\"},[_vm._v(\" \"+_vm._s(_vm.appType2Name[data.appType] || data.name)+\" \")]),(_vm.counts[data.id])?_c('span',{staticClass:\"tree-count\"},[_vm._v(_vm._s(_vm.counts[data.id]))]):_vm._e()])]}}],null,false,1624164038)}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tree-wrapper\" :class=\"{ invisible: !visible}\">\n\n    <scrollable x y class=\"scrollable\">\n      <tree\n        v-if=\"data.children.length\"\n        :key=\"data.children[0].id\"\n        :expandable=\"isCatalogExpandable\"\n        :data=\"data\"\n        :load=\"getChildren\"\n        :opened=\"opened\">\n        <template v-slot=\"{ data }\">\n          <div class=\"tree-item\"\n            @click=\"handleClick(data)\"\n            :class=\"{\n            selected: currentCatalog === data,\n          }\"\n            tabindex=\"0\">\n            <span class=\"tree-title\">\n              {{ appType2Name[data.appType] || data.name }}\n            </span>\n            <span class=\"tree-count\" v-if=\"counts[data.id]\">{{\n              counts[data.id]\n            }}</span>\n          </div>\n\n        </template>\n      </tree>\n    </scrollable>\n  </div>\n</template>\n\n<script>\nimport {\n  defineComponent, ref, watch, set, reactive,\n} from '@vue/composition-api';\nimport Tree from '@/components/Tree.vue';\nimport { appType2Name } from '@/views/file-list/components/catalog/app-type-to-name';\nimport axios from '@/utils/axios';\nimport Scrollable from '@/components/Scrollable.vue';\nimport sliceCaller from '_/slice-caller';\nimport Vue from 'vue';\n\n\nconst CatalogTree = defineComponent({\n  name: 'CatalogTree',\n  components: {\n    Tree,\n    Scrollable,\n  },\n  props: {\n    visible: {\n      type: Boolean,\n      default: true,\n    },\n    paths: {\n      type: Array,\n      required: true,\n      default: () => [],\n    },\n    getCounts: {\n      type: Function,\n      required: false,\n    },\n  },\n  model: {\n    event: 'select',\n    prop: 'catalog',\n  },\n  setup(props, { emit }) {\n    const _cacheCatalogs = {};\n    const currentCatalog = ref();\n    const counts = ref({});\n    function cache(map, _item) {\n      let _cache = map[_item.id];\n      if (_cache) {\n        Object.assign(_cache, _item);\n      } else {\n        map[_item.id] = _item;\n        _cache = _item;\n      }\n      return _cache;\n    }\n\n    /**\n * @param { [string][] } argsList\n */\n    const getCounts = async (argsList) => {\n      const ids = argsList.map(args => args[0]);\n      const cacheMap = props.getCounts ? await props.getCounts(ids)\n        : Object.fromEntries(ids.map(id => ([id, null])));\n      return ids.map(item => cacheMap[item]);\n    };\n    const _getCount = sliceCaller(getCounts, 500);\n    const getCount = (item) => {\n      _getCount(item.id).then(count => {\n        counts.value = { ...counts.value, [item.id]: count };\n      }, () => { });\n    };\n    async function selectCatalog(item) {\n      emit('select', item);\n    }\n\n    function handleClick(item) {\n      selectCatalog(item);\n    }\n\n    async function fetchChildCatalog(item) {\n      let children = (await axios.get('bff-center/cloud-disk/list/getRenderMaterialChildCatalogBy', {\n        params: {\n          catalogId: item.id,\n        },\n        headers: {\n          groupAppId: item.workspaceId ?? '',\n        },\n      })).data;\n      if (children) {\n        children = children.map((_item) => {\n          _item.entryAppType = item.entryAppType;\n          _item.parentFolderId = _item.parentFolderId || item.id;\n          _item.workspaceId = item.workspaceId;\n          _item = cache(_cacheCatalogs, _item);\n          getCount(_item);\n\n          return _item;\n        });\n\n        if (item.children) {\n          item.children.splice(0, item.children.length, ...children);\n          ({ children } = item);\n        }\n      }\n      item.children = children;\n      item.folderCount = children.length;\n      return item.children;\n    }\n\n    function isCatalogExpandable(item) {\n      return item.folderCount;\n    }\n\n    async function getChildren(item) {\n      item.folderCount = Infinity;\n      let { children } = item;\n      if (!children) {\n        if (isCatalogExpandable(item)) {\n          children = await fetchChildCatalog(item);\n        } else {\n          item.children = [];\n        }\n      }\n      return item.children;\n    }\n\n\n    const data = ref({ id: `${Date.now()}`, children: [] });\n    const opened = ref([data.value]);\n\n    watch(() => props.paths, (propsPaths) => {\n      const paths = [];\n      propsPaths.forEach((item, index) => {\n        const isFirst = index === 0;\n        const isLast = index === props.paths.length - 1;\n        item = { ...item };\n        item = cache(_cacheCatalogs, item);\n        console.log(item);\n        getCount(item);\n        item.children = item.children ?? undefined;\n        paths[index] = item;\n        if (!isFirst) {\n          const parent = paths[index - 1];\n          parent.children = parent.children || [];\n          if (!parent.children.includes(item)) {\n            parent.children.push(item);\n          }\n        }\n        if (!isLast) {\n          getChildren(item);\n        }\n      });\n      if (paths.length) {\n        const first = paths[0];\n        if (!data.value.children[0]) {\n          data.value.children.push(first);\n        } else if (first !== data.value.children[0]) {\n          data.value.children.splice(0, 1, first);\n        }\n        currentCatalog.value = paths[paths.length - 1];\n      } else {\n        // data.value.children.splice(0, data.value.children.length);\n      }\n      paths.forEach((item) => {\n        if (!opened.value.includes(item)) {\n          opened.value.push(item);\n        }\n      });\n    }, {\n      immediate: true,\n    });\n\n    return {\n      counts,\n      refresh() {\n        opened.value.forEach(item => {\n          getCount(item);\n          if (item !== data.value) {\n            fetchChildCatalog(item);\n          } else {\n            item.children.forEach(getCount);\n          }\n        });\n      },\n      data,\n      opened,\n      isCatalogExpandable,\n      getChildren,\n      currentCatalog,\n      selectCatalog,\n      handleClick,\n      appType2Name,\n    };\n  },\n});\n\nexport default CatalogTree;\n</script>\n\n<style lang=\"scss\" scoped>\n.tree-wrapper {\n  &.invisible {\n    width: 0;\n    opacity: 0;\n    .scrollable {\n      transform: translateX(-240px);\n    }\n    padding-left: 0;\n    padding-right: 0;\n  }\n  transition: all 0.3s;\n  .scrollable {\n    transition: all 0.3s;\n  }\n  padding: 10px 15px;\n  display: flex;\n  /deep/ {\n    .scrollable {\n      flex: 1;\n    }\n  }\n  /deep/ .arrow {\n    height: 36px;\n    line-height: 36px;\n  }\n  /deep/ .indent {\n    width: 24px;\n    .indent-line::before {\n      left: 11px;\n      border-color: transparent;\n    }\n  }\n  /deep/ .sublist {\n    padding-bottom: 0;\n  }\n  /deep/ .other {\n    margin-top: 0;\n  }\n  .tree-count {\n    margin-left: 10px;\n  }\n  .tree-title {\n    flex: 1;\n  }\n  .tree-other,\n  .tree-item {\n    $hoverColor: #d7e4fb;\n    $borderColor: #eee;\n\n    white-space: nowrap;\n    // line-height: 1.8;\n    // cursor: pointer;\n    // &.selected, &:hover {\n    //   background-color: #f5f7fa;\n    // }\n    // &:active, &:focus {\n    //   outline: none;\n    // }\n\n    color: #777;\n    align-content: center;\n    align-items: center;\n    display: flex;\n    line-height: 36px;\n    cursor: pointer;\n    padding-left: 5px;\n    padding-right: 5px;\n    overflow: hidden;\n    position: relative;\n    border-radius: 4px;\n\n    .iconfont {\n      margin-right: 2px;\n    }\n\n    &:hover,\n    &:focus {\n      outline: none;\n      background-color: $hoverColor;\n      color: $color-primary;\n      border-color: darken($hoverColor, 10%);\n    }\n    &.selected {\n      color: white;\n      background-color: $color-primary;\n      border-color: $color-primary;\n      .dragover > .content > .item-wrapper > & {\n        color: white;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FolderTree.vue?vue&type=template&id=71c73140&scoped=true&\"\nimport script from \"./FolderTree.vue?vue&type=script&lang=js&\"\nexport * from \"./FolderTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FolderTree.vue?vue&type=style&index=0&id=71c73140&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71c73140\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shoeInfo.vue?vue&type=style&index=0&id=90d9a1a6&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogSelector.vue?vue&type=style&index=0&id=08d2e5f4&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderTree.vue?vue&type=style&index=0&id=71c73140&lang=scss&scoped=true&\"","/**\n * 与目录相关的所有接口\n */\nimport axios from './axios';\n\n/* ======================= 与登录账号相关 ============================ */\n/**\n * 获取登录账号的鞋模型和材质的my-upload文件目录的Id\n * @returns {Promise}\n */\nexport const getMyUploadIds = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getPersonalUploadCIds',\n  });\n};\n\nexport const getCatalogUrl = (catalogId) => {\n  return axios.get('/catalogue/yunpanCatalog/getCatalogUrl', {\n    params: {\n      catalogId,\n    },\n  });\n};\n\n// 初始化目录树\nexport const initModuleCatelog = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/initOrg',\n  });\n};\n\n// 获取模块根目录的列表信息\nexport const getModuleRootCatalog = (appType, isAllFile, relateId, descs, ascs) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRelateCatalog',\n    params: {\n      appType,\n      isAllFile,\n      relateId,\n      descs,\n      ascs,\n    },\n  });\n};\n\n/**\n * @see http://yapi.4dshoetech.local/project/40/interface/api/3203\n * @param {(\n *  ({ from: string } | {groupAppId: string})\n *  && {catalogId: string, relateType: 1 | 0}\n * )} params\n * @returns {PromiseLike<{data: string}>}\n */\nexport const getFileRelateIdByCatalogId = ({\n  groupAppId,\n  from,\n  ...params\n}) => {\n  return axios({\n    headers: {\n      groupAppId: groupAppId || from || '',\n    },\n    method: 'get',\n    url: '/catalogue/appInteraction/getCurrentRelateId',\n    params,\n  });\n};\n\n\n// 创建文件夹\nexport const createCatalog = (appType, name, parentFolderId = '-1', relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/create',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      name,\n      parentFolderId,\n      // relateId,\n    },\n  });\n};\n\n// 重命名文件\nexport const renameCatalog = (id, name, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/rename',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      catalogId: id,\n      name,\n    },\n  });\n};\n\n// 删除文件\nexport const deleteCatalog = (data, groupAppId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/delete',\n    headers: {\n      groupAppId,\n    },\n    data,\n  });\n};\n\n// 移动文件\nexport const moveCatalog = (appType, oldFolderIds, targetFolderId, relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/move',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      oldFolderIds,\n      targetFolderId,\n    },\n  });\n};\n\n// 复制文件\nexport const copyCatalog = (appType, oldFolderIds, targetFolderId, relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/copy',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      oldFolderIds,\n      targetFolderId,\n      fileType: -1,\n    },\n  });\n};\n\n// 解锁或锁定文件\nexport const toggleCatalogStatus = (folderIds, status) => {\n  return axios({\n    method: 'put',\n    url: '/catalogue/yunpanCatalog/status',\n    data: {\n      folderIds,\n      status,\n    },\n  });\n};\n\n// 在快捷方式栏添加文件的快捷方式\nexport const createShortcut = data => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/shortcut/addShortcut',\n    data,\n  });\n};\n\n// 获取快捷方式栏的快捷方式\nexport const fetchShortcut = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/shortcut/getShortcut',\n  });\n};\n\n// 删除快捷方式\nexport const deleteShortcut = data => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/shortcut/delShortcut',\n    data,\n  });\n};\n\n// 搜索文件\nexport const searchCatalog = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/homeSearch',\n    headers: {\n      groupAppId,\n    },\n    params,\n  });\n};\n\n// 重定向模型对应的渲染页url\nexport const reloadModelRendererUrl = (params) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/model',\n    headers: {\n      groupAppId: params.from === 0 ? '' : params.from,\n    },\n    params,\n  });\n};\n\n// 获取模型或面料详情\nexport const getModelOrMaterialDetail = ({\n  catalogId,\n  relateType,\n  relateId,\n}) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/getAppInfo',\n    headers: {\n      groupAppId: relateId,\n    },\n    params: {\n      catalogId,\n      relateType,\n    },\n  });\n};\n\n// 获取最近文件的路径\nexport const getCurrentFilePath = params => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRecentlyBrowsedPath',\n    params,\n  });\n};\n\n// 获取最近文件\nexport const getCurrentFiles = params => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRecentlyBrowsedRecords',\n    params,\n  });\n};\n\n// 获取根目录文件夹和文件（分组）\nexport const getRootFoldersAndFiles = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/catalogue/yunpanCatalog/getRelateCatalogHome',\n    params,\n  });\n};\n\nexport const getFolderFoldersAndFiles = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/catalogue/yunpanCatalog/getChildCatalogHome',\n    params,\n  });\n};\n\nexport const getPanelBoardList = (groupAppId = '') => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getPanelBoardList',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/*  =====================================  workspace相关  =====================================  */\n\nexport const fetchWorkspaces = appId => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/list',\n    params: {\n      appId,\n    },\n  });\n};\n// 更改workspace列表的顺序\nexport const changeSequence = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/sort/update',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data,\n  });\n};\n// export const changeSequence = (groupAppId, data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/manage/groupapp/offset',\n//     headers: {\n//       groupAppId,\n//       'Content-Type': 'application/json',\n//     },\n//     data,\n//   });\n// };\n\n// 协同空间重命名\nexport const renameWorkspace = (groupAppId, name) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/rename',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      name,\n    },\n  });\n};\n\n// 获取内部成员列表\nexport const fetchInnerMembers = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list',\n    params: {\n      keyWord: '',\n      accountType: '',\n      isOuter: 0,\n    },\n  });\n};\n\n// 去重版\nexport const fetchDeduplicatedInnerMembers = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/invite',\n    headers: {\n      groupAppId,\n    },\n    params: {\n      accountType: 0,\n    },\n  });\n};\nexport const fetchDeduplicatedOuterMembers = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/invite',\n    headers: {\n      groupAppId,\n    },\n    params: {\n      accountType: 1,\n    },\n  });\n};\n\nexport const fetchOuterMembers = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/outer/nostatus/list',\n  });\n};\n\n// 最近邀请成员成员列表\nexport const fetchInvitMembers = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/current',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n\n// 获取子目录\nexport const getResourceSublist = (config, groupAppId = '') => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getChildCatalog',\n    params: config,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 创建新目录\nexport const createResourceItem = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/create',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 重命名目录名称\nexport const updateResourceItemName = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/rename',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 改变目录的状态\nexport const updateResourceItemStatus = (folderIds, status, groupAppId = '') => {\n  return axios({\n    method: 'put',\n    url: '/catalogue/yunpanCatalog/status',\n    data: {\n      folderIds,\n      status,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 删除目录 -- api只做单个删除\nexport const deleteResourceItem = (id, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/delete',\n    data: [id],\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 目录复制\nexport const copyFilesToFolders = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/copy',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 目录移动\nexport const removeFolder = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/move',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 获取固定工作版和临时工作版列表\nexport const getAllCategoriesList = (config) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getTempAndFixedCatalog',\n    params: config,\n  });\n};\n\n// 公共材质目录\nexport const getAllCatagoriesOfPublic = (config) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getMaterialLibrary',\n    params: config,\n  });\n};\n\n/* ================================ 资源中心 -- 搜索 ========================= */\n\nexport const searchResourceByKeyword = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/search',\n    headers: {\n      groupAppId,\n    },\n    params,\n  });\n};\n\nexport const getHiddenCatalog = (catalogId, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getHiddenCatalog',\n    params: {\n      catalogId,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&id=404eae0c&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateSku.vue?vue&type=style&index=0&id=6a6a0112&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckboxBtn.vue?vue&type=style&index=0&id=046edf80&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=04865a72&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1f06901a&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSelect.vue?vue&type=style&index=0&id=22e25242&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Empty.vue?vue&type=style&index=0&id=70131046&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=58f7aff4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isHidden)?_c('div',{class:['tree', 'host', {\n    'is-root': _vm.isRoot,\n    'is-dragging': _vm.isDragging,\n    'is-opened': _vm.isOpened,\n    'is-droppable': _vm.isDroppable,\n  }, typeof _vm.insertIndex === 'number' ? \"is-dragover\" : ''],attrs:{\"draggable\":_vm.isDraggable,\"data-is-droppable\":_vm.isDroppable},on:{\"dragstart\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.handleDragStart($event)},\"dragover\":function($event){$event.preventDefault();return _vm.handleDragOver($event)},\"dragend\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.handleDragEnd($event)}}},[(!_vm.isRoot && _vm.data[_vm.valueKey])?_c('div',{staticClass:\"indent\"},[(_vm.pendingChildren[_vm.data[_vm.valueKey]])?_c('i',{staticClass:\"loading el-icon-loading\"}):(_vm.isExpandable)?_c('i',{staticClass:\"arrow el-icon-arrow-right\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle(_vm.data)}}}):_vm._e(),_c('i',{staticClass:\"indent-line\"})]):_vm._e(),_c('div',{staticClass:\"content\"},[(!_vm.isRoot && _vm.data[_vm.valueKey])?_c('div',_vm._g({staticClass:\"item-wrapper\",on:{\"contextmenu\":function($event){$event.stopPropagation();return _vm.handleContextmenu($event)}}},_vm.isDroppable ? {\n        dragenter: _vm.handleDragEnter,\n        dragleave: _vm.handleDragLeave,\n        drop: _vm.handleDrop\n      } : {}),[_vm._t(\"default\",[_c('div',{staticClass:\"item\"},[_vm._v(\" \"+_vm._s(_vm.data[_vm.labelKey])+\" \")])],null,_vm.scopedData)],2):_vm._e(),(_vm.loadedChildren[_vm.data[_vm.valueKey]])?_c('el-collapse-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.innerOpened),expression:\"innerOpened\"}],staticClass:\"sublist-wrapper\"},[_c('transition-group',{staticClass:\"sublist\",attrs:{\"name\":\"list\",\"tag\":\"div\"}},_vm._l((_vm.loadedChildren[_vm.data[_vm.valueKey]]),function(item,i){return _c('div',{key:item[_vm.valueKey] || i,staticClass:\"child\"},[_c('tree',{attrs:{\"opened\":_vm.openedItems,\"load\":_vm.load,\"hidden\":_vm.hidden,\"draggable\":_vm.draggable,\"droppable\":_vm.droppable,\"expandable\":_vm.expandable,\"label-key\":_vm.labelKey,\"dragging-data\":_vm.draggingData,\"value-key\":_vm.valueKey,\"loadedChildren\":_vm.loadedChildren,\"pendingChildren\":_vm.pendingChildren,\"indexs\":_vm.indexs.concat( [i]),\"ancestors\":_vm.nodes,\"data\":item},on:{\"update:draggingData\":_vm.updateDraggingData,\"drop\":function (v) { return _vm.$emit('drop', v); },\"contextmenu\":function (e, v) { return _vm.$emit('contextmenu', e, v); }},scopedSlots:_vm._u([_vm._l((Object.keys(_vm.$scopedSlots)),function(slot){return {key:slot,fn:function(scope){return [_vm._t(slot,null,null,scope)]}}})],null,true)}),_c('div',_vm._g({staticClass:\"hr before\",class:{'active': _vm.insertIndex === i }},{\n                dragenter: function (e) { return _vm.handleDragEnter(e, i); },\n                dragleave: _vm.handleDragLeave,\n                drop: function (e) { return _vm.handleDrop(e, i); }\n              }),[_c('span')]),_c('div',_vm._g({staticClass:\"hr after\",class:{'active': _vm.insertIndex === i + 1 }},{\n                dragenter: function (e) { return _vm.handleDragEnter(e, i + 1); },\n                dragleave: _vm.handleDragLeave,\n                drop: function (e) { return _vm.handleDrop(e, i + 1); }\n              }),[_c('span')])],1)}),0),(_vm.$scopedSlots.other && _vm.isShowOther)?_c('div',{staticClass:\"other\",attrs:{\"draggable\":\"true\"},on:{\"contextmenu\":function($event){$event.stopPropagation();return _vm.handleOtherContextmenu($event)},\"dragstart\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"host\"},[_c('div',{staticClass:\"indent\"},[_c('div',{staticClass:\"indent-line\"})]),_c('div',{staticClass:\"content\"},[_vm._t(\"other\",null,null,_vm.scopedData)],2)])]):(!_vm.loadedVisibleChildrenLength)?_vm._t(\"empty\"):_vm._e()],2)]):_vm._e()],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :draggable=\"isDraggable\"\n    v-if=\"!isHidden\"\n    :data-is-droppable=\"isDroppable\"\n    :class=\"['tree', 'host', {\n      'is-root': isRoot,\n      'is-dragging': isDragging,\n      'is-opened': isOpened,\n      'is-droppable': isDroppable,\n    }, typeof insertIndex === 'number' ? `is-dragover` : '']\"\n    @dragstart.self=\"handleDragStart\"\n    @dragover.prevent=\"handleDragOver\"\n    @dragend.self=\"handleDragEnd\">\n    <div class=\"indent\" v-if=\"!isRoot && data[valueKey]\">\n      <i class=\"loading el-icon-loading\" v-if=\"pendingChildren[data[valueKey]]\" />\n      <i\n        v-else-if=\"isExpandable\"\n        class=\"arrow el-icon-arrow-right\"\n        @click.stop=\"toggle(data)\"></i>\n      <i class=\"indent-line\"></i>\n    </div>\n    <div class=\"content\">\n      <div\n        class=\"item-wrapper\"\n        v-if=\"!isRoot && data[valueKey]\"\n        v-on=\"isDroppable ? {\n          dragenter: handleDragEnter,\n          dragleave: handleDragLeave,\n          drop: handleDrop\n        } : {}\"\n        @contextmenu.stop=\"handleContextmenu($event)\">\n        <!--\n          @slot 默认的slot, 传递了一系列的scopedData，请自行查看\n        -->\n        <slot v-bind=\"scopedData\">\n          <div class=\"item\">\n            {{data[labelKey]}}\n          </div>\n        </slot>\n      </div>\n      <el-collapse-transition\n        v-if=\"loadedChildren[data[valueKey]]\">\n        <div class=\"sublist-wrapper\" v-show=\"innerOpened\">\n          <transition-group name=\"list\" tag=\"div\" class=\"sublist\">\n            <div class=\"child\"\n              :key=\"item[valueKey] || i\"\n              v-for=\"(item, i) in loadedChildren[data[valueKey]]\">\n              <tree\n                :opened=\"openedItems\"\n                :load=\"load\"\n                :hidden=\"hidden\"\n                :draggable=\"draggable\"\n                :droppable=\"droppable\"\n                :expandable=\"expandable\"\n                :label-key=\"labelKey\"\n                :dragging-data=\"draggingData\"\n                :value-key=\"valueKey\"\n                :loadedChildren=\"loadedChildren\"\n                :pendingChildren=\"pendingChildren\"\n                @update:draggingData=\"updateDraggingData\"\n                @drop=\"(v) => $emit('drop', v)\"\n                @contextmenu=\"(e, v) => $emit('contextmenu', e, v)\"\n                :indexs=\"[...indexs, i]\"\n                :ancestors=\"nodes\"\n                :data=\"item\">\n                <template v-for=\"slot in Object.keys($scopedSlots)\" v-slot:[slot]=\"scope\">\n                  <slot :name=\"slot\" v-bind=\"scope\" />\n                </template>\n              </tree>\n              <div\n                class=\"hr before\"\n                :class=\"{'active': insertIndex === i }\"\n                v-on=\"{\n                  dragenter: (e) => handleDragEnter(e, i),\n                  dragleave: handleDragLeave,\n                  drop: (e) => handleDrop(e, i)\n                }\"><span /></div>\n              <div class=\"hr after\"\n                :class=\"{'active': insertIndex === i + 1 }\"\n                v-on=\"{\n                  dragenter: (e) => handleDragEnter(e, i + 1),\n                  dragleave: handleDragLeave,\n                  drop: (e) => handleDrop(e, i + 1)\n                }\"><span /></div>\n            </div>\n\n          </transition-group>\n\n          <div class=\"other\"\n            v-if=\"$scopedSlots.other && isShowOther\"\n            @contextmenu.stop=\"handleOtherContextmenu\"\n            @dragstart.prevent draggable=\"true\">\n            <div class=\"host\">\n              <div class=\"indent\">\n                <div class=\"indent-line\" />\n              </div>\n              <div class=\"content\">\n                <!-- @slot 其他slot，用于显示除了树之外的内容 -->\n                <slot name=\"other\" v-bind=\"scopedData\" />\n              </div>\n            </div>\n          </div>\n          <!-- @slot 空的slot，如果没有子项，显示的slot -->\n          <slot name=\"empty\" v-else-if=\"!loadedVisibleChildrenLength\" />\n        </div>\n      </el-collapse-transition>\n\n    </div>\n  </div>\n</template>\n<script>\n\nimport delay from '_/delay';\n\n/**\n * 这个组件用于显示一个树状结构，包含拖动，右键等功能\n *\n * @template N\n */\n\nexport default {\n  name: 'Tree',\n  props: {\n    /**\n     * 树的根节点数据，一个对象\n     * @type {object}\n     */\n    data: {\n      type: Object,\n    },\n    /**\n     * 树是否可以释放，布尔值或者传递一个返回布尔值的function，参数为释放的节点\n     * @type {number | string}\n     */\n    droppable: {\n      type: [Boolean, Function],\n      default: false,\n    },\n    /**\n     * 树是否可以拖动，布尔值或者传递一个返回布尔值的function，参数为拖动的节点\n     */\n    draggable: {\n      type: [Boolean, Function],\n      default: false,\n    },\n    /**\n     * 一个加载子节点的function\n     * @type { <T>(item: T) => Promise<T[]> | T}\n     */\n    load: {\n      type: Function,\n      default: async function load(item) {\n        await delay(500);\n        return item.children;\n      },\n    },\n    /**\n     * 树是否隐藏，传递布尔值，或者一个返回布尔值的function，参数为需要判断隐藏的节点\n     */\n    hidden: {\n      type: [Boolean, Function],\n      default: () => function hidden(item) {\n        return item.hidden;\n      },\n    },\n    /**\n     * 树是否显示其他，传递布尔值，或者一个返回布尔值的function，参数为需要判断是否显示其他的节点\n     */\n    showOther: {\n      type: [Boolean, Function],\n      default: () => function showOther() {\n        return false;\n      },\n    },\n    /**\n     * 树是否可展开，传递布尔值，或者一个返回布尔值的function，参数为需要判断是否可展开的节点\n     */\n    expandable: {\n      type: [Boolean, Function],\n      default: () => function checkChildrenExistence(item) {\n        return item.children && item.children.length;\n      },\n    },\n    /**\n     * 正在拖动的项目的数据，需要一个对象，并且有一个data的字段为item，用于外部修改内部的拖动内容\n     */\n    draggingData: {\n      default: null,\n    },\n    /**\n     * 树是否可以展开，传递布尔值或者一个打开的items的数组\n     */\n    opened: {\n      default: () => [],\n    },\n    /**\n     * 树状用于显示内容的key，默认为label，如果传递了default slot，则需要自定义显示的内容\n     */\n    labelKey: {\n      default: 'label',\n    },\n    /**\n     * 用于缓存一些内部数据用的参数，需要传递节点的id的key，默认为\"id\"\n     */\n    valueKey: {\n      default: 'id',\n    },\n    /**\n     * @ignore\n     */\n    // 这两个内部使用\n    indexs: {\n      type: Array,\n      default: () => [],\n    },\n    /**\n     * @ignore\n     */\n    ancestors: {\n      type: Array,\n      default: () => [],\n    },\n\n    loadedChildren: {\n      type: Object,\n      default: () => ({}),\n    },\n\n    pendingChildren: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  data() {\n    // console.log(this.data, this.indexs.length);\n    // console.log(222);\n    return {\n      openedItems: this.getOpenedItems(this.opened),\n      insertIndex: null,\n      innerOpened: undefined,\n    };\n  },\n  computed: {\n    /**\n     * A song\n     * @typedef {Object} ScopedData\n     * @property {string} isOpened - The title\n     * @property {string} artist - The artist\n     * @property {number} year - The year\n     */\n    scopedData() {\n      return {\n        isOpened: this.isOpened,\n        isExpandable: this.isExpandable,\n        isDraggable: this.isDraggable,\n        isDroppable: this.isDroppable,\n        data: this.data,\n        indexs: this.indexs,\n        nodes: this.nodes,\n        ancestors: this.ancestors,\n        parent: this.parent,\n        index: this.index,\n      };\n    },\n    parent() {\n      return this.ancestors[this.ancestors.length - 1];\n    },\n    nodes() {\n      return [...this.ancestors, this.data];\n    },\n    index() {\n      if (this.indexs.length) {\n        return this.indexs[this.indexs.length - 1];\n      }\n      return undefined;\n    },\n    isRoot() {\n      return !this.indexs.length;\n    },\n    isDragging() {\n      if (!this.draggingData) return false;\n      return this.draggingData.data === this.data;\n    },\n    isShowOther() {\n      return typeof this.showOther === 'function' ? this.showOther(this.data) : !!this.showOther;\n    },\n    isHidden() {\n      return typeof this.hidden === 'function' ? this.hidden(this.data) : !!this.hidden;\n    },\n    isExpandable() {\n      return typeof this.expandable === 'function' ? this.expandable(this.data) : !!this.expandable;\n    },\n    isDraggable() {\n      return typeof this.draggable === 'function' ? this.draggable(this.data) : !!this.draggable;\n    },\n    isDroppable() {\n      const s = { from: this.draggingData, to: { data: this.data, getChildren: this.load } };\n      return typeof this.droppable === 'function' ? this.droppable(s) : !!this.droppable;\n    },\n    isOpened() {\n      return this.isRoot || this.openedItems.includes(this.data);\n    },\n    loadedVisibleChildrenLength() {\n      const children = this.loadedChildren[this.data[this.valueKey]];\n      if (!children) return 0;\n      if (typeof this.hidden !== 'function') {\n        return this.hidden ? 0 : children.length;\n      }\n      return children.length - children.filter(this.hidden).length;\n    },\n  },\n  methods: {\n    async loadChildren(item) {\n      const id = item[this.valueKey];\n      if (!this.loadedChildren[id]) {\n        let loadPromise = this.pendingChildren[id];\n        if (!loadPromise) {\n          loadPromise = this.load(item);\n          this.$set(this.pendingChildren, id, loadPromise);\n        }\n        const children = await loadPromise;\n        try {\n          this.$set(this.loadedChildren, id, children);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          this.$set(this.pendingChildren, id, null);\n        }\n        await this.$nextTick();\n      }\n      return this.loadedChildren[id];\n    },\n    getOpenedItems(opened) {\n      if (Array.isArray(opened)) {\n        return opened;\n      }\n      if (opened) {\n        return [this.data];\n      }\n      return [];\n    },\n    toggle(item, opened) {\n      if (opened && !this.isExpandable) {\n        return;\n      }\n      const index = this.openedItems.indexOf(item);\n      if (opened === undefined) {\n        opened = index === -1;\n      }\n      if (Array.isArray(this.opened)) {\n        if (opened) {\n          this.openedItems.push(item);\n        } else {\n          this.openedItems.splice(index, 1);\n        }\n      } else {\n        /**\n         * 更新opened的事件，如果opend本来是数组，则不会触发\n         * @event update:opened\n         * @param {Boolean} opened 是否打开\n         */\n        this.$emit('update:opened', opened);\n      }\n    },\n    handleOtherContextmenu(ev) {\n      if (this.$listeners.othercontextmenu) {\n        ev.preventDefault();\n        /**\n         * 其他项的右键事件\n         * @event othercontextmenu\n         * @param {ScopedData} scopedData 一个包含大部分节点数据的结构\n         */\n        this.$emit('othercontextmenu', ev, this.scopedData);\n      }\n    },\n    handleContextmenu(ev) {\n      if (this.$listeners.contextmenu) {\n        ev.preventDefault();\n        /**\n         * 右键事件\n         * @event contextmenu\n         * @param {ScopedData} scopedData 一个包含大部分节点数据的结构\n         */\n        this.$emit('contextmenu', ev, this.scopedData);\n      }\n    },\n    handleDragOver(ev) {\n      ev.dataTransfer.dropEffect = 'copy';\n    },\n    handleDragLeave(e) {\n      if (this._enterElement === e.target) {\n        this.clearOpenTimeout();\n        this.insertIndex = null;\n      }\n    },\n    setOpenTimeout() {\n      this._openTimeout = setTimeout(() => {\n        if (!this.isOpened && this.isExpandable) {\n          this.toggle(this.data, true);\n        }\n      }, 1000);\n    },\n    clearOpenTimeout() {\n      if (this._openTimeout) {\n        clearTimeout(this._openTimeout);\n      }\n    },\n    handleDragEnter(e, index = 0) {\n      e.dataTransfer.dropEffect = 'copy';\n      this._enterElement = e.target;\n      this.insertIndex = index;\n      this.clearOpenTimeout();\n      this.setOpenTimeout();\n    },\n    async handleDragEnd() {\n      await this.$nextTick();\n      this.clearOpenTimeout();\n      this.insertIndex = null;\n      this.updateDraggingData(null);\n    },\n    async handleDrop(e, insertIndex) {\n      e.preventDefault();\n      e.stopPropagation();\n      let moveIndex = insertIndex;\n\n      const from = this.draggingData;\n\n      const { index, parent } = from;\n\n      const target = this.data;\n\n      const children = await this.loadChildren(target);\n      const before = children[moveIndex - 1];\n      const after = children[moveIndex];\n\n      if (parent === target) {\n        if (moveIndex > index) {\n          moveIndex -= 1;\n          if (moveIndex < 0) moveIndex = 0;\n        }\n        if (index === moveIndex) return;\n      }\n\n      /**\n       * 释放事件\n       * @event drop\n       * @param { ({ from: object, to: object }) } dropData 释放需要的数据，from为拖动的节点，to为释放到的节点\n       */\n      this.$emit('drop', {\n        from,\n        to: {\n          ...this.scopedData, before, after, index: insertIndex, moveIndex,\n        },\n      });\n      this.handleDragEnd();\n    },\n    updateDraggingData(v) {\n      /**\n       * 更新拖动的事件\n       * @event update:draggingData\n       * @param { {data: object} | null } scopedData 拖动的数据\n       */\n      this.$emit('update:draggingData', v);\n    },\n    handleDragStart(e) {\n      if (this.draggingData) {\n        return;\n      }\n      // e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.dropEffect = 'copy';\n      this.updateDraggingData({\n        parent: this.parent,\n        data: this.data,\n        index: this.index,\n        indexs: this.indexs.slice(),\n        getChildren: this.load,\n      });\n    },\n  },\n  watch: {\n    opened(opened) {\n      this.openedItems = this.getOpenedItems(opened);\n    },\n    isOpened: {\n      immediate: true,\n      async handler(opened) {\n        if (opened) {\n          const item = this.data;\n          await this.loadChildren(item);\n          this.innerOpened = true;\n        } else {\n          this.innerOpened = false;\n        }\n      },\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n$primaryColor: #4c8eff;\n$hoverColor: #d7e4fb;\n$borderColor: #eee;\n$columnHeight: 32px;\n$sortLineHeight: 18px;\n\n.list-enter-active,\n.list-leave-active {\n  transition: all 0.2s;\n}\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateX(15%);\n}\n.list-move {\n  transition: transform 0.2s;\n}\n\n.sublist {\n  padding-bottom: $sortLineHeight/2;\n}\n.host {\n  display: flex;\n  border-color: $borderColor;\n}\n\n.indent-line {\n  position: relative;\n  flex: 1;\n  &:before {\n    content: \"\";\n    position: absolute;\n    left: 17px;\n    right: auto;\n    bottom: 0;\n    top: 0;\n    border-style: dashed;\n    border-width: 1px;\n    border-color: darken($borderColor, 5%);\n    border-left-color: transparent;\n  }\n  .is-opened\n    > .content\n    > .sublist-wrapper\n    > .sublist\n    > .child\n    > .host\n    > .indent\n    & {\n    display: block;\n  }\n}\n.other {\n  margin-top: -$sortLineHeight/2;\n}\n.item {\n  cursor: pointer;\n  padding-bottom: 7px;\n  padding-top: 7px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow: hidden;\n  position: relative;\n  border-radius: 2px 2px 0 0;\n  border-bottom: 1px solid;\n  border-color: $borderColor;\n  &:focus {\n    outline: none;\n  }\n  &:hover {\n    background-color: $hoverColor;\n    color: $primaryColor;\n    border-color: darken($hoverColor, 10%);\n  }\n}\n\n// .host.dragover {\n//   .content {\n//     color: $primaryColor;\n//     background-color: $hoverColor;\n//   }\n//   .item {\n//     border-color: darken($hoverColor, 10%);\n//   }\n//   .indent-line {\n//     border-color: darken($hoverColor, 10%);\n//   }\n//   .item {\n//     border-color: darken($hoverColor, 10%);\n//   }\n// }\n\n.host.is-droppable {\n  > .content > .sublist-wrapper > .sublist > .child > .hr {\n    display: block;\n  }\n}\n\n.host.is-dragover {\n  > .content > .item-wrapper > .item {\n    color: $primaryColor;\n  }\n  > .content > .sublist-wrapper > .sublist > .child > .host {\n    > .indent .indent-line:before {\n      border-left-color: darken($primaryColor, 10%);\n      border-right-color: darken($primaryColor, 10%);\n    }\n  }\n}\n\n.indent {\n  width: 34px;\n  display: flex;\n  flex-direction: column;\n}\n.arrow,\n.loading {\n  line-height: 36px;\n  text-align: center;\n  height: 36px;\n  display: block;\n  transition: transform 0.3s;\n  font-weight: 300;\n  cursor: pointer;\n}\n.is-opened > .indent > .arrow {\n  transform: rotate(90deg);\n}\n\n.is-dragging {\n  cursor: move;\n  > * {\n    cursor: move;\n    pointer-events: none;\n  }\n  > .content {\n    opacity: 0.5;\n  }\n}\n\n.content {\n  flex: 1;\n  position: relative;\n}\n.child {\n  position: relative;\n}\n\n.hr {\n  display: none;\n  &.active {\n    span,\n    &:before,\n    &:after {\n      border-color: darken($primaryColor, 10%);\n    }\n  }\n  &.after {\n    display: none;\n    bottom: -$sortLineHeight/2;\n  }\n  &.before {\n    top: -$sortLineHeight/2;\n  }\n  .child:first-child > &.before {\n    &:before,\n    &:after {\n      top: $sortLineHeight/2;\n    }\n  }\n  .child:last-child > &.after {\n    &:before,\n    &:after {\n      bottom: $sortLineHeight/2;\n      margin-bottom: 0;\n    }\n  }\n  * {\n    pointer-events: none;\n  }\n  position: absolute;\n  padding-top: $sortLineHeight/2-1px;\n  padding-bottom: $sortLineHeight/2-1px;\n  height: $sortLineHeight;\n  left: 17px;\n  right: 0;\n  span {\n    display: block;\n    border-top: 2px dashed transparent;\n  }\n  &:before,\n  &:after {\n    display: inline-block;\n    bottom: $sortLineHeight/2/2;\n    content: \"\";\n    position: absolute;\n    top: $sortLineHeight/2/2;\n    border-left: 2px solid transparent;\n  }\n  &:before {\n    left: 0;\n  }\n  &:after {\n    right: 0;\n  }\n\n  // span,\n  // &:before,\n  // &:after {\n  //   border-color: darken($primaryColor, 10%);\n  // }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tree.vue?vue&type=template&id=c5ece6ca&scoped=true&\"\nimport script from \"./Tree.vue?vue&type=script&lang=js&\"\nexport * from \"./Tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tree.vue?vue&type=style&index=0&id=c5ece6ca&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5ece6ca\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\n\nvar warn = function warn(msg) {\n  if (!Vue.config.silent) {\n    console.warn(msg);\n  }\n};\n\nexport default {\n  name: 'intersect',\n  abstract: true,\n  props: {\n    threshold: {\n      type: Array,\n      required: false,\n      default: function _default() {\n        return [0, 0.2];\n      }\n    },\n    root: {\n      type: typeof HTMLElement !== 'undefined' ? HTMLElement : Object,\n      required: false,\n      default: function _default() {\n        return null;\n      }\n    },\n    rootMargin: {\n      type: String,\n      required: false,\n      default: function _default() {\n        return '0px 0px 0px 0px';\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.observer = new IntersectionObserver(function (entries) {\n      if (!entries[0].isIntersecting) {\n        _this.$emit('leave', [entries[0]]);\n      } else {\n        _this.$emit('enter', [entries[0]]);\n      }\n\n      _this.$emit('change', [entries[0]]);\n    }, {\n      threshold: this.threshold,\n      root: this.root,\n      rootMargin: this.rootMargin\n    });\n\n    this.$nextTick(function () {\n      if (_this.$slots.default && _this.$slots.default.length > 1) {\n        warn('[VueIntersect] You may only wrap one element in a <intersect> component.');\n      } else if (!_this.$slots.default || _this.$slots.default.length < 1) {\n        warn('[VueIntersect] You must have one child inside a <intersect> component.');\n        return;\n      }\n\n      _this.observer.observe(_this.$slots.default[0].elm);\n    });\n  },\n  destroyed: function destroyed() {\n    this.$emit('destroyed');\n    this.observer.disconnect();\n  },\n  render: function render() {\n    return this.$slots.default ? this.$slots.default[0] : null;\n  }\n};","import remove from '@4dst-saas/public-utils/dist/remove';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nconst elsAndCallbacks: Map<HTMLElement, Function[]> = new Map();\nconst ro = new ResizeObserver(entries => {\n  const elsAndCallbacksEntries = Array.from(elsAndCallbacks.entries());\n  entries.forEach((entry) => {\n    const i = elsAndCallbacksEntries.findIndex(([el]) => el === entry.target);\n    if (i !== -1) {\n      const [[, fns]] = elsAndCallbacksEntries.splice(i, 1);\n      fns.forEach(fn => fn(entry.contentRect));\n    }\n  });\n});\nexport function resizeWatch(callback: Function, el: HTMLElement = document.documentElement) {\n  const fns = elsAndCallbacks.get(el) ?? [];\n  fns.push(callback);\n  elsAndCallbacks.set(el, fns);\n  ro.observe(el);\n  return () => {\n    remove(fns, callback);\n    if (!fns.length) {\n      elsAndCallbacks.delete(el);\n      ro.unobserve(el);\n    }\n  };\n}\nexport default resizeWatch;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"meet-home flex-column\"},[_c('Header',{ref:\"header\",attrs:{\"meeting\":_vm.currentMeeting,\"currentOperateType\":_vm.currentOperateType,\"isEdit\":_vm.isEdit,\"allCols\":_vm.allCols,\"showCols\":_vm.showCols,\"editCols\":_vm.editCols,\"col\":_vm.currentCol,\"colsNum\":_vm.colsNum,\"is-search\":_vm.isSearch,\"searchValue\":_vm.searchValue,\"list\":_vm.list,\"commitLoading\":_vm.loading,\"process\":_vm.uploadProcess},on:{\"type-change\":_vm.handleTypeChange,\"cancel-edit\":_vm.cancelEdit,\"commit-edit\":_vm.commitEdit,\"search\":_vm.search,\"cols-change\":_vm.colsChange,\"cols-num-change\":_vm.colsNumChange}}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading || _vm.bgLoading),expression:\"loading || bgLoading\"}],staticClass:\"loading-wrap\",style:(_vm.bgStyle)},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showBackBtn),expression:\"showBackBtn\"}],staticClass:\"back-btn\",on:{\"click\":_vm.toCols}},[_c('span',{staticClass:\"left\"},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.back\"))+\" \")]),(_vm.isSearch)?[_c('span',{staticClass:\"split\"},[_vm._v(\"|\")]),_c('i18next',{attrs:{\"path\":\"virtual-meetup.home.search_title\"}},[_c('span',{staticClass:\"name\",attrs:{\"place\":\"search\"}},[_vm._v(_vm._s(_vm.title))])])]:[_c('span',{staticClass:\"split\"},[_vm._v(\"|\")]),_c('span',{staticClass:\"name\",attrs:{\"place\":\"search\"}},[_vm._v(_vm._s(_vm.title))])]],2),_c('div',{staticClass:\"meet-home__main flex-column scrollable-y\",style:(_vm.mainStyle)},[(_vm.isEdit)?[(_vm.meetingId)?_c('Edit',{attrs:{\"meetingId\":_vm.meetingId,\"meeting\":_vm.meeting},on:{\"cols-change\":_vm.editColsChange,\"process-change\":_vm.processChange,\"loading\":function (editLoading) { return (_vm.loading = editLoading); }}}):_vm._e()]:[(_vm.showCols.length)?_c('Review',{attrs:{\"meetingId\":_vm.meetingId,\"showCols\":_vm.showCols,\"colsNum\":_vm.colsNum,\"col\":_vm.currentCol,\"isSearch\":_vm.isSearch,\"searchValue\":_vm.searchValue,\"list\":_vm.list},on:{\"open-col-list\":_vm.openColList,\"to-cols\":_vm.toCols,\"refresh\":_vm.refresh}}):_c('Empty',{on:{\"to-edit\":_vm.toEdit}})]],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getCurrentInstance, onMounted, onUnmounted } from '@vue/composition-api';\nimport resizeWatch from '@/utils/resize-watch';\n\ntype UnWatch = () => void;\nfunction useResize(callback: Function, useEl?: true): UnWatch;\nfunction useResize(callback: Function, target?: HTMLElement): UnWatch;\nfunction useResize(callback: Function, useElOrTarget: true | HTMLElement = document.documentElement) {\n  const vm = getCurrentInstance();\n  let unWatch: UnWatch;\n  onMounted(() => {\n    const _target = useElOrTarget === true ? (vm!.$el as HTMLElement) : useElOrTarget;\n    unWatch = resizeWatch(callback, _target);\n  });\n  const _unWatch = () => {\n    if (unWatch) {\n      unWatch();\n    }\n  };\n  onUnmounted(_unWatch);\n  return _unWatch;\n}\nexport { useResize };\nexport default useResize;\n","var render, staticRenderFns\nimport script from \"./CheckboxBtn.vue?vue&type=script&lang=tsx&\"\nexport * from \"./CheckboxBtn.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./CheckboxBtn.vue?vue&type=style&index=0&id=046edf80&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046edf80\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Header',{staticClass:\"meet-home__header\",attrs:{\"meeting\":_vm.meeting}},[(!_vm.isEdit)?[_c('el-input',{staticClass:\"meet-home__header--input\",attrs:{\"slot\":\"middle\",\"placeholder\":_vm.$t('virtual-meetup.home.search'),\"size\":\"small\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},slot:\"middle\",model:{value:(_vm.currentSearchValue),callback:function ($$v) {_vm.currentSearchValue=$$v},expression:\"currentSearchValue\"}},[_c('i',{staticClass:\"el-icon-search el-input__icon\",attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.search},slot:\"suffix\"})]),_c('el-popover',{attrs:{\"slot\":\"icon\",\"width\":210,\"trigger\":\"click\"},on:{\"show\":_vm.setting.open},slot:\"icon\",model:{value:(_vm.setting.show),callback:function ($$v) {_vm.$set(_vm.setting, \"show\", $$v)},expression:\"setting.show\"}},[_c('div',[_c('ul',{staticClass:\"cols-setting-list scrollable-y\"},[_c('li',[_c('el-checkbox',{on:{\"change\":_vm.changeIsShowAllCols},model:{value:(_vm.isShowAllCols),callback:function ($$v) {_vm.isShowAllCols=$$v},expression:\"isShowAllCols\"}}),_c('span',{staticClass:\"cols-setting-list__title\"},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.all\")))])],1),_vm._l((_vm.currentAllCols),function(col,i){return _c('li',{key:i},[_c('el-checkbox',{model:{value:(col.isShow),callback:function ($$v) {_vm.$set(col, \"isShow\", $$v)},expression:\"col.isShow\"}}),_c('span',{staticClass:\"cols-setting-list__title\"},[_vm._v(_vm._s(col.name))])],1)})],2),_c('div',{staticClass:\"cols-setting-list__bottom\"},[_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.setting.cancel}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.cancel\")))]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.setting.done}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.confirm\")))])],1)]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"slot\":\"reference\",\"effect\":\"dark\",\"content\":_vm.$t('virtual-meetup.home.show_col')},slot:\"reference\"},[_c('span',{staticClass:\"review-header__iconwrap\",class:{\n            disabled:\n              !_vm.allCols.length || Object.keys(_vm.currentCol).length || _vm.isSearch,\n          }},[_c('i',{staticClass:\"main-icon iconfont iconshaixuan2\"}),_c('i',{staticClass:\"el-icon-arrow-down main-icon-right\"})])])],1),_c('el-popover',{attrs:{\"slot\":\"icon\",\"width\":184,\"trigger\":\"click\",\"popper-class\":\"display-type-dropdown\"},slot:\"icon\",model:{value:(_vm.showDisplayTypes),callback:function ($$v) {_vm.showDisplayTypes=$$v},expression:\"showDisplayTypes\"}},[_c('ul',{staticClass:\"display-type-ul\"},_vm._l((_vm.displayTypes),function(item){return _c('li',{key:item.colsNum,staticClass:\"display-type-ul__item\",on:{\"click\":function($event){return _vm.changeCols(item.colsNum)}}},[_c('span',{staticClass:\"flex-vertical-center\"},[_c('i',{class:(\"iconfont \" + (item.icon)),style:({\n                fontSize: '20px',\n                marginRight: '10px',\n              })}),_vm._v(\" \"+_vm._s(item.title)+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.colsNum === _vm.colsNum),expression:\"item.colsNum === colsNum\"}],staticClass:\"el-icon-check\"})])}),0),_c('el-tooltip',{staticClass:\"item\",attrs:{\"slot\":\"reference\",\"effect\":\"dark\",\"content\":_vm.$t('virtual-meetup.home.change_img_type')},slot:\"reference\"},[_c('span',{staticClass:\"review-header__iconwrap\",class:{\n            disabled:\n              !_vm.showCols.length ||\n              (_vm.isSearch && !_vm.list.length) ||\n              (Object.keys(_vm.currentCol).length && !_vm.list.length),\n          }},[_c('i',{staticClass:\"main-icon iconfont iconzhongtu\"}),_c('i',{staticClass:\"el-icon-arrow-down main-icon-right\"})])])],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"slot\":\"set-room\",\"effect\":\"dark\",\"content\":_vm.$t('virtual-meetup.home.set_room')},slot:\"set-room\"},[_c('i',{staticClass:\"main-icon iconfont iconbuzhihuichang\",on:{\"click\":function($event){return _vm.changeType('edit')}}})])]:[(!_vm.isShowRoom)?_c('LogoPicker',{staticClass:\"logo\",attrs:{\"slot\":\"logo\",\"src\":_vm.logoKey,\"image\":_vm.logo},on:{\"select-image\":_vm.logoChange},slot:\"logo\"}):_vm._e(),_c('div',{staticClass:\"edit-header\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":_vm.$t('virtual-meetup.home.set_bg')}},[_c('i',{staticClass:\"i-tupian-24\",on:{\"click\":_vm.setBg}})]),(_vm.meeting.backgroundImage)?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":_vm.$t('virtual-meetup.home.cancel_bg')}},[_c('i',{staticClass:\"i-lajitong-24\",on:{\"click\":_vm.cancelBg}})]):_vm._e(),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.cancel\")))]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"loading\":_vm.commitLoading},on:{\"click\":_vm.commitEdit}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.save\")))])],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"meet-logo-picker\"},[_c('a',{staticClass:\"drop-area\",class:{ 'is-enter': !!_vm.enterEvent, 'has-image': !!_vm.url },on:{\"click\":_vm.onClick,\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)},\"dragover\":function($event){$event.preventDefault();$event.stopPropagation();},\"dragenter\":_vm.onEnter,\"dragleave\":_vm.onLeave}},[_c('div',{staticClass:\"drop-area-content\"},[(_vm.url)?_c('a',{staticClass:\"btn-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.clear($event)}}},[_c('i',{staticClass:\"i-delete\"})]):_vm._e(),(_vm.url)?_c('div',{staticClass:\"img\",style:({ backgroundImage: (\"url('\" + _vm.url + \"')\") })}):[_vm._m(0)]],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-icon\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, watch, toRef,\n} from '@vue/composition-api';\nimport selectFiles from '@/utils/select-files';\nimport validFile from '@/utils/validators/valid-file';\n\nexport default defineComponent({\n  props: {\n    image: {\n      type: undefined as unknown as () => Blob,\n    },\n    src: {\n      type: String,\n    },\n  },\n  model: {\n    prop: 'image',\n    event: 'select-image',\n  },\n  setup(props, { emit }) {\n    const enterEvent = ref<DragEvent>();\n    const url = ref<string>();\n    watch(toRef(props, 'image'), (image) => {\n      if (url.value) {\n        URL.revokeObjectURL(url.value);\n      }\n      if (image) {\n        url.value = URL.createObjectURL(image);\n      } else {\n        url.value = undefined;\n      }\n    }, {\n      flush: 'pre',\n      immediate: true,\n    });\n    watch(() => props.src, (src) => {\n      if (props.image) return;\n      url.value = src;\n    });\n    return {\n      async onClick() {\n        const [file] = await selectFiles(['png', 'jpg'], 5000);\n        await validFile(file, ['img']);\n        emit('select-image', file);\n      },\n      async onDrop(evt: DragEvent) {\n        const file = evt.dataTransfer?.files[0];\n        if (file) {\n          await validFile(file, ['img']);\n          emit('select-image', file, url.value);\n        }\n      },\n      onEnter(evt: DragEvent) {\n        enterEvent.value = evt;\n      },\n      onLeave(evt: DragEvent) {\n        if (enterEvent.value && evt.target === enterEvent.value.target) {\n          enterEvent.value = undefined;\n        }\n      },\n      clear() {\n        emit('select-image', undefined, '');\n      },\n      enterEvent,\n      url,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoPicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoPicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LogoPicker.vue?vue&type=template&id=153dc52c&scoped=true&\"\nimport script from \"./LogoPicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./LogoPicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LogoPicker.vue?vue&type=style&index=0&id=153dc52c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"153dc52c\",\n  null\n  \n)\n\nexport default component.exports","import {\n  reactive, computed, ref, toRefs, getCurrentInstance, onMounted, watch, SetupContext,\n} from '@vue/composition-api';\nimport selectFiles from '@/utils/select-files';\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport validFile from '@/utils/validators/valid-file';\nimport axios from '@/utils/axios';\nimport { Meeting } from '../typings';\n\nconst fetchMeeting = async (params:{meetingId:string}) => {\n  const res:Meeting = (await axios({\n    url: '/meeting/meeting/info',\n    params,\n  })).data || {};\n  return res;\n};\n\nconst operateMeeting = async (params: {id:string, backgroundImage:string}) => {\n  const res = (await axios({\n    url: '/meeting/meeting/update',\n    method: 'post',\n    data: params,\n  })).data;\n  return res;\n};\n\nconst state = reactive({\n  bgLoading: false,\n});\n\nconst useBg = (meeting:Meeting) => {\n  const bgStyle = computed(() => ({\n    backgroundImage: `url(${meeting.backgroundImage})`,\n  }));\n  const updateBg = async ({ backgroundImage }:{backgroundImage:string}) => {\n    try {\n      state.bgLoading = true;\n      await operateMeeting({ id: meeting.id, backgroundImage });\n      const newMeeting = await fetchMeeting({ meetingId: meeting.id });\n      meeting.backgroundImage = newMeeting.backgroundImage;\n    } finally {\n      state.bgLoading = false;\n    }\n  };\n  const cancelBg = async () => {\n    await updateBg({ backgroundImage: '' });\n  };\n  const setBg = async () => {\n    const allowExt = ['png', 'jpeg', 'jpg'];\n    const [file] = await selectFiles(allowExt, 5000);\n    await validFile(file, { extensions: allowExt, sizeLimit: 20 * 1024 * 1024 });\n    try {\n      state.bgLoading = true;\n    } finally {\n      const imgKey = await uploadToOSS(file, 'MEETING');\n      await updateBg({ backgroundImage: imgKey });\n      state.bgLoading = false;\n    }\n  };\n\n  return {\n    ...toRefs(state),\n    bgStyle,\n    setBg,\n    cancelBg,\n  };\n};\n\nexport default useBg;\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, watch, onMounted,\n} from '@vue/composition-api';\nimport { getContextUser } from '@/loaders/context';\nimport setLang, {\n  languageNumber2lang,\n  lang2TranslatedLang,\n  langMapLangNum,\n  langConfigList,\n} from '@/router/utils/set-lang';\nimport { i18n, i18next } from '@/i18n';\n\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport filterThumb from '@/filters/thumb';\nimport urlToBlob from '@/utils/url-to-blob';\nimport { getRelativePathFromUrl } from '@/utils/normalize-component';\nimport axios from '@/utils/axios';\nimport User from '@/models/User';\nimport { Meeting } from '../typings';\nimport Header from '../Header.vue';\nimport { OperateParams, MeetForm } from '../mlist/components/OperateMeeting.vue';\nimport LogoPicker from '../components/LogoPicker.vue';\nimport { Col, Item } from './index.vue';\nimport { Process } from './useProcess';\nimport useBg from './useBg';\n\nconst editMeeting = async (params:OperateParams) => {\n  const res = axios({\n    url: '/meeting/meeting/update',\n    method: 'post',\n    data: params,\n  });\n  return res;\n};\n\nexport type OperateType = 'review' | 'edit';\n\nexport default defineComponent({\n  name: 'meet-home__header',\n  components: { Header, LogoPicker },\n  props: {\n    meeting: {\n      type: Object as unknown as () => Meeting,\n      required: true,\n    },\n    operateType: {\n      type: String as () => OperateType,\n      default: 'review',\n    },\n    isEdit: {\n      type: Boolean,\n      default: false,\n    },\n    searchValue: {\n      type: String,\n      default: '',\n    },\n    col: {\n      type: Object,\n      default: () => ({}),\n    },\n    allCols: {\n      type: Array as () => Col[],\n      default: () => [],\n    },\n    showCols: {\n      type: Array as () => Col[],\n      default: () => [],\n    },\n    editCols: {\n      type: Array as () => Col[],\n      default: () => [],\n    },\n    isSearch: {\n      type: Boolean,\n      default: false,\n    },\n    commitLoading: {\n      type: Boolean,\n      default: false,\n    },\n    list: {\n      type: Array as () => Item[],\n      default: () => [],\n    },\n    process: {\n      type: Object as ()=>Process,\n      default: () => ({}),\n    },\n\n  },\n  setup(props, { emit, root }) {\n    const state = reactive({\n      currentSearchValue: '',\n      displayTypes: [{\n        title: i18next.t('virtual-meetup.home.big_img'),\n        colsNum: 4,\n        icon: 'icondatu',\n      }, {\n        title: i18next.t('virtual-meetup.home.middle_img'),\n        colsNum: 8,\n        icon: 'iconzhongtu',\n      }, {\n        title: i18next.t('virtual-meetup.home.small_img'),\n        colsNum: 16,\n        icon: 'iconxiaotu',\n      }],\n      showDisplayTypes: false,\n      colsNum: 8 as 4 | 8 | 16,\n      temCurrentAllCols: [] as any[], // 用于保存打开时的数据,在取消时恢复\n      currentAllCols: [] as any[],\n      currentCol: {} as any,\n      isShowAllCols: false,\n      logo: undefined as File|undefined,\n      logoKey: '',\n    });\n    const { setBg, cancelBg } = useBg(props.meeting);\n    const isShowRoom = computed(() => props.meeting?.type === 2);\n    const user = computed(() => getContextUser());\n    const userImage = computed(() => user.value?.headImg || require('@/assets/img/header/default_avatar.png'));\n    const userTitle = computed(() => user.value?.name || user.value?.account || '');\n\n\n    const setting = reactive({\n      show: false,\n      open() {\n        state.temCurrentAllCols = JSON.parse(JSON.stringify(state.currentAllCols));\n      },\n      done() {\n        const showCols = state.currentAllCols.filter(item => item.isShow);\n        setting.show = false;\n        emit('cols-change', showCols);\n      },\n      cancel() {\n        state.currentAllCols = JSON.parse(JSON.stringify(state.temCurrentAllCols));\n        setting.show = false;\n      },\n    });\n    watch(() => props.searchValue, () => {\n      state.currentSearchValue = props.searchValue;\n    }, { immediate: true });\n    watch(() => props.allCols, () => {\n      state.currentAllCols = props.allCols.map(item => ({ ...item, isShow: true }));\n      const showCols = state.currentAllCols.filter(item => item.isShow);\n      emit('cols-change', showCols);\n    }, { immediate: true });\n    watch(() => props.col, () => {\n      state.currentCol = props.col;\n    });\n    watch(() => state.currentAllCols, () => {\n      const showCols = state.currentAllCols.filter(item => item.isShow);\n      state.isShowAllCols = showCols.length === props.allCols.length;\n    }, { immediate: true, deep: true });\n\n    const initLogo = async () => {\n      const { meeting } = props;\n      const logo = filterThumb(meeting.logo, { width: 128, height: 128 } as any) as string;\n      state.logoKey = getRelativePathFromUrl(meeting.logo);\n      // 通过urlToBlob的方式设置图片\n      if (logo) {\n        state.logo = await urlToBlob(logo) as File;\n      }\n    };\n\n    const logoChange = async (image:File|undefined, imgUrl:string) => {\n      const { meeting } = props;\n      state.logo = image;\n      const updateLogo = async (imgKey:string = '') => {\n        await editMeeting({\n          id: meeting.id,\n          logo: imgKey,\n        });\n      };\n      if (!image) {\n        state.logoKey = '';\n        updateLogo();\n        return;\n      }\n      const imgKey = await uploadToOSS(image, 'MEETING');\n      updateLogo(imgKey);\n      state.logoKey = imgKey;\n    };\n\n    const changeType = (operateType: OperateType) => {\n      emit('type-change', operateType);\n    };\n    const cancelEdit = async () => {\n      await root.$confirm(i18next.t('virtual-meetup.home.cancel_set_room_tip'), i18next.t('virtual-meetup.home.cancel_set_room'));\n      emit('cancel-edit');\n    };\n    const commitEdit = async () => {\n      if (Object.values(props.process).length) {\n        await root.$confirm(i18next.t('virtual-meetup.home.commit_has_upload_tip'), i18next.t('virtual-meetup.home.cancel_set_room'));\n      }\n      const uploadingItems = Object.values(props.process);\n      if (uploadingItems.length) {\n        uploadingItems.forEach(item => {\n          item.abortController.abort();\n        });\n      }\n      emit('commit-edit');\n    };\n    const search = () => {\n      emit('search', state.currentSearchValue);\n    };\n    const changeCols = (colsNum: 4 | 8 | 16) => {\n      state.colsNum = colsNum;\n      state.showDisplayTypes = false;\n      emit('cols-num-change', colsNum);\n    };\n    const changeIsShowAllCols = (isShowAllCols: boolean) => {\n      state.currentAllCols.forEach(item => { item.isShow = isShowAllCols; });\n    };\n\n\n    initLogo();\n\n\n    return {\n      ...toRefs(state),\n      setting,\n      changeType,\n      cancelEdit,\n      commitEdit,\n      search,\n      changeCols,\n      changeIsShowAllCols,\n      userImage,\n      userTitle,\n      langConfigList,\n      isShowRoom,\n      logoChange,\n      setBg,\n      cancelBg,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=04865a72&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=ts&\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=04865a72&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04865a72\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"meet-home__edit scrollable-xy\",class:{ 'is-draging': _vm.isDraging },on:{\"dragover\":function($event){$event.preventDefault();},\"dragenter\":_vm.containerEnter,\"drop\":function($event){$event.preventDefault();return _vm.containerDrop($event)}}},[_c('DragContainer',{ref:\"dragContainer\",staticClass:\"drag-container\",on:{\"start\":_vm.containerStart,\"end\":_vm.containerDragEnd}},[_vm._l((_vm.currentCols),function(col,i){return _c('div',{key:col.id,staticClass:\"flex\",style:({\n        position: 'relative',\n      })},[_c('div',{staticClass:\"drag-list-wrap\",class:{\n          disabled: _vm.listStartIndex === i,\n        },attrs:{\"draggable\":\"\"},on:{\"dragstart\":function($event){$event.stopPropagation();return (function (e) { return _vm.listDragStart({ e: e, i: i, col: col }); })($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.listDragEnd({ col: col })}}},[_c('DragList',{ref:\"dragListVms\",refInFor:true,staticClass:\"drag-list\",attrs:{\"key-name\":\"id\",\"eventPreCallback\":function (e) {\n              e.stopPropagation();\n            },\"disabled\":_vm.listDraging},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [(!col.isInput)?_c('div',{ref:\"colTitle\",refInFor:true,staticClass:\"drag-list-title\",class:{ 'pre-drag': _vm.listDraging && i !== _vm.listStartIndex },on:{\"dblclick\":function($event){return _vm.editColTitle(col, i)}}},[_c('OverText',[_vm._v(\" \"+_vm._s(col.name)+\" \")]),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.delCol(col, i)}}})],1):_c('el-input',{ref:\"colNameInputes\",refInFor:true,on:{\"blur\":function($event){return _vm.blurColTitle(col, i)}},model:{value:(col.temName),callback:function ($$v) {_vm.$set(col, \"temName\", $$v)},expression:\"col.temName\"}})]},proxy:true},{key:\"default\",fn:function(ref){\n            var item = ref.item;\n            var itemI = ref.i;\nreturn [_c('div',{staticClass:\"drag-item\",class:{\n                'drag-enter':\n                  _vm.dragInfo.type === 'drag-item' &&\n                  _vm.dragInfo.colIndex === i &&\n                  _vm.dragInfo.itemIndex === itemI,\n                'is-uploading': _vm.process[item.id],\n              },attrs:{\"data-colIndex\":i,\"data-itemIndex\":itemI,\"data-itemId\":item.id}},[_c('div',{staticClass:\"out-drag-insert-area\",class:{\n                  'drag-enter':\n                    _vm.dragInfo.type === 'out-drag-insert-area' &&\n                    _vm.dragInfo.colIndex === i &&\n                    _vm.dragInfo.itemIndex === itemI,\n                },attrs:{\"data-colIndex\":i,\"data-itemIndex\":itemI}},[_c('div',{staticClass:\"out-drag-insert-area__content\"})]),_c('div',{staticClass:\"drag-item-img-wrap\"},[_c('BaseImage',{staticClass:\"drag-item-img\",attrs:{\"src\":_vm.process[item.id] && _vm.process[item.id].album\n                      ? _vm.process[item.id].album.url\n                      : item.coverImageUrl,\"fit\":\"contain\"}}),(_vm.process[item.id])?_c('div',{staticClass:\"uploading\"},[_c('div',{staticClass:\"process\"},[_c('div',{staticClass:\"process-wrap\"},[_c('div',{staticClass:\"process-bg\"}),_c('div',{staticClass:\"process-content\",style:({ width: ((_vm.process[item.id].percent) + \"%\") })})]),_c('div',{staticClass:\"process-text\"},[_vm._v(\" \"+_vm._s(_vm.process[item.id].percent)+\"% \")])]),_c('div',{staticClass:\"upload-cancel\"},[_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){return _vm.cancelUpload(item)}}})])]):_vm._e()],1),_c('div',{staticClass:\"drag-item-title\"},[_c('OverText',{staticClass:\"drag-item-title-wrap\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])],1),_c('div',{staticClass:\"icons\"},[_c('div',{staticClass:\"icon-wrap\",on:{\"click\":function($event){return _vm.editItem(item, col, itemI)}}},[_c('i',{staticClass:\"el-icon-edit-outline\"})]),_c('div',{staticClass:\"icon-wrap\",on:{\"click\":function($event){return _vm.delItem(item, col, itemI)}}},[_c('i',{staticClass:\"el-icon-delete\"})])])]),_c('div',{staticClass:\"drag-enter-bg\"})]}},{key:\"append\",fn:function(){return [_c('div',{staticClass:\"add-item-btn\",class:{\n                'drag-enter':\n                  _vm.dragInfo.type === 'add-item-btn' && _vm.dragInfo.colIndex === i,\n              },attrs:{\"data-colIndex\":i},on:{\"click\":function($event){return _vm.addItem(col, i)}}},[_c('i',{staticClass:\"el-icon-plus\"})])]},proxy:true}],null,true),model:{value:(_vm.currentCols[i].itemInfos),callback:function ($$v) {_vm.$set(_vm.currentCols[i], \"itemInfos\", $$v)},expression:\"currentCols[i].itemInfos\"}})],1),_c('div',{class:{\n          'drag-list-wrap': _vm.listStartIndex === i,\n          'is-listdraging-area': _vm.listStartIndex === i,\n        }}),_c('div',{staticClass:\"add-col-area\"},[_c('span',{staticClass:\"icon-wrap\",on:{\"click\":function($event){return _vm.addCol(i)}}},[_c('i',{staticClass:\"icon-bg icon-fill iconfont iconshuidi\"}),_c('i',{staticClass:\"icon-bg icon-outline iconfont iconshuidiwaibian\"}),_c('i',{staticClass:\"icon-main el-icon-plus\"})])]),_c('div',{staticClass:\"col-drag-area\",class:{ 'is-can-drop': _vm.listDraging && _vm.listStartIndex !== i },on:{\"dragenter\":function($event){$event.stopPropagation();return _vm.listDragEnter({ i: i, list: _vm.currentCols })},\"dragover\":function($event){$event.preventDefault();}}})])}),_c('div',{staticClass:\"add-col-default\",on:{\"click\":function($event){return _vm.addCol(_vm.currentCols.length)}}},[_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"margin-right\":\"10px\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"virtual-meetup.home.new_col\"))+\" \")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {\n  defineComponent,\n} from '@vue/composition-api';\n\nconst CheckboxBtn = defineComponent({\n  name: 'CheckboxBtn',\n\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n      require: true,\n    },\n\n  },\n\n  setup(props, { emit }) {\n    const changeCheck = (): void => {\n      console.info(props.value);\n      emit('change', !props.value);\n    };\n\n    return {\n      changeCheck,\n    };\n  },\n\n  render() {\n    const self = this as InstanceType<typeof CheckboxBtn>;\n\n    return <el-button\n      round\n      onClick={self.changeCheck}\n      {...{ attrs: self.$attrs }}\n      class={{ checked: self.value, 'checkbox-btn': true }}\n    >\n      {self.value\n        ? <i class=\"iconfont icon-tick-circle\"></i>\n        : <div class=\"not-check-icon\"></div>\n      }\n      {\n        self.$slots.default\n      }\n    </el-button>;\n  },\n});\n\nexport default CheckboxBtn;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckboxBtn.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckboxBtn.vue?vue&type=script&lang=tsx&\"","import { ensureId, fetchChildrenWithPaging } from '@/loaders/catalog';\nimport { getContextWS } from '@/loaders/context';\nimport {\n  BusinessType0SearchParams, BusinessType1SearchParams, CatalogFolder, CatalogModel, CatalogOptions, SearchParams,\n} from '@/models/Catalog';\nimport Paging from '@/models/Paging';\nimport useSetting from '@/utils/composables/use-setting';\nimport { SizeParams } from '@/views/file-list/components/catalog/use-auto-fix';\nimport { appType2Name } from '@/views/file-list/components/catalog/app-type-to-name';\nimport {\n  computed, reactive, ref, UnwrapRef, watch,\n} from '@vue/composition-api';\nimport { i18n } from '@/i18n';\nimport axios from '@/utils/axios';\n\nasync function getCatalogUrl(catalogId: string): Promise<CatalogModel[]> {\n  return (await axios.get('/catalogue/yunpanCatalog/getCatalogUrl', {\n    params: {\n      catalogId,\n    },\n  })).data;\n}\n\nexport async function getNavs(activeFolder: CatalogOptions) {\n  const {\n    workspaceId, id, entryAppType, workspaceBusinessType, workspaceType,\n  } = activeFolder;\n\n  let result = [] as CatalogModel[];\n  if (id) {\n    // @ts-ignore\n    result = [...(await getCatalogUrl(id)).map(item => ({\n      entryAppType,\n      fileType: 0,\n      workspaceId,\n      workspaceBusinessType,\n      workspaceType,\n      ...item,\n    }))];\n    if (result && result[0]) {\n      result[0].appType = activeFolder.entryAppType;\n    }\n  } else {\n    // @ts-ignore\n    result = [{ ...activeFolder, fileType: 0, appType: activeFolder.entryAppType }];\n  }\n\n  // navCache[cacheKey] = result;\n  // }\n  await ensureId(result[0]);\n\n  result.forEach((item: CatalogModel) => {\n    if (item.appType) {\n      // @ts-ignore\n      // eslint-disable-next-line no-unused-expressions\n      item.appType = +item.appType;\n    }\n  });\n  return result;\n}\n\nexport function useCatalog(props: {\n  id: string, entryAppType: number, workspaceId: string, workspaceType: number,\n  workspaceName: string, workspaceBusinessType: number,\n  searchParams: (SearchParams & {relateyType: any})\n}) {\n  console.log(props.searchParams);\n  const catalogPaging = ref<Paging<CatalogModel>>();\n  const loadingPage = ref<number>();\n  const catalogs = ref([] as CatalogModel[]);\n  const pageSize = 30;\n\n  const isSearch = catalogPaging?.isSearch;\n  const emptyTips = isSearch ? i18n.t('workspace.no_search_result_tip') : i18n.t('workspace.empty');\n\n  const folderTreeVisible = ref(false);\n  const paths = ref<CatalogFolder[]>();\n  watch(() => {\n    return {\n      id: props.id,\n      entryAppType: props.entryAppType,\n      workspaceId: props.workspaceId,\n      workspaceType: props.workspaceType,\n      workspaceBusinessType: props.workspaceBusinessType,\n      workspaceName: props.workspaceName,\n    };\n  }, async (p) => {\n    paths.value = undefined;\n    const ps = await getNavs(p);\n    if ([13, 26].includes(p.entryAppType) && p.workspaceName) {\n      ps[0].name = p.workspaceName;\n    }\n    paths.value = ps;\n  }, {\n    flush: 'sync',\n    immediate: true,\n  });\n  const searchParams = ref<SearchParams>();\n  const timestamp = ref(Date.now());\n\n\n  const activeFolder = computed(() => paths.value?.[paths.value.length - 1]);\n  const activeModule = computed(() => paths.value?.[0]);\n\n  const params = reactive({\n    timestamp,\n    activeFolder,\n    activeModule,\n    searchParams,\n  });\n\n  // const searchParams = ref<SearchParams>();\n  // watch(() => searchParams, (_searchParams) => {\n  //   searchParams.value = _searchParams;\n  // }, {\n  //   immediate: true,\n  //   flush: 'pre',\n  // });\n\n  const loadPage = async (p: typeof params, page: number) => {\n    console.log(p.searchParams);\n    let relateType: (number | number[]) = p.searchParams?.relateType as unknown as number;\n    if (relateType === 0) {\n      relateType = [0, 3];\n    }\n    loadingPage.value = page;\n    const catalogData = await fetchChildrenWithPaging(\n      {\n        ...p.activeFolder,\n        root: p.activeModule,\n        relateType,\n        sortParams: p.sortParams,\n        searchParams: {\n          ...p.searchParams,\n          relateType,\n        },\n      },\n      { cursor: page, limit: pageSize },\n    );\n\n    catalogPaging.value = catalogData;\n\n    loadingPage.value = undefined;\n  };\n\n  function loadMore() {\n    if (!loadingPage.value && catalogPaging.value) {\n      loadPage(params, catalogPaging.value.current + 1);\n    }\n  }\n\n  const canLoadMore = computed(() => {\n    if (!catalogPaging.value) {\n      return false;\n    }\n    // if (catalogPaging.value.records.length < catalogPaging.value.size) {\n    //   return false;\n    // }\n    return catalogPaging.value.pages > catalogPaging.value.current;\n  });\n\n  watch(() => props.searchParams, (_searchParams: BusinessType1SearchParams | BusinessType0SearchParams | undefined) => {\n    searchParams.value = _searchParams;\n  }, {\n    immediate: true,\n    flush: 'pre',\n  });\n\n  watch(() => {\n    return JSON.stringify(params);\n  }, async (_p) => {\n    const _params = JSON.parse(_p) as UnwrapRef<typeof params>;\n    if (_params.activeFolder) {\n      loadPage(_params, 1);\n    }\n  }, {\n    immediate: true,\n  });\n\n  watch(catalogPaging, (paging) => {\n    if (paging) {\n      if (paging.current === 1) {\n        catalogs.value = paging.records;\n      } else {\n        catalogs.value.splice(catalogs.value.length, 0, ...paging.records);\n      }\n    }\n  }, {\n    immediate: true,\n  });\n\n\n  return {\n    folderTreeVisible,\n    paths,\n    catalogs,\n    loadMore,\n    canLoadMore,\n    catalogPaging,\n    emptyTips,\n    isSearch,\n    activeFolder,\n    loadingPage,\n  };\n}\n\nexport default {};\n","\nimport { CatalogModel } from '@/models/Catalog';\nimport { defineComponent } from '@vue/composition-api';\nimport BaseImage from '@/components/base/Image.vue';\nimport Intersect from 'vue-intersect';\nimport { i18n } from '@/i18n';\n\n\nexport function isImage(name: string, relateType: number) {\n  if (relateType !== 2) return true;\n  const nameArr = name.split('.');\n  const types = ['jpg', 'jpeg', 'png'];\n  const len = nameArr.length;\n  if (len) {\n    const ext = nameArr[len - 1];\n    return types.includes(ext);\n  }\n  return false;\n}\n\nexport default defineComponent({\n  props: {\n    catalogs: {\n      type: Array as () => CatalogModel[],\n      required: true,\n    },\n    relateType: {\n      type: Number,\n      required: true,\n    },\n    selectedCatalog: {\n      type: Array as () => CatalogModel[],\n    },\n    canLoadMore: {\n\n    },\n    loadingPage: {\n      type: Number,\n    },\n    loadMore: {\n      type: Function,\n    },\n  },\n  render() {\n    const { catalogs, $scopedSlots } = this;\n    const Empty = catalogs && catalogs.length === 0 ? $scopedSlots.empty?.(null) : null;\n    return (\n      <div class=\"scrollable list-container scrollable-y\">\n        {\n          Empty || this.catalogs.map(catalog => {\n            return this.relateType === 2 ? <div class={{\n              'list-item': true,\n              active: this.selectedCatalog?.find(\n                selected => selected.id === catalog.id,\n              ),\n            }} onclick={\n              () => {\n                if (isImage(catalog.name, this.relateType)) {\n                  this.$emit('select-catalog', catalog);\n                }\n              }\n            }>\n              <i class=\"iconfont iconchenggong selected-icon\" vShow={this.relateType === 2} />\n              <i class=\"iconfont iconyuanxing\" />\n              <BaseImage fit=\"contain\"\n                thumb={{ width: 96, height: 96 }}\n                src={catalog.contentThumbnail}\n                default-image=\"defaultImageSrc\"\n                class={{\n                  img: true,\n                  active: this.selectedCatalog?.find(\n                    selected => selected.id === catalog.id,\n                  ),\n                  disabled: !isImage(catalog.name, this.relateType),\n                }}\n              />\n              <div class=\"text-two-line\">{catalog.name}</div>\n            </div> : <div class={\n              {\n                'list-item': true,\n                active: this.selectedCatalog?.find(\n                  selected => selected.id === catalog.id,\n                ),\n              }\n            } onclick={\n              () => {\n                if (isImage(catalog.name, this.relateType)) {\n                  this.$emit('select-catalog', catalog);\n                }\n              }\n            }>\n                <BaseImage fit=\"contain\"\n                  thumb={{ width: 96, height: 96 }}\n                  src={catalog.fileInfo.thumbnail}\n                  default-image=\"defaultImageSrc\"\n                  class={{\n                    img: true,\n                    disabled: !isImage(catalog.name, this.relateType),\n                  }}\n                />\n                <div class=\"text-two-line\">{catalog.name}</div>\n              </div>;\n          })\n        }\n        {\n          this.canLoadMore ? <Intersect onEnter={this.loadMore}>\n            <div class=\"load-more\">\n              {\n                this.loadingPage && this.loadingPage > 1 ? [\n                  <i class=\"el-icon-loading\" />,\n                  i18n.t('material-mall.loading'),\n                ] : i18n.t('material-mall.scroll_to_load')\n              }\n            </div>\n          </Intersect> : (this.catalogs.length > 0 ? <el-divider>{i18n.t('material-mall.no_more')}</el-divider> : null)\n\n        }\n      </div >\n    );\n  },\n  setup(props) {\n    console.log(props.catalogs);\n    return {\n\n    };\n  },\n});\n","var render, staticRenderFns\nimport script from \"./List.vue?vue&type=script&lang=tsx&\"\nexport * from \"./List.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=58f7aff4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58f7aff4\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./CatalogSelector.vue?vue&type=script&lang=tsx&\"\nexport * from \"./CatalogSelector.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./CatalogSelector.vue?vue&type=style&index=0&id=08d2e5f4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d2e5f4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=tsx&\"","\nimport {\n  defineComponent,\n} from '@vue/composition-api';\nimport FolderTree from '@/views/file-list/components/catalog/FolderTree.vue';\nimport { CatalogModel, SearchParams } from '@/models/Catalog';\nimport { useCatalog } from '../utils/useCatalog';\nimport Panellist from './List.vue';\n\ntype SearchParamsWithReleatType = SearchParams & { relateType: number | number[] };\n\nexport default defineComponent({\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    workspaceId: {\n      type: String,\n    },\n    workspaceName: {\n      type: String,\n    },\n    workspaceType: {\n      type: Number,\n    },\n    workspaceBusinessType: {\n      type: Number,\n    },\n    searchParams: {\n      type: Object as unknown as () => SearchParamsWithReleatType,\n    },\n    entryAppType: {\n      type: Number,\n      required: true,\n    },\n    selectedCatalog: {\n      type: Array as () => CatalogModel[],\n      default: [],\n    },\n  },\n  render() {\n    const s = this;\n    return (\n      <section class=\"flex-1 flex select-container\">\n        <FolderTree\n          ref=\"folderTree\"\n          visible={true}\n          class=\"folder-tree\"\n          onSelect={(item: CatalogModel) => this.$emit('enterFolder', item)}\n          paths={this.paths}\n        />\n        <Panellist\n          relateType={this.searchParams?.relateType ?? 2}\n          class=\"panel-list\"\n          catalogs={this.catalogs}\n          selectedCatalog={this.selectedCatalog}\n          canLoadMore={this.canLoadMore}\n          loadingPage={this.loadingPage}\n          loadMore={this.loadMore}\n          onselect-catalog={\n            (catalog: CatalogModel) => {\n              this.$emit('select-catalog', catalog);\n            }\n          }\n          scopedSlots={{\n            empty: () => (!this.catalogPaging ? null : <error error={{\n              code: 404,\n              message: this.emptyTips,\n            }} style=\"font-size: 14px;height: 100%;\" img={this.isSearch ? require('@/assets/img/error/no-result.png') : undefined} />),\n          }}\n        />\n      </section>\n    );\n  },\n  setup(props) {\n    const {\n      paths, catalogs, catalogPaging, emptyTips, isSearch,\n      activeFolder, loadMore, canLoadMore, loadingPage,\n    } = useCatalog(props);\n\n    console.log(paths);\n    return {\n      paths,\n      catalogs,\n      catalogPaging,\n      emptyTips,\n      isSearch,\n      activeFolder,\n      canLoadMore,\n      loadMore,\n      loadingPage,\n\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogSelector.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogSelector.vue?vue&type=script&lang=tsx&\"","\nimport { WorkspaceOrm } from '@/models';\nimport {\n  computed,\n  defineComponent, onMounted, PropType, reactive, ref, watch,\n} from '@vue/composition-api';\nimport Catalog, {\n  AlbumItem, AlbumNormalItem, AlbumType, CatalogOptions, CatalogModel,\n} from '@/models/Catalog';\nimport { getCatalogId, getCatalogIdFromWorkspaceId, getCatalogIds } from '@/loaders/catalog';\nimport { getRelativePathFromUrl } from '@/utils/normalize-component';\nimport i18n, { i18next } from '@/i18n';\nimport { appType2Name } from '@/views/file-list/components/catalog/app-type-to-name';\nimport axios from '@/utils/axios';\nimport selectFiles from '@/utils/select-files';\nimport { updateWorkspaceRolesAndPermissions } from '@/loaders/context';\nimport can from '@/utils/validators/can';\nimport { getModelCTMList } from '@/views/up-meeting/utils/utils';\nimport { refreshWorkspaceWithoutMembers } from '@/loaders/workspace';\nimport { IdeationDragData } from '../home/useOutDrag';\nimport CatalogSelector from './CatalogSelector.vue';\nimport RenderPicture from './RenderPicture.vue';\n\n\nasync function getMeetingInfo(meetingId: string) {\n  const res = (await axios.get<{ id: string, entryId: string, name: string, type: 1 | 2 }>('/meeting/meeting/info', { params: { meetingId } })).data;\n  return res;\n}\n\nfunction isHandbag(catalog: Catalog): catalog is CatalogModel {\n  return catalog.relateType === 3 && !!catalog.fileInfo;\n}\n\nconst checkHasModel = async (catalog:Catalog) => {\n  const modelId = catalog.relateId;\n  if (!modelId) return false;\n  const ctmList = (await getModelCTMList(modelId, isHandbag(catalog) ? 'HANDBAG' : 'SHOE')).data;\n  return !!(ctmList && ctmList.length);\n};\n\n\nexport function catalogs2imgList(catalogs: CatalogModel[]) {\n  const imgList = catalogs.map((c, idx) => {\n    return {\n      path: getRelativePathFromUrl(c.contentThumbnail ?? ''),\n      url: c.contentThumbnail,\n      imgArgument: '\"\"', // 图片参数\n      imgType: 1, // 图片类型;1-普通图片；2-360图；3-720图；4-缩略图；\n      businessType: 1, // 业务类型;1-鞋款相册； Integer\n      sort: idx, // 排序 Integer\n      imgDetail: JSON.stringify(c.fileInfo), // 图片详情;json String\n      fileSize: null, // 文件大小 Integer\n      isCover: idx === 0 ? 1 : 0, // 封面;1-是；0-否 Integer\n    };\n  });\n  return imgList;\n}\n\nexport function submitCore(o: { imgList?: any[], curtailImg?: string, relateId?: string, relateType?: number }, meetingCatalogId: string) {\n  const data = {\n    parentFolderId: meetingCatalogId,\n    oldRelateId: o.relateId,\n    relateType: o.relateType,\n    curtailImg: getRelativePathFromUrl(o.curtailImg ?? ''),\n    imgList: o.imgList,\n  };\n  return data;\n}\n\nexport async function selectRenderPicturesCore({\n  files, meetingCatalogId, callback, isModel,\n}:{files: CatalogModel[], meetingCatalogId: string, callback?: Function, isModel:boolean}) {\n  if (isModel) {\n    const hasModel = await checkHasModel(files[0]);\n    if (!hasModel) {\n      throw Error(i18n.t('virtual-meetup.public.no_ctm_to_continue'));\n    }\n  }\n  const imgList: AlbumItem[] = [{\n    path: getRelativePathFromUrl(files[0].fileInfo.thumbnail ?? ''),\n    imgArgument: null,\n    imgType: AlbumType.IMG_CURRENT_MODEL,\n    businessType: 1,\n    sort: 0,\n    imgDetail: undefined,\n    fileSize: null,\n    isCover: 1,\n  }];\n  if (callback) {\n    await callback(imgList);\n  }\n  return submitCore({\n    imgList,\n    curtailImg: files[0].fileInfo.thumbnail,\n    relateId: files[0].relateId,\n    relateType: files[0].relateType,\n  }, meetingCatalogId);\n}\n\n\nexport default defineComponent({\n  dialogify: {\n    props: {\n      title: i18next.t('virtual-meetup.dialog.addWorkspace'),\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n      width: '580px',\n      closeOnClickModal: false,\n      // compact: true,\n      size: 'medium',\n    },\n  },\n  props: {\n    // fileType: {\n    //   // 0 - 鞋 ; 3 - 包\n    //   type: Number as () => 0 | 3 | 2,\n    //   required: true,\n    // },\n    name: {\n      type: String,\n    },\n    meetingId: {\n      type: String,\n    },\n    outDragOptions: {\n      type: Object as PropType<{\n        ideationDragData: IdeationDragData\n      }>,\n    },\n  },\n  render() {\n    const s = this;\n    return (\n      <section>\n        <el-form size=\"small\" label-position=\"top\">\n          <el-form-item label={i18next.t('virtual-meetup.dialog.selectWS')}>\n            <el-select vModel={this.selectedWorkspace} style=\"width: 100%\" value-key=\"id\" onchange={\n              (val: CatalogOptions) => {\n                this.activeFolder = val;\n              }\n            }>\n              {\n                this.catalogOptions && this.catalogOptions.length\n                  ? this.catalogOptions.map(c => {\n                    return <el-option value={c} label={c.workspaceName}>{c.workspaceName}</el-option>;\n                  }) : null\n              }\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <slot slot=\"label\">\n              <div class=\"flex-space-between\" style=\"width: 532px;\">\n                <div>{i18next.t('virtual-meetup.dialog.selectAsset')}</div>\n                <div class=\"type-radio flex-end\">\n                  <el-radio vModel={this.searchParams.relateType} label={0}>{i18next.t('virtual-meetup.dialog.modelOption')}</el-radio>\n                  <el-radio vModel={this.searchParams.relateType} label={2}>{i18next.t('virtual-meetup.dialog.photoOption')}</el-radio>\n                </div>\n              </div>\n            </slot>\n            {\n              this.activeFolder\n                ? <CatalogSelector\n                  style={{\n                    height: '500px',\n                  }}\n                  id={this.activeFolder.id}\n                  entry-app-type={this.activeFolder.entryAppType}\n                  workspace-name={this.selectedWorkspace?.workspaceName}\n                  workspace-id={this.activeFolder.workspaceId}\n                  search-params={this.searchParams}\n                  workspace-business-type={this.activeFolder.workspaceBusinessType}\n                  workspace-type={this.activeFolder.workspaceType}\n                  selectedCatalog={this.selectedCatalog}\n                  onselect-catalog={\n                    (catalog: CatalogModel) => s.addCatalog(catalog)\n                  }\n                  onenterFolder={\n                    (catalog: CatalogModel) => {\n                      this.activeFolder = catalog;\n                    }\n                  }\n                /> : <div style=\"height: 500px; position: relative\">\n                  {\n                    // <error error={{\n                    //   code: 404,\n                    //   message: '请选择空间',\n                    // }} style=\"font-size: 14px\" img={this.isSearch ? require('@/assets/img/error/no-result.png') : undefined} />\n                  }\n                </div>\n            }\n          </el-form-item>\n        </el-form>\n        {\n          this.searchParams.relateType === 0\n            ? <div class=\"form-button\">\n              <el-button round\n                disabled={this.selectedCatalog.length === 0}\n                onclick={\n                  () => {\n                    // console.log(this.selectedCatalog);\n                    // s.submit([], getRelativePathFromUrl(this.selectedCatalog[0].fileInfo.thumbnail ?? ''), this.selectedCatalog[0].id);\n                    s.$act(s.selectRenderPictures, [false]);\n                  }\n                }>{i18next.t('virtual-meetup.dialog.complete')}</el-button>\n              <el-button round type=\"primary\"\n                disabled={this.selectedCatalog.length === 0}\n                onclick={\n                  () => {\n                    s.$act(s.selectRenderPictures, [true]);\n                  }\n                }>{i18next.t('virtual-meetup.dialog.continue')}</el-button>\n            </div> : <div class=\"form-button\">\n              <el-button round onclick={\n                () => { this.$emit('cancel'); }\n              }>{i18next.t('virtual-meetup.dialog.cancel')}</el-button>\n              <el-button round type=\"primary\"\n                disabled={this.selectedCatalog.length === 0}\n                onclick={\n                  () => s.$act(s.addPictures)\n                }>{i18next.t('virtual-meetup.dialog.complete')}({`${this.selectedCatalog.length}/20`})</el-button>\n            </div>\n        }\n      </section>\n    );\n  },\n  setup(props, { root, emit }) {\n    const paths = ref<CatalogModel[]>([]);\n    const myDesign = 11;\n    type CatalogOptionsWithWSName = CatalogOptions & { workspaceName: string };\n    const searchParams = reactive({\n      relateType: 0,\n    });\n    const selectedWorkspace = ref<CatalogOptionsWithWSName>();\n    const catalogOptions = ref<CatalogOptionsWithWSName[]>([]);\n    const activeFolder = ref<CatalogOptions>();\n    const meetingCatalogId = ref<string>();\n    const selectedCatalog = ref<CatalogModel[]>([]);\n    const handleOutDrag = async () => {\n      if (props.outDragOptions) {\n        const {\n          workspaceId, data, dataType, activeFolder: _activeFolder,\n        } = props.outDragOptions.ideationDragData;\n        const workspace = catalogOptions.value.find(item => item.workspaceId === workspaceId);\n        if (!workspace || !dataType) return;\n        selectedWorkspace.value = workspace;\n        searchParams.relateType = dataType === 'model' ? 0 : 2;\n        activeFolder.value = _activeFolder;\n        await root.$nextTick();// 在watch清空selectedCatalog后再设置\n        selectedCatalog.value = data as CatalogModel[];\n      }\n    };\n    onMounted(async () => {\n      await refreshWorkspaceWithoutMembers();\n      const workspaces = WorkspaceOrm.query().orderBy('sort').get();\n      const myMaterialCatalogId = await getCatalogId({ entryAppType: myDesign });\n\n      // /meeting/meeting/info\n      const catalogs = await Promise.all(workspaces.map(async (w: Workspace) => {\n        const res = await getCatalogIdFromWorkspaceId(w.groupAppId);\n        return res;\n      }));\n      for (let i = 0; i < workspaces.length; i++) {\n        catalogOptions.value.push({\n          id: catalogs[i],\n          workspaceId: workspaces[i].groupAppId,\n          entryAppType: 13,\n          workspaceName: workspaces[i].name,\n          workspaceBusinessType: workspaces[i].businessType,\n          workspaceType: workspaces[i].type,\n        });\n      }\n      // 添加我的设计\n      catalogOptions.value.unshift({\n        entryAppType: myDesign,\n        workspaceName: appType2Name[myDesign],\n        id: myMaterialCatalogId,\n        workspaceBusinessType: 0,\n      });\n      // 如果存在meetingId, 添加会议库\n\n      if (props.meetingId) {\n        const { entryId, type } = await getMeetingInfo(props.meetingId);\n        meetingCatalogId.value = entryId;\n        if (type === 1) {\n          catalogOptions.value.push({\n            entryAppType: 26,\n            workspaceName: '会议库',\n            id: entryId,\n            workspaceBusinessType: 0,\n          });\n        }\n      }\n\n      handleOutDrag();\n    });\n\n    watch(selectedWorkspace, async (val) => {\n      if (val) {\n        const { workspaceId } = val;\n        if (workspaceId) {\n          await updateWorkspaceRolesAndPermissions(workspaceId);\n        }\n      }\n    });\n\n    function addCatalog(catalog: CatalogModel) {\n      if (searchParams.relateType === 2) {\n        const idx = selectedCatalog.value.findIndex(s => s.id === catalog.id);\n        if (idx !== -1) {\n          selectedCatalog.value.splice(idx, 1);\n        } else {\n          selectedCatalog.value.push(catalog);\n        }\n      } else {\n        selectedCatalog.value = [];\n        selectedCatalog.value.push(catalog);\n      }\n    }\n    // 选择的文件类型被改动后清空已选中catalog\n    watch(() => ({\n      searchParams: { relateType: searchParams.relateType },\n      ...activeFolder,\n    }), () => {\n      selectedCatalog.value = [];\n    });\n\n    function ableToSubmit() {\n      if (selectedWorkspace.value) {\n        console.log(selectedWorkspace.value);\n        const { entryAppType, workspaceId } = selectedWorkspace.value;\n        if (entryAppType === 13 && workspaceId) {\n          can(56, { workspaceId }, false);\n        }\n      }\n      return true;\n    }\n\n    function submit(o: { imgList?: any[], curtailImg?: string, relateId?: string, relateType?: number }) {\n      const data = submitCore(o, meetingCatalogId.value ?? '');\n      emit('confirm', data);\n    }\n\n    async function selectRenderPictures(withRenderPicture: boolean, files: CatalogModel[] = selectedCatalog.value as CatalogModel[]) {\n      if (!ableToSubmit()) return;\n      const callback = async (imgList: AlbumItem[]) => {\n        if (withRenderPicture) {\n          const res = await root.$injectDialog({\n            is: RenderPicture,\n            props: {\n              id: files[0].id,\n              workspaceId: files[0].workspaceId,\n              relateType: searchParams.relateType,\n              maxLength: 19,\n            },\n          }) as AlbumItem[];\n          // console.log(res);\n          imgList.push(...res);\n          console.log(imgList);\n          // res.unshift({\n          //   path: getRelativePathFromUrl(files[0].fileInfo.thumbnail ?? ''),\n          //   imgArgument: 'null',\n          //   imgType: 4,\n          //   businessType: 1,\n          //   sort: res.length,\n          //   imgDetail: JSON.stringify(files[0].fileInfo),\n          //   fileSize: null,\n          //   isCover: 0,\n          // });\n        }\n      };\n      const data = await selectRenderPicturesCore({\n        files: selectedCatalog.value, meetingCatalogId: meetingCatalogId.value!, callback, isModel: searchParams.relateType === 0,\n      });\n      emit('confirm', data);\n    }\n\n    function addPictures() {\n      if (!ableToSubmit()) return;\n      const imgList = catalogs2imgList(selectedCatalog.value as CatalogModel[]);\n      submit({\n        imgList,\n        curtailImg: selectedCatalog.value[0].contentThumbnail,\n        relateType: 2,\n      });\n    }\n\n    // const selectedWorkspace = computed(() => {\n    //   return workspaceList.value.find(w => {\n    //     return w.groupAppId === workspaceId.value;\n    //   });\n    // });\n    // const p = computed(async () => {\n    //   a.value;\n    //   b.value;\n\n    //   await api();\n    //   await api2();\n\n    // });\n    // watch()\n    return {\n      selectedWorkspace,\n      searchParams,\n      selectedCatalog,\n      addCatalog,\n      catalogOptions,\n      activeFolder,\n      selectRenderPictures,\n      submit,\n      addPictures,\n    };\n  },\n});\n","var render, staticRenderFns\nimport script from \"./FileSelect.vue?vue&type=script&lang=tsx&\"\nexport * from \"./FileSelect.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./FileSelect.vue?vue&type=style&index=0&id=22e25242&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22e25242\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./Tags.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Tags.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./Tags.vue?vue&type=style&index=0&id=9949c1ae&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9949c1ae\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./shoeInfo.vue?vue&type=script&lang=tsx&\"\nexport * from \"./shoeInfo.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./shoeInfo.vue?vue&type=style&index=0&id=90d9a1a6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90d9a1a6\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./styleForm.vue?vue&type=script&lang=tsx&\"\nexport * from \"./styleForm.vue?vue&type=script&lang=tsx&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a9a5b6c\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./handbagInfo.vue?vue&type=script&lang=tsx&\"\nexport * from \"./handbagInfo.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./handbagInfo.vue?vue&type=style&index=0&id=67a279dc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67a279dc\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=tsx&\"\nexport * from \"./index.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=affcabe0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"affcabe0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSelect.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileSelect.vue?vue&type=script&lang=tsx&\"","import { i18n } from '@/i18n';\n\nconst schema = [{\n  prop: 'modelNumber',\n  title: i18n.t('model.info.style_name'),\n  type: 'string',\n  required: true,\n  validator: ['isFilled'],\n}, {\n  prop: 'style',\n  title: i18n.t('model.info.itemNumber'),\n  type: 'string',\n}, {\n  prop: 'category',\n  title: i18n.t('model.info.category'),\n  type: 'string',\n}, {\n  prop: 'gender',\n  title: i18n.t('model.info.gender'),\n  type: 'string',\n  oneOf: [\n    {\n      type: 'string',\n      const: {\n        label: i18n.t('material.info.men'),\n        value: '1',\n      },\n    }, {\n      type: 'string',\n      const: {\n        label: i18n.t('material.info.women'),\n        value: '2',\n      },\n    }, {\n      type: 'string',\n      const: {\n        label: i18n.t('material.info.children'),\n        value: '3',\n      },\n    },\n  ],\n}, {\n  prop: 'season',\n  title: i18n.t('model.info.season'),\n  type: 'string',\n}, {\n  prop: 'price',\n  title: i18n.t('model.info.price'),\n  type: 'object',\n  class: 'price-item',\n  properties: {\n    value: {\n      type: 'number',\n      prop: 'value',\n      // required: [],\n      toFixed: 3,\n    },\n    unit: {\n      type: 'string',\n      prop: 'unit',\n      oneOf: [\n        {\n          type: 'number',\n          const: {\n            label: i18n.language === 'en' ? 'CNY' : '人民币',\n            value: 1,\n          },\n        }, {\n          type: 'number',\n          const: {\n            label: i18n.language === 'en' ? 'USD' : '美元',\n            value: 2,\n          },\n        },\n      ],\n    },\n  },\n}, {\n  prop: 'series',\n  title: i18n.t('model.info.collection'),\n  type: 'string',\n}, {\n  prop: 'waveband',\n  title: i18n.t('model.info.waveband'),\n  type: 'string',\n}, {\n  prop: 'designerName',\n  title: i18n.t('model.info.designer'),\n  type: 'string',\n}, {\n  prop: 'designerLeader',\n  title: i18n.t('model.info.designerLeader'),\n  type: 'string',\n}, {\n  prop: 'craftsman',\n  title: i18n.t('model.info.technician'),\n  type: 'string',\n}, {\n  prop: 'lastNumber',\n  title: i18n.t('model.info.last_number'),\n  type: 'string',\n}, {\n  prop: 'soleNumber',\n  title: i18n.t('model.info.outsole_number'),\n  type: 'string',\n}, {\n  prop: 'heelNumber',\n  title: i18n.t('model.info.heel_number'),\n  type: 'string',\n  // }, {\n  //   prop: 'tags',\n  //   title: i18n.t('model.info.style_name'),\n  //   type: 'object',\n  //   builder: 'TagsEditor',\n}, {\n  prop: 'notes',\n  title: i18n.t('model.info.notes'),\n  type: 'string',\n  inputType: 'textarea',\n  rows: 4,\n}, {\n  class: 'tags-item',\n  prop: 'tags',\n  title: i18n.t('model.info.tags'),\n  builder: 'Tags',\n  // style: 'height: 32px',\n  wrapperStyle: 'grid-column-start: 1;grid-column-end: 3;',\n}];\n\nexport default schema;\n","\nimport { defineComponent, ref } from '@vue/composition-api';\n\ninterface TagItem {\n  id?: string,\n  tag: string,\n}\n\nconst Tags = defineComponent({\n  name: 'Tags',\n  model: {\n    prop: 'tags',\n    event: 'input',\n  },\n  props: {\n    // 标签数据\n    tags: {\n      type: Array as () => String[],\n      default: () => ([]),\n    },\n    // 面料ID\n    // modelId: {\n    //   type: String,\n    //   required: true,\n    // },\n    // 类型：0鞋款 1面料 2二进制 3包包 4服装\n    relateType: {\n      type: Number,\n    },\n\n    // 可编辑状态\n    // editable: {\n    //   type: Boolean,\n    //   default: false,\n    // },\n    // 最多输入的字符长度\n    maxlength: {\n      type: Number,\n      default: 30,\n    },\n    // 最多输入的标签数\n    maxTagsLen: {\n      type: Number,\n      default: 10,\n    },\n  },\n  setup(props, { emit, root: { $nextTick } }) {\n    const inputValue = ref('');\n    const inputVisible = ref(false);\n    const saveTagInput = ref(null);\n\n    // 显示输入框\n    async function showInput() {\n      inputVisible.value = true;\n      await $nextTick();\n      console.info(saveTagInput.value);\n      (saveTagInput.value as any).$refs.input.focus();\n    }\n\n    function handleInputConfirm() {\n      // debugger;\n      if (inputValue.value.trim()) {\n        emit('input', [...props.tags, inputValue.value]);\n      }\n      inputVisible.value = false;\n      inputValue.value = '';\n    }\n    return {\n      handleInputConfirm,\n      inputValue,\n      inputVisible,\n      saveTagInput,\n      showInput,\n    };\n  },\n\n  render() {\n    const {\n      tags, maxTagsLen, maxlength, showInput, inputVisible, handleInputConfirm,\n    } = this;\n\n    return <div class=\"tags-editor-wrapper\">\n      {\n        tags.map((tag, index) => {\n          return <el-tooltip\n            effect=\"dark\"\n            key={index}\n            content={tag}>\n            <el-tag\n              class=\"flex-center\"\n              closable\n              disable-transitions={false}\n              onclose={() => { tags.splice(index, 1); }}>\n              <span style=\"max-width: 150px;display:inline-block\" class=\"text-one-line\">\n                {tag}\n              </span>\n            </el-tag>\n          </el-tooltip>;\n        })\n      }\n      {\n\n        // if (tags.length < maxTagsLen) {\n        //   if(inputVisible) {\n        //     retrun <el-input\n        //       class=\"input-new-tag\"\n        //       ref=\"saveTagInput\"\n        //       size=\"mini\"\n        //       maxlength={maxlength}\n        //       onkeyup={e => { e.keyCode === 13 && this.$emit('change', [...tags, e.target.value]); }}\n        //       onblur={this.$emit('change', [...tags, e.target.value])} />\n        //   }else {\n        //     return <i class=\"iconfont icon-add button-new-tag\" onclick={showInput} />\n        //   }\n        // }\n      }\n      {\n\n        // eslint-disable-next-line no-nested-ternary\n        tags.length < maxTagsLen\n          ? inputVisible\n            ? <el-input\n              class=\"input-new-tag\"\n              ref=\"saveTagInput\"\n              size=\"mini\"\n              vModel={this.inputValue}\n              maxlength={maxlength}\n              nativeOnkeyup={e => { e.keyCode === 13 && handleInputConfirm(); }}\n              onblur={() => { handleInputConfirm(); }} />\n            : <i class=\"iconfont icon-add button-new-tag\" onclick={showInput} />\n          : null\n      }\n    </div>;\n  },\n});\n\nexport default Tags;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=tsx&\"","\nimport { defineComponent, ref } from '@vue/composition-api';\nimport Jsonschema2Form from '@4dst-saas/form-utils/dist/components/jsonschema2form';\nimport Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\nimport { i18n } from '@/i18n';\nimport isFilled from '@/utils/validators/is-filled';\nimport schema from './shoeInfoSchema';\nimport Tags from './Tags.vue';\n\n\nconst testForm = defineComponent({\n  name: 'testForm',\n  components: {\n    Tags,\n  },\n  props: {\n    jsonschema: {\n      type: Array as () => Jsonschema[],\n      default: () => schema,\n    },\n    form: {\n      type: Object,\n      required: true,\n    },\n\n  },\n  setup() {\n    // const form = ref({});\n    const formRef = ref(null);\n\n    const validate = () => {\n      return formRef.value.validate();\n    };\n\n    return {\n      // form,\n      formRef,\n      validate,\n\n    };\n  },\n\n  render() {\n    return <div>\n      <div style=\"font-size: 16px;color: #222222;padding-bottom: 10px;\">{i18n.t('up-meeting.detail.product_info')}</div>\n      <Jsonschema2Form\n        ref='formRef'\n        jsonschema={this.jsonschema}\n        class=\"form\"\n        size=\"small\"\n        formItemValidator={{ isFilled }}\n        form={this.form}\n        labelPosition='top'>\n      </Jsonschema2Form>\n    </div>;\n  },\n});\n\nexport default testForm;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shoeInfo.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shoeInfo.vue?vue&type=script&lang=tsx&\"","import { i18n } from '@/i18n';\n\nconst schema = [{\n  prop: 'modelNumber',\n  title: i18n.t('model.info.style_no'),\n  type: 'string',\n  required: true,\n  validator: ['isFilled'],\n}, {\n  prop: 'type',\n  title: i18n.t('model.info.product_type'),\n  type: 'string',\n  builder: 'StyleForm',\n}, {\n  prop: 'styleName',\n  title: i18n.t('model.info.styleName'),\n  type: 'string',\n}, {\n  prop: 'brand',\n  title: i18n.t('model.info.brand'),\n  type: 'string',\n}, {\n  prop: 'season',\n  title: i18n.t('model.info.season'),\n  type: 'string',\n}, {\n  prop: 'series',\n  title: i18n.t('model.info.collection'),\n  type: 'string',\n}, {\n  prop: 'stylist',\n  title: i18n.t('model.info.designer'),\n  type: 'string',\n}, {\n  prop: 'price',\n  title: i18n.t('model.info.price'),\n  type: 'object',\n  sort: ['value', 'unit'],\n  class: 'price-item',\n  properties: {\n    value: {\n      type: 'number',\n      prop: 'value',\n      // required: [],\n      toFixed: 3,\n    },\n    unit: {\n      type: 'string',\n      prop: 'unit',\n      oneOf: [\n        {\n          type: 'number',\n          const: {\n            label: i18n.language === 'en' ? 'CNY' : '人民币',\n            value: 1,\n          },\n        }, {\n          type: 'number',\n          const: {\n            label: i18n.language === 'en' ? 'USD' : '美元',\n            value: 2,\n          },\n        },\n      ],\n    },\n  },\n}, {\n  prop: 'notes',\n  title: i18n.t('model.info.notes'),\n  type: 'string',\n  inputType: 'textarea',\n  rows: 4,\n}, {\n  class: 'tags-item',\n  prop: 'tags',\n  title: i18n.t('model.info.tags'),\n  builder: 'Tags',\n  // style: 'height: 32px',\n  wrapperStyle: 'grid-column-start: 1;grid-column-end: 3;',\n}];\n\nexport default schema;\n","\nimport { defineComponent, onMounted, ref } from '@vue/composition-api';\nimport { getDictByType } from '@/loaders/dictionary';\n\nconst styleForm = defineComponent({\n  name: 'StyleForm',\n  props: {\n    value: Number,\n  },\n  // model:{\n\n  // }\n  setup() {\n    const options = ref([]);\n\n    onMounted(async () => {\n      options.value = await getDictByType({ type: 'handbagType' });\n    });\n\n    return {\n      options,\n    };\n  },\n\n  render() {\n    const { options } = this;\n    return <el-select value={this.value} onchange={(e) => { this.$emit('input', e); }}>\n      {\n        options.map(item => {\n          return <el-option key={item.name}\n            label={item.name}\n            value={item.value}></el-option>;\n        })\n      }\n    </el-select>;\n  },\n});\n\nexport default styleForm;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./styleForm.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./styleForm.vue?vue&type=script&lang=tsx&\"","\nimport { defineComponent, ref } from '@vue/composition-api';\nimport Jsonschema2Form from '@4dst-saas/form-utils/dist/components/jsonschema2form';\nimport Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\n// import TagsEditor from '@/components/base/TagsEditor.vue';\nimport isFilled from '@/utils/validators/is-filled';\n\nimport { i18n } from '@/i18n';\nimport schema from './handbagInfoSchema';\n\nimport StyleForm from './styleForm.vue';\nimport Tags from './Tags.vue';\n\nconst HandbagForm = defineComponent({\n  name: 'HandbagForm',\n  components: {\n    Tags,\n    StyleForm,\n  },\n  props: {\n    jsonschema: {\n      type: Array as () => Jsonschema[],\n      default: () => schema,\n    },\n    form: {\n      type: Object,\n      required: true,\n    },\n\n  },\n  setup() {\n    // const form = ref({});\n    const formRef = ref(null);\n\n    const validate = () => {\n      return formRef.value.validate();\n    };\n\n    return {\n      // form,\n      formRef,\n      validate,\n    };\n  },\n\n  render() {\n    return <div>\n      <div style=\"font-size: 16px;color: #222222;padding-bottom: 10px;\">{i18n.t('up-meeting.detail.product_info')}</div>\n      <Jsonschema2Form\n        ref='formRef'\n        jsonschema={this.jsonschema}\n        class=\"form\"\n        size=\"small\"\n        formItemValidator={{ isFilled }}\n        form={this.form}\n        labelPosition='top'>\n      </Jsonschema2Form>\n    </div>;\n  },\n});\n\nexport default HandbagForm;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./handbagInfo.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./handbagInfo.vue?vue&type=script&lang=tsx&\"","\nimport {\n  defineComponent, onMounted, ref, PropType, computed,\n} from '@vue/composition-api';\nimport { i18n } from '@/i18n';\nimport Album from '@/views/up-meeting/components/Album.vue';\nimport axios from '@/utils/axios';\n// import Attachment from '../../dialogComponents/Attachment.vue';\nimport AppError from '@/utils/error';\nimport { getFileRelateIdByCatalogId } from '@/api/catalogue';\nimport { AlbumItem } from '@/models/Catalog';\nimport Attachment, { binaryFileInfoList2FileList, getBinaryFileList } from '../dialogComponents/Attachment.vue';\nimport { IdeationDragData, filterFileAndAlbum } from '../home/useOutDrag';\nimport { catalogs2imgList } from '../components/FileSelect.vue';\nimport { getModelCTMList } from '../utils/utils';\nimport { Item } from '../home/index.vue';\nimport shoeInfoForm from './components/shoeInfo.vue';\nimport handbagInfoForm from './components/handbagInfo.vue';\n\ntype Obj = { [any: string]: any };\n\nexport const checkHasModel = async (editItem: Item) => {\n  const modelId = editItem?.bindRelateId;// 没发布的sku没有catalogId\n  if (!modelId) return false; // 未发布的sku当成是有模型处理\n  const relateType = editItem?.relateInfo?.relateType;\n  const ctmList = (await getModelCTMList(modelId, relateType === 3 ? 'HANDBAG' : 'SHOE')).data;\n  return !!(ctmList && ctmList.length);\n};\n/**\n * 0鞋款，4包包\n */\nconst getTags = async (shareId: string, type: 0 | 4) => {\n  return axios.get<{ tag: string, id: string }[]>('/bff-center/showCommon/getTags', {\n    params: {\n      shareId,\n      type,\n    },\n  });\n};\n\nexport const getEditInfo = async (modelInfo: Obj) => {\n  const model = JSON.parse(JSON.stringify(modelInfo.relateInfo));\n  let binaryFileInfoList: any[] = [];\n  let imgList: AlbumItem[] = [];\n  const form = JSON.parse(JSON.stringify(model!));\n  form.price = { value: form.price, unit: model!.relateType === 0 ? form.monetaryUnit : form.priceUnit };\n  // 设置表单数据\n  const unPublishedImgList = JSON.parse(JSON.stringify(model!.imgList ?? []));\n  const unPublishedBinaryFileInfoList = JSON.parse(JSON.stringify(model!.binaryFileInfoList ?? []));\n  let publishedImgList = null;\n  let publishedBinaryFileInfoList = null;\n\n  if (modelInfo.bindRelateCatalogId) {\n    publishedImgList = (await axios.get('/show/album/imgs', { params: { relateId: modelInfo.bindRelateCatalogId } })).data;\n    const filesParentId = (await axios.get('/catalogue/yunpanCatalog/getSystemAppChildCountByParentId', {\n      params: {\n        parentId: modelInfo.bindRelateCatalogId,\n        appType: 11002,\n      },\n    })).data;\n\n    // 通过系统目录ID获取item\n    publishedBinaryFileInfoList = (await axios.get('bff-center/cloud-disk/list/getChildCatalogByPage', {\n      params: {\n        catalogId: filesParentId,\n        cursor: 1,\n        limit: 20,\n      },\n    })).data.records;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(model, 'isPublished')) {\n    // 兼容旧数据\n    if (modelInfo.bindRelateCatalogId) {\n      imgList = [...publishedImgList, ...unPublishedImgList];\n      binaryFileInfoList = [...publishedBinaryFileInfoList, ...unPublishedBinaryFileInfoList];\n    } else {\n      // 未发布从列表拿数据\n      imgList = unPublishedImgList;\n      binaryFileInfoList = unPublishedBinaryFileInfoList;\n    }\n  } else if (model!.isPublished) {\n    // 发布了从接口拿数据\n    imgList = publishedImgList;\n    binaryFileInfoList = publishedBinaryFileInfoList;\n\n    const relateId = (await getFileRelateIdByCatalogId({ relateType: modelInfo.bindRelateType, catalogId: modelInfo.bindRelateCatalogId })).data;\n    form.tags = (await getTags(relateId, model.relateType)\n    ).data.map((t: { tag: string } | string) => (typeof t === 'string' ? t : t.tag));\n  } else {\n    // 未发布从列表拿数据\n    imgList = unPublishedImgList;\n    binaryFileInfoList = unPublishedBinaryFileInfoList;\n  }\n  return {\n    binaryFileInfoList, imgList, form,\n  };\n};\n\nexport const getEditRelateInfo = async ({\n  binaryFileInfoList, form, modelInfo, imgList,\n}: { binaryFileInfoList: any[], form: Obj, modelInfo: Obj, imgList: AlbumItem[], }) => {\n  const model = JSON.parse(JSON.stringify(modelInfo.relateInfo));\n  // const fileList = binaryFileInfoList2FileList(binaryFileInfoList);\n  // 获取附件\n  const formBinaryFileInfoList = await getBinaryFileList(binaryFileInfoList);\n  // 整理表单信息\n  const formData: { [key: string]: any } = {\n    ...model,\n    ...form,\n    price: form.price.value,\n    // monetaryUnit: form.value.price.unit,\n  };\n\n  // set价格单位\n  if (modelInfo.relateInfo.relateType === 0) {\n    formData.monetaryUnit = form.price.unit;\n  } else {\n    formData.priceUnit = form.price.unit;\n  }\n\n  formData.imgList = imgList;\n  formData.binaryFileInfoList = formBinaryFileInfoList;\n  const relateInfo = {\n    ...model,\n    ...formData,\n    catalogId: modelInfo.bindRelateCatalogId,\n    isPublished: false,\n  };\n  return relateInfo;\n};\n\n\nexport const submitCore = async ({\n  binaryFileInfoList, form, modelInfo, imgList, coverImageItem,\n}: { binaryFileInfoList?: any[], form?: Obj, modelInfo: Obj, imgList?: AlbumItem[], coverImageItem: AlbumItem }) => {\n  if (!binaryFileInfoList || !imgList || !form) {\n    const { binaryFileInfoList: _binaryFileInfoList, form: _form, imgList: _imgList } = (await getEditInfo(modelInfo));\n    binaryFileInfoList = _binaryFileInfoList;\n    form = _form;\n    imgList = _imgList;\n  }\n\n  const relateInfo = await getEditRelateInfo({\n    binaryFileInfoList,\n    form: form!,\n    modelInfo,\n    imgList,\n  });\n\n  const params = {\n    ...modelInfo,\n    coverImage: coverImageItem.path,\n    relateInfo,\n  };\n\n  const apiData = (await axios({\n    url: '/meeting/column/item/update',\n    method: 'POST',\n    data: params,\n  })).data;\n\n  return apiData;\n};\n\nconst ModelInfo = defineComponent({\n  name: 'ModelInfo',\n  components: {\n    shoeInfoForm,\n    handbagInfoForm,\n  },\n  props: {\n    catalogId: {\n      type: String,\n      // required: true,\n    },\n    modelInfo: {\n      type: Object,\n      required: true,\n    },\n    outDragOptions: {\n      type: Object as PropType<{\n        isIdeationDrop: boolean,\n        files: File[],\n        ideationDragData: IdeationDragData,\n        onprocess({ uploaded, total }: { uploaded: number, total: number }): void\n      }>,\n    },\n    meetingId: {\n      type: String,\n    },\n    processStart: {\n      type: Function as PropType<({ coverImage, temId }: { coverImage: AlbumItem, temId: string }) => void>,\n      required: true,\n    },\n    onprocess: {\n      type: Function as PropType<({ uploaded, total, temId }: { uploaded: number, total: number, temId: string }) => void>,\n      required: true,\n    },\n    uploadDone: {\n      type: Function as PropType<(item: { [any: string]: any }, temId: string) => void>,\n      required: true,\n    },\n  },\n  dialogify: {\n    props: {\n      title: i18n.t('up-meeting.detail.edit'),\n      noPadding: true,\n      height: '700px',\n      width: '587px',\n      flex: 'column',\n    },\n\n  },\n  setup(props, { root, emit }) {\n    const attachment = ref<InstanceType<typeof Attachment>>(null);\n    const modelForm = ref<InstanceType<typeof shoeInfoForm> | InstanceType<typeof handbagInfoForm>>(null);\n    const albumRef = ref<InstanceType<typeof Album>>(null);\n    const model = ref<{ [key: string]: any; } | null>(null);\n    model.value = JSON.parse(JSON.stringify(props.modelInfo.relateInfo));\n\n    const form = ref<{ [key: string]: any }>(null);\n\n    const imgList = ref<AlbumItem[]>([]);\n    const binaryFileInfoList = ref<any[]>([]);\n\n    const hasRelateModel = ref(false);\n\n    const submit = async () => {\n      // 校验表单数据\n      await modelForm.value.validate();\n      if (imgList.value.length === 0) {\n        throw new Error(i18n.t('virtual-meetup.check.img_empty'));\n      }\n      // 上传图册\n      // await validateForm(modelForm.value as ElForm);\n      const temId = props.modelInfo.id;\n      const coverImageItem = imgList.value.find(i => i.isCover === 1) || imgList.value[0];\n      coverImageItem.isCover = 1;\n      const abortController = props.processStart({ coverImage: coverImageItem, temId });\n\n      emit('confirm');\n      await albumRef.value.upload(({ uploaded, total }) => {\n        props.onprocess({ uploaded, total, temId });\n      }, abortController);\n\n      const apiData = await submitCore({\n        // binaryFileInfoList: binaryFileInfoList.value,\n        binaryFileInfoList: attachment.value.fileList,\n        form: form.value,\n        modelInfo: props.modelInfo,\n        imgList: imgList.value,\n        coverImageItem,\n      });\n\n      props.uploadDone(apiData, temId);\n    };\n\n\n    const handleOutDrag = async () => {\n      if (props.outDragOptions) {\n        if (imgList.value.length >= 20) {\n          emit('cancel', new AppError(i18n.t('virtual-meetup.check.length')));\n          return;\n        }\n        const { isIdeationDrop, files, ideationDragData } = props.outDragOptions;\n        if (isIdeationDrop) {\n          // 从ws拖拽\n          const {\n            data, dataType,\n          } = props.outDragOptions.ideationDragData;\n          if (dataType === 'img') {\n            // 图片\n            const { album } = albumRef.value;\n            const _imgList = catalogs2imgList(data).map(item => ({ ...item, isCover: 0 }));\n            album.push(..._imgList);\n          } else {\n            // 模型\n          }\n        } else {\n          // 从本地拖拽\n          const { files2albums, album } = albumRef.value;\n          const [_files, albums] = filterFileAndAlbum(files);\n          // album\n          album.push(...albums);\n          // imgList.value = [...imgList.value, ...albums];//Album里面用了JSON.Parse深复制,无法复制symbol\n          // 普通图片\n          files2albums(_files);\n        }\n      }\n    };\n\n    onMounted(async () => {\n      const {\n        binaryFileInfoList: _binaryFileInfoList,\n        imgList: _imgList,\n        form: _form,\n      } = await getEditInfo(props.modelInfo);\n\n      binaryFileInfoList.value = _binaryFileInfoList;\n      imgList.value = _imgList;\n      // // 设置表单数据\n      // const formSet = JSON.parse(JSON.stringify(model.value!));\n      // formSet.price = { value: formSet.price, unit: model.value!.relateType === 0 ? formSet.monetaryUnit : formSet.priceUnit };\n      form.value = _form;\n      hasRelateModel.value = await checkHasModel(props.modelInfo);\n      await handleOutDrag();\n    });\n\n    return {\n      submit,\n      attachment,\n      modelForm,\n      albumRef,\n      model,\n      form,\n      imgList,\n      binaryFileInfoList,\n      hasRelateModel,\n    };\n  },\n\n  render() {\n    const { submit } = this;\n\n    const modelInfoForm = this.modelInfo.relateInfo.relateType === 0 ? shoeInfoForm : handbagInfoForm;\n\n    return <div class=\"material-info flex-column\">\n      <div class=\"flex-1 scrollable-y\">\n\n        {this.form\n          ? [\n            <Album types={['jpeg', 'jpg', 'png']} ref=\"albumRef\"\n              vModel={this.imgList}\n              relateType={this.modelInfo.bindRelateType}\n              catalogId={this.modelInfo.bindRelateCatalogId}\n              hasRelateModel={this.hasRelateModel}></Album>,\n            <el-divider></el-divider>,\n            <modelInfoForm ref=\"modelForm\" form={this.form}></modelInfoForm>,\n          ] : null\n        }\n        <el-divider></el-divider>\n        <Attachment ref=\"attachment\"\n          binaryFileInfoList={this.binaryFileInfoList}\n          catalogId={this.modelInfo.bindRelateCatalogId || ''}>\n        </Attachment>\n      </div>\n      <div style=\"display: flex;flex-direction: row-reverse;padding-top:10px\">\n        <el-button round style=\"margin-left: 10px\" type=\"primary\" onclick={submit}>{i18n.t('up-meeting.detail.save')}</el-button>\n        <el-button round onclick={() => this.$emit('cancel')}>{i18n.t('up-meeting.detail.cancel')}</el-button>\n      </div>\n    </div>;\n  },\n});\n\nexport default ModelInfo;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=tsx&\"","import { AlbumItem } from '@/models/Catalog';\nimport {\n  reactive, computed, ref, toRefs, getCurrentInstance, onMounted, watch, SetupContext,\n} from '@vue/composition-api';\nimport { DragInfo } from './useOutDrag';\nimport { Item, Col } from './index.vue';\n\nexport interface Process{\n  [any:string]:{\n    percent:number,\n    album:AlbumItem,\n    abortController:AbortController,\n  },\n}\n\n\nconst useProcess = ({ isOutDrag }:{isOutDrag:boolean}) => {\n  const _this:any = getCurrentInstance();\n  const state = reactive({\n    process: {} as Process,\n  });\n  // 拖拽的processStart\n  const dragProcessStart = ({\n    coverImage, temId, dragInfo, col, item,\n  }:{coverImage:AlbumItem, temId:string, dragInfo:DragInfo, col: Col, item?:Item}) => {\n    const { type, itemIndex } = dragInfo;\n    const isInsert = type === 'out-drag-insert-area';\n    const abortController = new AbortController();\n    _this.$set(state.process, temId, {\n      percent: 0,\n      album: coverImage,\n      abortController,\n    });\n    if (item) {\n      // 编辑时\n      return state.process[temId].abortController;\n    }\n\n    const temSku = {\n      id: temId,\n      coverImage,\n      isTempSku: true,\n      isOutDrag,\n      abortController,\n    };\n    if (isInsert) {\n      col.itemInfos.splice(itemIndex, 0, temSku);\n    } else {\n      col.itemInfos.push(temSku);\n    }\n    return state.process[temId].abortController;\n  };\n  // 普通的processStart\n  const normalProcessStart = ({\n    coverImage, temId, col, item,\n  }:{coverImage:AlbumItem, temId:string, col: Col, item?:Item}) => {\n    const abortController = new AbortController();\n    _this.$set(state.process, temId, {\n      percent: 0,\n      album: coverImage,\n      abortController,\n    });\n    if (item) {\n      // 编辑时\n      return state.process[temId].abortController;\n    }\n    const temSku = {\n      id: temId,\n      coverImage,\n      isTempSku: true,\n      isOutDrag,\n      abortController,\n    };\n    col.itemInfos.push(temSku);\n    return state.process[temId].abortController;\n  };\n  const processStart = isOutDrag ? dragProcessStart : normalProcessStart;\n  const onprocess = ({ uploaded, total, temId }:{uploaded:number, total:number, temId:string}) => {\n    const percent = Math.max(0, Math.min(Math.round(uploaded / total * 100), 100));\n    if (state.process[temId]) {\n      state.process[temId].percent = percent;\n    }\n  };\n  const getTemSkuPosition = (temId:string) => {\n    let position = { colI: -1, itemI: -1 };\n    (_this.currentCols as Col[]).forEach((_col, colI) => {\n      (_col.itemInfos as Item[]).forEach((item, itemI) => {\n        if (item.id === temId) {\n          position = { colI, itemI };\n        }\n      });\n    });\n    return position;\n  };\n  const uploadDone = (sku:Item, temId:string) => {\n    const { colI, itemI } = getTemSkuPosition(temId);\n    _this.$set(_this.currentCols[colI].itemInfos, itemI, sku);\n    _this.$delete(state.process, temId);\n  };\n  const cancelUpload = (item:Item, process:Process) => {\n    process[item.id].abortController.abort();\n    _this.$delete(process, item.id);\n    if (item.isTempSku) {\n      // 新增时清除item\n      const { colI, itemI } = getTemSkuPosition(item.id);\n      _this.currentCols[colI].itemInfos.splice(itemI);\n    }\n  };\n  return {\n    ...toRefs(state),\n    processStart,\n    dragProcessStart,\n    normalProcessStart,\n    onprocess,\n    uploadDone,\n    cancelUpload,\n  };\n};\n\nexport default useProcess;\n\n","import {\n  reactive, computed, ref, toRefs, getCurrentInstance, onMounted, watch, SetupContext, markRaw,\n} from '@vue/composition-api';\nimport { hDrag } from '@/components/drags/DragList';\nimport Catalog, { CatalogOptions, AlbumItem } from '@/models/Catalog';\nimport { validFiles } from '@/utils/validators/valid-file';\nimport { getFileName } from '_/get-ext';\nimport i18n from '@/i18n';\nimport validatorCan from '@/utils/validators/can';\nimport { updateWorkspaceRolesAndPermissions } from '@/loaders/context';\nimport AppError from '@/utils/error';\nimport CreateSku, { submitModelCore } from '../components/CreateSku.vue';\nimport EditModel, { checkHasModel, submitCore } from '../modelInfo/index.vue';\nimport { isImage } from '../components/List.vue';\nimport { fileList2Album } from '../components/Album.vue';\nimport { selectRenderPicturesCore } from '../components/FileSelect.vue';\nimport { Item, Col } from './index.vue';\nimport useProcess from './useProcess';\n\n\ntype DragAreaType = '' | 'add-item-btn'|'out-drag-insert-area'|'drag-item';\nexport interface DragInfo {\n  type:DragAreaType,\n  colIndex: number,\n  itemIndex: number,\n  itemId:string\n}\n\ntype Catalogs = Catalog[];\ntype FilesList = (File[])[];\ntype FileOrAlbums = (File|AlbumItem)[];\n\nexport interface IdeationDragData{\n  type:string,\n  command:string,\n  data:Catalogs,\n  workspaceId:string,\n  activeFolder:CatalogOptions,\n  entryAppType:number,\n  dataType: '' | 'img'|'model'\n}\n\nconst ALLOW_IMG_TYPES = ['png', 'jpg', 'jpeg'];\n\n\nexport const filterFileAndAlbum = (files:FileOrAlbums):[File[], AlbumItem[]] => {\n  const [_files, _albums]:[File[], AlbumItem[]] = [[], []];\n  files.forEach((file) => {\n    if (file instanceof File) {\n      _files.push(file);\n    } else {\n      _albums.push(file);\n    }\n  });\n  return [_files, _albums];\n};\n\nconst useOutDrag = () => {\n  const _this:any = getCurrentInstance();\n  const state = reactive({\n    dragInfo: {\n      type: '',\n      colIndex: -1,\n      itemIndex: -1,\n      itemId: '',\n    } as DragInfo,\n    files: markRaw<FileOrAlbums>([]),\n    ideationDragData: markRaw<IdeationDragData>({\n      type: '',\n      command: '',\n      workspaceId: '',\n      data: [],\n      activeFolder: {} as CatalogOptions,\n      entryAppType: 0,\n      dataType: '',\n    }),\n  });\n\n  const {\n    process, dragProcessStart, onprocess, uploadDone, cancelUpload,\n  } = useProcess({ isOutDrag: true });\n\n  const reset = () => {\n    state.dragInfo = {\n      type: '',\n      colIndex: -1,\n      itemIndex: -1,\n      itemId: '',\n    };\n    state.files = [];\n  };\n\n  const getParentEl = (el:HTMLElement|null, parentClass:string):HTMLElement|false => {\n    if (!el) return false;\n    if (el.classList.contains(parentClass)) return el;\n    return getParentEl(el.parentElement, parentClass);\n  };\n\n  const handleEnter = (el:HTMLElement|null, type:DragAreaType, e:DragEvent) => {\n    const targetEl = getParentEl(el, type);\n    if (!targetEl || !targetEl?.classList.contains(type)) return false;\n    const colIndex = +(targetEl.dataset.colindex || '-1');\n    const itemIndex = +(targetEl.dataset.itemindex || '-1');\n    const itemId = targetEl.dataset.itemid || '';\n    state.dragInfo = {\n      type,\n      colIndex,\n      itemIndex,\n      itemId,\n    };\n    return true;\n  };\n\n  const file2promise = async (item:any, path: string):Promise<File & {_webkitRelativePath:string}> => {\n    return new Promise((resolve) => {\n      item.file((file: File & {_webkitRelativePath:string}) => {\n        file._webkitRelativePath = `${path}${file.name}`;\n        resolve(file);\n      });\n    });\n  };\n\n  const directory2promise = async (item:any):Promise<any[]> => {\n    return new Promise((resolve) => {\n      const dirReader = item.createReader();\n      dirReader.readEntries((items: any) => {\n        resolve(items);\n      });\n    });\n  };\n\n  const getItemPromises = async (_item: any, _path: string = '') => {\n    const itemPromises:Promise<File>[] = [];\n    const loop = async (item: any, path: string = '') => {\n      if (item.isFile) {\n        itemPromises.push(file2promise(item, path));\n      } else if (item.isDirectory) {\n        const items = await directory2promise(item);\n        // for循环的await为继发\n        for (let i = 0; i < items.length; i++) {\n          await loop(items[i], `${path + item.name}/`);\n        }\n      }\n    };\n    await loop(_item, _path);\n    return itemPromises;\n  };\n\n  // const getFileOrDierctoryItems = async (dragItems:DataTransferItemList) => {\n  // 此方法不通,因为在file2promise或directory2promise之后,dragItems会被清除\n  //   const filesList = [];\n  //   // 继发设置Items\n  //   // eslint-disable-next-line no-restricted-syntax\n  //   for (const _dragItem of [...dragItems]) {\n  //     const dragItem = _dragItem.webkitGetAsEntry();\n  //     let fileOrDirectorItem;\n  //     if (dragItem.isFile) {\n  //       fileOrDirectorItem = await file2promise(dragItem);\n  //     } else if (dragItem.isDirectory) {\n  //       fileOrDirectorItem = await directory2promise(dragItem);\n  //     }\n  //     filesList.push(fileOrDirectorItem);\n  //   }\n  //   return filesList;\n  // };\n\n  const isIdeationItems = (files:File[]|Catalogs):files is Catalogs => {\n    return (files as Catalogs).every(item => item.relateType !== undefined);\n  };\n\n  const allFilesIsImage = (files:File[]|Catalogs) => {\n    if (isIdeationItems(files)) {\n      return files.every(item => item.relateType === 2 && isImage(item.name, item.relateType));\n    }\n    return files.every(item => isImage(item.name, 2));\n  };\n\n  const isModel = (file:Catalog) => [0, 3].includes(file.relateType!);\n\n  const checkFilesLength = (files:(File|AlbumItem)[]|Catalogs, editItem:Item) => {\n    const originImgLength = editItem?.relateInfo?.imgList?.length || 0; // imgList的数据为0?\n    if ((files.length + originImgLength) > 20) {\n      reset();\n      throw new Error(i18n.t('virtual-meetup.check.length'));\n    }\n  };\n\n  const checkFilesType = (files:File[]|Catalogs) => {\n    try {\n      if (isIdeationItems(files)) {\n        // ideation验证\n        // if (files.some(file => file.relateType === null)) {\n        //   // 文件夹\n        //   throw new Error(i18n.t('virtual-meetup.check.type'));\n        // }\n        // 文件\n        const [modelFiles, otherFiles] = files.reduce(([_modelFiles, _otherFiles], item) => {\n          const _files = isModel(item) ? _modelFiles : _otherFiles;\n          _files.push(item);\n          return [_modelFiles, _otherFiles];\n        }, [[], []] as [Catalogs, Catalogs]);\n        if (modelFiles.length > 1) {\n          throw new Error(i18n.t('virtual-meetup.check.model_limit'));\n        }\n        if (modelFiles.length > 0 && otherFiles.length > 0) {\n          throw new Error(i18n.t('virtual-meetup.check.exclusion_type'));\n        }\n        const needValidFiles = otherFiles.map(item => {\n          const { downloadPath } = item.fileInfo || {};\n          if (downloadPath) {\n            return getFileName(downloadPath);\n          }\n          throw new Error(i18n.t('virtual-meetup.check.type'));\n        });\n        validFiles(needValidFiles, { extensions: ALLOW_IMG_TYPES });\n      } else {\n        // 本地验证\n        validFiles(files, { extensions: ALLOW_IMG_TYPES });\n      }\n    } catch (error) {\n      reset();\n      if (error.isFileTypeError) {\n        throw new Error(i18n.t('virtual-meetup.check.type'));\n      }\n      throw error;\n    }\n  };\n\n\n  const checkIdeationCan = async (workspaceId:string, entryAppType:number) => {\n    // 我的设计/会议库开放权限\n    if ([11, 26].includes(entryAppType)) return;\n    await updateWorkspaceRolesAndPermissions(workspaceId);\n    try {\n      validatorCan('56', { workspaceId }, false);\n    } catch (error) {\n      reset();\n      throw error;\n    }\n  };\n\n  const checkIdeationFiles = async (files:Catalogs, editItem:Item, isEdit:boolean, ideationDragData:IdeationDragData) => {\n    const { workspaceId, entryAppType } = ideationDragData;\n    await checkIdeationCan(workspaceId, entryAppType);\n    checkFilesLength(files, editItem);\n    checkFilesType(files);\n  };\n\n  // Thumbs.db: https://baike.baidu.com/item/Thumbs.db/5099306?fr=aladdin\n  const filterLocalFileNames = (file:File) => ['Thumbs.db'].includes(file.name);\n\n  const getDragDataType = (files:Catalogs) => {\n    const _isModel = isModel(files[0]);\n    const isImg = allFilesIsImage(files);\n    // eslint-disable-next-line no-nested-ternary\n    return _isModel ? 'model' : isImg ? 'img' : '';\n  };\n\n  const setLocalFiles = async (e:DragEvent, editItem:Item) => {\n    state.files = [];\n    const items = e.dataTransfer?.items;\n    if (!items || [...items].some(item => item.kind !== 'file')) {\n      reset();\n      throw AppError.abort;\n    }\n\n    // const filesList = await getFileOrDierctoryItems(items);\n    // 并发执行await\n    const itemPromisesList = await Promise.all([...items].map(async _item => {\n      const item = _item.webkitGetAsEntry();\n      const itemPromises = await getItemPromises(item);\n      return itemPromises;\n    }));\n\n    const filesList:FilesList = [];\n    // eslint-disable-next-line no-restricted-syntax\n    for (const itemPromises of itemPromisesList) {\n      filesList.push(await Promise.all(itemPromises));\n    }\n    let flatFiles:(File|AlbumItem)[] = [];\n    // eslint-disable-next-line no-restricted-syntax\n    for (const files of filesList) {\n      checkFilesType(files);\n      const isDirectory = files.length > 1;\n      if (isDirectory) {\n        // 文件夹\n        const albums:AlbumItem[] = await fileList2Album(files);\n        flatFiles = [...flatFiles, ...albums];\n      } else {\n        // 文件\n        const file = files[0];\n        if (filterLocalFileNames(file)) return;\n        flatFiles.push(file);\n      }\n    }\n    state.files = flatFiles;\n    checkFilesLength(state.files, editItem);\n  };\n\n  const setIdeationFiles = async (ideationDragData:IdeationDragData, editItem:Item, isEdit:boolean) => {\n    const { data } = ideationDragData;\n    await checkIdeationFiles(data, editItem, isEdit, ideationDragData);\n    state.ideationDragData = { ...ideationDragData, dataType: getDragDataType(data) };\n  };\n\n  const addSku = async (col: Col, outDragOptions:{[any:string]:any}, dragInfo:DragInfo) => {\n    const { type, itemIndex } = dragInfo;\n    const isInsert = type === 'out-drag-insert-area';\n    const sort = isInsert ? itemIndex : col.itemInfos.length;\n    const { isIdeationDrop, ideationDragData } = outDragOptions;\n    const update = (apiData:Item) => {\n      if (apiData && typeof apiData === 'object') {\n        // 通过ideation新增的sku\n        if (isInsert) {\n          col.itemInfos.splice(itemIndex, 0, apiData);\n        } else {\n          col.itemInfos.push(apiData);\n        }\n      }\n    };\n    if (isIdeationDrop) {\n      // 从ws拖拽\n      const {\n        data, dataType,\n      } = ideationDragData;\n      if (dataType === 'model') {\n        const { meeting } = _this;\n        // 模型\n        const modelData = await selectRenderPicturesCore({ files: data, meetingCatalogId: meeting.entryId, isModel: true });\n        const apiData = await submitModelCore({\n          modelData, parentFolderId: meeting.entryId, sort, meetingColumnId: col.id,\n        });\n        update(apiData);\n        return;\n      }\n    }\n    // 图片\n    const apiData = await _this.$injectDialog({\n      is: CreateSku,\n      props: {\n        meetingColumnId: col.id,\n        sort,\n        meetingId: _this.meetingId,\n        outDragOptions,\n        processStart: ({ coverImage, temId }:{coverImage:AlbumItem, temId:string}) => {\n          _this.isOutDrag = true;\n          return dragProcessStart({\n            coverImage, temId, dragInfo, col,\n          });\n        },\n        onprocess,\n        uploadDone,\n      },\n    }, {\n      key: (new Date()).valueOf(),\n    });\n    update(apiData);\n  };\n\n  const editSku = async (item: Item, col: Col, itemIndex: number, outDragOptions:{[any:string]:any}, dragInfo:DragInfo) => {\n    const { isIdeationDrop, ideationDragData } = outDragOptions;\n    const update = (apiData:Item) => {\n      if (apiData && typeof apiData === 'object') {\n        _this.$set(col.itemInfos, itemIndex, apiData);\n      }\n    };\n    const modelInfo = { ...item, sort: itemIndex };\n    try {\n      if (isIdeationDrop) {\n        // 从ws拖拽\n        const {\n          data, dataType,\n        } = ideationDragData;\n        if (dataType === 'model') {\n          const hasModel = item.relateInfo.oldRelateId;\n          if (hasModel) {\n            throw new Error(i18n.t('virtual-meetup.check.model_limit'));\n          }\n          const { meeting } = _this;\n          // 模型\n          const modelData = await selectRenderPicturesCore({ files: data, meetingCatalogId: meeting.entryId, isModel: true });\n          const apiData = await submitModelCore({\n            modelData, parentFolderId: meeting.entryId, sort: itemIndex, meetingColumnId: col.id, editItem: modelInfo,\n          });\n          update(apiData);\n          return;\n        }\n      }\n      // 图片\n      await _this.$injectDialog({\n        is: EditModel,\n        props: {\n          modelInfo,\n          outDragOptions,\n          meetingId: _this.meetingId,\n          processStart: ({ coverImage, temId }:{coverImage:AlbumItem, temId:string}) => {\n            _this.isOutDrag = true;\n            return dragProcessStart({\n              coverImage, temId, col, dragInfo, item,\n            });\n          },\n          onprocess,\n          uploadDone,\n        },\n      }, {\n        key: (new Date()).valueOf(),\n      });\n    } catch (error) {\n      reset();\n      throw error;\n    }\n  };\n\n  const handleDrop = async (e:DragEvent) => {\n    const isEdit = state.dragInfo.type === 'drag-item';\n    const isAdd = ['add-item-btn', 'out-drag-insert-area'].includes(state.dragInfo.type);\n    if (!isEdit && !isAdd) return;\n\n    const targetEl = getParentEl(e.target as HTMLElement, 'drag-item');\n    if (targetEl && targetEl.querySelector('.uploading')) {\n      return;\n    }\n\n    const ideationDragDataStr = e.dataTransfer?.getData('ideationDragData');\n    const ideationDragData = ideationDragDataStr ? JSON.parse(ideationDragDataStr) : '';\n    const isIdeationDrop = !!ideationDragData;\n\n    const { colIndex, itemIndex } = state.dragInfo;\n    const col = _this.currentCols[colIndex];\n    const editItem = isAdd ? {} : col.itemInfos[itemIndex];\n\n    if (ideationDragData) {\n      await setIdeationFiles(ideationDragData, editItem, isEdit);\n    } else {\n      await setLocalFiles(e, editItem);\n    }\n\n\n    const outDragOptions = {\n      isIdeationDrop,\n      files: state.files,\n      ideationDragData: state.ideationDragData,\n\n    };\n\n    if (isAdd) {\n      await addSku(col, outDragOptions, state.dragInfo);\n    } else if (isEdit) {\n      await editSku(editItem, col, itemIndex, outDragOptions, state.dragInfo);\n    }\n  };\n\n  const containerEnter = (e: DragEvent) => {\n    if (hDrag.isDragging) return;\n    const el = e.target as HTMLElement;\n    const types:DragAreaType[] = ['add-item-btn', 'out-drag-insert-area', 'drag-item'];\n    for (let i = 0, len = types.length; i < len; i++) {\n      const type = types[i];\n      const isBreak = handleEnter(el, type, e);\n      if (isBreak) {\n        break;\n      } else {\n        reset();\n      }\n    }\n  };\n\n\n  const containerDrop = async (e:DragEvent) => {\n    try {\n      await handleDrop(e);\n    } finally {\n      reset();\n    }\n  };\n\n\n  return {\n    ...toRefs(state),\n    containerEnter,\n    containerDrop,\n    process,\n    cancelUpload,\n  };\n};\n\nexport default useOutDrag;\n","\n/* eslint-disable camelcase */\nimport {\n  defineComponent, onMounted, reactive, ref, toRefs, PropType,\n} from '@vue/composition-api';\nimport { ElForm } from 'element-ui/types/form';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport isFilled from '@/utils/validators/is-filled';\nimport CheckboxBtn from '@/components/base/CheckboxBtn.vue';\nimport validateForm from '@/utils/validators/validate-form';\n// import Album from '@/views/up-meeting/components/Album.vue';\nimport Album, { AlbumItem } from '@/views/up-meeting/components/Album.vue';\n\n\nimport axios from '@/utils/axios';\nimport {\n  // Album360_720ItemImgArgument,\n  // AlbumNormalItem,\n  AlbumType,\n  // AlbumItem,\n  CatalogModel,\n  Handbag, Shoe,\n} from '@/models/Catalog';\nimport ShoeClass from '@/models/Shoe';\nimport HandbagClass from '@/models/Handbag';\nimport { i18n, i18next } from '@/i18n';\nimport selectFiles from '@/utils/select-files';\n\nimport useLoader from '@4dst-saas/public-utils/dist/composables/use-loader';\nimport { getModelInfo } from '@/api/shoe';\nimport extract from '@4dst-saas/public-utils/dist/extract';\nimport keys from '@4dst-saas/public-utils/dist/keys';\nimport { remove } from '@4dst-saas/public-utils/dist/remove';\nimport { Create } from '@vuex-orm/core/lib/modules/payloads/Actions';\nimport { validFiles } from '@/utils/validators/valid-file';\nimport { GetId } from '@/components/drags/utils';\nimport { Message } from 'element-ui';\nimport { IdeationDragData, filterFileAndAlbum } from '../home/useOutDrag';\nimport { Meeting } from '../typings';\nimport { Item } from '../home/index.vue';\nimport { getEditRelateInfo, getEditInfo } from '../modelInfo/index.vue';\nimport FileSelect, { catalogs2imgList } from './FileSelect.vue';\n\n// const Title = (step: number) => <div class=\"flex-vertical-center title\">\n//   <div class=\"el-dialog__title\">{step === 0 ? i18next.t('virtual-meetup.dialog.addPhoto')\n//     : i18next.t('virtual-meetup.dialog.addPhoto')}</div>\n// </div>;\n\nconst getHandbagInfo = async (handbagId: string) => {\n  return axios.get('/bff-center/showCommon/handbagInfoSearch/getHandbagInfoAndTags', {\n    params: {\n      handbagId,\n    },\n    headers: {\n      language: i18n.language,\n    },\n  });\n};\n\n// 从该模型详情中获取数据\nexport async function getInfo(relateId: string, relateType: 0 | 2) {\n  let res;\n  const model = relateType === 0 ? new ShoeClass() : new HandbagClass();\n  if (relateType === 0) {\n    res = (await getModelInfo(relateId)).data;\n  } else {\n    res = (await getHandbagInfo(relateId)).data;\n  }\n  console.log(res);\n  const selectedKey = keys(model);\n  remove(selectedKey, 'id');\n  const value = extract(res, selectedKey);\n  return value;\n}\n\n//\nexport async function submitModelCore({\n  modelData, parentFolderId, sort, meetingColumnId, editItem,\n}:{modelData:any, parentFolderId:string, sort:number, meetingColumnId:string, editItem?:Item}) {\n  const {\n    oldRelateId, relateType, curtailImg,\n  } = modelData;\n  const modelRelateInfo = await getInfo(oldRelateId, relateType) || {};\n  let model:{[any:string]:any} = relateType === 0 ? new ShoeClass() : new HandbagClass();\n  if (editItem) {\n    // 编辑时补充模型\n    const { binaryFileInfoList, imgList, form } = await getEditInfo(editItem);\n    model = await getEditRelateInfo({\n      binaryFileInfoList,\n      form,\n      modelInfo: editItem,\n      imgList,\n    });\n  }\n  const params = {\n    id: editItem?.id || '',\n    relateInfo: {\n      ...model,\n      ...modelData,\n      ...modelRelateInfo,\n      imgList: [...modelData.imgList, ...(model.imgList).map(item => ({ ...item, isCover: 0 }))],\n      curtailImg,\n      parentFolderId,\n      isPublished: false,\n      // UploadModelType: form.fileType === 0 ? 'SHOE' : 'HANDBAG',\n      // modelNumber: form.name,\n      // relateType: form.fileType,\n    },\n    coverImage: curtailImg,\n    sort,\n    meetingColumnId,\n    synchronizationModel: !!editItem,\n  };\n  const { data: apiData } = await axios({\n    url: '/meeting/column/item/addOrUpdate',\n    method: 'POST',\n    data: params,\n  });\n\n  Message.success(editItem ? i18n.t('virtual-meetup.public.upload_success') : i18n.t('virtual-meetup.public.upload_add_success'));\n\n  return apiData;\n}\n\n\nasync function getMeetingInfo(meetingId: string) {\n  const res = (await axios.get<{ id: string, entryId: string, name: string }>('/meeting/meeting/info', { params: { meetingId } })).data;\n  return res;\n}\n\nconst formRules = {\n  name: validator2ElemRule(isFilled, { message: i18n.t('validator.not_empty') }),\n  imgList: validator2ElemRule(isFilled, { message: i18n.t('validator.not_empty') }),\n  fileType: validator2ElemRule(isFilled, { message: i18n.t('virtual-meetup.dialog.fillType') }),\n};\ntype Model = (Shoe | Handbag) & { UploadModelType: 'SHOE' | 'HANDBAG' };\n\nconst idObj = new GetId();\n\n// function isHandbag(model: Model): model is Handbag {\n//   return model.UploadModelType === 'HANDBAG';\n// }\n\n// const s: Model = {\n//   UploadModelType: 'HANDBAG',\n//   id: 'xxx',\n//   thumbnail: '',\n//   oldRelateId: '',\n// };\n\n// if (isHandbag(s)) {\n//   const a = s;\n// }\n// function getImgArgument(arg: Album360_720ItemImgArgument | null | undefined) {\n//   if (arg) {\n//     return {\n//       ...arg,\n//       list: arg.list.map(i => {\n//         return {\n//           path: i.path,\n//           index: i.index,\n//         };\n//       }),\n//     };\n//   }\n//   return null;\n// }\n\n// function getCurtailImg(imgList: AlbumItem[]) {\n//   const firstImg = imgList[0];\n//   if (firstImg) {\n//     const is360 = [AlbumType.IMG_360, AlbumType.IMG_720].includes(firstImg.imgType);\n//     if (is360) {\n//       return [{\n//         path: firstImg.path,\n//         imgArgument: null,\n//         imgDetail: firstImg.imgDetail,\n//         imgType: 4,\n//         isCover: 1,\n//         businessType: firstImg.businessType,\n//         fileSize: firstImg.fileSize,\n//         sort: 0,\n//       }, firstImg];\n//     }\n//     return [{\n//       ...firstImg,\n//       isCover: 1,\n//       imgType: 4,\n//     } as AlbumNormalItem];\n//   }\n//   return [];\n// }\n\nconst CreateSku = defineComponent({\n  dialogify: {\n    props: {\n      // title: i18next.t('virtual-meetup.dialog.addPhoto'),\n      width: '587px',\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n      compact: true,\n      closeOnClickModal: false,\n      // size: 'medium',\n    },\n  },\n  props: {\n    meetingColumnId: {\n      type: String,\n    },\n    sort: {\n      type: Number,\n    },\n    meetingId: {\n      type: String,\n      required: true,\n    },\n    imgListFromWS: {\n      type: Array as () => AlbumItem[],\n    },\n    defaultAttrs: {\n      type: Object,\n      default: () => ({}),\n    },\n    outDragOptions: {\n      type: Object as PropType<{\n        isIdeationDrop: boolean,\n        files: File[],\n        ideationDragData:IdeationDragData,\n      }>,\n    },\n    processStart: {\n      type: Function as PropType<({ coverImage, temId }:{coverImage:AlbumItem, temId:string})=>AbortController>,\n      required: true,\n    },\n    onprocess: {\n      type: Function as PropType<({ uploaded, total, temId }:{uploaded:number, total:number, temId:string})=>void>,\n      required: true,\n    },\n    uploadDone: {\n      type: Function as PropType<(item:{[any:string]:any}, temId:string)=>void>,\n      required: true,\n    },\n    abortController: {\n      type: Object as PropType<AbortController>,\n    },\n  },\n  render() {\n    const s = this as InstanceType<typeof CreateSku>;\n    return (\n      <div style={{ padding: '30px 30px' }}>\n        <div class=\"flex-vertical-center title\">\n          <div class=\"el-dialog__title\">{this.step === 1 ? i18next.t('virtual-meetup.dialog.addPhoto')\n            : i18next.t('virtual-meetup.dialog.completeInfo')}</div>\n        </div>\n        {\n          this.step === 1\n            ? <div>\n              <div class=\"display flex-justify-center\">\n                <div class={{\n                  'click-icon cursor-pointer': true,\n                  active: this.albumType === 0,\n                }} onclick={\n                  () => s.nextStep(0)\n                } >\n                  <div class={{\n                    'icon-btn flex-center': true,\n                    active: this.albumType === 0,\n                  }}>\n                    <i class=\"iconfont icondiannao\" />\n                  </div>\n                  <div>{i18next.t('virtual-meetup.dialog.addFromLocal')}</div>\n                </div>\n                <div class={{\n                  'click-icon cursor-pointer': true,\n                  active: this.albumType === 1,\n                }} onclick={\n                  () => s.nextStep(1)\n                } >\n                  <div class={{\n                    'icon-btn flex-center': true,\n                    active: this.albumType === 1,\n                  }}>\n                    <i class=\"iconfont iconlogo\" />\n                  </div>\n                  <div>{i18next.t('virtual-meetup.dialog.addFromIdetail')}</div>\n                </div>\n              </div>\n              <div class=\"text-info flex-center\">{i18next.t('virtual-meetup.dialog.support')}</div>\n            </div> : <div>\n              <el-form label-position=\"top\" ref=\"formRef\" props={{\n                model: this.form,\n              }} rules={formRules}>\n                <el-form-item label={i18next.t('virtual-meetup.dialog.fillAblum')} required prop=\"name\">\n                  <el-input vModel={this.form.name} />\n                </el-form-item>\n                <el-form-item label={i18next.t('virtual-meetup.dialog.selectRelateType')} required prop=\"fileType\">\n                  <div class=\"flex-vertical-center\">\n                    <CheckboxBtn\n                      round\n                      value={s.form.fileType === 0}\n                      onchange={() => { s.form.fileType = 0; }}>\n                      {i18next.t('virtual-meetup.dialog.shoe')}\n                    </CheckboxBtn>\n                    <CheckboxBtn\n                      round\n                      value={s.form.fileType === 3}\n                      onchange={() => { s.form.fileType = 3; }}>\n                      {i18next.t('virtual-meetup.dialog.hangbag')}\n                    </CheckboxBtn>\n                  </div>\n                </el-form-item>\n\n                <el-form-item prop=\"imgList\">\n                  <Album types={['jpeg', 'jpg', 'png']} vModel={s.form.imgList} ref=\"albumRef\"\n                    on={{\n                      'update:albumList': (e) => { console.info(e); },\n                    }}\n                  ></Album>\n                </el-form-item>\n              </el-form>\n\n              <div class=\"form-submit-buttons\">\n                <el-button onclick={\n                  () => {\n                    s.step = 1;\n                  }\n                } type=\"default\" round>{i18next.t('virtual-meetup.dialog.goback')}</el-button>\n                <el-button onclick={\n                  () => s.submit()\n                } type=\"primary\" round>{i18next.t('virtual-meetup.dialog.confirm')}</el-button>\n\n              </div>\n            </div>\n        }\n      </div>\n    );\n  },\n  setup(props, { root, emit }) {\n    const step = ref<1 | 2>(1);\n    const isUploading = ref(false);\n    const albumType = ref<number>();\n    const albumRef = ref<InstanceType<typeof Album>>(null);\n    const total = ref<number>(0);\n    const uploaded = ref<number>(0);\n    const form = reactive<{\n      name: string,\n      fileType: number | undefined\n      imgList: AlbumItem[]\n    }>({\n      name: '',\n      fileType: undefined,\n      imgList: [],\n    });\n    const dataFromIedation = ref<any>();\n    // const name = ref('');\n    // const fileType = ref();\n    const parentFolderId = useLoader(async ({ meetingId }) => {\n      if (!meetingId) return undefined;\n      const { entryId } = await getMeetingInfo(props.meetingId);\n      return entryId;\n    }, {\n      ...toRefs(props),\n    });\n    const formRef = ref<ElForm>();\n\n    async function submit() {\n      if (albumType.value === 1) {\n        try {\n          const modelRelateInfo: any = {};\n          const { oldRelateId, relateType, curtailImg } = dataFromIedation.value;\n          if (oldRelateId && !form.fileType) {\n            // 模型图册\n            const apiData = await submitModelCore({\n              modelData: dataFromIedation.value,\n              parentFolderId: parentFolderId.value!,\n              sort: props.sort!,\n              meetingColumnId: props.meetingColumnId!,\n            });\n            emit('confirm', apiData);\n          } else if (!oldRelateId && form.fileType !== undefined) {\n            await validateForm(formRef.value!);\n            // 仅图册\n            const model = form.fileType === 0 ? new ShoeClass() : new HandbagClass();\n\n\n            const data = {\n              relateInfo: {\n                ...model,\n                ...dataFromIedation.value,\n                curtailImg,\n                modelNumber: form.name,\n                relateType: form.fileType,\n                parentFolderId: parentFolderId.value,\n                isPublished: false,\n              },\n              coverImage: curtailImg,\n              sort: props.sort,\n              meetingColumnId: props.meetingColumnId,\n            };\n            console.log(data);\n            const { data: apiData } = await axios({\n              url: '/meeting/column/item/addOrUpdate',\n              method: 'POST',\n              data,\n            });\n            emit('confirm', apiData);\n          } else {\n            step.value = 2;\n            albumType.value = 0;\n            submit();\n          }\n        } catch (e) {\n          root.$errHandler(e);\n        }\n      } else {\n        // 本地上传\n        await validateForm(formRef.value!);\n        if (form.imgList.length === 0) {\n          throw new Error('展示图册不能为空');\n        }\n        const model = form.fileType === 0 ? new ShoeClass() : new HandbagClass();\n        const temId = `${idObj.get()}`;\n        const coverImageItem = form.imgList.find(i => i.isCover === 1) || form.imgList[0];\n        coverImageItem.isCover = 1;\n        const abortController = props.processStart({ coverImage: coverImageItem, temId });\n        emit('confirm');\n        await albumRef.value.upload(({ uploaded: _uploaded, total: _total }) => {\n          props.onprocess({ uploaded: _uploaded, total: _total, temId });\n        }, abortController);\n\n\n        const data = {\n          relateInfo: {\n            ...model,\n            parentFolderId: parentFolderId.value,\n            // UploadModelType: form.fileType === 0 ? 'SHOE' : 'HANDBAG',\n            modelNumber: form.name,\n            relateType: form.fileType!,\n            imgList: form.imgList,\n            curtailImg: coverImageItem.path,\n            isPublished: false,\n          },\n          coverImage: coverImageItem.path,\n          sort: props.sort,\n          meetingColumnId: props.meetingColumnId,\n        };\n\n        const { data: apiData } = await axios({\n          url: '/meeting/column/item/addOrUpdate',\n          method: 'POST',\n          data,\n        });\n\n        props.uploadDone(apiData, temId);\n\n        // root.$alert('本地上传');\n      }\n    }\n\n    async function nextStep(type: 0 | 1) {\n      albumType.value = type;\n      // 如果为1则为从相册中选择\n      if (albumType.value === 1) {\n        dataFromIedation.value = await root.$injectDialog({\n          is: FileSelect,\n          props: {\n            fileType: form.fileType,\n            name: form.name,\n            albumType: albumType.value,\n            meetingId: props.meetingId,\n            outDragOptions: props.outDragOptions,\n          },\n        });\n        console.info(dataFromIedation);\n        if (dataFromIedation.value.relateType === 2) {\n          step.value = 2;\n          form.imgList = dataFromIedation.value.imgList;\n          return;\n        }\n        await submit();\n      } else {\n        step.value = 2;\n      }\n    }\n\n    const handleOutDrag = async () => {\n      if (props.outDragOptions) {\n        const { isIdeationDrop, files, ideationDragData } = props.outDragOptions;\n\n        if (isIdeationDrop) {\n          // 从ws拖拽\n          const {\n            workspaceId, data, dataType, activeFolder: _activeFolder,\n          } = ideationDragData;\n          if (dataType === 'img') {\n            nextStep(0);\n            await root.$nextTick();\n            // 图片\n            const { album } = albumRef.value;\n            const imgList = catalogs2imgList(data);\n            album.push(...imgList);\n          } else {\n            // 模型由外部直接生成\n          }\n        } else {\n          nextStep(0);\n          await root.$nextTick();\n          // 从本地拖拽\n          const { files2albums, album } = albumRef.value;\n          const [_files, albums] = filterFileAndAlbum(files);\n          // album\n          album.push(...albums);\n          // form.imgList = [...form.imgList, ...albums]; //Album里面用了JSON.Parse深复制,无法复制symbol\n          // 普通图片\n          files2albums(_files);\n        }\n      }\n    };\n\n    onMounted(() => {\n      if (props.imgListFromWS) {\n        form.imgList = props.imgListFromWS;\n      }\n      handleOutDrag();\n    });\n\n    return {\n      step,\n      submit,\n      nextStep,\n      formRef,\n      form,\n      albumType,\n      albumRef,\n      total,\n      uploaded,\n      isUploading,\n      dataFromIedation,\n    };\n  },\n});\n\n\nexport default CreateSku;\n","var render, staticRenderFns\nimport script from \"./CreateSku.vue?vue&type=script&lang=tsx&\"\nexport * from \"./CreateSku.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./CreateSku.vue?vue&type=style&index=0&id=6a6a0112&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a6a0112\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateSku.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateSku.vue?vue&type=script&lang=tsx&\"","import axios from '@/utils/axios';\n\nconst api = {\n  // 获取会议详情\n  async getMettingInfo(params:{meetingId:string}) {\n    const meetingInfo = (await axios({\n      url: '/meeting/meeting/info',\n      params,\n    })).data || {};\n    return meetingInfo;\n  },\n  // 删除项\n  async delItem(params:{id:string}) {\n    const result = (await axios({\n      url: '/meeting/column/item/delete',\n      params,\n    })) || false;\n\n    return result;\n  },\n  // 移动项\n  async moveItem(params:{id:string, meetingColumnId:string, index:number}) {\n    const result = (await axios({\n      url: '/meeting/column/item/move',\n      method: 'post',\n      data: params,\n    })) || false;\n\n    return result;\n  },\n\n  // 查看模式列表\n  async fetchReviewCols(params:{meetingId:string, meetingColumnIds?:string[], meetingColumnPage?:number, meetingColumnSize?:number}) {\n    const result = (await axios({\n      url: '/meeting/conference/console',\n      method: 'post',\n      data: params,\n    }))?.data || {};\n\n    return result;\n  },\n\n  // 查看模式搜索\n  async fetchSearch(params:{condition:string, catalogId:string}) {\n    const result = (await axios({\n      url: '/meeting/conference/console/search',\n      method: 'post',\n      data: params,\n    }))?.data || [];\n\n    console.log(result);\n\n    return result;\n  },\n  // 编辑模式列表\n  async fetchEditCols(params:{id:string}) {\n    const result = (await axios({\n      url: '/meeting/conference/console/editable',\n      method: 'post',\n      data: params,\n    }))?.data || [];\n\n    return result;\n  },\n  // 发布\n  async release(params:{id:string}) {\n    const result = (await axios({\n      url: '/meeting/conference/console/release',\n      method: 'post',\n      data: params,\n    })) || false;\n\n    return result;\n  },\n  // 新增列\n  async addCol(params:{ name:string, sort:number, meetingId:string}) {\n    const id = (await axios({\n      url: '/meeting/column/add',\n      method: 'post',\n      data: params,\n    }))?.data || '';\n\n    return id;\n  },\n  // 删除列\n  async delCol(params:{columnId:string}) {\n    const result = (await axios({\n      url: '/meeting/column/delete',\n      params,\n    }));\n\n    return result;\n  },\n  // 修改列\n  async editCol(params:{id:string, name:string, sort:number, meetingId:string}) {\n    const result = (await axios({\n      url: '/meeting/column/update',\n      method: 'post',\n      data: params,\n    }));\n\n    return result;\n  },\n  // 移动列\n  async moveCol(params:{sorts:{id:string, sort:number}[]}) {\n    const result = (await axios({\n      url: '/meeting/column/update/sort',\n      method: 'post',\n      data: params,\n    }));\n\n    return result;\n  },\n};\n\nexport default api;\n","/* eslint-disable import/prefer-default-export */\nimport {\n  reactive, computed, ref, toRefs, getCurrentInstance, onMounted, watch, SetupContext,\n} from '@vue/composition-api';\nimport { Col } from './index.vue';\nimport api from './api';\n\nconst useListDrag = () => {\n  const _this:any = getCurrentInstance();\n  const state = reactive({\n    originListStartIndex: -1, // 为了在接口失败时恢复位置\n    listStartIndex: -1,\n    listEnterIndex: -1,\n    listDraging: false,\n  });\n  const swap = (list:any[], start:number, end:number) => {\n    if (start === end) return;\n    const startItem = list.splice(start, 1)[0];\n    list.splice(end, 0, startItem);\n    state.listStartIndex = end;\n  };\n  const listDragReset = () => {\n    state.originListStartIndex = -1;\n    state.listStartIndex = -1;\n    state.listEnterIndex = -1;\n    state.listDraging = false;\n  };\n  const listDragStart = ({ e, i, col }:{e:DragEvent, i:number, col:Col}) => {\n    if (col.isInput) {\n      e.preventDefault();\n      return;\n    }\n    state.originListStartIndex = i;\n    state.listStartIndex = i;\n    state.listDraging = true;\n  };\n\n  const listDragEnter = ({ i, list }:{ i:number, list:any[]}) => {\n    const { listStartIndex, listEnterIndex } = state;\n    if (state.listEnterIndex === i) return;\n    state.listEnterIndex = i;\n    // 内部拖拽\n    swap(list, listStartIndex, i);\n  };\n  const listDragEnd = async ({ col }:{col:Col}) => {\n    if (state.listEnterIndex === -1) {\n      listDragReset();\n      return;\n    }\n\n    // dragend事件触发在dragstart的元素上，即初始拖动的组件上，所以这里如果抛出_this是初始组件的vm(要获取end时的vm在enter时获取保存)\n    try {\n      await api.moveCol({\n        sorts: (_this.currentCols as Col[]).map((item, i) => ({ id: item.id, sort: i })),\n      });\n    } catch (error) {\n      swap(_this.currentCols, state.listEnterIndex, state.originListStartIndex);\n      // 恢复排序位置\n      throw (error);\n    } finally {\n      listDragReset();\n    }\n  };\n  return {\n    ...toRefs(state),\n    listDragStart,\n    listDragEnter,\n    listDragEnd,\n  };\n};\n\nexport default useListDrag;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, watch, onMounted, onUnmounted,\n} from '@vue/composition-api';\nimport {\n  DragContainer, DragList, DragItem, getId,\n} from '@/components/drags';\nimport OverText from '@/components/OverText.vue';\nimport BaseImage from '@/components/base/Image.vue';\nimport { i18n, i18next } from '@/i18n';\nimport { ElInput } from 'element-ui/types/input';\nimport delay from '_/delay';\nimport { AlbumItem } from '@/models/Catalog';\nimport CreateSku from '../components/CreateSku.vue';\nimport EditModel from '../modelInfo/index.vue';\nimport { Meeting } from '../typings';\nimport useListDrag from './useListDrag';\nimport useOutDrag from './useOutDrag';\nimport api from './api';\nimport { Item, Col } from './index.vue';\nimport useProcess from './useProcess';\n\nfunction makeUnloadWarn() {\n  const bind = (e:BeforeUnloadEvent) => {\n    // Cancel the event\n    e.preventDefault(); // If you prevent default behavior in Mozilla Firefox prompt will always be shown\n    // Chrome requires returnValue to be set\n    e.returnValue = '页面没保存';\n  };\n  window.addEventListener('beforeunload', bind);\n  return function off() {\n    const makeSureUnbind = (e:BeforeUnloadEvent) => {\n      // the absence of a returnValue property on the event will guarantee the browser unload happens\n      delete e.returnValue;\n      window.removeEventListener('beforeunload', makeSureUnbind);\n    };\n    window.removeEventListener('beforeunload', bind);\n    window.addEventListener('beforeunload', makeSureUnbind);\n  };\n}\n\nexport default defineComponent({\n  name: 'meet-home__edit',\n  components: {\n    DragContainer, DragList, OverText, BaseImage,\n  },\n  props: {\n    meetingId: {\n      type: String,\n    },\n    meeting: {\n      type: Object as unknown as () => Meeting,\n      required: true,\n    },\n  },\n  setup(props, { refs, emit, root }) {\n    const state = reactive({\n      currentCols: [] as any[],\n      itemDraging: false,\n      dragStartItem: {} as Item,\n      isOutDrag: false,\n      unloadEvent: null as Function |null,\n    });\n    const {\n      listStartIndex, listEnterIndex, listDraging, listDragStart, listDragEnter, listDragEnd,\n    } = useListDrag();\n\n    const {\n      dragInfo, containerEnter, containerDrop, process: dragProcess, cancelUpload: dragCancelUpload,\n    } = useOutDrag();\n\n    const {\n      process: localProcess, normalProcessStart, onprocess, uploadDone, cancelUpload: localCancelUpload,\n    } = useProcess({ isOutDrag: false });\n\n    const cancelUpload = (item:Item) => {\n      const { isOutDrag } = state;\n      if (isOutDrag) {\n        dragCancelUpload(item, dragProcess.value);\n      } else {\n        localCancelUpload(item, localProcess.value);\n      }\n    };\n\n\n    const process = computed(() => ({ ...dragProcess.value, ...localProcess.value }));\n    watch(process, (_process) => {\n      emit('process-change', _process);\n    });\n\n\n    const dragListVms = ref<InstanceType<typeof DragList>[]>([]);\n    const dragContainer = ref<InstanceType<typeof DragContainer>>();\n    const colNameInputes = ref<InstanceType<typeof ElInput>[]>([]);\n\n    const isDraging = computed(() => state.itemDraging || listDraging.value);\n\n\n    watch(() => state.currentCols, () => {\n      emit('cols-change', state.currentCols);\n    });\n\n    onUnmounted(() => {\n      state.unloadEvent?.();\n    });\n\n    const setCol2Vm = (colIndex?: number, col?: Col) => {\n      if (colIndex && col) {\n        dragListVms.value[colIndex].col = col;\n        return;\n      }\n      // 挂载col数据到vm.方便获取列的id\n      dragListVms.value.forEach((vm: any, i) => {\n        vm.col = state.currentCols[i];\n      });\n    };\n\n    const addItem = async (col: Col, colIndex: number) => {\n      const apiData = await root.$injectDialog({\n        is: CreateSku,\n        props: {\n          meetingColumnId: col.id,\n          sort: col.itemInfos.length,\n          meetingId: props.meetingId,\n          processStart: ({ coverImage, temId }:{coverImage:AlbumItem, temId:string}) => {\n            state.isOutDrag = false;\n            return normalProcessStart({\n              coverImage, temId, col,\n            });\n          },\n          onprocess,\n          uploadDone,\n        },\n      });\n      // col.itemInfos.push(sku);\n      if (apiData) {\n      // 通过ideation新增的sku\n        col.itemInfos.push(apiData);\n      }\n    };\n\n    const editItem = async (item: Item, col: Col, itemIndex: number) => {\n      await root.$injectDialog({\n        is: EditModel,\n        props: {\n          modelInfo: { ...item, sort: itemIndex },\n          meetingId: props.meetingId,\n          processStart: ({ coverImage, temId }:{coverImage:AlbumItem, temId:string}) => {\n            state.isOutDrag = false;\n            return normalProcessStart({\n              coverImage, temId, col, item,\n            });\n          },\n          onprocess,\n          uploadDone,\n        },\n      }, {\n        key: (new Date()).valueOf(),\n      });\n      // if (typeof sku === 'object') {\n      //   root.$set(col.itemInfos, itemIndex, sku);\n      // }\n    };\n\n    const delItem = async (item: Item, col: Col, itemIndex: number) => {\n      await root.$confirm(i18n.t('public.dialog.sure_delete'), i18n.t('public.dialog.prompt'));\n      await api.delItem({ id: item.id });\n      col.itemInfos.splice(itemIndex, 1);\n    };\n\n    const addCol = async (index: number) => {\n      const name = i18next.t('virtual-meetup.home.new_col');\n      const newCol = {\n        name,\n        temName: name,\n        isInput: false,\n        itemInfos: [],\n      };\n      const id = await api.addCol({ name: newCol.name, sort: index, meetingId: props.meetingId! });\n      const _newCol = { id, ...newCol };\n      state.currentCols.splice(index + 1, 0, _newCol);\n      await root.$nextTick();\n\n      setCol2Vm(); // 新增的列在dragListVms中的index是最后一个\n      dragContainer.value?.init();\n    };\n\n    const delCol = async (col: Col, index: number) => {\n      await root.$confirm(i18n.t('public.dialog.sure_delete'), i18n.t('public.dialog.prompt'));\n      await api.delCol({ columnId: col.id });\n      state.currentCols.splice(index, 1);\n      await root.$nextTick();\n      dragContainer.value?.init({ addEvents: false });\n    };\n\n    const editColTitle = async (col: Col, i: number) => {\n      col.isInput = true;\n      await root.$nextTick();\n      colNameInputes.value?.[0].focus();\n    };\n\n    const blurColTitle = async (col: any, i: number) => {\n      col.isInput = false;\n      if (col.temName === col.name) return;\n      await api.editCol({\n        id: col.id!, name: col.temName, sort: i + 1, meetingId: props.meetingId!,\n      });\n      col.name = col.temName;\n    };\n\n\n    const containerStart = ({ item, vm }: { item: Item, vm: any }) => {\n      state.itemDraging = true;\n      state.dragStartItem = item;\n    };\n\n    const swap = (list: any[], start: number, end: number) => {\n      if (start === end) return;\n      const startItem = list.splice(start, 1)[0];\n      list.splice(end, 0, startItem);\n    };\n\n\n    const containerDragEnd = async ({\n      startIndex, endVm, isInside, cross, inside,\n    }: {\n      startIndex: number,\n      endIndex: number,\n      endVm: any,\n      isInside: boolean,\n      cross: { startIndex: number, endIndex: number },\n      inside: { startIndex: number, enterIndex: number }\n    }) => {\n      state.itemDraging = false;\n\n      if (isInside) {\n        // 列表内拖拽\n        const col = state.currentCols[startIndex];\n        try {\n          if (inside.enterIndex === -1) return; // 比如拖动到容器外部\n          await api.moveItem({ id: state.dragStartItem.id, meetingColumnId: col.id, index: inside.enterIndex });\n        } catch (error) {\n          // 恢复原来的排序\n          swap(col.itemInfos, inside.startIndex, inside.enterIndex);\n          throw error(error);\n        }\n      } else {\n        // 跨列表拖拽;\n        const toCol = endVm.col;\n\n        try {\n          if (cross.endIndex === -1) return; // 比如拖动到容器外部\n          await api.moveItem({ id: state.dragStartItem.id, meetingColumnId: toCol.id, index: cross.endIndex });\n        } catch (error) {\n          // 恢复原来的排序\n          const fromCol = state.currentCols[startIndex];\n          const item = toCol.itemInfos.splice(cross.endIndex, 1)[0];\n          fromCol.itemInfos.splice(cross.startIndex, 0, item);\n        }\n      }\n    };\n\n\n    const init = async () => {\n      try {\n        emit('loading', true);\n        const cols: Col[] = await api.fetchEditCols({ id: props.meetingId! });\n        state.currentCols = cols.map(item => ({ ...item, temName: item.name, isInput: false }));\n        await root.$nextTick();\n        setCol2Vm();\n        state.unloadEvent = makeUnloadWarn();\n      } finally {\n        emit('loading', false);\n      }\n    };\n\n\n    init();\n\n\n    return {\n      ...toRefs(state),\n      isDraging,\n      addItem,\n      editItem,\n      delItem,\n      addCol,\n      delCol,\n      listStartIndex,\n      listEnterIndex,\n      listDragStart,\n      listDragEnter,\n      listDragEnd,\n      listDraging,\n      editColTitle,\n      blurColTitle,\n      containerStart,\n      containerDragEnd,\n      dragListVms,\n      dragContainer,\n      colNameInputes,\n      dragInfo,\n      containerEnter,\n      containerDrop,\n      dragProcess,\n      localProcess,\n      process,\n      cancelUpload,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=69d6fe62&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./Edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=69d6fe62&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69d6fe62\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"review\",staticClass:\"meet-home__review flex-column\"},[(_vm.isSearch && !_vm.list.length)?[_c('SearchEmpty',{on:{\"to-cols\":_vm.toCols}})]:[(_vm.showList)?[_c('List',{attrs:{\"col\":_vm.col,\"meetingId\":_vm.meetingId,\"colsNum\":_vm.colsNum,\"list\":_vm.currentList,\"searchValue\":_vm.searchValue,\"is-search\":_vm.isSearch},on:{\"to-cols\":_vm.toCols,\"refresh\":_vm.refresh}})]:[_c('Cols',{attrs:{\"meetingId\":_vm.meetingId,\"cols\":_vm.currentShowCols,\"colsNum\":_vm.colsNum},on:{\"open-col-list\":_vm.openColList,\"refresh\":_vm.refresh}})]]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"review\",staticClass:\"meet-review__cols\"},[_c('div',{staticClass:\"container\",style:(_vm.containerStyle)},_vm._l((_vm.cols),function(col,i){return _c('div',{key:col.id,staticClass:\"col-wrap\",style:(_vm.colWrapStyle),on:{\"transitionend\":function($event){return _vm.handleWidthTransitionend(i)}}},[_c('div',{staticClass:\"col-title\",on:{\"click\":function($event){return _vm.openColList(i)}}},[_c('OverText',{ref:\"overText\",refInFor:true},[_c('span',[_vm._v(_vm._s(col.name))])]),_c('i',{staticClass:\"el-icon-arrow-right\"})],1),_c('ul',{staticClass:\"list\"},_vm._l((col.itemInfos),function(item){return _c('li',{key:item.id},[_c('ReviewItem',{attrs:{\"data\":item,\"colsNum\":_vm.currentColsNum,\"meetingId\":_vm.meetingId,\"imgStyle\":_vm.itemHeightStyle}})],1)}),0)])}),0),(_vm.cols.length > _vm.currentColsNum)?[_c('div',{staticClass:\"swipe-btn to-left\",class:{ disabled: _vm.swipeIndex === 0 },on:{\"click\":function($event){return _vm.swipe('left')}}},[_c('i',{staticClass:\"el-icon-arrow-left\"})]),_c('div',{staticClass:\"swipe-btn to-right\",class:{ disabled: _vm.swipeIndex === _vm.maxSwipeIndex },on:{\"click\":function($event){return _vm.swipe('right')}}},[_c('i',{staticClass:\"el-icon-arrow-right\"})])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import useResize from '@/utils/composables/use-resize';\nimport {\n  reactive, computed, ref, toRefs, getCurrentInstance, onMounted, watch, SetupContext,\n} from '@vue/composition-api';\n\n// const getAppMinWidth = () => {\n//   const App = document.querySelector('#app');\n//   if (!App) return 0;\n//   const minWidth = +window.getComputedStyle(App).minWidth.slice(0, -2);\n//   return minWidth;\n// };\n\nconst useCols = (inicColsNum:number) => {\n  const _this:any = getCurrentInstance();\n  const state = reactive({\n    currentColsNum: inicColsNum,\n\n  });\n  const review = ref(null);\n  watch(() => _this.colsNum, () => {\n    // if (!review.value || _this.colsNum < 16) {\n    //   state.currentColsNum = _this.colsNum;\n    // }\n    // 小于1000px的屏幕不能是16列，图标太小看不见\n    // state.currentColsNum = (review.value! as HTMLDivElement).clientWidth > 1000 ? _this.colsNum : 8;\n    state.currentColsNum = _this.colsNum;\n  });\n  const colWidth = computed(() => 100 / state.currentColsNum);\n  const colHeight = ref(0);\n  const setColHeight = () => {\n    const { clientWidth } = document.querySelector('#app') || document.documentElement;\n    const MARGIN_PADDING_WIDTH = 80;\n    const ADD_COL_WIDTH = state.currentColsNum === 16 ? 10 : 30;\n    colHeight.value = (clientWidth - MARGIN_PADDING_WIDTH) / state.currentColsNum - ADD_COL_WIDTH;\n  };\n  const colWidthStyle = computed(() => ({\n    width: `${colWidth.value}%`,\n  }));\n\n  const itemHeightStyle = computed(() => ({\n    height: `${colHeight.value}px`,\n  }));\n\n  setColHeight();\n\n  watch(() => state.currentColsNum, () => {\n    setColHeight();\n  });\n\n  useResize(setColHeight);\n\n  return {\n    ...toRefs(state),\n    review,\n    colWidth,\n    colWidthStyle,\n    itemHeightStyle,\n  };\n};\n\nexport default useCols;\n","import {\n  reactive, computed, ref, toRefs, getCurrentInstance, onMounted, watch, SetupContext,\n} from '@vue/composition-api';\n\nconst useWidthTransitionEnd = () => {\n  const overText = ref<any[]|null>(null);\n  const handleWidthTransitionend = (i:number) => {\n    if (i !== 0) return; // 只监听第一列的宽度动画,然后初始化所有OverText,因为排版分成cols和list两种\n    if (!Array.isArray(overText.value)) return;\n    overText.value.forEach(item => item.init());\n  };\n  return {\n    overText,\n    handleWidthTransitionend,\n  };\n};\n\nexport default useWidthTransitionEnd;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"meet-review__item\",on:{\"click\":function($event){return _vm.toDetail(_vm.data)}}},[_c('BaseImage',{staticClass:\"meet-review__item-img\",class:{ small: _vm.currentColsNum === 16 },style:(_vm.imgStyle),attrs:{\"src\":_vm.data.coverImageUrl,\"thumb\":{ width: 512, height: 512 },\"fit\":\"contain\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentColsNum !== 16),expression:\"currentColsNum !== 16\"}],staticClass:\"meet-review__item-title\"},[_c('OverText',{ref:\"overText\"},[_vm._v(_vm._s(_vm.data.name))])],1),(_vm.data.like)?_c('div',{staticClass:\"icons\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleLike($event)}}},[_c('div',{staticClass:\"icon-wrap like-wrap\"},[(_vm.data.like.userLoveStatus)?_c('i',{staticClass:\"i-shoucangtianchong\"}):_c('i',{staticClass:\"i-shoucangxian\"}),(_vm.data.like.userLoveCount)?_c('span',{staticClass:\"like-count\"},[_vm._v(\" \"+_vm._s(_vm.data.like.userLoveCount)+\" \")]):_vm._e()])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, PropType,\n} from '@vue/composition-api';\nimport OverText from '@/components/OverText.vue';\nimport BaseImage from '@/components/base/Image.vue';\nimport openWindow from '@/utils/open-window';\nimport axios from '@/utils/axios';\nimport { Item } from '../index.vue';\n\nexport default defineComponent({\n  name: 'meet-review__item',\n  components: { OverText, BaseImage },\n  props: {\n    data: {\n      type: Object as PropType<Item>,\n      default: () => ({}),\n    },\n    colsNum: {\n      type: Number as () => 4 | 8 | 16,\n      default: 8,\n    },\n    meetingId: {\n      type: String,\n      required: true,\n    },\n    imgStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props, { refs, emit, root }) {\n    const state = reactive({});\n    const toDetail = async (item: Item) => {\n      const params = {\n        columnId: item.meetingColumnId,\n        meetingId: props.meetingId,\n        itemId: item.id,\n      };\n      root.$router.push({ path: '/up-meeting/detail', query: params });\n    };\n    const toggleLike = async () => {\n      const { data } = props;\n      const { like } = data;\n      const params = {\n        relateId: data.id,\n        relateType: 0,\n      };\n      const url = `meeting/userLoveStatistics/${like.userLoveStatus ? 'cancelUserLoveStatus' : 'addUserLoveStatus'}`;\n      await axios.post(url, params);\n      like.userLoveStatus = !like.userLoveStatus;\n      like.userLoveCount += like.userLoveStatus ? 1 : -1;\n    };\n    return {\n      ...toRefs(state),\n      toDetail,\n      toggleLike,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=404eae0c&scoped=true&\"\nimport script from \"./Item.vue?vue&type=script&lang=ts&\"\nexport * from \"./Item.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&id=404eae0c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"404eae0c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, watch,\n} from '@vue/composition-api';\nimport OverText from '@/components/OverText.vue';\nimport openWindow from '@/utils/open-window';\nimport i18n from '@/i18n';\nimport focusWatch from '@/utils/focus-watch';\nimport EditModel from '../../modelInfo/index.vue';\nimport useCols from './useCols';\nimport useWidthTransitionEnd from './useWidthTransitionEnd';\nimport { Item, Col } from './index.vue';\nimport ReviewItem from './Item.vue';\n\n\nexport default defineComponent({\n  name: 'meet-review__cols',\n  components: { OverText, ReviewItem },\n  props: {\n    meetingId: {\n      type: String,\n      required: true,\n    },\n    colsNum: {\n      type: Number as () => 4 | 8 | 16,\n      default: 8,\n    },\n    cols: {\n      type: Array as () => Col[],\n      default: () => [],\n    },\n  },\n  setup(props, { refs, emit, root }) {\n    const state = reactive({\n      swipeIndex: 0,\n    });\n    const {\n      currentColsNum, review, colWidth, colWidthStyle, itemHeightStyle,\n    } = useCols(props.colsNum);\n    const colWrapStyle = computed(() => ({\n      ...colWidthStyle.value,\n      paddingRight: `${currentColsNum.value === 16 ? 10 : 30}px`,\n    }));\n    const { overText, handleWidthTransitionend } = useWidthTransitionEnd();\n    watch(currentColsNum, () => {\n      state.swipeIndex = 0;\n    });\n    const containerStyle = computed(() => ({\n      transform: `translateX(calc(-${colWidth.value * state.swipeIndex}% + 5px) )`, // 5px为shadow\n    }));\n    const maxSwipeIndex = computed(() => props.cols.length - currentColsNum.value);\n    const swipe = (type: 'left' | 'right') => {\n      switch (type) {\n        case 'left':\n          state.swipeIndex--;\n          break;\n        case 'right':\n          state.swipeIndex++;\n          break;\n        default:\n          break;\n      }\n      state.swipeIndex = Math.max(0, Math.min(state.swipeIndex, maxSwipeIndex.value));\n    };\n\n    const openColList = (colI: number) => {\n      // 为保持原始Col对象的纯净,只传index,外部组件处理\n      emit('open-col-list', colI);\n    };\n    const editItem = async (item: Item) => {\n      const sku = await root.$injectDialog({\n        is: EditModel,\n        props: {\n          catalogId: item.bindRelateCatalogId,\n          modelInfo: item,\n        },\n      }, { key: (new Date()).valueOf() });\n      emit('refresh');\n    };\n\n    const toDetail = async (col: Col, item: Item) => {\n      const params = {\n        columnId: item.meetingColumnId,\n        meetingId: props.meetingId,\n        itemId: item.id,\n      };\n      root.$router.push({ path: '/up-meeting/detail', query: params });\n    };\n\n    focusWatch(() => {});\n    return {\n      ...toRefs(state),\n      colWrapStyle,\n      itemHeightStyle,\n      containerStyle,\n      maxSwipeIndex,\n      swipe,\n      currentColsNum,\n      review,\n      openColList,\n      overText,\n      handleWidthTransitionend,\n      editItem,\n      toDetail,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cols.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cols.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Cols.vue?vue&type=template&id=6307a399&scoped=true&\"\nimport script from \"./Cols.vue?vue&type=script&lang=ts&\"\nexport * from \"./Cols.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Cols.vue?vue&type=style&index=0&id=6307a399&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6307a399\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"review\",staticClass:\"meet-home__review--list\"},[_c('ul',_vm._l((_vm.list),function(item,i){return _c('li',{key:item.id,staticClass:\"list-item\",style:(_vm.colWrapStyle),on:{\"transitionend\":function($event){return _vm.handleWidthTransitionend(i)},\"click\":function($event){return _vm.toDetail(_vm.col, item)}}},[_c('ReviewItem',{attrs:{\"data\":item,\"colsNum\":_vm.currentColsNum,\"meetingId\":_vm.meetingId,\"imgStyle\":_vm.itemHeightStyle}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, watch,\n} from '@vue/composition-api';\nimport OverText from '@/components/OverText.vue';\nimport openWindow from '@/utils/open-window';\nimport i18n from '@/i18n';\nimport focusWatch from '@/utils/focus-watch';\nimport { Col, Item } from '../index.vue';\nimport EditModel from '../../modelInfo/index.vue';\nimport useCols from './useCols';\nimport useWidthTransitionEnd from './useWidthTransitionEnd';\nimport ReviewItem from './Item.vue';\n\n\nexport default defineComponent({\n  name: 'meet-home__review--list',\n  components: { ReviewItem },\n  props: {\n    meetingId: {\n      type: String,\n      required: true,\n    },\n    colsNum: {\n      type: Number as () => 4 | 8 | 16,\n      default: 8,\n    },\n    list: {\n      type: Array as () => Item[],\n      default: () => [],\n    },\n    searchValue: {\n      type: String,\n      default: '',\n    },\n    isSearch: {\n      type: Boolean,\n      default: false,\n    },\n    col: {\n      col: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props, { refs, emit, root }) {\n    const {\n      currentColsNum, review, colWidthStyle, itemHeightStyle,\n    } = useCols(props.colsNum);\n    const colWrapStyle = computed(() => ({\n      ...colWidthStyle.value,\n      paddingRight: `${props.colsNum === 16 ? 10 : 30}px`,\n    }));\n    const { overText, handleWidthTransitionend } = useWidthTransitionEnd();\n\n\n    const toCols = () => {\n      emit('to-cols');\n    };\n    const editItem = async (item: Item) => {\n      const sku = await root.$injectDialog({\n        is: EditModel,\n        props: {\n          catalogId: item.bindRelateCatalogId,\n          modelInfo: item,\n        },\n      }, {\n        key: (new Date()).valueOf(),\n      });\n      emit('refresh');\n    };\n\n    const toDetail = async (col: Col, item: Item) => {\n      const params = {\n        columnId: item.meetingColumnId,\n        meetingId: props.meetingId,\n        itemId: item.id,\n      };\n      openWindow({ path: '/up-meeting/detail', query: params });\n    };\n\n    focusWatch(() => {});\n\n    return {\n      toCols,\n      currentColsNum,\n      review,\n      colWrapStyle,\n      itemHeightStyle,\n      overText,\n      handleWidthTransitionend,\n      editItem,\n      toDetail,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=54a40850&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=ts&\"\nexport * from \"./List.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=54a40850&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54a40850\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"meet-review__searchempty flex-center\"},[_c('div',{staticClass:\"icon-bg flex-center\"}),_c('BlockError',{attrs:{\"img\":require('@/assets/img/error/no-result.png')}},[_c('h3',[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.search_empty\")))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs,\n} from '@vue/composition-api';\nimport BaseImage from '@/components/base/Image.vue';\nimport BlockError from '@/components/error/BlockError.vue';\n\nexport default defineComponent({\n  name: 'meet-review__searchempty',\n  components: { BlockError },\n  props: {},\n  setup(props, { refs, emit, root }) {\n    const state = reactive({});\n    return {\n      ...toRefs(state),\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchEmpty.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchEmpty.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchEmpty.vue?vue&type=template&id=3e348ec4&scoped=true&\"\nimport script from \"./SearchEmpty.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchEmpty.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SearchEmpty.vue?vue&type=style&index=0&id=3e348ec4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e348ec4\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, watch, onMounted,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\nimport { Col, Item } from '../index.vue';\nimport api from '../api';\nimport Cols from './Cols.vue';\nimport List from './List.vue';\nimport SearchEmpty from './SearchEmpty.vue';\n\ntype LikeObj = {[any:string]:any};\n\nconst fetchLikeObj = async (params:{relateIds:string[]}) => {\n  if (!params.relateIds?.length) return {};\n  const likeObj:LikeObj = (await axios({\n    url: '/meeting/userLoveStatistics/statisticsAndUserLoveStatusList',\n    method: 'post',\n    data: { ...params, relateType: 0 },\n  })).data;\n  return likeObj;\n};\n\nconst getAddLikeList = (list:Item[], likeObj:LikeObj) => {\n  return list.map(item => ({\n    ...item,\n    like: {\n      userLoveCount: likeObj[item.id]?.userLoveCount ?? 0,\n      userLoveStatus: likeObj[item.id]?.userLoveStatus ?? false,\n    },\n  }));\n};\n\nconst getAddLikeCols = (cols:Col[], likeObj:LikeObj) => {\n  return cols.map(col => ({ ...col, itemInfos: getAddLikeList(col.itemInfos, likeObj) }));\n};\n\nexport default defineComponent({\n  name: 'meet-home__review',\n  components: {\n    Cols, List, SearchEmpty,\n  },\n  props: {\n    meetingId: {\n      type: String,\n      required: true,\n    },\n    showCols: {\n      type: Array as () => Col[],\n      default: () => [],\n    },\n    colsNum: {\n      type: Number as () => 4 | 8 | 16,\n      default: 8,\n    },\n    col: {\n      type: Object,\n      default: () => ({}),\n    },\n    isSearch: {\n      type: Boolean,\n      default: false,\n    },\n    searchValue: {\n      type: String,\n      default: '',\n    },\n    list: {\n      type: Array as () => Item[],\n      default: () => [],\n    },\n  },\n  setup(props, { refs, emit, root }) {\n    const state = reactive({\n      currentShowCols: props.showCols,\n      currentList: props.list,\n    });\n\n    const showList = computed(() => {\n      return Object.keys(props.col).length || props.isSearch;\n    });\n\n    watch(() => [props.list, props.showCols], async () => {\n      // 会请求多余的fetchLikeObj,有时间清除\n      const relateIds = props.showCols.map(col => col.itemInfos).flat().map(item => item.id);\n      const likeObj = await fetchLikeObj({ relateIds });\n      state.currentList = getAddLikeList(props.list, likeObj);\n      state.currentShowCols = getAddLikeCols(props.showCols, likeObj);\n    }, { immediate: true });\n\n    const openColList = (colI: number) => {\n      emit('open-col-list', props.showCols[colI]);\n    };\n\n    const toCols = () => {\n      emit('to-cols');\n    };\n\n    const refresh = () => {\n      emit('refresh');\n    };\n\n    return {\n      ...toRefs(state),\n      showList,\n      openColList,\n      toCols,\n      refresh,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1f06901a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1f06901a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f06901a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"meet-review__empty\"},[_c('BlockError',{attrs:{\"img\":require('@/assets/img/error/empty.png')}},[_c('h3',[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.room_empty_1\")))]),_c('h3',[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.room_empty_2\")))]),_c('el-button',{staticClass:\"to-edit-btn\",attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.toEdit}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.set_room\")))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs,\n} from '@vue/composition-api';\nimport BaseImage from '@/components/base/Image.vue';\nimport BlockError from '@/components/error/BlockError.vue';\n\nexport default defineComponent({\n  name: 'meet-review__empty',\n  components: { BlockError },\n  props: {},\n  setup(props, { refs, emit, root }) {\n    const state = reactive({});\n    const toEdit = () => {\n      emit('to-edit');\n    };\n    return {\n      ...toRefs(state),\n      toEdit,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Empty.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Empty.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Empty.vue?vue&type=template&id=70131046&scoped=true&\"\nimport script from \"./Empty.vue?vue&type=script&lang=ts&\"\nexport * from \"./Empty.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Empty.vue?vue&type=style&index=0&id=70131046&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70131046\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, onMounted, getCurrentInstance, watch,\n} from '@vue/composition-api';\nimport useResize from '@/utils/composables/use-resize';\nimport { Meeting } from '../typings';\nimport Header, { OperateType } from './Header.vue';\nimport Edit from './Edit.vue';\nimport Review from './review/index.vue';\nimport Empty from './Empty.vue';\nimport api from './api';\nimport { Process } from './useProcess';\nimport useBg from './useBg';\n\nexport type Obj = { [any: string]: any };\n\nexport type Item = Obj;\n\nexport type Col = {\n  id: string,\n  name: string,\n  temName: string,\n  itemInfos: Item[],\n  isInput?: boolean\n};\n\nexport default defineComponent({\n  name: 'meet-home',\n  components: {\n    Header, Edit, Review, Empty,\n  },\n  props: {\n    meeting: {\n      type: Object as unknown as () => Meeting,\n      required: true,\n    },\n    operateType: {\n      type: String,\n      default: 'review',\n    },\n  },\n  setup(props, { refs, emit, root }) {\n    const state = reactive({\n      meetingId: '',\n      currentMeeting: {} as Meeting,\n      currentOperateType: props.operateType,\n      allCols: [],\n      showCols: [] as Col[],\n      editCols: [] as Col[],\n      colsNum: 8,\n      currentCol: {} as Col,\n      searchValue: '',\n      isSearch: false,\n      loading: true,\n      height: 0,\n      list: [] as Item[],\n      uploadProcess: {},\n    });\n    const { bgStyle, bgLoading } = useBg(props.meeting);\n    const header = ref();\n    const setHeight = () => {\n      if (!header.value) return;\n      const winHei = document.documentElement.clientHeight;\n      const headerBottomHei = header.value.$el.getBoundingClientRect().bottom;\n      const MARGIN = 40;\n      state.height = winHei - headerBottomHei - MARGIN;\n    };\n\n    useResize(setHeight);\n\n\n    watch(() => props.operateType, () => {\n      state.currentOperateType = props.operateType;\n    }, { immediate: true });\n\n    watch(() => props.meeting, (meeting) => {\n      state.currentMeeting = meeting;\n    }, { immediate: true });\n\n    const isEdit = computed(() => state.currentOperateType === 'edit');\n    const showBackBtn = computed(() => (state.showCols.length && Object.keys(state.currentCol).length) || state.isSearch);\n    const mainStyle = computed(() => ({\n      height: state.height ? `${state.height}px` : 'auto',\n      // marginTop: showBackBtn.value ? '0' : undefined,\n    }));\n    const title = computed(() => state.searchValue || state.currentCol?.name || '');\n\n\n    const fetchList = async () => {\n      try {\n        state.loading = true;\n        if (!state.isSearch) {\n          // 详情列表\n          state.list = state.currentCol.itemInfos;\n        } else {\n          // 搜索列表\n          state.list = await api.fetchSearch({ condition: state.searchValue, catalogId: state.currentMeeting.entryId });\n        }\n      } finally {\n        state.loading = false;\n      }\n    };\n\n    const load = async () => {\n      try {\n        state.loading = true;\n        state.meetingId = state.currentMeeting.id;\n        state.allCols = (await api.fetchReviewCols({ meetingId: state.meetingId, meetingColumnSize: 10000, meetingColumnPage: 1 }))?.records || [];\n      } finally {\n        state.loading = false;\n      }\n    };\n\n    const regetMeeting = async () => {\n      try {\n        state.loading = true;\n        state.currentMeeting = await api.getMettingInfo({ meetingId: state.meetingId });\n      } finally {\n        state.loading = false;\n      }\n    };\n\n    const handleTypeChange = (currentOperateType: OperateType) => {\n      state.currentOperateType = currentOperateType;\n    };\n\n    const commitEdit = async () => {\n      state.loading = true;\n      await api.release({ id: state.meetingId });\n      state.currentOperateType = 'review';\n      regetMeeting();\n      load();\n    };\n\n    const cancelEdit = () => {\n      state.currentOperateType = 'review';\n      regetMeeting();\n    };\n\n    const search = async (searchValue: string) => {\n      state.searchValue = searchValue;\n      state.isSearch = !!searchValue; // 没有值的话认为是没有搜索\n      fetchList();\n    };\n\n    const colsChange = (showCols: Col[]) => {\n      state.showCols = showCols;\n    };\n\n    const editColsChange = (editCols: Col[]) => {\n      state.editCols = editCols;\n    };\n\n    const processChange = (uploadProcess: Process) => {\n      state.uploadProcess = uploadProcess;\n    };\n\n\n    const colsNumChange = (colsNum: 4 | 8 | 16) => {\n      state.colsNum = colsNum;\n    };\n\n    const openColList = (currentCol: Col) => {\n      state.currentCol = currentCol;\n      state.isSearch = false;\n      fetchList();\n    };\n\n    const resetSearch = () => {\n      state.isSearch = false;\n      state.searchValue = '';\n    };\n\n    const toCols = () => {\n      state.currentCol = {} as Col;\n      state.list = [];\n      resetSearch();\n    };\n\n    const toEdit = () => {\n      state.currentOperateType = 'edit';\n    };\n\n\n    const init = async () => {\n      setHeight();\n      load();\n    };\n\n\n    const refresh = () => {\n      fetchList();\n    };\n\n    onMounted(() => {\n      init();\n    });\n\n\n    return {\n      ...toRefs(state),\n      header,\n      isEdit,\n      handleTypeChange,\n      cancelEdit,\n      commitEdit,\n      search,\n      colsChange,\n      editColsChange,\n      colsNumChange,\n      openColList,\n      toCols,\n      toEdit,\n      mainStyle,\n      refresh,\n      title,\n      showBackBtn,\n      processChange,\n      bgStyle,\n      bgLoading,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3be903bd&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3be903bd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3be903bd\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/no-result.794d31be.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=affcabe0&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./handbagInfo.vue?vue&type=style&index=0&id=67a279dc&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=style&index=0&id=9949c1ae&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoPicker.vue?vue&type=style&index=0&id=153dc52c&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=69d6fe62&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchEmpty.vue?vue&type=style&index=0&id=3e348ec4&lang=scss&scoped=true&\""],"sourceRoot":""}