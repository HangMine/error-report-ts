{"version":3,"sources":["webpack:///./src/components/form/FormSubmitButtons.vue?7403","webpack:///./src/mixins/dialog-basic.js","webpack:///./src/mixins/loading.js","webpack:///./src/assets/img/opinion/opinion@2x.png","webpack:///./src/views/opinion/components/submitSuccess.vue?7ef1","webpack:///./src/views/opinion/index.vue?0138","webpack:///./src/views/opinion/index.vue?33d0","webpack:///./src/api/opinion.js","webpack:///./src/views/opinion/components/OpinionForm.vue?a78f","webpack:///./src/views/opinion/rules.js","webpack:///./src/views/opinion/components/AttachmentImage.vue?fe45","webpack:///./src/views/opinion/oss/uploadToOSS.js","webpack:///src/views/opinion/components/AttachmentImage.vue","webpack:///./src/views/opinion/components/AttachmentImage.vue?fff1","webpack:///./src/views/opinion/components/AttachmentImage.vue","webpack:///src/views/opinion/components/OpinionForm.vue","webpack:///./src/views/opinion/components/OpinionForm.vue?8e93","webpack:///./src/views/opinion/components/OpinionForm.vue","webpack:///./src/views/opinion/components/submitSuccess.vue?9b1f","webpack:///src/views/opinion/components/submitSuccess.vue","webpack:///./src/views/opinion/components/submitSuccess.vue?145e","webpack:///./src/views/opinion/components/submitSuccess.vue","webpack:///src/views/opinion/index.vue","webpack:///./src/views/opinion/index.vue?b254","webpack:///./src/views/opinion/index.vue","webpack:///./src/components/form/FormSubmitButtons.vue?842c","webpack:///src/components/form/FormSubmitButtons.vue","webpack:///./src/components/form/FormSubmitButtons.vue?4eec","webpack:///./src/components/form/FormSubmitButtons.vue","webpack:///./src/views/opinion/components/OpinionForm.vue?d843","webpack:///./src/utils/validators/rules-validation.js","webpack:///./src/views/opinion/components/AttachmentImage.vue?e551"],"names":["data","visible","methods","open","this","close","loadingVeil","startLoading","text","Loading","service","lock","background","endLoading","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","class","host","directives","name","rawName","value","expression","_v","_s","user","account","ref","onHostFooter","attrs","width","$t","on","$event","closeDialog","submit","staticRenderFns","submitOpinion","axios","method","url","form","rules","model","callback","$$v","$set","opinions","validator2ElRule","isFilled","strLength","max","required","email","str","e","message","i18next","t","style","paths","disabled","files","uploadToOSS","blobOrDataUrl","sourceType","onUpload","body","isDataUrl","dataUrl2Blob","OSSUploader","send","components","UploadWithPreviewer","props","component","AttachmentImage","type","_m","dialogify","mixins","OpinionForm","FormSubmitButtons","isLoading","confirmEvent","title","setLang","lang","$i18n","locale","warpErrMessage","errMessage","computed","size","$emit","cancelText","submitText","String","default","btnStyle","Object","validateFormFields","validateForm","validator","passwordConfirm","password","Error","i18n","roleGenerator","validations","length","map","prop","spaceTrim","pattern","requirement","trigger","selection","number","numberPositive","numberNatural","integerPositive","charTypeWithNormal","charTypeWithoutEmail","numberAndAlphabet","numAlphabetUnderscore","charLength","min","validator2ElemRule","checkPasswordRepeat","phone","mobilePhoneChina","charLengthRange","len","charLengthMini","charLengthMax","charTypeNormal","charTypeNormal1","charTypeNotOnlyDigitOrLatin","charTypeDigitAndLatin","charTypeDigitOrLatin","charTypeDigitAndHyphen","keys","forEach","key","charAt","toUpperCase","substr"],"mappings":"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","file":"js/chunk-a8acdf54.bc17741b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSubmitButtons.vue?vue&type=style&index=0&id=b6a9c9b4&lang=scss&scoped=true&\"","export default {\n  data() {\n    return {\n      visible: false,\n    };\n  },\n  methods: {\n    open() {\n      this.visible = true;\n    },\n    close() {\n      this.visible = false;\n    },\n  },\n};\n","import { Loading } from 'element-ui';\n\nexport default {\n  data() {\n    return {\n      loadingVeil: null,\n    };\n  },\n  methods: {\n    // Show Loading veil\n    startLoading(text) {\n      if (!this.loadingVeil) {\n        this.loadingVeil = Loading.service({\n          lock: true,\n          text,\n          background: 'rgba(0, 0, 0, 0.7)',\n        });\n      } else {\n        this.loadingVeil.text = text;\n      }\n    },\n    // Hide loading veil\n    endLoading() {\n      if (this.loadingVeil) {\n        this.loadingVeil.close();\n        this.loadingVeil = null;\n      }\n    },\n  },\n};\n","module.exports = __webpack_public_path__ + \"img/opinion@2x.5894c286.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitSuccess.vue?vue&type=style&index=0&id=65189f92&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0e9bdfff&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"opinion-form-container\",class:{ 'on-host-container': !!_vm.host }},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"content\"},[_c('div',[_c('p',[_vm._v(\"Hi, \"+_vm._s(_vm.user.name || _vm.user.account))])]),_c('opinion-form',{ref:\"opinionForm\"})],1),_c('footer',{staticClass:\"footer\",class:{ onHostFooter: !!_vm.host }},[_c('FormSubmitButtons',{attrs:{\"size\":\"medium\",\"btn-style\":{ width: '90px' },\"submitText\":_vm.$t('opinion.formSubmitButtons.submit')},on:{\"cancel\":function($event){return _vm.closeDialog('cancel')},\"submit\":_vm.submit}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from './axios';\n\n/**\n * 提交意见反馈\n * @param {Object} data\n * @returns {Promise}\n */\n// eslint-disable-next-line import/prefer-default-export\nexport const submitOpinion = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/feedback/save',\n    data,\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"opinion-form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"opinions\",\"label\":_vm.$t('opinion.desc')}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('opinion.placeholder'),\"type\":\"textarea\",\"resize\":\"none\",\"rows\":5,\"maxlength\":\"300\",\"show-word-limit\":\"\"},model:{value:(_vm.form.opinions),callback:function ($$v) {_vm.$set(_vm.form, \"opinions\", $$v)},expression:\"form.opinions\"}})],1),_c('div',{staticClass:\"desc\"},[_c('p',[_vm._v(_vm._s(_vm.$t('opinion.help')))]),_c('p',[_vm._v(_vm._s(_vm.$t('opinion.help_example')))]),_c('p',[_vm._v(_vm._s(_vm.$t('opinion.help_example_1')))]),_c('p',[_vm._v(_vm._s(_vm.$t('opinion.help_example_2')))])]),_c('el-form-item',{attrs:{\"label\":_vm.$t('opinion.type_title')}},[_c('el-radio-group',{model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(_vm._s(_vm.$t('opinion.type_1')))]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(_vm._s(_vm.$t('opinion.type_2')))]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(_vm._s(_vm.$t('opinion.type_3')))])],1)],1),_c('AttachmentImage',{ref:\"attachmentImage\"}),_c('el-form-item',{staticClass:\"email-input\",attrs:{\"label\":_vm.$t('opinion.contact'),\"prop\":\"email\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('div',{staticClass:\"desc\"},[_c('p',[_vm._v(_vm._s(_vm.$t('opinion.contact_desc')))])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import strLength from '@/utils/validators/str-length';\nimport isFilled from '@/utils/validators/is-filled';\nimport validator2ElRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport i18next from 'i18next';\n\n\nexport default {\n  // 为了在UI上显示必填项（*），添加{ required: true }， 有优化的可能？\n  opinions: [validator2ElRule([isFilled, strLength], { max: 300 }), { required: true }],\n  email: validator2ElRule((str) => {\n    try {\n      isFilled(str);\n    } catch (e) {\n    }\n    strLength(str, { max: 30, message: i18next.t('opinion.exceed_email_max') });\n  }),\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('opinion.picture')))])]),_c('UploadWithPreviewer',{ref:\"uploadWithPreviewer\",attrs:{\"urls\":_vm.paths,\"maxSize\":3 * 1024 * 1024,\"width\":100,\"height\":100,\"max\":3,\"accept\":\".png, .jpeg, .jpg\",\"multiple\":\"\",\"disabled\":_vm.disabled,\"exceedMaxErr\":true},on:{\"change\":function($event){_vm.files = $event}}}),_c('div',{staticClass:\"priviewer-desc\"},[_vm._v(_vm._s(_vm.$t('opinion.attchment.tip')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { OSSUploader } from '@/utils/oss/uploader';\nimport isDataUrl from '_/is-data-url';\nimport { dataUrl2Blob } from '_/blob-utils';\n\n/**\n *\n * 此为公用uploadToOSS的修改版本， 返回值修改为图片的路径。\n * @param {Blob|string} blobOrDataUrl 一个dataUrl或者Blob对象（包括File）\n * @param {string} sourceType 资源类型 - @see {@link http://api.4dshoetech.com/project/61/interface/api/4387}\n * @param {(event: unknown,\n    fileLoaded: number,\n    fileSize: number,\n    process: number,\n    options: ComputedUploaderOptions<Params, Query>\n  ) => any} onUpload 上传进度 - 具体自己看结果或者源码\n * @return {Promise<string>}\n */\nconst uploadToOSS = async (blobOrDataUrl, sourceType, onUpload) => {\n  let body;\n  if (typeof blobOrDataUrl === 'string' && isDataUrl(blobOrDataUrl)) {\n    // 转化blob对象\n    body = dataUrl2Blob(blobOrDataUrl);\n  } else {\n    body = blobOrDataUrl;\n  }\n  // OSSUploader 会自动处理后缀名的问题，不需要额外的处理\n  // 上传到oss\n  /** @see {@link vscode://../from/a} */\n  const { url } = await OSSUploader.send({\n    sourceType,\n    body,\n    onUpload,\n  });\n\n  return url;\n};\n\nexport default uploadToOSS;\n","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('opinion.picture') }}</span>\n    </h2>\n    <UploadWithPreviewer\n      ref=\"uploadWithPreviewer\"\n      :urls=\"paths\"\n      :maxSize=\"3 * 1024 * 1024\"\n      :width=\"100\" :height=\"100\"\n      :max=\"3\"\n      accept=\".png, .jpeg, .jpg\"\n      multiple\n      :disabled=\"disabled\"\n      :exceedMaxErr=\"true\"\n      @change=\"files = $event\"\n    />\n    <div class=\"priviewer-desc\">{{$t('opinion.attchment.tip')}}</div>\n  </div>\n</template>\n\n<script>\nimport UploadWithPreviewer from '@/components/upload/UploadWithPreviewer';\nimport uploadToOSS from '../oss/uploadToOSS';\n\n\nexport default {\n  components: {\n    UploadWithPreviewer,\n  },\n  props: ['titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    /**\n     * @return Array\n     * 返回图片链接的Array\n     */\n    async getImageOssPaths() {\n      const result = this.$refs.uploadWithPreviewer.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'BASE')));\n      return [...uploadedPaths, ...paths];\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin-bottom: 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n.priviewer-desc {\n  font-size: 12px;\n  color: #999;\n  line-height: 30px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentImage.vue?vue&type=template&id=564b40b2&scoped=true&\"\nimport script from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentImage.vue?vue&type=style&index=0&id=564b40b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"564b40b2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"opinion-form\">\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"form\">\n      <el-form-item prop=\"opinions\" :label=\"$t('opinion.desc')\">\n        <el-input\n          v-model=\"form.opinions\"\n          :placeholder=\"$t('opinion.placeholder')\"\n          type=\"textarea\"\n          resize=\"none\"\n          :rows=\"5\"\n          maxlength=\"300\"\n          show-word-limit />\n      </el-form-item>\n      <div class=\"desc\">\n        <p>{{$t('opinion.help')}}</p>\n        <p>{{$t('opinion.help_example')}}</p>\n        <p>{{$t('opinion.help_example_1')}}</p>\n        <p>{{$t('opinion.help_example_2')}}</p>\n      </div>\n      <el-form-item :label=\"$t('opinion.type_title')\">\n        <el-radio-group v-model=\"form.type\">\n          <el-radio :label=\"1\">{{$t('opinion.type_1')}}</el-radio>\n          <el-radio :label=\"2\">{{$t('opinion.type_2')}}</el-radio>\n          <el-radio :label=\"3\">{{$t('opinion.type_3')}}</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <AttachmentImage ref=\"attachmentImage\" />\n      <el-form-item :label=\"$t('opinion.contact')\" prop=\"email\" class=\"email-input\">\n        <el-input v-model=\"form.email\" clearable/>\n      </el-form-item>\n      <div class=\"desc\">\n        <p>{{$t('opinion.contact_desc')}}</p>\n      </div>\n\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { validateFormFields } from '@/utils/validators/rules-validation.js';\nimport opinionRules from '@/views/opinion/rules.js';\nimport AttachmentImage from './AttachmentImage';\n\nexport default {\n  name: 'OpinionForm',\n  components: {\n    AttachmentImage,\n  },\n  data() {\n    return {\n      form: {\n        opinions: '',\n        type: null,\n        email: '',\n      },\n      rules: opinionRules,\n    };\n  },\n  methods: {\n    // 取得图片链接(外部调用)\n    async getImageData() {\n      const images = await this.$refs.attachmentImage.getImageOssPaths();\n      return images;\n    },\n    async validateForm() {\n      console.log(this.$refs.form);\n      await validateFormFields(this.$refs.form);\n      return this.form;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .desc {\n    padding-bottom: 24px;\n    line-height: 18px;\n    font-size: 12px;\n    color: #999;\n    word-break: break-word;\n  }\n  .email-input {\n    width: 240px;\n  }\n  .opinion-form {\n    padding-right: 16px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpinionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpinionForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpinionForm.vue?vue&type=template&id=08150d71&scoped=true&\"\nimport script from \"./OpinionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OpinionForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OpinionForm.vue?vue&type=style&index=0&id=08150d71&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08150d71\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_vm._m(0),_c('div',{staticClass:\"flex-end\"},[_c('div',{staticClass:\"title\"},[_c('p',[_vm._v(_vm._s(_vm.$t('opinion.successResult.title')))])]),_c('div',{staticClass:\"desc\"},[_c('p',{staticClass:\"desc-content\"},[_vm._v(_vm._s(_vm.$t('opinion.successResult.desc')))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-start picture\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/opinion/opinion@2x.png\"),\"alt\":\"插画\",\"width\":\"120\",\"height\":\"120\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex\">\n    <div class=\"flex-start picture\">\n      <img src=\"@/assets/img/opinion/opinion@2x.png\" alt=\"插画\" width=\"120\" height=\"120\">\n    </div>\n    <div class=\"flex-end\">\n      <div class=\"title\">\n        <p>{{$t('opinion.successResult.title')}}</p>\n      </div>\n      <div class=\"desc\">\n        <p class=\"desc-content\">{{$t('opinion.successResult.desc')}}</p>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  dialogify: {\n    props: {\n      width: '500px',\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n  .picture {\n    padding-right: 50px;\n  }\n  .title {\n    margin-bottom: 24px;\n    font-size:16px;\n    font-weight:900;\n    color:#333;\n    line-height:24px;\n  }\n  .desc {\n    padding-right: 18px;\n    font-size:14px;\n    font-weight:400;\n    color:#666;\n    line-height:20px;\n    .desc-content {\n      word-break: break-word;\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitSuccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitSuccess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./submitSuccess.vue?vue&type=template&id=65189f92&scoped=true&\"\nimport script from \"./submitSuccess.vue?vue&type=script&lang=js&\"\nexport * from \"./submitSuccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submitSuccess.vue?vue&type=style&index=0&id=65189f92&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65189f92\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section\n    class=\"opinion-form-container\"\n    :class=\"{ 'on-host-container': !!host }\">\n    <div v-loading=\"isLoading\" class=\"content\">\n      <div>\n        <p>Hi, {{ user.name || user.account }}</p>\n      </div>\n      <opinion-form ref=\"opinionForm\"></opinion-form>\n    </div>\n    <footer class=\"footer\" :class=\"{ onHostFooter: !!host }\">\n      <FormSubmitButtons\n        size=\"medium\"\n        :btn-style=\"{ width: '90px' }\"\n        :submitText=\"$t('opinion.formSubmitButtons.submit')\"\n        @cancel=\"closeDialog('cancel')\"\n        @submit=\"submit\" />\n    </footer>\n  </section>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport mixinLoading from '@/mixins/loading';\nimport mixinDialogBasic from '@/mixins/dialog-basic';\nimport { submitOpinion } from '@/api/opinion';\nimport { getHost } from '@/utils/exec';\nimport FormSubmitButtons from '@/components/form/FormSubmitButtons';\nimport { getContextUser } from '../../loaders/context';\nimport AppError from '../../utils/error';\nimport OpinionForm from './components/OpinionForm';\nimport submitSuccess from './components/submitSuccess';\n\n\nexport default {\n  name: 'opinion',\n  mixins: [mixinLoading, mixinDialogBasic],\n  components: {\n    OpinionForm,\n    FormSubmitButtons,\n  },\n  data() {\n    return {\n      isLoading: false,\n      host: null,\n    };\n  },\n  async created() {\n    // 用于PC端读取语言设置, 如果没有不改变语言\n    const lang = this.$route.query.language;\n    this.setLang(lang);\n    // 存储host在组件内部供之后使用\n    this.host = await getHost();\n  },\n  dialogify: {\n    confirmEvent: 'confirm',\n    props: {\n      width: '600px',\n      title: i18n.t('opinion.title'),\n    },\n  },\n  methods: {\n    async submit() {\n      this.isLoading = true;\n      try {\n        // 表单检验是否通过\n        const formData = await this.$refs.opinionForm.validateForm();\n        // 取得图片链接\n        const imageData = await this.$refs.opinionForm.getImageData();\n        // 表单提交成功后打开提交成功页面\n        await submitOpinion({\n          content: formData.opinions,\n          questionType: formData.type,\n          contactWay: formData.email,\n          imgList: imageData.join(','),\n        });\n        await this.closeDialog('submit');\n        await this.$Dialog.dialogify({\n          is: submitSuccess,\n        });\n      } catch (err) {\n        this.$errHandler(this.warpErrMessage(err));\n      } finally {\n        this.isLoading = false;\n      }\n      return null;\n    },\n    async closeDialog(type) {\n      // 根据host页面响应不同的事件\n      // const host = await getHost();\n      // eslint-disable-next-line no-unused-expressions\n      this.host ? this.host.closeWin(`feedback:${type}`) : this.$emit('confirm');\n    },\n    setLang(lang) {\n      if (lang) {\n        this.$i18n.locale = lang;\n      }\n    },\n    warpErrMessage(err) {\n      const {\n        level, invalidFields, instance,\n      } = err;\n      let errMessage;\n      if (instance?.prop === 'opinions') {\n        errMessage = i18n.t('opinion.empty_feedback');\n      } else if (instance?.prop === 'email') {\n        errMessage = i18n.t('opinion.exceed_email_max');\n      }\n      return errMessage ? new AppError(errMessage, { level, invalidFields, instance }) : err;\n    },\n  },\n  computed: {\n    user() {\n      return getContextUser();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.opinion-form-container {\n  padding-bottom: 50px;\n  background-color: #fff;\n  height: 640px;\n  width: 540px;\n  overflow: scroll;\n  background: #fff;\n}\n.opinion-form-container::-webkit-scrollbar {\n  width: 8px;\n}\n.opinion-form-container::-webkit-scrollbar-track {\n  // -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);\n  border-radius: 4px;\n}\n.opinion-form-container::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: #cdcdcd;\n}\n.on-host-container {\n  padding: 31px 24px 84px 24px;\n  height: auto;\n  overflow: auto;\n  width: auto;\n}\n\n.footer {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 600px;\n  padding: 24px;\n  background: rgba(255, 255, 255, 1);\n  box-shadow: 0px -1px 4px 0px rgba(221, 221, 221, 1);\n  border-radius: 0px 0px 4px 4px;\n}\n.onHostFooter {\n  position: fixed;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0e9bdfff&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0e9bdfff&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e9bdfff\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-submit-buttons\"},[_c('el-button',{staticClass:\"button-cancel\",style:(_vm.btnStyle),attrs:{\"size\":_vm.size,\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(_vm._s(_vm.cancelText))]),_c('el-button',{style:(_vm.btnStyle),attrs:{\"size\":_vm.size,\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('submit')}}},[_vm._v(_vm._s(_vm.submitText))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-submit-buttons\">\n    <el-button\n      :size=\"size\"\n      round\n      :style=\"btnStyle\"\n      @click=\"$emit('cancel')\"\n      class=\"button-cancel\"\n    >{{ cancelText }}</el-button>\n    <el-button\n      :size=\"size\"\n      :style=\"btnStyle\"\n      round\n      type=\"primary\"\n      @click=\"$emit('submit')\">{{ submitText }}</el-button>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n\nexport default {\n  name: 'FormSubmitButtons',\n  props: {\n    size: {\n      type: String,\n      default: '',\n    },\n    btnStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n    cancelText: {\n      type: String,\n      default: i18n.t('public.dialog.cancel'),\n    },\n    submitText: {\n      type: String,\n      default: i18n.t('public.dialog.save'),\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form-submit-buttons {\n  text-align: right;\n\n  .el-button {\n    width: 90px;\n  }\n  .button-cancel {\n    border: none;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSubmitButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSubmitButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormSubmitButtons.vue?vue&type=template&id=b6a9c9b4&scoped=true&\"\nimport script from \"./FormSubmitButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./FormSubmitButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormSubmitButtons.vue?vue&type=style&index=0&id=b6a9c9b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6a9c9b4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpinionForm.vue?vue&type=style&index=0&id=08150d71&lang=scss&scoped=true&\"","/**\n * \\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\n * 请不要再在这个文件添加并且使用element-ui的校验器\n * 为了确保大家都已读，请在该备注尾部署名\n * /\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\n *\n * 校验器（validator）在后续的版本的定义将更改为\n * “一个不返回任何东西，只抛出错误的函数或异步函数”\n * 当前文件会被按情况废弃\n *\n * 【validator是什么】\n * 比如下面的一个校验器：\n * @example\n * // 第一个参数必须是校验的对象，第二参数是一个对象，用于校验的其他判断条件\n * function required(value) {\n *    // 如果已经填了，则return;\n *    if (value) return;\n *    // 否则抛出错误\n *    throw new Error('此值必填')\n * }\n *\n * 【在element-ui使用校验器】\n * 使用validator2ElemValidator、validator2ElemRule\n * @see {./index}\n * @example\n *\n * rules: {\n *    name: validator2ElemRule(required)\n * }\n *\n * 注意的是，由于validate.js的bug，rule并不能存在由两个validator2ElemRule转换的rule\n * 如需使用两个校验器\n *\n * rules: {\n *    name: validator2ElemRule([required, required2])\n * }\n *\n * 【校验器写在哪？】\n * 写在当前你正在看的文件所在文件夹底下，并在index.js import并export，\n * 尽量以一个完整归类的校验器集合或者单个校验器作为一个文件\n *\n * 【署名】\n * 浩锋 黄月成\n */\n\nimport i18n from 'i18next';\nimport strLength from './str-length';\nimport validateForm from './validate-form';\nimport validator2ElemRule from './utils/validator-to-elem-validator';\n/**\n * 校验form表单（校验不通过会返回校验不同的fields);\n * @param {DOM} form\n * @returns {Promise}\n */\nexport const validateFormFields = validateForm;\n\n\nexport const validator = {\n  // 校验字符串长度\n  strLength,\n  // 校验两次密码是否相同\n  passwordConfirm(passwordConfirm, {\n    password,\n  }) {\n    if (password === '') {\n      throw new Error(i18n.t('validator.not_empty'));\n    }\n    if (password !== passwordConfirm) {\n      throw new Error(i18n.t('validator.same_as_prev'));\n    }\n  },\n};\n\nconst roleGenerator = {\n\n  /**\n   * 用于多个条件规则校验，校验的顺序按传入参数的顺序\n   * @param {validations}\n   * @returns {Array} rules 规则的数组集合\n   */\n  rules(...validations) {\n    if (!validations.length) throw new Error('require at lest one parameter');\n\n    return validations.map(prop => this[prop]());\n  },\n\n  /* ============================= 字符相关 =============================== */\n\n  // 开头和结尾不能为空校验\n  spaceTrim: () => ({\n    pattern: /(^\\S.*\\S$)|^\\S$/,\n    message: i18n.t('validator.space_not_start_end'),\n  }),\n\n  // 内容不能为空\n  requirement(trigger) {\n    return {\n      trigger,\n      required: true,\n      message: i18n.t('validator.not_empty'),\n    };\n  },\n  // 至少选择其中一个\n  selection() {\n    return {\n      required: true,\n      message: i18n.t('validator.at_least_one_option'),\n    };\n  },\n\n  // 验证邮箱\n  email(trigger) {\n    return {\n      trigger,\n      type: 'email',\n      message: i18n.t('validator.invalid_email'),\n    };\n  },\n\n\n  // 正数、负数、和小数\n  number() {\n    return {\n      pattern: /^(-|\\+)?\\d+(\\.\\d+)?$/,\n      message: i18n.t('validator.must_be_num'),\n    };\n  },\n  // 正整数\n  numberPositive() {\n    return {\n      pattern: /^((0\\.\\d+)|([1-9]\\d*\\.\\d+)|([1-9]+\\d*))$/,\n      message: i18n.t('validator.num_positive'),\n    };\n  },\n  // 非零的正整数\n  numberNatural() {\n    return {\n      pattern: /^[1-9]+$/,\n      message: i18n.t('validator.num_natural'),\n    };\n  },\n  // 正整数\n  integerPositive() {\n    return {\n      pattern: /^[0-9]+$/,\n      message: i18n.t('validator.integer_positive'),\n    };\n  },\n\n\n  // 不能包含特殊字符（除字母和数字外）\n  charTypeWithNormal(message = i18n.t('validator.not_special_char')) {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_]+$/,\n      message,\n    };\n  },\n\n  // 不能包含特殊字符（除字母和数字@外）\n  charTypeWithoutEmail() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_@.]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n\n\n  //\n  numberAndAlphabet() {\n    return {\n      pattern: /^(?![^a-zA-Z]+$)(?![^_]+$)|^(?![^a-zA-Z]+$)(?!\\D+$)/,\n      message: i18n.t('validator.num_and_alpha'),\n    };\n  },\n\n  numAlphabetUnderscore() {\n    return {\n      pattern: /(?:\\d.*_)|(?:_.*\\d)|(?:[A-Za-z].*_)|(?:_.*[A-Za-z])|(?:[A-Za-z].*\\d)|(?:\\d.*[A-Za-z])/,\n      message: i18n.t('validator.num_alpha_underscore'),\n    };\n  },\n\n  // 字符长度在一定区间内\n  charLength(min = 0, max = 0) {\n    return validator2ElemRule(validator.strLength, {\n      min,\n      max,\n    });\n  },\n\n  // 检验两次密码是否相同\n  passwordConfirm(password) {\n    return validator2ElemRule(validator.checkPasswordRepeat, {\n      password,\n    });\n  },\n\n\n  phone: () => ({\n    pattern: /^[0-9-\\s]{6,30}$/,\n    message: i18n.t('validator.invalid_phone'),\n  }),\n\n  mobilePhoneChina: () => ({\n    pattern: /^1(3|4|5|6|7|8|9)\\d{9}$/,\n    message: i18n.t('validator.invalid_phone'),\n  }),\n\n\n  // 字符长度在一定区间内\n  charLengthRange: (min = 1, max = 2) => {\n    return [\n\n      {\n        min,\n        message: i18n.t('validator.under_min_char_count', { min }),\n      },\n      {\n        max,\n        message: i18n.t('validator.exceeds_char_limit', { len: max }),\n      },\n    ];\n  },\n  // 字符最少长度\n  charLengthMini: (min) => ({\n    min,\n    message: i18n.t('validator.under_min_char_count', { min }),\n  }),\n  // 字符最少长度\n  charLengthMax: (max) => ({\n    max,\n    message: i18n.t('validator.exceeds_char_limit', { len: max }),\n  }),\n\n  // 包含中文、大小字母、数字、下划线、空格\n  charTypeNormal() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_\\s]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n  // 包含中文、大小字母、数字、空格\n  charTypeNormal1() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9\\s]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n  // 由任意字符组成，不能为纯数字或纯字母\n  charTypeNotOnlyDigitOrLatin() {\n    return {\n      pattern: /^(?![0-9]+$)(?![a-zA-Z]+$).+$/,\n      message: i18n.t('validator.not_only_digit_letter'),\n    };\n  },\n  // 由数字和字母组成，并且要同时含有数字和字母\n  charTypeDigitAndLatin() {\n    return {\n      pattern: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]+$/,\n      message: i18n.t('validator.must_digit_letter'),\n    };\n  },\n  // 由数字和字母组成，并且要同时含有数字和字母\n  charTypeDigitOrLatin() {\n    return {\n      pattern: /^[a-zA-Z0-9]+$/,\n      message: i18n.t('validator.only_digit_letter'),\n    };\n  },\n  // 由数字和-组成\n  charTypeDigitAndHyphen() {\n    return {\n      pattern: /^[0-9-]+$/,\n      message: i18n.t('validator.only_digit_hyphen'),\n    };\n  },\n};\n\nObject.keys(roleGenerator).forEach(key => {\n  roleGenerator[`validate${key.charAt(0).toUpperCase()}${key.substr(1)}`] = roleGenerator[key];\n});\n\nexport default roleGenerator;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=style&index=0&id=564b40b2&lang=scss&scoped=true&\""],"sourceRoot":""}