{"version":3,"sources":["webpack:///./src/views/material-mall/mobile-material-goods/components/GoodsBaseInfo.vue?50ce","webpack:///./src/views/material-mall/mobile-material-goods/components/GoodsBaseInfo.vue?9b00","webpack:///./src/views/material-mall/mobile-material-goods/components/GoodsBaseInfo.vue?8284","webpack:///./src/views/material-mall/mobile-material-goods/components/GoodsBaseInfo.vue","webpack:///./src/views/material-mall/mobile-material-goods/BaseInfo.vue?39a1","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?914a","webpack:///src/views/material-mall/mobile-material-goods/components/UnitField.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?b0fb","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?ba99","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?d41e","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?acf8","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue","webpack:///./src/views/material-mall/mobile-material-goods/BaseInfo.vue?b0b2","webpack:///./src/views/material-mall/mobile-material-goods/BaseInfo.vue?7552","webpack:///./src/views/material-mall/mobile-material-goods/BaseInfo.vue?0704","webpack:///./src/views/material-mall/mobile-material-goods/BaseInfo.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/GoodsBaseInfo.vue?4b57","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?256c","webpack:///./src/views/material-mall/mobile-material-goods/utils.ts","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-closest.js","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?42b8","webpack:///./src/utils/i18n-material-type.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","loading","_l","field","key","prop","count","label","value","material","units","on","addCount","tagsDisplay","notes","staticRenderFns","getCategoryName","id","axios","method","url","data","ids","mixins","components","FromFieldText","props","type","Object","require","default","setup","emit","fields","collapseStatus","detailPage","val","oldVal","category","categoryName","i18nCategoryName","split","map","name","join","t","materialsTechnology","m","surfaceTechnics","designContent","applicableProductLine","moqUnit","samplePeriodUnit","productionLeadTimeUnit","thicknessUnit","materialCountryOfOrigin","validFieldsCount","filter","i","length","console","log","deep","immediate","printPatternsInfoTags","printPatternsInfo","tag","patternsTags","patterns","e","component","unit","params","headers","String","required","Number","_t","content","_e","index","$i18n","i18next","language","UnitField","Array","goodInfo","GoodsBaseInfo","getMaterialDetail","countSettledAxios","model","event","methods","$emit","defineProperty","exports","useClosest","_compositionApi","_vueClosest","componentName","that","getCurrentInstance","computed","closest","call","_default","translateCategoryName"],"mappings":"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","file":"js/chunk-437dfaee.c3f71656.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"goods-base\"},[_c('div',{staticClass:\"divider-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('material-mall.goods-detail.product attributes'))+\" \")]),_c('div',{attrs:{\"loading\":_vm.loading}},[_c('ul',{staticClass:\"attr-row\"},[_vm._l((_vm.fields),function(field){return _c('li',{key:field.prop,staticClass:\"field-item\"},[_c('FromFieldText',{attrs:{\"count\":_vm.count,\"id\":field.label,\"label\":field.label,\"content\":field.value ? field.value : _vm.material[field.prop],\"units\":field.units},on:{\"update\":_vm.addCount}})],1)}),_c('li',{staticClass:\"field-item full\"},[_c('FromFieldText',{staticClass:\"field-item-pattern\",attrs:{\"label\":_vm.$t('material.info.print_and_pattern')}},[_c('div',[_vm._v(_vm._s(_vm.tagsDisplay))])])],1),_c('li',{staticClass:\"field-item full\"},[_c('FromFieldText',{attrs:{\"label\":_vm.$t('material.info.notes')}},[_c('div',[_vm._v(_vm._s(_vm.material.notes))])])],1)],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport {\n  defineComponent, ref, watch, computed,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\nimport useClosest from '@4dst-saas/public-utils/dist/composables/use-closest';\nimport translateCategoryName from '@/utils/i18n-material-type';\nimport { countSettledAxios } from '../utils';\n\nimport DetailPage from '../DetailPage.vue';\nimport FromFieldText from './FromFieldText.vue';\n\n// 获取大中小类组合的类名\nasync function getCategoryName(id: string) {\n  return ((await axios({\n    method: 'post',\n    url: '/show/category/name',\n    data: {\n      ids: [id],\n    },\n  })).data)[id];\n}\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  components: {\n    FromFieldText,\n  },\n  props: {\n    material: {\n      type: Object,\n      require: true,\n      default: () => ({}),\n    },\n  },\n  setup(props, { emit }) {\n    const loading = ref(true);\n    const fields = ref<any>([]);\n    const collapseStatus = ref<Boolean>(false);\n\n    const detailPage = useClosest<typeof DetailPage>('GoodsDetailPage');\n\n    watch(() => props.material, async (val, oldVal) => {\n      // 当请求回material数据才渲染页面\n      loading.value = !!oldVal;\n\n      const categoryName = await getCategoryName(val.category) as string;\n      const i18nCategoryName = categoryName.split('/').map(\n        name => translateCategoryName(name),\n      ).join('/');\n      emit('update', props.count + 1);\n\n      fields.value = [\n        {\n          label: i18n.t('material.info.material_type'),\n          value: i18nCategoryName,\n          // units: [\n          //   { type: 'materialType', value: val.materialType },\n          // ],\n        },\n        {\n          label: i18n.t('material.info.materialsTechnology'),\n          prop: 'materialsTechnology',\n          value: val.materialsTechnology.split(',').map((m: string) => i18n.t(`material.materialsTechnology.${m}`)).join(),\n        },\n        {\n          label: i18n.t('material.info.surfaceTechnics'),\n          prop: 'surfaceTechnics',\n          value: val.surfaceTechnics.split(',').map((m: string) => i18n.t(`material.surfaceTechnics.${m}`)).join(),\n        },\n        {\n          label: i18n.t('material.info.designContent'),\n          prop: 'designContent',\n          value: val.designContent.split(',').map((m: string) => i18n.t(`material.designContent.${m}`)).join(),\n        },\n        {\n          label: i18n.t('material.info.applicableProductLine'),\n          prop: 'applicableProductLine',\n          value: val.applicableProductLine.split(',').map((m: string) => i18n.t(`material.applicableProductLine.${m}`)).join(),\n        },\n        // { label: '材料种类', prop: i18n.t(`material.materialsTechnology.${val.materialsTechnology}`) },\n        // { label: '表面工艺', prop: i18n.t(`material.surfaceTechnics.${val.surfaceTechnics}`) },\n        // { label: '图案内容', prop: i18n.t(`material.designContent.${val.designContent}`) },\n        // { label: '适用产品线', prop: i18n.t(`material.applicableProductLine.${val.applicableProductLine}`) },\n        {\n          label: i18n.t('material.info.moq'),\n          prop: 'moq',\n          units: [\n            { type: 'mqqUnit', value: val.moqUnit },\n          ],\n        },\n        { label: i18n.t('material.info.season'), prop: 'season' },\n        {\n          label: i18n.t('material.info.sample_period'),\n          prop: 'samplePeriod',\n          units: [\n            { type: 'date', value: val.samplePeriodUnit },\n          ],\n        },\n        {\n          label: i18n.t('material.info.lead_time'),\n          prop: 'productionLeadTime',\n          units: [\n            { type: 'date', value: val.productionLeadTimeUnit },\n          ],\n        },\n        { label: i18n.t('material.info.specification'), prop: 'specification' },\n        {\n          label: i18n.t('material.info.thickness'),\n          prop: 'thickness',\n          units: [\n            { type: 'thicknessUnit', value: val.thicknessUnit },\n          ],\n        },\n        {\n          label: i18n.t('material.info.original_country'),\n          units: [\n            { type: 'country', value: val.materialCountryOfOrigin },\n          ],\n        },\n      ];\n      if (detailPage.value) {\n        detailPage.value.validFieldsCount = fields.value.filter(\n          i => i.units && i.units[0].value,\n        ).length;\n        console.log(detailPage.value.validFieldsCount);\n      }\n    }, { deep: true, immediate: true });\n\n    const printPatternsInfoTags = computed(() => {\n      return props.material.printPatternsInfo?.map((tag: string | object) => {\n        if (typeof tag === 'string') {\n          // return { tag };\n          return tag;\n        }\n        // return tag;\n        return (tag as any).tag;\n        // }) || [];\n      }).join('、') || '';\n    });\n    const patternsTags = computed(() => {\n      return props.material.patterns?.map((tag: string | object) => {\n        if (typeof tag === 'string') {\n          // return { tag };\n          return tag;\n        }\n        // return tag;\n        return (tag as any).tag;\n        // }) || [];\n      }).join('、') || '';\n    });\n    const tagsDisplay = computed(() => {\n      return [printPatternsInfoTags.value, patternsTags.value].filter(e => e && e.length > 0).join('、');\n    });\n\n    return {\n      collapseStatus,\n      fields,\n      loading,\n\n      // printPatternsInfoTags,\n      // patternsTags,\n      tagsDisplay,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsBaseInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsBaseInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GoodsBaseInfo.vue?vue&type=template&id=55dea6fc&scoped=true&\"\nimport script from \"./GoodsBaseInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./GoodsBaseInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GoodsBaseInfo.vue?vue&type=style&index=0&id=55dea6fc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55dea6fc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=style&index=0&id=668621a6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watch } from '@vue/composition-api';\nimport i18n from 'i18next';\nimport axios from '@/utils/axios';\nimport { countSettledAxios } from '../utils';\n\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler }, emit, ...arg }) {\n    const unit = ref('');\n\n    watch(() => props.value, async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          if (props.type === 'country') {\n            units = (await getCountryList()).data;\n            currentUnit = units.find(u => +u.id === +props.value);\n            // unit.value = currentUnit ? currentUnit.usName : '';\n            unit.value = currentUnit\n              ? (i18n.language === 'en' ? (currentUnit.usName || currentUnit.name) : (currentUnit.name || currentUnit.usName))\n              : '';\n            emit('update', props.count + 1);\n          } else {\n            units = (\n              await getDictionaryByTypeCode(props.type, i18n.language)\n            ).data;\n            currentUnit = units.find(u => +u.itemValue === +props.value);\n            unit.value = currentUnit ? currentUnit.label : '';\n            emit('update', props.count + 1);\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    }, {\n      immediate: true,\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=01b1cef2&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=01b1cef2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01b1cef2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-form-field\"},[_c('div',{staticClass:\"content-box\"},[_c('label',[_vm._v(_vm._s(_vm.label)+\"：\")]),_vm._t(\"default\",[_c('div',[(_vm.content)?_c('span',{staticClass:\"content\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")]):_vm._e(),_vm._l((_vm.units),function(unit,index){return [_c('UnitField',{key:unit.type,attrs:{\"count\":_vm.count,\"type\":unit.type,\"value\":unit.value},on:{\"update\":_vm.addCount}}),(index < _vm.units.length - 1)?_c('span',{key:index,staticClass:\"unit-sep\"},[_vm._v(\" \"+_vm._s(_vm.$i18n.i18next.language === 'en' ? ' per ' : '/')+\" \")]):_vm._e()]})],2)])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent } from '@vue/composition-api';\n\nimport { countSettledAxios } from '../utils';\nimport UnitField from './UnitField.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  name: 'MaterialFormFieldText',\n  components: { UnitField },\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String, Number],\n      default: '',\n    },\n    // 单位数组\n    units: {\n      type: Array as () => Unit[],\n      default: () => [],\n    },\n  },\n  setup(props) {\n    return {\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FromFieldText.vue?vue&type=template&id=72cd31bc&scoped=true&\"\nimport script from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nexport * from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FromFieldText.vue?vue&type=style&index=0&id=72cd31bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72cd31bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"baseinfo-container flex-column\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('material-mall.goods-detail.product attributes'))+\" \")]),_c('main',{staticClass:\"content\"},[(_vm.goodInfo)?_c('GoodsBaseInfo',{attrs:{\"material\":_vm.goodInfo,\"count\":_vm.count},on:{\"update\":_vm.addCount}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\nimport { MaterialGoods, countSettledAxios } from './utils';\nimport GoodsBaseInfo from './components/GoodsBaseInfo.vue';\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  components: { GoodsBaseInfo },\n  props: {\n    goodInfo: {\n      type: Object as () => MaterialGoods,\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BaseInfo.vue?vue&type=template&id=668621a6&scoped=true&\"\nimport script from \"./BaseInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./BaseInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BaseInfo.vue?vue&type=style&index=0&id=668621a6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"668621a6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsBaseInfo.vue?vue&type=style&index=0&id=55dea6fc&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=style&index=0&id=72cd31bc&lang=scss&scoped=true&\"","import axios from '@/utils/axios';\n\nexport interface ImgJson {\n  diffuse: string\n  flat: string\n  height: string\n  normal: string\n  specular: string\n  thumbnail: string\n  toeThumbnail: string\n  texture?: string\n\n  glossiness: string\n  // 有的有有的没有，条件暂时不明\n  images?: string[]\n  models?: string[]\n  videos?: string[]\n}\n\nexport interface MaterialGoods {\n  id: string\n  materialId: string\n  materialName: string\n  imgJson: ImgJson\n  /* 点击数 */\n  click?: number\n  color?: string\n  colorFamily?: string\n  companyId?: string\n  samplePrice?: number\n  totalSize?: number\n  [propName: string]: any\n\n  materialType: number\n  /** 供应商材料名称 */\n  supplierArticleName: string\n  supplierArticleNo: string\n  supplierName: string\n  /** 使用部位 */\n  partUsed: string\n  /** 起订量 */\n  moq: number\n  moqUnit: number\n  season: string\n  /** 样品周期 */\n  samplePeriod: string\n  samplePeriodUnit: number\n  /** 大货周期；接口如此 */\n  productionLeadTime: null\n  productionLeadTimeUnit: string\n  /* 规格 */\n  specification: string\n  /** 接口如此 */\n  thickness:null\n  /* 原产地 */\n  materialCountryOfOrigin: string\n}\n\n/**\n * 查询面料详细信息\n */\nexport const getMaterialDetail = (id: string) => {\n  return axios({\n    method: 'get',\n    url: '/mall/material',\n    params: {\n      id,\n    },\n  });\n};\n\nexport const countSettledAxios = {\n  props: {\n    count: Number,\n  },\n  model: {\n    prop: 'count',\n    event: 'update',\n  },\n  methods: {\n    addCount() {\n      this.$emit('update', this.count + 1);\n    },\n  },\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useClosest = useClosest;\nexports.default = void 0;\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nvar _vueClosest = require(\"../plugins/vue-closest\");\n\n// import { InstanceOfVue } from '@/typings/vue-types.d';\nfunction useClosest(componentName) {\n  var that = (0, _compositionApi.getCurrentInstance)();\n  return (0, _compositionApi.computed)(function () {\n    if (!that) {\n      return undefined;\n    }\n\n    return _vueClosest.closest.call(that, componentName);\n  });\n}\n\nvar _default = useClosest;\nexports.default = _default;","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=01b1cef2&lang=scss&scoped=true&\"","import i18n from 'i18next';\n\nexport default function translateCategoryName(categoryName: string) {\n  return i18n.t(`material.material-category.${categoryName}`);\n}\n"],"sourceRoot":""}