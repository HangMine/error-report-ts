{"version":3,"sources":["webpack:///./src/api/comment.js","webpack:///./src/assets/img/renderer/no-comment.png","webpack:///./src/views/model/detail/comment/CommentListItem.vue?5755","webpack:///./src/assets/img/renderer/at-all.jpg","webpack:///./node_modules/vue-at/dist/vue-at-textarea.js","webpack:///./src/views/model/detail/comment/CommentList.vue?6388","webpack:///./src/views/model/detail/comment/UploadImages.vue?79ab","webpack:///./src/assets/img/header/default_avatar.png","webpack:///./src/views/model/detail/comment/CommentAdd.vue?ac86","webpack:///./src/views/model/detail/comment/CommentPictureEditor.vue?80a9","webpack:///./node_modules/textarea-caret/index.js","webpack:///./node_modules/@4dst-saas/public-utils/dist/omit-undefined.js","webpack:///./src/views/model/detail/comment/CommentAdd.vue?3b50","webpack:///./src/views/model/detail/comment/CommentPictureEditor.vue?1526","webpack:///./src/views/model/detail/comment/UploadImages.vue?551d","webpack:///src/views/model/detail/comment/UploadImages.vue","webpack:///./src/views/model/detail/comment/UploadImages.vue?2f02","webpack:///./src/views/model/detail/comment/UploadImages.vue","webpack:///src/views/model/detail/comment/CommentPictureEditor.vue","webpack:///./src/views/model/detail/comment/CommentPictureEditor.vue?3e36","webpack:///./src/views/model/detail/comment/CommentPictureEditor.vue","webpack:///src/views/model/detail/comment/CommentAdd.vue","webpack:///./src/views/model/detail/comment/CommentAdd.vue?874b","webpack:///./src/views/model/detail/comment/CommentAdd.vue","webpack:///./src/views/model/detail/comment/CommentList.vue?c490","webpack:///./src/views/model/detail/comment/CommentListItem.vue?4a9f","webpack:///src/views/model/detail/comment/CommentListItem.vue","webpack:///./src/views/model/detail/comment/CommentListItem.vue?849c","webpack:///./src/views/model/detail/comment/CommentListItem.vue","webpack:///src/views/model/detail/comment/CommentList.vue","webpack:///./src/views/model/detail/comment/CommentList.vue?e1cd","webpack:///./src/views/model/detail/comment/CommentList.vue","webpack:///./src/views/model/detail/comment/CommentPictureEditor.vue?2edf"],"names":["fetchCommentList","groupAppId","data","personal","params","catalogId","objectId","axios","method","url","headers","AddComment","DeleteComment","EditComment","fetchAtableList","queryHasDot","updateDot","module","exports","e","t","n","i","o","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","s","r","a","options","render","staticRenderFns","_scopeId","computed","keys","forEach","esModule","window","getSelection","rangeCount","getRangeAt","f","scrollIntoViewIfNeeded","offsetTop","scrollTop","offsetHeight","parentElement","removeAllRanges","addRange","map","at","index","lastIndexOf","reduce","b","top","left","offsetLeft","offsetParent","g","parentNode","cloneRange","collapse","setStart","endContainer","value","assign","arguments","length","name","mixins","props","type","String","ats","Array","suffix","loop","Boolean","allowSpaces","tabSelect","avoidEmail","showUnique","hoverSelect","members","nameKey","filterMatch","Function","toLowerCase","indexOf","deleteMatch","scrollRef","bindsValue","this","customsEmbedded","hasComposition","atwho","atItems","currentItem","list","cur","style","x","y","$refs","wrap","document","querySelector","scrollLeft","pageXOffset","pageYOffset","watch","$nextTick","scrollToCur","handleInput","handleValueUpdate","mounted","$scopedSlots","embeddedItem","methods","itemName","isCur","$el","innerHTML","dispatchInput","Event","bubbles","dispatchEvent","handleItemHover","selectByMouse","handleItemClick","insertItem","handleDelete","endOffset","childNodes","nodeType","Node","TEXT_NODE","test","previousSibling","previousElementSibling","slice","reverse","unshift","some","getAttribute","preventDefault","stopPropagation","setStartBefore","deleteContents","u","h","toString","v","w","handleKeyDown","keyCode","metaKey","ctrlKey","selectByKeyboard","closePanel","setTimeout","handleCompositionStart","handleCompositionEnd","$emit","filter","openPanel","getClientRects","range","offset","target","Math","max","min","insertText","setEnd","createTextNode","insertNode","setEndAfter","insertHtml","createElement","appendChild","htmlToElement","setAttribute","splitText","insertBefore","setEndBefore","firstChild","trim","content","push","join","$createElement","_self","_c","ref","staticClass","on","compositionstart","compositionend","input","_l","key","refInFor","class","attrs","mouseenter","click","_t","domProps","textContent","_s","item","_e","_v","directives","rawName","expression","current","apply","navigator","userAgent","head","getElementsByTagName","id","refs","parts","css","media","sourceMap","insertAt","nextSibling","Error","singleton","bind","sources","btoa","unescape","encodeURIComponent","JSON","stringify","styleSheet","cssText","removeChild","splice","DEBUG","locals","extends","selectionEnd","selectionStart","chunk","atEnd","focus","properties","isBrowser","isFirefox","mozInnerScreenX","getCaretCoordinates","element","position","debug","el","div","body","getComputedStyle","currentStyle","isInput","nodeName","whiteSpace","wordWrap","visibility","prop","lineHeight","height","scrollHeight","parseInt","overflowY","overflow","substring","replace","span","coordinates","backgroundColor","_interopRequireDefault","omitUndefined","_defineProperty2","_keys","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","source","getOwnPropertyDescriptors","defineProperties","obj","k","_default","_vm","_h","membersWithAll","scopedSlots","_u","fn","avatar","headImg","defaultAvatar","department","account","$t","model","callback","$$v","comment","mode","commentImgs","handlePublishComment","$event","handleEditComment","active","slot","imgsList","number","pImgs","imgs","img","percentage","thumb","width","_uid","handleViewImage","handleDeleteImage","inputFile","staticStyle","uploadImg","asyncForEach","arr","iterator","Promise","all","components","BaseImage","initialViewIndex","event","tmpImgs","src","$ImageViewer","show","srcList","targetElems","component","UploadImages","newList","pComment","pCommentImgs","modelId","$route","query","workspaceId","CommentPictureEditor","AtTa","version","atAll","parsingAndFindAtMembers","reg","found","validate","clearData","newVal","peek","each","getParams","commentList","_b","handleDeleteCommentItem","showVersionAndReadonly","user","info","versionName","_f","time","currentUser","readonly","nativeOn","handleClickEdit","handleClickDelete","status","pic","handleViewPicture","atableMembers","CommentAdd","required","showVersion","account2Username","defaultIndex","targetImgs","find","CommentListItem","loading","total","undefined","cursor","size","records","totalPage","disabled","noMore"],"mappings":"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","file":"js/chunk-c05050bc.172b0be9.js","sourcesContent":["import axios from './axios';\n\n// 获取评论列表\nexport const fetchCommentList = (groupAppId, data) => {\n  const { personal, ...params } = data;\n  params.catalogId = params.objectId || params.catalogId;\n  delete params.objectId;\n  if (personal) {\n    return axios({\n      method: 'get',\n      url: '/msgcenter/comment/list/personal',\n      headers: {\n        groupAppId,\n      },\n      params,\n    });\n  }\n\n  return axios({\n    method: 'get',\n    url: '/msgcenter/comment/list',\n    headers: {\n      groupAppId,\n    },\n    params,\n  });\n};\n\n// 添加评论\nexport const AddComment = (groupAppId, data) => {\n  data = { ...data };\n  data.catalogId = data.objectId || data.catalogId;\n  delete data.objectId;\n  return axios({\n    method: 'post',\n    url: '/msgcenter/comment/add',\n    headers: {\n      groupAppId,\n    },\n    data,\n  });\n};\n\n// 删除评论\nexport const DeleteComment = (data) => {\n  return axios({\n    method: 'post',\n    url: '/msgcenter/comment/delete',\n    data,\n  });\n};\n\n// 编辑评论\nexport const EditComment = (groupAppId, data) => {\n  return axios({\n    method: 'post',\n    url: '/msgcenter/comment/edit',\n    headers: {\n      groupAppId,\n    },\n    data,\n  });\n};\n\n// 获取可以@的人员列表\nexport const fetchAtableList = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/msgcenter/message/at/users',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 获取最新版本\nexport const getLatestVersion = (params) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/file/getRevisionsInfo',\n    params,\n  });\n};\n\n// 查询是否显示小红点\nexport const queryHasDot = params => {\n  return axios({\n    method: 'get',\n    url: '/msgcenter/comment/check/read',\n    params,\n  });\n};\n\n\n// 更新小红点\nexport const updateDot = data => {\n  return axios({\n    method: 'post',\n    url: '/msgcenter/comment/read',\n    data,\n  });\n};\n","module.exports = __webpack_public_path__ + \"img/no-comment.fd894c64.png\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentListItem.vue?vue&type=style&index=0&id=a1d9a306&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/at-all.16a82d00.jpg\";","module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=11)}([function(e,t){e.exports=function(e,t,n,i){var o,r=e=e||{},a=typeof e.default;\"object\"!==a&&\"function\"!==a||(o=e,r=e.default);var s=\"function\"==typeof r?r.options:r;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),i){var l=s.computed||(s.computed={});Object.keys(i).forEach(function(e){var t=i[e];l[e]=function(){return t}})}return{esModule:o,exports:r,options:s}}},function(e,t,n){\"use strict\";function i(){var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)}t.f=function(e,t){if(e.scrollIntoViewIfNeeded)e.scrollIntoViewIfNeeded(!1);else{var n=e.offsetTop-t.scrollTop;(n<0||n>t.offsetHeight-e.offsetHeight)&&((t=t||e.parentElement).scrollTop=e.offsetTop)}},t.e=function(e){var t=window.getSelection();t&&(t.removeAllRanges(),t.addRange(e))},t.d=i,t.a=function(e,t){return t.map(function(t){return{at:t,index:e.lastIndexOf(t)}}).reduce(function(e,t){return e.index>t.index?e:t})},t.b=function(e,t){t=t||window;var n={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;for(;null!=i&&i!=t;)n.left+=i.offsetLeft,n.top+=i.offsetTop,i=i.offsetParent;return n},t.g=function(e,t){do{if(t(e))return e}while(e=e&&e.parentNode)},t.c=function(){var e=i();if(e){var t=e.cloneRange();return t.collapse(!0),t.setStart(t.endContainer,0),t}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(1),o=n(6),r=n.n(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default={name:\"At\",mixins:[r.a],props:{value:{type:String,default:null},at:{type:String,default:null},ats:{type:Array,default:function(){return[\"@\"]}},suffix:{type:String,default:\" \"},loop:{type:Boolean,default:!0},allowSpaces:{type:Boolean,default:!0},tabSelect:{type:Boolean,default:!1},avoidEmail:{type:Boolean,default:!0},showUnique:{type:Boolean,default:!0},hoverSelect:{type:Boolean,default:!0},members:{type:Array,default:function(){return[]}},nameKey:{type:String,default:\"\"},filterMatch:{type:Function,default:function(e,t,n){return e.toLowerCase().indexOf(t.toLowerCase())>-1}},deleteMatch:{type:Function,default:function(e,t,n){return t===e+n}},scrollRef:{type:String,default:\"\"}},data:function(){return{bindsValue:null!=this.value,customsEmbedded:!1,hasComposition:!1,atwho:null}},computed:{atItems:function(){return this.at?[this.at]:this.ats},currentItem:function(){return this.atwho?this.atwho.list[this.atwho.cur]:\"\"},style:function(){if(this.atwho){var e=this.atwho,t=(e.list,e.cur,e.x),o=e.y,r=this.$refs.wrap;if(r){var a=n.i(i.b)(r),s=this.scrollRef?document.querySelector(this.scrollRef).scrollLeft:0,l=this.scrollRef?document.querySelector(this.scrollRef).scrollTop:0;return{left:t+s+window.pageXOffset-a.left+\"px\",top:o+l+window.pageYOffset-a.top+\"px\"}}}return null}},watch:{\"atwho.cur\":function(e){var t=this;null!=e&&this.$nextTick(function(){t.scrollToCur()})},members:function(){this.handleInput(!0)},value:function(e,t){this.bindsValue&&this.handleValueUpdate(e)}},mounted:function(){this.$scopedSlots.embeddedItem&&(this.customsEmbedded=!0),this.bindsValue&&this.handleValueUpdate(this.value)},methods:{itemName:function(e){var t=this.nameKey;return t?e[t]:e},isCur:function(e){return e===this.atwho.cur},handleValueUpdate:function(e){var t=this.$el.querySelector(\"[contenteditable]\");e!==t.innerHTML&&(t.innerHTML=e,this.dispatchInput())},dispatchInput:function(){var e=this.$el.querySelector(\"[contenteditable]\"),t=new Event(\"input\",{bubbles:!0});e.dispatchEvent(t)},handleItemHover:function(e){this.hoverSelect&&this.selectByMouse(e)},handleItemClick:function(e){this.selectByMouse(e),this.insertItem()},handleDelete:function(e){var t=n.i(i.c)();if(t){if(this.customsEmbedded&&t.endOffset>=1){var o=t.endContainer.childNodes[t.endOffset]||t.endContainer.childNodes[t.endOffset-1];if(!o||o.nodeType===Node.TEXT_NODE&&!/^\\s?$/.test(o.data))return;o.nodeType===Node.TEXT_NODE?o.previousSibling&&(o=o.previousSibling):o.previousElementSibling&&(o=o.previousElementSibling);var r=[].slice.call(o.childNodes);(r=[].reverse.call(r)).unshift(o);var a=void 0;if([].some.call(r,function(e){if(e.getAttribute&&null!=e.getAttribute(\"data-at-embedded\"))return a=e,!0}),a){e.preventDefault(),e.stopPropagation();var s=n.i(i.d)();s&&(s.setStartBefore(a),s.deleteContents(),n.i(i.e)(s),this.handleInput())}return}var l=this.atItems,u=this.members,c=this.suffix,d=this.deleteMatch,f=this.itemName,h=t.toString(),p=n.i(i.a)(h,l),v=p.at,m=p.index;if(m>-1){var w=h.slice(m+v.length);if(u.some(function(e){var t=f(e);return d(t,w,c)})){e.preventDefault(),e.stopPropagation();var x=n.i(i.d)();x&&(x.setStart(x.endContainer,m),x.deleteContents(),n.i(i.e)(x),this.handleInput())}}}},handleKeyDown:function(e){var t=this;if(this.atwho){if(38===e.keyCode||40===e.keyCode)return void(e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation(),this.selectByKeyboard(e)));if(13===e.keyCode||this.tabSelect&&9===e.keyCode)return this.insertItem(),e.preventDefault(),void e.stopPropagation();if(27===e.keyCode)return void this.closePanel()}(e.keyCode>=48&&e.keyCode<=90||8===e.keyCode)&&setTimeout(function(){t.handleInput()},50),8===e.keyCode&&this.handleDelete(e)},handleCompositionStart:function(){this.hasComposition=!0},handleCompositionEnd:function(){this.hasComposition=!1,this.handleInput()},handleInput:function(e){if(!this.hasComposition){var t=this.$el.querySelector(\"[contenteditable]\");this.$emit(\"input\",t.innerHTML);var o=n.i(i.c)();if(o){var r=this.atItems,a=this.avoidEmail,s=this.allowSpaces,l=this.showUnique,u=!0,c=o.toString(),d=n.i(i.a)(c,r),f=d.at,h=d.index;h<0&&(u=!1);var p=c[h-1],v=c.slice(h+f.length,c.length);if(a&&/^[a-z0-9]$/i.test(p)&&(u=!1),!s&&/\\s/.test(v)&&(u=!1),/^\\s/.test(v)&&(u=!1),u){var m=this.members,w=this.filterMatch,x=this.itemName;!e&&v&&this.$emit(\"at\",v);var b=m.filter(function(e){var t=x(e);return w(t,v,f)});if(u=!1,b.length&&(u=!0,!l)){var g=b[0];v===x(g)&&(u=!1)}u?this.openPanel(b,o,h,f):this.closePanel()}else this.closePanel()}}},closePanel:function(){this.atwho&&(this.atwho=null)},openPanel:function(e,t,n,i){var o=this,r=function(){var r=t.cloneRange();r.setStart(r.endContainer,n+i.length);var a=r.getClientRects()[0];o.atwho={range:t,offset:n,list:e,x:a.left,y:a.top-4,cur:0}};this.atwho?r():setTimeout(r,10)},scrollToCur:function(){var e=this.$refs.cur[0],t=e.parentElement.parentElement;n.i(i.f)(e,t)},selectByMouse:function(e){var t=+n.i(i.g)(e.target,function(e){return e.getAttribute(\"data-index\")}).getAttribute(\"data-index\");this.atwho=a({},this.atwho,{cur:t})},selectByKeyboard:function(e){var t=38===e.keyCode?-1:1,n=this.atwho,i=n.cur,o=n.list,r=this.loop?(i+t+o.length)%o.length:Math.max(0,Math.min(i+t,o.length-1));this.atwho=a({},this.atwho,{cur:r})},insertText:function(e,t){t.deleteContents();var o=t.endContainer;if(o.nodeType===Node.TEXT_NODE){var r=t.endOffset;o.data=o.data.slice(0,r)+e+o.data.slice(r),t.setEnd(o,r+e.length)}else{var a=document.createTextNode(e);t.insertNode(a),t.setEndAfter(a)}t.collapse(!1),n.i(i.e)(t),this.dispatchInput()},insertHtml:function(e,t){t.deleteContents();var o=t.endContainer,r=document.createElement(\"span\");if(r.appendChild(document.createTextNode(\" \")),r.appendChild(this.htmlToElement(e)),r.appendChild(document.createTextNode(\" \")),r.setAttribute(\"data-at-embedded\",\"\"),r.setAttribute(\"contenteditable\",!1),o.nodeType===Node.TEXT_NODE){var a=t.endOffset,s=o.splitText(a);o.parentNode.insertBefore(r,s),t.setEndBefore(s)}else{var l=document.createTextNode(suffix);t.insertNode(r),t.setEndAfter(r),t.insertNode(l),t.setEndAfter(l)}t.collapse(!1),n.i(i.e)(t)},insertItem:function(){var e=this.atwho,t=e.range,o=(e.offset,e.list),r=e.cur,a=this.suffix,s=this.atItems,l=this.itemName,u=this.customsEmbedded,c=t.cloneRange(),d=t.toString(),f=n.i(i.a)(d,s),h=f.at,p=f.index,v=u?p:p+h.length;c.setStart(c.endContainer,v),n.i(i.e)(c),n.i(i.e)(c);var m=o[r];if(u){var w=this.$refs.embeddedItem.firstChild.innerHTML;this.insertHtml(w,c)}else{var x=l(m)+a;this.insertText(x,c)}this.$emit(\"insert\",m),this.handleInput()},htmlToElement:function(e){var t=document.createElement(\"template\");return e=e.trim(),t.innerHTML=e,t.content.firstChild}}}},function(e,t,n){(e.exports=n(4)()).push([e.i,\".atwho-view{color:#000;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.1);min-width:120px;z-index:11110!important}.atwho-ul{list-style:none}.atwho-li{display:block}.atwho-view{border-radius:6px;box-shadow:0 0 10px 0 hsla(211,9%,44%,.5)}.atwho-ul{max-height:135px;padding:0;margin:0}.atwho-li{box-sizing:border-box;height:27px;padding:0 12px;white-space:nowrap;display:flex;align-items:center}.atwho-li span{overflow:hidden;text-overflow:ellipsis}.atwho-cur{background:#5bb8ff;color:#fff}.atwho-wrap{position:relative}.atwho-panel{position:absolute}.atwho-inner{position:relative}.atwho-view{position:absolute;bottom:0;left:-.8em;cursor:default;background-color:hsla(0,0%,100%,.94);min-width:140px;max-width:180px;max-height:200px;overflow-y:auto}.atwho-view::-webkit-scrollbar{width:11px;height:11px}.atwho-view::-webkit-scrollbar-track{background-color:#f5f5f5}.atwho-view::-webkit-scrollbar-thumb{min-height:36px;border:2px solid transparent;border-top:3px solid transparent;border-bottom:3px solid transparent;background-clip:padding-box;border-radius:7px;background-color:#c4c4c4}\",\"\"])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push(\"@media \"+n[2]+\"{\"+n[1]+\"}\"):e.push(n[1])}return e.join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];\"number\"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];\"number\"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(e,t,n){var i=n(0)(n(2),null,null,null);e.exports=i.exports},function(e,t,n){n(9);var i=n(0)(null,n(7),null,null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{ref:\"wrap\",staticClass:\"atwho-wrap\",on:{compositionstart:e.handleCompositionStart,compositionend:e.handleCompositionEnd,input:function(t){e.handleInput()},\"!keydown\":function(t){return e.handleKeyDown(t)}}},[e.atwho?n(\"div\",{staticClass:\"atwho-panel\",style:e.style},[n(\"div\",{staticClass:\"atwho-inner\"},[n(\"div\",{staticClass:\"atwho-view\"},[n(\"ul\",{staticClass:\"atwho-ul\"},e._l(e.atwho.list,function(t,i){return n(\"li\",{key:i,ref:e.isCur(i)&&\"cur\",refInFor:!0,staticClass:\"atwho-li\",class:e.isCur(i)&&\"atwho-cur\",attrs:{\"data-index\":i},on:{mouseenter:e.handleItemHover,click:e.handleItemClick}},[e._t(\"item\",[n(\"span\",{domProps:{textContent:e._s(e.itemName(t))}})],{item:t})],2)}))])])]):e._e(),e._v(\" \"),n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],ref:\"embeddedItem\"},[e._t(\"embeddedItem\",null,{current:e.currentItem})],2),e._v(\" \"),e._t(\"default\")],2)},staticRenderFns:[]}},function(e,t){var n={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},o=i(function(){return/msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase())}),r=i(function(){return document.head||document.getElementsByTagName(\"head\")[0]}),a=null,s=0,l=[];function u(e,t){for(var i=0;i<e.length;i++){var o=e[i],r=n[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(f(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(f(o.parts[a],t));n[o.id]={id:o.id,refs:1,parts:s}}}}function c(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):t.push(n[r]={id:r,parts:[a]})}return t}function d(e){var t=document.createElement(\"style\");return t.type=\"text/css\",function(e,t){var n=r(),i=l[l.length-1];if(\"top\"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if(\"bottom\"!==e.insertAt)throw new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");n.appendChild(t)}}(e,t),t}function f(e,t){var n,i,o;if(t.singleton){var r=s++;n=a||(a=d(t)),i=v.bind(null,n,r,!1),o=v.bind(null,n,r,!0)}else n=d(t),i=function(e,t){var n=t.css,i=t.media,o=t.sourceMap;i&&e.setAttribute(\"media\",i);o&&(n+=\"\\n/*# sourceURL=\"+o.sources[0]+\" */\",n+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){!function(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");void 0===(t=t||{}).singleton&&(t.singleton=o()),void 0===t.insertAt&&(t.insertAt=\"bottom\");var i=c(e);return u(i,t),function(e){for(var o=[],r=0;r<i.length;r++){var a=i[r];(s=n[a.id]).refs--,o.push(s)}e&&u(c(e),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var h,p=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join(\"\\n\")});function v(e,t,n,i){var o=n?\"\":i.css;if(e.styleSheet)e.styleSheet.cssText=p(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}},function(e,t,n){var i=n(3);\"string\"==typeof i&&(i=[[e.i,i,\"\"]]);n(8)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(5),o=n.n(i),r=n(12),a=n.n(r),s=n(1);t.default={extends:o.a,name:\"AtTextarea\",computed:{style:function(){if(this.atwho){var e=this.atwho,t=(e.list,e.cur,e.x),n=e.y,i=this.$refs.wrap,o=this.$el.querySelector(\"textarea\");if(i)return{left:t+o.offsetLeft-o.scrollLeft+\"px\",top:n+o.offsetTop-o.scrollTop+\"px\"}}return null}},methods:{handleValueUpdate:function(e){var t=this.$el.querySelector(\"textarea\");e!==t.value&&(t.value=e,this.dispatchInput())},dispatchInput:function(){var e=this.$el.querySelector(\"textarea\"),t=new Event(\"input\",{bubbles:!0});e.dispatchEvent(t)},handleDelete:function(e){var t=this.$el.querySelector(\"textarea\"),i=t.value.slice(0,t.selectionEnd);if(i){var o=this.atItems,r=this.members,a=this.suffix,l=this.deleteMatch,u=this.itemName,c=n.i(s.a)(i,o),d=c.at,f=c.index;if(f>-1){var h=i.slice(f+d.length);r.some(function(e){var t=u(e);return l(t,h,a)})&&(t.value=t.value.slice(0,f)+t.value.slice(t.selectionEnd-1),t.selectionStart=f+1,t.selectionEnd=f+1,this.handleInput())}}},handleInput:function(e){if(!this.hasComposition){var t=this.$el.querySelector(\"textarea\");this.$emit(\"input\",t.value);var i=t.value.slice(0,t.selectionEnd);if(i){var o=this.atItems,r=this.avoidEmail,a=this.allowSpaces,l=!0,u=n.i(s.a)(i,o),c=u.at,d=u.index;d<0&&(l=!1);var f=i[d-1],h=i.slice(d+c.length,i.length);if(r&&/^[a-z0-9]$/i.test(f)&&(l=!1),!a&&/\\s/.test(h)&&(l=!1),/^\\s/.test(h)&&(l=!1),l){var p=this.members,v=this.filterMatch,m=this.itemName;e||this.$emit(\"at\",h);var w=p.filter(function(e){var t=m(e);return v(t,h,c)});w.length?this.openPanel(w,h,d,c,e):this.closePanel()}else this.closePanel()}else this.closePanel()}},openPanel:function(e,t,n,i){var o=this,r=function(){var r=o.$el.querySelector(\"textarea\"),s=n+i.length,l=a()(r,s);o.atwho={chunk:t,offset:n,list:e,atEnd:s,x:l.left,y:l.top-4,cur:0}};this.atwho?r():setTimeout(r,10)},insertText:function(e,t){var n=t.selectionStart,i=t.selectionEnd;t.value=t.value.slice(0,n)+e+t.value.slice(i);var o=n+e.length;t.selectionStart=o,t.selectionEnd=o,this.dispatchInput()},insertItem:function(){var e=this.atwho,t=(e.chunk,e.offset,e.list),i=e.cur,o=e.atEnd,r=this.suffix,a=this.atItems,l=this.itemName,u=this.$el.querySelector(\"textarea\"),c=u.value.slice(0,o),d=n.i(s.a)(c,a),f=d.at,h=d.index+f.length;u.selectionStart=h,u.focus();var p=t[i],v=l(p)+r;this.insertText(v,u),this.$emit(\"insert\",p),this.handleInput()}}}},function(e,t,n){var i=n(0)(n(10),null,null,null);e.exports=i.exports},function(e,t){e.exports=require(\"textarea-caret\")}]);\n//# sourceMappingURL=vue-at-textarea.js.map","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=style&index=0&id=42dd629a&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImages.vue?vue&type=style&index=0&id=ec8909b2&scoped=true&lang=scss&\"","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentAdd.vue?vue&type=style&index=0&id=0ae61103&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentPictureEditor.vue?vue&type=style&index=0&lang=css&\"","/* jshint browser: true */\n\n(function () {\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if (el) el.parentNode.removeChild(el);\n  }\n\n  // The mirror div will replicate the textarea's style\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n  var isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput)\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // Position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput)\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth']),\n    height: parseInt(computed['lineHeight'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nif (typeof module != 'undefined' && typeof module.exports != 'undefined') {\n  module.exports = getCaretCoordinates;\n} else if(isBrowser) {\n  window.getCaretCoordinates = getCaretCoordinates;\n}\n\n}());\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.omitUndefined = omitUndefined;\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _keys = require(\"./keys\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction omitUndefined(obj) {\n  obj = _objectSpread({}, obj);\n  (0, _keys.keys)(obj).forEach(function (k) {\n    delete obj[k];\n  });\n  return obj;\n}\n\nvar _default = omitUndefined;\nexports.default = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"comment-add-container\"},[_c('at-ta',{attrs:{\"members\":_vm.membersWithAll,\"name-key\":\"account\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('BaseImage',{staticClass:\"user-avatar\",attrs:{\"src\":item.avatar || item.headImg || _vm.defaultAvatar,\"fit\":\"cover\"}}),_c('el-tooltip',{attrs:{\"disabled\":!item.department,\"content\":item.name || item.account,\"placement\":\"right\"}},[_c('span',[_vm._v(_vm._s(item.name || item.account))])]),(item.department)?_c('span',[_vm._v(\"(\"+_vm._s(item.department)+\")\")]):_vm._e()]}}])},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('model.comment.input_placeholder')},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})],1),_c('div',{staticClass:\"comment-footer\"},[_c('CommentPictureEditor',{attrs:{\"mode\":_vm.mode === 'add' ? 'add' : 'edit'},model:{value:(_vm.commentImgs),callback:function ($$v) {_vm.commentImgs=$$v},expression:\"commentImgs\"}}),(_vm.mode === 'add')?_c('div',{staticClass:\"button-group\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePublishComment}},[_vm._v(\" \"+_vm._s(_vm.$t('model.comment.publish'))+\" \")])],1):(_vm.mode === 'edit')?_c('div',{staticClass:\"button-group\"},[_c('el-button',{on:{\"click\":function($event){_vm.mode='view';_vm.$emit('on-edit-comment');}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.cancel'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleEditComment}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.confirm'))+\" \")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"pictures\",staticClass:\"comment-picture-editor-container\"},[_c('el-popover',{attrs:{\"trigger\":\"click\",\"placement\":\"top\",\"popper-class\":\"comment-picture-popover\"},on:{\"visible-change\":function (v) { _vm.active = v }}},[_c('div',{staticClass:\"wrapper\",class:{ active: _vm.active },attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('i',{staticClass:\"iconfont icon-picture\"}),(_vm.mode === 'add')?_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('model.comment.add_image'))+\" \")]):(_vm.mode === 'edit')?_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('model.comment.edit_image'))+\" \")]):_vm._e()]),_c('div',[(_vm.imgsList.length > 0)?_c('div',{staticClass:\"upload-tips\",domProps:{\"innerHTML\":_vm._s(_vm.$t('model.comment.image_count_limit', {number: 9}))}}):_vm._e(),_c('UploadImages',{attrs:{\"pImgs\":_vm.pImgs},on:{\"upload-img\":function (l){ return _vm.imgs=l; }}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{ref:\"pictures\",staticClass:\"upload-images-wrapper\"},[_vm._l((_vm.pImgs),function(img,index){return _c('li',{key:index,staticClass:\"images-item\"},[(img.percentage !== 100)?_c('div',{staticClass:\"modal\"},[_c('el-progress',{attrs:{\"width\":70,\"type\":\"circle\",\"percentage\":img.percentage}})],1):_vm._e(),_c('div',{staticClass:\"image\"},[_c('BaseImage',{attrs:{\"src\":img.thumb,\"data-src\":img.thumb,\"fit\":\"cover\",\"thumb\":{ width: 80, height: 80 }}}),_c('div',{staticClass:\"modal2\",attrs:{\"data-img-type\":(\"image-uploader-\" + _vm._uid)},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleViewImage(index)}}},[_c('span',{staticClass:\"iconfont icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDeleteImage(index)}}})])],1)])}),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pImgs.length < 9),expression:\"pImgs.length < 9\"}],staticClass:\"btn-add\",on:{\"click\":function($event){return _vm.$refs.inputFile.click()}}},[_c('input',{ref:\"inputFile\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"multiple\":\"\"},on:{\"change\":_vm.uploadImg}})])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"upload-images-wrapper\" ref=\"pictures\">\n    <li v-for=\"(img, index) of pImgs\"\n      :key=\"index\" class=\"images-item\">\n      <!-- 上传时的遮罩层 -->\n      <div class=\"modal\" v-if=\"img.percentage !== 100\">\n        <!-- 进度条 -->\n        <el-progress\n          :width=\"70\"\n          type=\"circle\" :percentage=\"img.percentage\"></el-progress>\n      </div>\n\n      <!-- 图片 -->\n      <div class=\"image\">\n        <BaseImage :src=\"img.thumb\" :data-src=\"img.thumb\"\n          fit=\"cover\" :thumb=\"{ width: 80, height: 80 }\" />\n        <!-- 悬浮在图片时的遮罩层 -->\n        <div class=\"modal2\" @click.stop=\"handleViewImage(index)\"\n          :data-img-type='`image-uploader-${_uid}`'>\n          <!-- 删除按钮 -->\n          <span class=\"iconfont icon-delete\" @click.stop=\"handleDeleteImage(index)\"></span>\n        </div>\n      </div>\n    </li>\n    <li @click=\"$refs.inputFile.click()\" class=\"btn-add\" v-show=\"pImgs.length < 9\">\n      <input\n        ref=\"inputFile\"\n        type=\"file\"\n        @change=\"uploadImg\"\n        accept='image/*'\n        style=\"display: none;\"\n        multiple />\n    </li>\n  </ul>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport {\n  getItem,\n} from '@/utils/oss/utils';\n\nimport {\n  OSSUploader,\n} from '@/utils/oss/uploader';\nimport BaseImage from '@/components/base/Image';\n\nfunction asyncForEach(arr, iterator, ...args) {\n  return Promise.all(Array.prototype.map.call(arr, (...args2) => {\n    return iterator(...args2);\n  }), ...args);\n}\n\nexport default {\n  components: {\n    BaseImage,\n  },\n  props: {\n    pImgs: Array,\n  },\n  data() {\n    return {\n      imgs: [],\n      initialViewIndex: 0,\n    };\n  },\n  model: {\n    prop: 'pImgs',\n    event: 'updateImgs',\n  },\n  methods: {\n    // 显示并上传图片\n    async uploadImg() {\n      if (!this.pImgs) this.pImgs = [];\n      // 检测文件数量\n      const length = this.$refs.inputFile.files.length + this.pImgs.length;\n      if (length > 9) {\n        this.$message.error(i18n.t('model.comment.images_maximum'));\n        return;\n      }\n\n      const uploader = new OSSUploader({ sourceType: 'COMMENT', sendAs: 'arrayBuffer' });\n\n      try {\n        const tmpImgs = this.pImgs.slice();\n        await asyncForEach(this.$refs.inputFile.files, async (uploadedFile) => {\n          // 检测大小，过大会出错\n          if (uploadedFile.size > 5 * 1024 * 1024) {\n            throw new Error(i18n.t('model.comment.image_less_than'));\n          }\n          // 获得key,防重复\n          const item = await getItem(uploadedFile,\n            { sourceType: 'COMMENT' });\n          const { path, key } = item;\n\n          if (tmpImgs.length && tmpImgs.filter(each => each.path === path).length > 0) {\n            throw new Error(i18n.t('model.comment.duplicated_image'));\n          }\n\n          // 获得用于显示的url\n          const thumb = await URL.createObjectURL(uploadedFile);\n\n          const file = {\n            ...item,\n            thumb,\n            percentage: 0,\n          };\n\n          tmpImgs.push(file);\n\n          // 上传到oss\n          await uploader.send({\n            params: { key },\n            body: uploadedFile,\n            onUpload(...args) {\n              file.percentage = parseInt(args[3] * 100, 10);\n            },\n          });\n        });\n\n        this.$emit('upload-img', tmpImgs);\n      } catch (e) {\n        this.$message.error(e.message);\n      }\n    },\n\n    // 删除某张图片\n    handleDeleteImage(index) {\n      const tmpImgs = this.pImgs.slice();\n      tmpImgs.splice(index, 1);\n      // 防重复\n      this.$refs.inputFile.value = null;\n      this.$emit('upload-img', tmpImgs);\n      // this.imgs.splice(index, 1);\n    },\n\n    // 看大图\n    handleViewImage(index) {\n      const srcList = this.pImgs.map(e => {\n        return {\n          src: e.thumb,\n        };\n      });\n      this.$ImageViewer.show(srcList, {\n        index,\n        targetElems: `[data-img-type=image-uploader-${this._uid}]`,\n      });\n    },\n  },\n  watch: {\n    // imgs(newVal) {\n    //   this.$emit('on-upload-img', newVal);\n    // },\n    // pImgs(newVal) {\n    //   this.imgs = newVal;\n    // },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.upload-images-wrapper {\n  max-width: 280px;\n  margin: -6px;\n  display: flex;\n  flex-flow: row wrap;\n}\n.image {\n  width: 80px;\n  height: 80px;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n}\n.btn-add {\n  margin: 6px;\n  width: 80px;\n  height: 80px;\n  color: #bbbbbb;\n  border: dashed 2px;\n  font-size: 40px;\n  text-align: center;\n  line-height: 76px;\n  cursor: pointer;\n  transition: color 0.3s;\n  &:hover {\n    color: #ccc;\n  }\n  &:before {\n    display: inline-block;\n    content: \"+\";\n  }\n}\n.modal,\n.modal2 {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 80px;\n  height: 80px;\n  top: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  z-index: 200;\n}\n.modal2 {\n  visibility: hidden;\n}\n.images-item {\n  margin: 6px;\n  position: relative;\n}\n.image:hover .modal2 {\n  visibility: visible;\n}\n.show {\n  visibility: visible !important;\n}\n.icon-delete {\n  color: #fff;\n  position: absolute;\n  right: 0;\n  top: 0;\n  font-size: 12px;\n  line-height: 16px;\n  width: 16px;\n  text-align: center;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadImages.vue?vue&type=template&id=ec8909b2&scoped=true&\"\nimport script from \"./UploadImages.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadImages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadImages.vue?vue&type=style&index=0&id=ec8909b2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ec8909b2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div ref=\"pictures\" class=\"comment-picture-editor-container\">\n    <el-popover trigger=\"click\" placement=\"top\"\n      @visible-change=\"(v) => { active = v }\"\n      popper-class=\"comment-picture-popover\">\n      <div class=\"wrapper\" :class=\"{ active }\" slot=\"reference\">\n        <i class=\"iconfont icon-picture\"></i>\n        <span v-if=\"mode === 'add'\">\n          {{ $t('model.comment.add_image') }}\n        </span>\n        <span v-else-if=\"mode === 'edit'\">\n          {{ $t('model.comment.edit_image') }}\n        </span>\n      </div>\n      <div>\n        <div v-if=\"imgsList.length > 0\" class=\"upload-tips\"\n          v-html=\"$t('model.comment.image_count_limit', {number: 9})\">\n        </div>\n        <UploadImages @upload-img=\"l=>imgs=l\" :pImgs=\"pImgs\" />\n        <!-- </div> -->\n      </div>\n    </el-popover>\n  </div>\n</template>\n\n<script>\nimport UploadImages from './UploadImages';\n// import 'viewerjs/dist/viewer.css';\n\nexport default {\n  components: {\n    UploadImages,\n  },\n  props: {\n    mode: {\n      type: String,\n      default: 'add', // add or edit\n    },\n    pImgs: {\n      type: Array,\n    },\n  },\n  model: {\n    prop: 'pImgs',\n    event: 'updateImgs',\n  },\n  data() {\n    return {\n      active: false,\n      imgs: [],\n      imgsList: [],\n    };\n  },\n  watch: {\n    imgs(newList) {\n      this.imgsList = newList.slice().map(each => each.thumb);\n      this.$emit('updateImgs', newList);\n    },\n  },\n};\n</script>\n<style>\n.comment-picture-popover {\n  min-width: 106px;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  display: flex;\n  align-items: center;\n  outline: none;\n  color: #c5c7cb;\n  cursor: pointer;\n  .icon-picture {\n    margin-right: 0.5rem;\n    font-size: 1.5rem;\n  }\n  &.active {\n    color: #2878ff;\n  }\n}\n\n/deep/ .el-popover {\n  min-width: 106px;\n}\n\n.upload-tips {\n  margin-bottom: 10px;\n  font-size: 12px;\n  color: #bbb;\n  strong {\n    color: #aaa;\n    font-weight: 700;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentPictureEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentPictureEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentPictureEditor.vue?vue&type=template&id=42ff6d3c&scoped=true&\"\nimport script from \"./CommentPictureEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentPictureEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentPictureEditor.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./CommentPictureEditor.vue?vue&type=style&index=1&id=42ff6d3c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42ff6d3c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"comment-add-container\">\n    <at-ta :members=\"membersWithAll\" name-key=\"account\">\n      <template v-slot:item=\"{item}\">\n        <!-- <span> -->\n        <!-- <span> -->\n        <BaseImage class=\"user-avatar\"\n          :src=\"item.avatar || item.headImg || defaultAvatar\" fit=\"cover\" />\n        <el-tooltip :disabled=\"!item.department\"\n          :content=\"item.name || item.account\" placement=\"right\">\n          <span>{{ item.name || item.account }}</span>\n        </el-tooltip>\n        <span v-if=\"item.department\">({{ item.department }})</span>\n        <!-- </span> -->\n        <!-- </span> -->\n      </template>\n      <el-input type=\"textarea\" v-model.lazy=\"comment\"\n        :placeholder=\"$t('model.comment.input_placeholder')\"></el-input>\n    </at-ta>\n\n    <div class=\"comment-footer\">\n      <!-- 图片编辑器 -->\n      <CommentPictureEditor v-model=\"commentImgs\" :mode=\"mode === 'add' ? 'add' : 'edit'\" />\n\n      <div class=\"button-group\" v-if=\"mode === 'add'\">\n        <el-button type=\"primary\" @click=\"handlePublishComment\">\n          {{ $t('model.comment.publish') }}\n        </el-button>\n      </div>\n      <div class=\"button-group\" v-else-if=\"mode === 'edit'\">\n        <el-button @click=\"mode='view';$emit('on-edit-comment');\">\n          {{ $t('public.dialog.cancel') }}\n        </el-button>\n        <el-button type=\"primary\" @click=\"handleEditComment\">\n          {{ $t('public.dialog.confirm') }}\n        </el-button>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\n// import At from 'vue-at';\nimport AtTa from 'vue-at/dist/vue-at-textarea';\nimport i18n from 'i18next';\nimport BaseImage from '@/components/base/Image.vue';\nimport { getModelInfo, getVersionDetail } from '@/api/shoe';\nimport defaultAvatar from '@/assets/img/header/default_avatar.png';\n\nimport {\n  AddComment,\n  EditComment,\n} from '@/api/comment';\nimport CommentPictureEditor from './CommentPictureEditor';\n\n\nexport default {\n  name: 'CommentAdd',\n  props: {\n    mode: {\n      type: String,\n      default: 'add',\n    },\n    // 编辑模式需要的参数\n    pComment: String,\n    pCommentImgs: Array,\n    id: String,\n    members: Array,\n    modelId: {\n      default() {\n        return this.$route.params.modelId;\n      },\n    },\n    catalogId: {\n      default() {\n        return this.$route.query.catalogId;\n      },\n    },\n    workspaceId: {\n      default() {\n        return this.$route.query.workspaceId;\n      },\n    },\n  },\n  components: {\n    BaseImage,\n    CommentPictureEditor,\n    AtTa,\n  },\n  data() {\n    return {\n      comment: '',\n      commentImgs: [],\n      version: {},\n      defaultAvatar,\n\n      // 发送信息时需要的params，包括catalogId和shoename\n      params: {},\n    };\n  },\n  computed: {\n    membersWithAll() {\n      const atAll = {\n        account: i18n.t('model.comment.all'),\n        headImg: require('@/assets/img/renderer/at-all.jpg'),\n        id: 'all',\n        department: '',\n        name: '',\n      };\n      if (!this.members) {\n        return [atAll];\n      }\n      return [atAll, ...this.members];\n    },\n  },\n  methods: {\n    async handlePublishComment() {\n      // 获取at的人的id列表\n      const at = this.parsingAndFindAtMembers().map(e => e.id);\n      try {\n        this.validate();\n        await AddComment(this.workspaceId, {\n          catalogId: this.catalogId,\n          imgs: this.commentImgs.map(e => { return { path: e.path }; }),\n          content: this.comment,\n          at,\n          params: this.params,\n          versionName: this.version.name || 'no name',\n          versionId: this.version.id,\n        });\n        this.clearData();\n        this.$emit('on-add-comment');\n      } catch (e) {\n        this.$message.error(e.message);\n      }\n    },\n    // 点击确定编辑评论\n    async handleEditComment() {\n      const at = this.parsingAndFindAtMembers().map(e => e.id);\n      try {\n        this.validate();\n        await EditComment(this.workspaceId, {\n          id: this.id,\n          imgs: this.commentImgs.map(e => { return { path: e.path }; }),\n          content: this.comment,\n          params: this.params,\n          at,\n        });\n        this.$emit('on-edit-comment');\n      } catch (e) {\n        this.$message.error(e.message);\n      }\n    },\n    // 全局匹配(@名字 )并在列表中找到该对象，放在一个数组中\n    parsingAndFindAtMembers() {\n      const reg = /@([^ ]*) /g;\n      const members = [];\n      this.comment.replace(reg, ($0, account) => {\n        const found = this.membersWithAll.find(user => account === user.account);\n        if (found) {\n          members.push(found);\n        }\n      });\n      return members;\n    },\n    // 提交前的校验\n    validate() {\n      if (this.comment.trim() === '' && this.commentImgs.length === 0) {\n        throw new Error(i18n.t('model.comment.empty_tip'));\n      }\n      if (this.commentImgs.some((item) => item.percentage !== 100)) {\n        throw new Error('Images have not been uploaded yet, please wait...');\n      }\n    },\n    // 清空数据\n    clearData() {\n      this.comment = '';\n      this.commentImgs = [];\n    },\n    // 获取@人时需要提供的信息，目前包括catalogId、shoeName\n    async getParams() {\n      const params = {};\n      params.catalogId = this.catalogId;\n      params.workspaceId = this.workspaceId;\n      const { data, code } = await getModelInfo(this.modelId);\n      if (code === 200) {\n        params.shoeName = data.modelNumber;\n      }\n      this.params = params;\n    },\n  },\n  watch: {\n    comment(newVal) {\n      if (!newVal) return;\n      const peek = newVal[newVal.length - 1];\n      if (peek === '@') {\n        // 当前面木有空格时，加个空格\n        if (newVal.length === 1 || newVal[newVal.length - 2] === ' ') return;\n        this.comment = this.comment.slice(0, -1);\n        this.comment += ' @';\n      }\n    },\n  },\n  mounted() {\n    getVersionDetail(this.catalogId).then(({ data }) => { this.version = data; });\n    if (this.mode === 'edit') {\n      this.comment = this.pComment || '';\n      if (!this.pCommentImgs) return;\n      this.commentImgs = this.pCommentImgs.slice().map(each => {\n        each.thumb = each.url;\n        each.percentage = 100;\n        return each;\n      });\n    }\n\n    this.getParams();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-add-container {\n  margin-top: 1.5rem;\n}\n.comment-footer {\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n/deep/ .el-textarea,\n/deep/ .el-textarea__inner {\n  background-color: #eee;\n}\n.user-avatar {\n  flex: none;\n  margin-right: 8px;\n  height: 24px;\n  width: 24px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentAdd.vue?vue&type=template&id=0ae61103&scoped=true&\"\nimport script from \"./CommentAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentAdd.vue?vue&type=style&index=0&id=0ae61103&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ae61103\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"comment-list-container\"},[(!_vm.commentList ||_vm.commentList.length !== 0)?_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"},{name:\"loading\",rawName:\"v-loading\",value:(!_vm.commentList),expression:\"!commentList\"}],ref:\"comment_list\",staticClass:\"list-wrapper scrollable-y\",attrs:{\"infinite-scroll-disabled\":\"disabled\",\"infinite-scroll-immediate\":\"false\"}},_vm._l((_vm.commentList),function(comment){return _c('CommentListItem',_vm._b({key:comment.id,attrs:{\"info\":comment,\"atableMembers\":_vm.members},on:{\"on-edit-comment\":function($event){return _vm.fetchCommentList()},\"on-delete-comment\":_vm.handleDeleteCommentItem}},'CommentListItem',_vm.showVersionAndReadonly,false))}),1):_c('div',{staticClass:\"no-comment-container\"},[_vm._t(\"empty\",[_c('img',{attrs:{\"src\":require(\"@/assets/img/renderer/no-comment.png\"),\"alt\":\"no-comment\"}}),_c('div',{staticClass:\"no-comment\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.comment.no_comment'))+\" \")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-list__item\"},[_c('div',{staticClass:\"icon-container\"},[_c('BaseImage',{staticClass:\"avatar\",attrs:{\"defaultImage\":_vm.defaultAvatar,\"src\":_vm.user.avatar}})],1),_c('section',{staticClass:\"comment-wrapper\"},[_c('div',{staticClass:\"user-info\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('span',{staticClass:\"username\"},[_vm._v(\" \"+_vm._s(_vm.user.name || _vm.user.account)+\" \")]),(_vm.showVersion)?_c('span',{staticClass:\"version-card\"},[_vm._v(\" \"+_vm._s(_vm.info.versionName)+\" \")]):_vm._e(),_c('span',{staticStyle:{\"flex\":\"1\"}}),_c('span',{staticClass:\"created-time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"date\")(_vm.info.time,'MM/DD/YYYY HH:mm'))+\" \")]),(_vm.currentUser.id === _vm.user.id && !_vm.readonly)?_c('el-dropdown',{staticClass:\"self-dropdown-list\",attrs:{\"trigger\":\"click\",\"placement\":\"bottom\"}},[_c('div',{staticClass:\"ellipsis-container\"},[_c('span',{staticClass:\"iconfont icon-ellipsis-vertical\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.handleClickEdit($event)}}},[_c('i',{staticClass:\"iconfont icon-pencil-o\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('model.comment.edit'))+\" \")])]),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.handleClickDelete($event)}}},[_c('i',{staticClass:\"iconfont icon-file-delete\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('model.comment.delete'))+\" \")])])],1)],1):_vm._e()],1),_c('div',{staticStyle:{\"display\":\"flex\",\"margin-top\":\".8rem\"}},[_c('span',{staticClass:\"department\"},[_vm._v(\" \"+_vm._s(_vm.user.department)+\" \")]),_c('span',{staticStyle:{\"flex\":\"1\"}}),(_vm.info.status === 2)?_c('span',{staticClass:\"flag-modified\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.comment.modified'))+\" \")]):_vm._e()])]),_c('div',{staticClass:\"comment\"},[(_vm.mode === 'view')?_c('div',{staticClass:\"comment-content-wrapper\",domProps:{\"innerHTML\":_vm._s(_vm.content)}}):_vm._e()]),(_vm.mode === 'view')?_c('ul',{ref:\"comment_pictures\",staticClass:\"comment-pictures\"},_vm._l((_vm.info.commentImgs || _vm.info.imgs),function(pic,index){return _c('li',{key:index,staticClass:\"comment-pictures__item\"},[_c('BaseImage',{staticClass:\"comment-picture\",attrs:{\"data-src\":pic.url,\"src\":pic.url,\"data-img-type\":(\"comment-item-\" + _vm._uid),\"fit\":\"cover\"},nativeOn:{\"click\":function($event){return _vm.handleViewPicture(index)}}})],1)}),0):_vm._e(),(_vm.mode === 'edit')?_c('div',[_c('comment-add',{attrs:{\"mode\":\"edit\",\"id\":_vm.info.id,\"pComment\":_vm.info.content || _vm.info.comment,\"pCommentImgs\":_vm.info.imgs || _vm.info.commentImgs,\"members\":_vm.atableMembers},on:{\"on-edit-comment\":function($event){_vm.mode='view';_vm.$emit('on-edit-comment')}}})],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 容器 -->\n  <div class=\"comment-list__item\">\n\n    <!-- 根据设计稿，左边为头像，右边为用户和评论信息 -->\n    <!-- 用户头像 -->\n    <div class=\"icon-container\">\n      <BaseImage class=\"avatar\" :defaultImage=\"defaultAvatar\" :src=\"user.avatar\" />\n    </div>\n\n    <!-- 包括用户信息和评论信息的容器 -->\n    <section class=\"comment-wrapper\">\n\n      <!-- 上方为用户信息 -->\n      <div class=\"user-info\">\n        <!-- 第一行包括用户名、版本号和创建时间 -->\n        <div style=\"display:flex;align-items:center;\">\n          <span class=\"username\">\n            {{ user.name || user.account }}\n          </span>\n          <span class=\"version-card\" v-if=\"showVersion\">\n            {{ info.versionName }}\n          </span>\n          <span style=\"flex: 1\"></span>\n          <span class=\"created-time\">\n            {{ info.time | date('MM/DD/YYYY HH:mm') }}\n          </span>\n\n          <!-- 允许用户编辑和删除自己的评论 -->\n          <el-dropdown trigger=\"click\"\n            v-if=\"currentUser.id === user.id && !readonly\"\n            class=\"self-dropdown-list\"\n            placement=\"bottom\">\n            <div class=\"ellipsis-container\">\n              <span class=\"iconfont icon-ellipsis-vertical\"></span>\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item @click.native=\"handleClickEdit\">\n                <i class=\"iconfont icon-pencil-o\"></i>\n                <span>\n                  {{ $t('model.comment.edit') }}\n                </span>\n              </el-dropdown-item>\n              <el-dropdown-item @click.native=\"handleClickDelete\">\n                <i class=\"iconfont icon-file-delete\"></i>\n                <span>\n                  {{ $t('model.comment.delete') }}\n                </span>\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n\n        </div>\n\n        <!-- 第二行包括部门，是否编辑过 -->\n        <div style=\"display:flex;margin-top:.8rem;\">\n          <span class=\"department\">\n            {{ user.department }}\n          </span>\n          <span style=\"flex: 1\"></span>\n          <span v-if=\"info.status === 2\" class=\"flag-modified\">\n            {{ $t('model.comment.modified') }}\n          </span>\n        </div>\n      </div>\n\n      <!-- 下方为评论信息 -->\n      <div class=\"comment\">\n        <div v-if=\"mode === 'view'\" class=\"comment-content-wrapper\" v-html=\"content\">\n          <!-- {{ content }} -->\n        </div>\n      </div>\n      <ul class=\"comment-pictures\" v-if=\"mode === 'view'\"\n        ref=\"comment_pictures\">\n        <li class=\"comment-pictures__item\" v-for=\"(pic, index) of info.commentImgs || info.imgs\"\n          :key=\"index\">\n          <BaseImage :data-src=\"pic.url\" :src=\"pic.url\" :data-img-type='`comment-item-${_uid}`'\n            class=\"comment-picture\" @click.native=\"handleViewPicture(index)\" fit=\"cover\" />\n        </li>\n      </ul>\n\n      <!-- 最下方为编辑模式的按钮 -->\n      <!-- <div v-if=\"mode === 'edit'\" class=\"comment-footer\">\n        <el-input type=\"textarea\" v-model=\"comment\"></el-input>\n        <CommentPictureEditor mode=\"edit\" />\n\n        <div class=\"button-group\">\n          <el-button @click=\"mode='view'\">Cancel</el-button>\n          <el-button type=\"primary\">OK</el-button>\n        </div>\n      </div> -->\n\n      <div v-if=\"mode === 'edit'\">\n        <comment-add mode=\"edit\" :id=\"info.id\"\n          :pComment=\"info.content || info.comment\"\n          :pCommentImgs=\"info.imgs || info.commentImgs\"\n          @on-edit-comment=\"mode='view';$emit('on-edit-comment')\"\n          :members=\"atableMembers\" />\n      </div>\n    </section>\n\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n// import CommentPictureEditor from './CommentPictureEditor';\nimport BaseImage from '@/components/base/Image';\n// import 'viewerjs/dist/viewer.css';\nimport defaultAvatar from '@/assets/img/header/default_avatar.png';\n\nimport {\n  DeleteComment,\n} from '@/api/comment';\nimport { getContextUser } from '../../../../loaders/context';\nimport CommentAdd from './CommentAdd';\n\nexport default {\n  components: {\n    // CommentPictureEditor,\n    CommentAdd,\n    BaseImage,\n  },\n  props: {\n    info: {\n      type: Object,\n      required: true,\n    },\n    atableMembers: Array,\n    showVersion: {\n      type: Boolean,\n      default: true,\n    },\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    user() {\n      return this.info.user;\n    },\n    currentUser() {\n      return getContextUser();\n    },\n    content() {\n      return this.account2Username(this.info.content,\n        this.atableMembers,\n        this.user);\n    },\n  },\n  data() {\n    return {\n      mode: 'view', // view or edit\n\n      comment: this.info.comment,\n      commentImgs: this.info.commentImgs,\n      defaultAvatar,\n\n      defaultIndex: 0,\n\n      // at成员列表\n      members: [],\n    };\n  },\n  methods: {\n    handleClickEdit() {\n      this.mode = 'edit';\n    },\n    async handleClickDelete() {\n      if (await this.$confirmBool(i18n.t('model.comment.confirm_delete'), i18n.t('public.dialog.prompt'), {\n        confirmButtonText: i18n.t('public.dialog.real_confirm'),\n        cancelButtonText: i18n.t('public.dialog.cancel'),\n        closeOnClickModal: false,\n        type: 'warning',\n      })) {\n        await DeleteComment([this.info.id]);\n        this.$emit('on-delete-comment', this.info);\n      }\n    },\n    // 用viewer查看大图\n    handleViewPicture(index) {\n      let targetImgs = this.info.contentImgs || this.info.imgs;\n      targetImgs = targetImgs.map(e => {\n        return {\n          src: e.url,\n        };\n      });\n      this.$ImageViewer.show(targetImgs, {\n        index,\n        targetElems: `[data-img-type='comment-item-${this._uid}']`,\n      });\n    },\n    account2Username(comment, atableMembers, i) {\n      const reg = /@([^ ]*) /g;\n      return comment.replace(reg, ($0, account) => {\n        let found;\n        if (account === i.account) {\n          found = i;\n        } else {\n          found = atableMembers.find(user => account === user.account);\n        }\n        return `<span class=\"user\">${found && found.name && found.name.trim() !== '' ? `@${found.name}` : $0}</span>&nbsp;`;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 容器\n.comment-list__item {\n  width: 97%;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  display: flex;\n  flex-flow: row nowrap;\n  border-bottom: 1px dashed #ddd;\n}\n\n.icon-container {\n  .avatar {\n    width: 2.5rem;\n    height: 2.5rem;\n    border-radius: 50%;\n  }\n}\n\n// 包括用户信息和评论信息的容器\n.comment-wrapper {\n  width: 100%;\n  margin-left: 0.7rem;\n  display: flex;\n  flex-flow: column nowrap;\n\n  .user-info {\n    position: relative;\n    margin-right: 0.3rem;\n    .ellipsis-container {\n      @extend %flex-center;\n      width: 34px;\n      height: 34px;\n      border-radius: 50%;\n      outline: none;\n      transition: all 250ms;\n      cursor: pointer;\n      &:hover {\n        background-color: #eee;\n      }\n      &:active {\n        background-color: #ddd;\n      }\n    }\n    .self-dropdown-list {\n      position: absolute;\n      right: 0;\n      top: -0.25rem;\n    }\n    .icon-ellipsis-vertical {\n      color: #7f7f7f;\n      font-size: 1.5rem;\n    }\n    .username {\n      font-size: 0.875rem;\n      color: #636363;\n    }\n    .version-card {\n      line-height: 1.2rem;\n      background-color: rgba(#4c8eff, 0.5);\n      padding: 0 0.3rem;\n      margin-left: 0.5rem;\n      font-size: 0.75rem;\n      color: #fff;\n      border-radius: 2px;\n    }\n    .created-time {\n      margin-right: 45px;\n      font-size: 0.75rem;\n      color: #7f7f7f;\n    }\n    .department,\n    .flag-modified {\n      font-size: 0.75rem;\n      color: #7f7f7f;\n    }\n  }\n\n  .comment {\n    line-height: 25px;\n    /deep/ .user {\n      // color: $color-primary;\n      padding: 1px 2px;\n      background-color: rgba($color: #ffb502, $alpha: 0.5);\n      // font-weight: bold;\n    }\n    margin-top: 0.5rem;\n    /deep/ .el-textarea,\n    /deep/ .el-textarea__inner {\n      background-color: #eee;\n    }\n  }\n}\n\n.comment-content-wrapper {\n  white-space: normal;\n  word-break: break-all;\n}\n\n.comment-footer {\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.comment-pictures {\n  display: flex;\n  flex-flow: row wrap;\n  .comment-pictures__item {\n    // width: 30%;\n    margin-right: 6px;\n    margin-bottom: 6px;\n    overflow: hidden;\n    .comment-picture {\n      width: 120px;\n      height: 120px;\n      // position: relative;\n      // right: 50%;\n      // bottom: 50%;\n      // transform: translate(-50%, -50%);\n      // max-width: 120px;\n      // max-height: 120px;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentListItem.vue?vue&type=template&id=a1d9a306&scoped=true&\"\nimport script from \"./CommentListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentListItem.vue?vue&type=style&index=0&id=a1d9a306&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a1d9a306\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"comment-list-container\">\n    <!-- 列表不为空 -->\n    <!-- <el-scrollbar> -->\n    <div class=\"list-wrapper scrollable-y\" v-if=\"!commentList ||commentList.length !== 0\"\n      v-infinite-scroll=\"loadMore\"\n      infinite-scroll-disabled=\"disabled\"\n      infinite-scroll-immediate=\"false\" ref=\"comment_list\"\n      v-loading=\"!commentList\">\n      <CommentListItem v-for=\"comment of commentList\"\n        :key=\"comment.id\" :info=\"comment\"\n        v-bind=\"showVersionAndReadonly\"\n        @on-edit-comment=\"fetchCommentList()\"\n        @on-delete-comment=\"handleDeleteCommentItem\"\n        :atableMembers=\"members\" />\n    </div>\n    <!-- 当列表为空 -->\n    <div class=\"no-comment-container\" v-else>\n      <slot name=\"empty\">\n        <img src=\"@/assets/img/renderer/no-comment.png\" alt=\"no-comment\">\n        <div class=\"no-comment\">\n          {{ $t('model.comment.no_comment') }}\n        </div>\n      </slot>\n    </div>\n    <!-- </el-scrollbar> -->\n\n  </section>\n</template>\n\n<script>\nimport omitUndefined from '_/omit-undefined';\nimport {\n  fetchCommentList,\n  updateDot,\n} from '@/api/comment';\nimport remove from '_/remove';\nimport CommentListItem from './CommentListItem';\n\nexport default {\n  name: 'commentList',\n  props: {\n    objectId: String,\n    workspaceId: String,\n    readonly: Boolean,\n    showVersion: Boolean,\n    personal: Boolean,\n    members: Array,\n  },\n  components: {\n    CommentListItem,\n  },\n  data() {\n    return {\n      loading: false,\n      total: undefined,\n      cursor: 1,\n      current: 1,\n      size: undefined,\n      commentList: null,\n      records: undefined,\n      totalPage: undefined,\n    };\n  },\n  methods: {\n    handleDeleteCommentItem(item) {\n      remove(this.commentList, item);\n    },\n    async fetchCommentList(type) {\n      const { data } = await fetchCommentList(this.workspaceId, {\n        personal: this.personal,\n        objectId: this.objectId,\n      });\n      this.commentList = data.records;\n      if (type === 'add')\n      // scroll to top\n      // eslint-disable-next-line\n      {\n        this.$refs.comment_list && (this.$refs.comment_list.scrollTop = 0);\n        // 然后更新红点\n        this.updateDotWrapper();\n      }\n      this.current = 1;\n      this.cursor = 1;\n    },\n    async updateDotWrapper() {\n      await updateDot({\n        objectId: this.objectId,\n      });\n    },\n    async loadMore() {\n      this.loading = true;\n      // this.current++;\n      const {\n        total, size, current, records,\n      } = (await fetchCommentList(this.workspaceId, {\n        objectId: this.objectId,\n        cursor: ++this.cursor,\n      })).data;\n      if (this.commentList.length === 0) {\n        this.commentList = records;\n      } else {\n        this.commentList.push(...records);\n      }\n      this.total = total;\n      this.totalPage = Math.ceil(this.total / this.limit);\n      this.size = size;\n      this.current = current;\n      this.loading = false;\n    },\n  },\n  computed: {\n    showVersionAndReadonly() {\n      return omitUndefined({\n        showVersion: this.showVersion,\n        readonly: this.readonly,\n      });\n    },\n    disabled() {\n      return this.loading || this.noMore;\n    },\n    noMore() {\n      return this.totalPage !== undefined && this.current >= this.totalPage;\n    },\n  },\n  async created() {\n    await Promise.all([this.fetchCommentList(), this.updateDotWrapper()]);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.comment-list-container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  position: relative;\n}\n.list-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-y: scroll;\n}\n.no-comment-container {\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  .icon-comment-null {\n    font-size: 5rem;\n  }\n  .no-comment {\n    margin-top: 1rem;\n    color: #7f7f7f;\n  }\n  img {\n    opacity: 0.8;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentList.vue?vue&type=template&id=42dd629a&scoped=true&\"\nimport script from \"./CommentList.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentList.vue?vue&type=style&index=0&id=42dd629a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42dd629a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentPictureEditor.vue?vue&type=style&index=1&id=42ff6d3c&lang=scss&scoped=true&\""],"sourceRoot":""}