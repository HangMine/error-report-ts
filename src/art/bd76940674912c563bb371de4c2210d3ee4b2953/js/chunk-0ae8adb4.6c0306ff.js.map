{"version":3,"sources":["webpack:///./src/views/material-mall/GoodsDetail/ThumbPicker.vue?64d4","webpack:///./src/assets/img/material/scale.png","webpack:///./src/views/material-mall/GoodsDetail/GoodsCarousel.vue?ebfd","webpack:///./src/views/material-mall/GoodsDetail/ThumbPicker.vue?6c1e","webpack:///src/views/material-mall/GoodsDetail/ThumbPicker.vue","webpack:///./src/views/material-mall/GoodsDetail/ThumbPicker.vue?7d93","webpack:///./src/views/material-mall/GoodsDetail/ThumbPicker.vue","webpack:///./src/views/material-mall/GoodsDetail/GoodsCarousel.vue?02c5","webpack:///./src/views/material-mall/GoodsDetail/GoodsCarousel.vue?25e3","webpack:///./src/views/material-mall/GoodsDetail/GoodsCarousel.vue?54cf","webpack:///./src/views/material-mall/GoodsDetail/GoodsCarousel.vue","webpack:///./src/views/material/info/components/MaterialCarousel.vue?1fb7","webpack:///./src/views/material/info/components/MaterialCarousel.vue?1304","webpack:///./src/views/material/info/components/MaterialCarousel.vue?2737","webpack:///./src/views/material/info/components/MaterialCarousel.vue","webpack:///./src/components/icon/IconMagnify.vue?a6b9","webpack:///src/components/icon/IconMagnify.vue","webpack:///./src/components/icon/IconMagnify.vue?683a","webpack:///./src/components/icon/IconMagnify.vue","webpack:///./src/components/icon/IconMagnify.vue?4087","webpack:///./src/views/material/info/components/MaterialCarousel.vue?8774"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticStyle","ref","staticClass","class","size","attrs","on","updateScrollable","_l","item","index","key","url","refInFor","current","$event","$emit","type","scrollRow","_e","staticRenderFns","components","BaseImage","Scrollable","props","Number","default","items","Array","data","canScrollLeft","canScrollRight","watch","setTimeout","methods","target","scrollLeft","clientWidth","scrollWidth","component","carouselList","materialId","e","changeCurrent","MaterialCarousel","ThumbPicker","String","setup","refs","i","value","materialCarousel","carouselSetActiveItem","initialIndex","newIndex","directives","name","rawName","imageType","expression","$act","previewImage","previewModel","id","IconMagnify","VideoPlayer","swiperList","required","tyep","root","$ImageViewer","$Dialog","carousel","imgList","reduce","acc","cur","push","show","activeIndex","targetElems","previewVideo","sourceUrl","dialogify","is","sourceURL","fullscreen","width","height","top","bottom","center","ModelPurePreviewer","modelId","mode","flex","setActiveItem"],"mappings":"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","file":"js/chunk-0ae8adb4.6c0306ff.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbPicker.vue?vue&type=style&index=0&id=0fb2a963&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/scale.1568bf34.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsCarousel.vue?vue&type=style&index=0&id=37aaf576&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticStyle:{\"position\":\"relative\"}},[_c('Scrollable',{ref:\"product-list\",staticClass:\"scrollable product-list\",class:_vm.size,attrs:{\"x\":\"\"},on:{\"scroll\":_vm.updateScrollable}},[_c('row',_vm._l((_vm.items),function(item,index){return _c('div',{key:item.url,ref:\"product-item\",refInFor:true,staticClass:\"item\",class:{current: index === _vm.current},on:{\"click\":function($event){return _vm.$emit('clickItem', index)}}},[(item.type === 'video')?_c('video',{staticStyle:{\"width\":\"56px\",\"height\":\"56px\"},attrs:{\"src\":item.url}}):_c('BaseImage',{attrs:{\"fit\":\"cover\",\"src\":item.url}})],1)}),0)],1),(_vm.canScrollLeft)?_c('div',{staticClass:\"scroll-left\",on:{\"click\":function($event){return _vm.scrollRow(1, 1)}}},[_c('i',{staticClass:\"el-icon-arrow-left\",staticStyle:{\"font-size\":\"26px\"}})]):_vm._e(),(_vm.canScrollRight)?_c('div',{staticClass:\"scroll-right\",on:{\"click\":function($event){return _vm.scrollRow(0, 1)}}},[_c('i',{staticClass:\"el-icon-arrow-right\",staticStyle:{\"font-size\":\"26px\"}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section style=\"position: relative;\" >\n    <Scrollable x class=\"scrollable product-list\" :class=\"size\" ref=\"product-list\"\n      @scroll='updateScrollable'>\n      <row>\n        <div\n          ref=\"product-item\"\n          class=\"item\"\n          v-for=\"(item,index) in items\" :key=\"item.url\"\n          :class=\"{current: index === current}\"\n          @click=\"$emit('clickItem', index)\">\n          <video v-if=\"item.type === 'video'\"\n            :src=\"item.url\"\n            style=\"width: 56px;height: 56px;\" />\n\n          <BaseImage v-else fit=\"cover\" :src=\"item.url\">\n          </BaseImage>\n\n        </div>\n      </row>\n    </Scrollable>\n    <div class=\"scroll-left\" @click=\"scrollRow(1, 1)\" v-if=\"canScrollLeft\">\n      <i class=\"el-icon-arrow-left\" style=\"font-size: 26px;\"></i>\n    </div>\n    <div class=\"scroll-right\" @click=\"scrollRow(0, 1)\" v-if=\"canScrollRight\">\n      <i class=\"el-icon-arrow-right\" style=\"font-size: 26px;\"></i>\n    </div>\n  </section>\n\n</template>\n<script>\nimport Scrollable from '@/components/Scrollable';\nimport BaseImage from '@/components/base/Image';\n\nexport default {\n  components: {\n    BaseImage,\n    Scrollable,\n  },\n  props: {\n    size: {\n\n    },\n    current: {\n      type: Number,\n      default: 0,\n    },\n    items: {\n      type: Array,\n      default: () => ([]),\n    },\n  },\n  data() {\n    return {\n      canScrollLeft: null,\n      canScrollRight: null,\n    };\n  },\n  watch: {\n    items() {\n      const target = this.$refs['product-list'].$el.children[0];\n\n      // 等渲染完成，才计算是否显示scorll参数\n      setTimeout(() => {\n        this.updateScrollable({ target });\n      }, 500);\n    },\n  },\n  // async mounted() {\n  //   await this.$nextTick();\n  //   debugger;\n  //   const target = this.$refs['product-list'].$el.children[0];\n\n  //   // 等渲染完成，才计算是否显示scorll参数\n  //   setTimeout(() => {\n  //     this.updateScrollable({ target });\n  //   }, 500);\n  // },\n  methods: {\n    async scrollRow(dir = 0 /** num = 2* */) {\n      // eslint-disable-next-line no-unused-vars\n      const target = this.$refs['product-list'].$el.children[0];\n      if (!target.scrollTo) {\n        if (!dir) {\n          target.scrollLeft += target.clientWidth;\n        } else {\n          target.scrollLeft -= target.clientWidth;\n        }\n        return;\n      }\n      if (!dir) {\n        target.scrollTo({\n          left: target.scrollLeft + target.clientWidth,\n          behavior: 'smooth',\n        });\n      } else {\n        target.scrollTo({\n          left: target.scrollLeft - target.clientWidth,\n          behavior: 'smooth',\n        });\n      }\n    },\n    updateScrollable({ target }) {\n      /** @type {HTMLDivElement} */\n      this.canScrollLeft = target.scrollLeft !== 0;\n      this.canScrollRight = target.scrollLeft + target.clientWidth !== target.scrollWidth;\n    },\n  },\n};\n\n</script>\n<style scoped lang=\"scss\">\n.product-list {\n  height: 60px;\n  line-height: 24px;\n  /deep/ .scrollable-x::-webkit-scrollbar {\n    display: none;\n  }\n  /deep/ .scrollable-x {\n    scrollbar-width: none;\n  }\n  /deep/ .item {\n    border-radius:4px;\n    border: 1px solid #ECECEC;\n    padding: 1px;\n    transition: border-color 0.3s;\n    width: 60px;\n    height: 60px;\n    flex: none;\n    cursor: pointer;\n    + .item {\n      margin-left: 10px;\n    }\n    &:hover {\n      border-color: $color-primary;\n    }\n    &.current,\n    &:active {\n      border-color: $color-primary;\n      border-width: 2px;\n      padding: 0;\n      // padding-bottom: 10px;\n    }\n  }\n  // &.sm {\n  //   line-height: 20px;\n  //   height: 182px;\n  //   /deep/ .item {\n  //     width: 202px;\n  //     height: 174px;\n  //     center {\n  //       height: 40px;\n  //     }\n  //   }\n  // }\n}\n.scroll-left {\n  position: absolute;\n  top: 27px;\n  left: -30px;\n  cursor: pointer;\n}\n.scroll-right {\n  position: absolute;\n  right: -35px;\n  top: 27px;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThumbPicker.vue?vue&type=template&id=0fb2a963&scoped=true&\"\nimport script from \"./ThumbPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ThumbPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ThumbPicker.vue?vue&type=style&index=0&id=0fb2a963&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fb2a963\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('MaterialCarousel',{ref:\"materialCarousel\",attrs:{\"size\":\"large\",\"swiperList\":_vm.carouselList,\"materialId\":_vm.materialId},on:{\"change\":function (e) { return _vm.current = e; }}}),_c('div',{staticClass:\"flex-center\"},[_c('ThumbPicker',{staticStyle:{\"width\":\"76%\",\"padding\":\"10px 0\"},attrs:{\"current\":_vm.current,\"items\":_vm.carouselList},on:{\"clickItem\":_vm.changeCurrent}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref,\n} from '@vue/composition-api';\n\nimport MaterialCarousel from '@/views/material/info/components/MaterialCarousel.vue';\nimport ThumbPicker from './ThumbPicker.vue';\n\nexport default defineComponent({\n  components: {\n    MaterialCarousel,\n    ThumbPicker,\n  },\n  props: {\n    carouselList: {\n      type: Array,\n      default: () => ([]),\n    },\n    materialId: {\n      type: String,\n      default: '',\n    },\n  },\n  // @ts-ignore\n  setup(props, { refs }) {\n    const current = ref<number>(0);\n\n    function changeCurrent(i:number) {\n      current.value = i;\n      refs.materialCarousel.carouselSetActiveItem(i);\n    }\n    return {\n      current,\n\n      changeCurrent,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsCarousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsCarousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GoodsCarousel.vue?vue&type=template&id=37aaf576&scoped=true&\"\nimport script from \"./GoodsCarousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./GoodsCarousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GoodsCarousel.vue?vue&type=style&index=0&id=37aaf576&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37aaf576\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-carousel',{ref:\"carousel\",class:_vm.size,attrs:{\"indicator-position\":\"none\",\"initial-index\":_vm.initialIndex,\"autoplay\":false},on:{\"change\":function (newIndex) {_vm.$emit('change', newIndex)}}},_vm._l((_vm.swiperList),function(item,i){return _c('el-carousel-item',{key:i},[(item.type === 'image')?[_c('base-image',{staticClass:\"material-img\",attrs:{\"fit\":\"contain\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.imageType && item.imageType === 'texture'),expression:\"item.imageType && item.imageType === 'texture'\"}],staticClass:\"img-scale\"},[_c('img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":require('@/assets/img/material/scale.png')}})]),_c('IconMagnify',{staticClass:\"icon-magnify__image\",on:{\"magnify\":function (e) { return _vm.$act(_vm.previewImage, [e]); }}})]:(item.type === 'video')?[_c('div',{staticClass:\"material-video\"},[_c('VideoPlayer',{attrs:{\"sourceURL\":item.url,\"autoplay\":\"\"}}),_c('i',{staticClass:\"iconfont iconshipin\"})],1)]:(item.type === 'model')?[_c('div',{staticClass:\"material-model\"},[_c('base-image',{attrs:{\"fit\":\"cover\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('i',{staticClass:\"iconfont iconmoxing\"}),_c('IconMagnify',{staticClass:\"icon-magnify__model\",on:{\"magnify\":function($event){return _vm.previewModel(item.id)}}})],1)]:_vm._e()],2)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\n\nimport VideoPlayer from '@/components/video/index.vue';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer.vue';\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'CarouselMaterialImages',\n  components: {\n    IconMagnify,\n    VideoPlayer,\n  },\n  props: {\n    swiperList: {\n      type: Array,\n      required: true,\n    },\n    materialId: {\n      type: String,\n      default: '',\n    },\n    size: {\n      tyep: String,\n      default: '',\n    },\n    initialIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  // @ts-ignore\n  setup(props, { root: { $ImageViewer, $Dialog } }) {\n    const carousel = ref(null);\n\n    async function previewImage() {\n      const imgList = props.swiperList.reduce((acc, cur) => {\n        // @ts-ignore\n        if (cur.type === 'image') acc.push(cur.url);\n        return acc;\n      }, []);\n      await $ImageViewer.show(imgList as string[], {\n        index: ((carousel.value) as any).activeIndex,\n        targetElems: '.material-img',\n      });\n    }\n\n    async function previewVideo(sourceUrl: string) {\n      await $Dialog.dialogify({\n        is: VideoPlayer,\n        props: {\n          sourceURL: sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          center: true,\n        },\n      });\n    }\n\n    async function previewModel(id: string) {\n      await $Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: props.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    }\n\n    // 设置轮播图的滚动的index(外部调用)\n    function carouselSetActiveItem(index: number) {\n      ((carousel.value) as any).setActiveItem(index);\n    }\n\n    return {\n      carousel, previewImage, previewVideo, previewModel, carouselSetActiveItem,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialCarousel.vue?vue&type=template&id=2a271184&scoped=true&\"\nimport script from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialCarousel.vue?vue&type=style&index=0&id=2a271184&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a271184\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon-maginfy-box\",on:{\"click\":function($event){return _vm.$emit('magnify')}}},[_c('i',{staticClass:\"iconfont iconfangdajing\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"icon-maginfy-box\"\n    @click=\"$emit('magnify')\">\n    <i class=\"iconfont iconfangdajing\" />\n  </div>\n</template>\n<script>\nexport default {};\n</script>\n\n<style lang=\"scss\" scoped>\n.icon-maginfy-box {\n  position: relative;\n  color: rgba(173, 173, 173, 0.6);\n  width: 24px;\n  cursor: pointer;\n\n  &:hover,\n  &:active,\n  &.hover-status {\n    color: rgba(90, 90, 90, 0.6);\n  }\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    right: -20px;\n    bottom: -20px;\n    width: 0;\n    height: 0;\n    border: 20px solid transparent;\n    border-top-color: currentColor;\n    transform: rotate(-45deg);\n  }\n\n  .iconfangdajing {\n    position: relative;\n    left: 10px;\n    top: -1px;\n    font-size: 14px;\n    color: #fff;\n    z-index: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconMagnify.vue?vue&type=template&id=01875c86&scoped=true&\"\nimport script from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nexport * from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01875c86\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=style&index=0&id=2a271184&lang=scss&scoped=true&\""],"sourceRoot":""}