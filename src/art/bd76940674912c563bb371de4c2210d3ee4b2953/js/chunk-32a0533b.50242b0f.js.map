{"version":3,"sources":["webpack:///./src/views/supplier-backend/components/HTable/uses/useSelection.tsx","webpack:///./src/views/supplier-backend/components/HTable/uses/useExport.ts","webpack:///./src/views/supplier-backend/components/HTable/uses/useQuery.ts","webpack:///./src/views/supplier-backend/components/HTable/uses/useMaxHeight.ts","webpack:///./src/views/supplier-backend/components/HTable/utils.ts","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./src/views/supplier-backend/components/HTable/uses/useFormCheck.ts","webpack:///./src/views/supplier-backend/components/HTable/uses/useSort.ts","webpack:///./src/views/supplier-backend/components/HTable/uses/usePage.ts","webpack:///./src/views/supplier-backend/components/HTable/uses/index.ts","webpack:///./src/views/supplier-backend/components/HTable/uses/useEditModal.ts","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/modules/es.string.fixed.js","webpack:///./src/views/supplier-backend/components/HTable/uses/useCellClick.ts"],"names":["useSelection","emit","that","selectionChange","selectedRows","Selection","$listeners","selection","currentRows","length","useExport","pageType","exportOptions","formParams","params","columns","rows","footer","state","exportStr","exportUrl","baseUrl","url","backExportUrl","stringify","action","getExportData","keys","fixKeys","getHeader","titles","fixTitles","helper","arr","prevItems","item","children","title","map","_item","join","targetTitles","fixed","targetKeys","push","key","titlesStr","getRows","rowsArr","rowArr","val","objVal","resVal","replace","rowsStr","getFooter","footerArr","Object","values","footerStr","useQuery","root","getQuery","$route","query","setQuery","$router","HAS_SET_TABLE_HEIGHT","useMaxHeight","maxHeight","refs","currentMaxHeight","undefined","table","$nextTick","winHei","document","documentElement","clientHeight","tableOffsetTop","$el","getBoundingClientRect","top","paginationHeight","paddingBottom","pcHeight","_toString","prototype","toString","toRawType","value","call","slice","getInitValue","type","Date","getInitObj","originObj","preValueObj","obj","entries","hasOwnProperty","deepCopy","cache","hit","filter","c","original","copy","Array","isArray","forEach","getPx","num","textarea","createElement","body","appendChild","select","execCommand","parentNode","removeChild","getColumnKeys","column","requireObjectCoercible","quot","module","exports","string","tag","attribute","S","String","p1","useFormCheck","formCheck","form","pass","comp","validate","valid","clearCheck","clearValidate","getValue","target","name","getDate","row","isNaN","getWeek","sortString","order","sort","a","b","v1","v2","asc","localeCompare","sensitivity","desc","sortInt","sortPercent","sortDate","sortWeek","getSortFn","useSort","sortType","sortKey","sortOrder","sortParams","currentColumns","flat","find","backSort","load","$parent","frontSort","header","sortFn","_initRows","frontPageMain","sortChange","prop","resetRows","initRows","initColumns","defaultPageOptions","total","currentPage","layout","currentSize","usePage","pageOptions","getPageParams","_type","pageKey","sizeKey","backPageParams","noPageParams","pageNumber","pageSize","pageParams","frontPageOptions","backPageMain","getSlicesRows","page","size","start","end","handleColumns","pageMain","setInitData","sizeChange","pageChange","getFrontPageRows","useCellClick","useEditModal","operate","isEdit","editShow","editParams","editFormValues","editTitle","add","submitUrl","$emit","edit","index","del","getOperateTitle","titleMap","opeateOption","fails","METHOD_NAME","test","toLowerCase","split","$","createHTML","forcedStringHTMLMethod","proto","forced","this","cellClick","cell","e","tagName","cellText","property","handleHeaderFooterClick","parentElement","classList","contains","textContent","headerFooterClick","addEventListener","removeEventListener"],"mappings":"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","file":"js/chunk-32a0533b.50242b0f.js","sourcesContent":["import {\n  getCurrentInstance,\n  SetupContext,\n} from '@vue/composition-api';\nimport { Obj } from '../type';\n\nconst useSelection = ({ emit }:SetupContext) => {\n  const that:any = getCurrentInstance()!;\n\n  const selectionChange = (selectedRows:Obj[]) => {\n    emit('selection', selectedRows);\n  };\n\n  const Selection:any = () => (\n    that.$listeners.selection && that.currentRows.length\n      ? (<el-table-column\n          type=\"selection\"\n          width=\"55\"\n        >\n        </el-table-column>)\n      : null);\n\n  return {\n    selectionChange,\n    Selection,\n  };\n};\n\nexport default useSelection;\n","/* eslint-disable no-restricted-syntax */\nimport {\n  computed, getCurrentInstance, reactive, toRefs,\n} from '@vue/composition-api';\nimport qs from 'query-string';\n\ntype Obj = {[key in string|number]:any};\n\ntype ExportOptions = {\n  url: string,\n  text:string,\n  name:string,\n  size: string,\n  data: string,\n  getExportData: ()=>string\n} | false;\n\ninterface ExportData{\n  formParams: Obj,\n  params:Obj,\n  columns:Obj[],\n  rows:Obj[],\n  footer:Obj\n}\n\nconst useExport = (pageType:'back'|'front' = 'back', exportOptions:ExportOptions = false, {\n  formParams = {}, params = {}, columns = [], rows = [], footer = {},\n}:ExportData) => {\n  const state = reactive({\n    exportStr: '',\n    exportUrl: computed(() => {\n      if (pageType === 'front') return '';\n      const baseUrl = (exportOptions && exportOptions.url) || '';\n      const backExportUrl = `${baseUrl}?${qs.stringify({ ...formParams, ...params, action: 'export' })}`;\n      return backExportUrl;\n    }),\n  });\n  const getExportData = () => {\n    // 普通表头数组\n    const keys:string[] = [];\n    // 固定表头数组\n    const fixKeys:string[] = [];\n    const getHeader = () => {\n      const titles:string[] = [];\n      const fixTitles:string[] = [];\n\n      const helper = (arr:Obj[], prevItems:Obj[] = []) => {\n        // eslint-disable-next-line no-restricted-syntax\n        for (const item of arr) {\n          if (item.children && item.children.length) {\n            helper(item.children, [...prevItems, item]);\n          } else {\n            const title = [...prevItems, item].map(_item => _item.title).join('-');\n            const targetTitles = item.fixed ? fixTitles : titles;\n            const targetKeys = item.fixed ? fixKeys : keys;\n            targetTitles.push(title);\n            targetKeys.push(item.key);\n          }\n        }\n      };\n\n      helper(columns);\n\n      const titlesStr = `${[...fixTitles, ...titles].join()}\\n`;\n      return titlesStr;\n    };\n    const getRows = () => {\n      const rowsArr:string[] = [];\n      for (const item of rows) {\n        const rowArr = [];\n        for (const key of [...fixKeys, ...keys]) {\n          const val = item[key] ?? '';\n          const objVal = (val && val.title) ?? '';\n          let resVal = objVal ?? val;\n          if (+resVal && resVal.length > 11) resVal = `\\t${resVal}`; // 超过11位的数字不显示计数法\n          resVal = `${resVal}`.replace(/,/g, '-'); // ','是csv格式，需修改为'-'\n\n          rowArr.push(resVal);\n        }\n        rowsArr.push(`${rowArr.join()}\\n`);\n      }\n      const rowsStr = rowsArr.join('');\n      return rowsStr;\n    };\n    const getFooter = () => {\n      const footerArr = Object.values(footer);\n      const footerStr = footerArr ? `${footerArr.join()}\\n` : '';\n      return footerStr;\n    };\n\n    return getHeader() + getRows() + getFooter();\n  };\n  return {\n    ...toRefs(state),\n    getExportData,\n  };\n};\n\nexport default useExport;\n","import {\n  reactive, computed, ref, toRefs, getCurrentInstance, onMounted, watch, SetupContext,\n} from '@vue/composition-api';\nimport { Obj } from '../type';\n\nconst useQuery = ({ root, emit }:SetupContext) => {\n  const that = getCurrentInstance()!;\n  const getQuery = () => that.$route.query;\n  const setQuery = (query:Obj) => {\n    root.$router.replace({\n      query,\n    });\n  };\n  return {\n    setQuery, getQuery,\n  };\n};\n\nexport default useQuery;\n","import {\n  reactive, toRefs, onMounted, SetupContext,\n} from '@vue/composition-api';\nimport { getPx } from '../utils';\n\ntype MaxHeight = boolean|number|string|undefined;\n\nlet HAS_SET_TABLE_HEIGHT = false;\n\nconst useMaxHeight = async (maxHeight:MaxHeight, { root, refs }:SetupContext) => {\n  const state = reactive({\n    currentMaxHeight: undefined as MaxHeight,\n  });\n\n  onMounted(async () => {\n    if (maxHeight === false) return;\n    if (maxHeight !== true) {\n      state.currentMaxHeight = getPx(maxHeight!);\n      return;\n    }\n    if (!HAS_SET_TABLE_HEIGHT && refs.table) {\n      HAS_SET_TABLE_HEIGHT = true; // 只执行一次\n      // 必须添加nextTick,否则不出高度\n      await root.$nextTick();\n      const winHei = document.documentElement.clientHeight;\n      const tableOffsetTop = refs.table.$el.getBoundingClientRect().top;\n      const paginationHeight = 80;\n      const paddingBottom = 20;\n      const pcHeight = winHei - tableOffsetTop - paginationHeight - paddingBottom;\n      state.currentMaxHeight = pcHeight;\n    }\n  });\n  return {\n    ...toRefs(state),\n  };\n};\n\nexport default useMaxHeight;\n","import { Obj, Column, Columns } from './type';\n\nconst _toString = Object.prototype.toString;\nexport const toRawType = (value:any) => _toString.call(value).slice(8, -1);\n\n// 根据类型设置默认值\nexport const getInitValue = (value:any) => {\n  const type = toRawType(value);\n  switch (type) {\n    case 'Array':\n      return [];\n    case 'Object':\n      return {};\n    case 'Date':\n      return new Date();\n    case 'Number':\n      return 0;\n    case 'Null':\n    case 'Undefined':\n    case 'Function':\n      return value;\n    default:\n      return '';\n  }\n};\n\nexport const getInitObj = (originObj:Obj = {}, preValueObj:Obj = {}) => {\n  const obj:Obj = {};\n  // eslint-disable-next-line no-restricted-syntax\n  for (const [key, value] of Object.entries(originObj)) {\n    // eslint-disable-next-line no-prototype-builtins\n    obj[key] = preValueObj.hasOwnProperty(key) ? preValueObj[key] : getInitValue(value);\n  }\n  return obj;\n};\n\n/**\n * @des: 深复制(es6，不添加原型版本)，需考虑循环引用对象的兼容处理:https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value\n * @param {Any} data 需要复制的数据\n * @param {Array} cache 保存已经遍历过的对象，是为了处理循环引用对象\n * @return {Any} 复制后的数据\n */\nexport const deepCopy = (obj:any, cache:{original:Obj, copy:Obj}[] = []) => {\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n  const hit = cache.filter(c => c.original === obj)[0];\n  if (hit) {\n    return hit.copy;\n  }\n  const copy:Obj = Array.isArray(obj) ? [] : {};\n  cache.push({\n    original: obj,\n    copy,\n  });\n  Object.keys(obj).forEach(key => {\n    copy[key] = deepCopy(obj[key], cache);\n  });\n  return copy;\n};\n\n/**\n * @description:\n * @param {Number | String} num\n * @return\n */\nexport const getPx = (num:number|string) => (toRawType(num) === 'Number' ? `${num}px` : num);\n\n/**\n * @description: 复制内容到剪贴版\n * @param {String} val 需要复制的内容\n * @return:\n */\nexport const copy = (val:string) => {\n  // 使用textarea才可以换行\n  const textarea = document.createElement('textarea');\n  textarea.value = val;\n  document.body.appendChild(textarea);\n  textarea.select();\n  document.execCommand('Copy');\n  return textarea.parentNode?.removeChild(textarea);\n};\n\nexport const getColumnKeys = (column:Column) => {\n  if (!column.children) return [column.key];\n\n  const keys:string[] = [];\n  const helper = (arr:Columns) => {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of arr) {\n      if (item.children) helper(item.children);\n      keys.push(item.key);\n    }\n  };\n  helper(column.children);\n  return keys;\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","import {\n  getCurrentInstance, SetupContext,\n} from '@vue/composition-api';\n\nconst useFormCheck = ({ root, refs }:SetupContext) => {\n  const formCheck = (form:string) => {\n    let pass;\n    const comp = refs[form];\n\n    if (comp.formCheck) {\n      comp.formCheck();\n    } else {\n      comp.validate((valid:boolean) => {\n        pass = valid;\n      });\n    }\n    return pass;\n  };\n\n  const clearCheck = async (form:string) => {\n    // 必须使用nextTick保证在弹窗出现后执行\n    await root.$nextTick();\n    const comp = refs[form];\n    if (!comp) return;\n    if (comp.clearCheck) {\n      comp.clearCheck();\n    } else {\n      comp.clearValidate();\n    }\n  };\n\n  return {\n    formCheck,\n    clearCheck,\n  };\n};\n\nexport default useFormCheck;\n","import {\n  reactive, computed, toRefs, getCurrentInstance,\n} from '@vue/composition-api';\nimport { Obj } from '../type';\n\nimport { initRows } from './usePage';\n\ntype SortTypes = 'string' | 'int' | 'percent' | 'date' |'week';\n\ntype OrderTypes = 'ascending'|'decending';\n\ntype Target = string | number | {name:string, [otherKey:string]:any};\n\nfunction getValue(target:string):string;\nfunction getValue(target:number):number;\nfunction getValue(target:{name:string, [otherKey:string]:any}):string|number;\nfunction getValue(target:Target) {\n  if (typeof target === 'object') {\n    return target.name;\n  }\n  return target;\n}\n\nconst getNumber = (row:Obj, key:string) => {\n  const val = `${getValue(row[key])}`;\n  return +val.replace(/[^\\d.]/g, '');\n};\n\nconst getDate = (row:Obj, key:string) => {\n  let val = `${getValue(row[key])}`;\n  // eslint-disable-next-line no-restricted-globals\n  if (isNaN(+val)) {\n    if (val === '--') return new Date(0); // 兼容'--'的情况\n    val = val.replace(/-/g, '/');\n    return new Date(val);\n  }\n  return +val;\n};\n\nconst getWeek = (row:Obj, key:string) => {\n  let val = getValue(row[key]);\n  val = val.replace(/[\\u4e00-\\u9fa5]/g, '').replace(/-/g, ''); // 去除中文和-\n  return +val;\n};\n\nconst sortString = (currentRows:Obj[], key:string, order:OrderTypes) => {\n  currentRows.sort((a, b) => {\n    const v1 = (a[key] && a[key].name && `${a[key].name}`) || `${a[key]}` || '';\n    const v2 = (b[key] && b[key].name && `${b[key].name}`) || `${b[key]}` || '';\n    const asc = v1.localeCompare(v2, 'zh-Hans-CN', {\n      sensitivity: 'accent',\n    });\n    const desc = v2.localeCompare(v1, 'zh-Hans-CN', {\n      sensitivity: 'accent',\n    });\n    return order === 'ascending' ? asc : desc;\n  });\n};\n\nconst sortInt = (currentRows:Obj[], key:string, order:OrderTypes) => {\n  currentRows.sort((a, b) => {\n    const v1 = `${(a[key] && a[key].name) || a[key]}`;\n    const v2 = `${(b[key] && b[key].name) || b[key]}`;\n    v1.replace('--', '0').replace(/\\(.+\\)/, '');\n    v2.replace('--', '0').replace(/\\(.+\\)/, '');\n    return order === 'ascending' ? +v1 - +v2 : +v2 - +v1;\n  });\n};\n\nconst sortPercent = (currentRows:Obj[], key:string, order:OrderTypes) => {\n  currentRows.sort((a, b) => {\n    const v1 = `${(a[key] && a[key].name) || a[key]}`;\n    const v2 = `${(b[key] && b[key].name) || b[key]}`;\n    v1\n      .replace('%', '')\n      .replace('--', '0')\n      .replace(/\\(.+\\)/, '');\n    v2\n      .replace('%', '')\n      .replace('--', '0')\n      .replace(/\\(.+\\)/, '');\n    return order === 'ascending' ? +v1 - +v2 : +v2 - +v1;\n  });\n};\n\nconst sortDate = (currentRows:Obj[], key:string, order:OrderTypes) => {\n  currentRows.sort((a, b) => {\n    const v1 = getDate(a, key);\n    const v2 = getDate(b, key);\n    return order === 'ascending' ? +v1 - +v2 : +v2 - +v1;\n  });\n};\n\nconst sortWeek = (currentRows:Obj[], key:string, order:OrderTypes) => {\n  currentRows.sort((a, b) => {\n    const v1 = getWeek(a, key);\n    const v2 = getWeek(b, key);\n    return order === 'ascending' ? v1 - v2 : v2 - v1;\n  });\n};\n\nconst getSortFn = (type:SortTypes) => {\n  switch (type) {\n    case 'string':\n    default:\n      return sortString;\n    case 'int':\n      return sortInt;\n    case 'percent':\n      return sortPercent;\n    case 'date':\n      return sortDate;\n    case 'week':\n      return sortWeek;\n  }\n};\n\nconst useSort = (pageType:'front'|'back') => {\n  const that:any = getCurrentInstance();\n\n  const state = reactive({\n    sortType: '' as SortTypes,\n    sortKey: '', // 列\n    sortOrder: '' as OrderTypes,\n  });\n\n  const sortParams = computed(() => {\n    if (pageType === 'front' || !state.sortOrder) return {};\n    return {\n      sortKey: state.sortKey,\n      sortOrder: state.sortOrder,\n    };\n  });\n\n  const getHeader = (key:string) => {\n    const columns = that.currentColumns.flat();\n    const column = columns.find((item:Obj) => item.key === key);\n    return column;\n  };\n\n  // 后端排序\n  const backSort = () => {\n    that.load ? that.load() : that.$parent.load();\n  };\n\n  // 前端排序\n  const frontSort = () => {\n    const header = getHeader(state.sortKey);\n    if (!header) return; // 兼容切换表头时找不到数据的报错\n    state.sortType = header.sort;\n    const sortFn = getSortFn(state.sortType);\n    // 正常排序\n    const _initRows = [...initRows];\n    sortFn(_initRows, state.sortKey, state.sortOrder);\n    that.frontPageMain(_initRows);\n  };\n\n  // 排序\n  const sortChange = (column:{prop:string, order:OrderTypes}) => {\n    state.sortKey = column.prop;\n    state.sortOrder = column.order;\n    if (!column.order) {\n      // 不排序时回复原来排序\n      that.resetRows();\n      return;\n    }\n    that.type === 'back' ? backSort() : frontSort();\n  };\n\n  return {\n    ...toRefs(state),\n    sortParams,\n    sortChange,\n  };\n};\n\nexport default useSort;\n","import {\n  reactive, computed, toRefs, getCurrentInstance,\n} from '@vue/composition-api';\nimport { Pagination } from 'element-ui';\nimport { Obj } from '../type';\n// 只是保存数据，不需要双向绑定那套重逻辑\n\n// 前端分页需要保存初始数据，从里面切割\n// eslint-disable-next-line import/no-mutable-exports\nexport let initRows:Obj[] = [];\n// 前端分页需要保存初始数据，重新计算表头宽度\n// eslint-disable-next-line import/no-mutable-exports\nexport let initColumns:Obj[] = [];\n\nconst defaultPageOptions = {\n  total: 0,\n  currentPage: 1,\n  layout: 'prev, pager, next',\n  currentSize: 10,\n  // pageSizes: [10, 20, 30, 40, 50],\n  // layout: 'total, sizes, prev, pager, next, jumper',\n};\n\ninterface Params {\n  type:'back'|'front'\n  pageOptions:Pagination & {pageKey?:string, sizeKey?:string} | false\n}\n\nconst usePage = ({ type, pageOptions }:Params) => {\n  const that:any = getCurrentInstance();\n  const state = reactive({\n    pageOptions: { ...defaultPageOptions, ...(pageOptions || {}) },\n  });\n\n  const getPageParams = (_type:'back'|'front' = type) => {\n    const pageKey = state.pageOptions.pageKey ?? 'pageNumber';\n    const sizeKey = state.pageOptions.sizeKey ?? 'pageSize';\n    const backPageParams = {\n      [pageKey]: state.pageOptions.currentPage,\n      [sizeKey]: state.pageOptions.currentSize,\n    };\n    const noPageParams = { pageNumber: 1, pageSize: 99999 };// 99999是为了支持服务端接口\n    // eslint-disable-next-line no-nested-ternary\n    return !pageOptions ? noPageParams : _type === 'back' ? backPageParams : {};\n  };\n\n  const pageParams = computed(() => getPageParams());\n\n  // type为'front'时也获取到参数\n  const frontPageOptions = computed(() => getPageParams('back'));\n\n  // 后端分页主逻辑\n  const backPageMain = () => {\n    that.load();\n  };\n\n  // 获取切割后的数据\n  const getSlicesRows = (_initRows = initRows) => {\n    if (!pageOptions) return _initRows;\n    const page = state.pageOptions.currentPage;\n    const size = state.pageOptions.currentSize;\n    const start = (page - 1) * size;\n    const end = page * size;\n    return _initRows.slice(start, end);\n  };\n\n  // 前端分页主逻辑\n  const frontPageMain = (_initRows = initRows) => {\n    that.currentRows = getSlicesRows(_initRows);\n    that.currentColumns = that.handleColumns(initColumns);\n  };\n\n  // 分页主逻辑函数\n  const pageMain = () => {\n    type === 'back' ? backPageMain() : frontPageMain();\n  };\n\n  // 设置前端分页需要保存的初始数据\n  const setInitData = (rows:Obj[], columns:Obj[]) => {\n    initRows = rows;\n    initColumns = columns;\n  };\n\n  // 分页事件\n  const sizeChange = (size:number) => {\n    state.pageOptions.currentSize = size;\n    // elementUI会处理成最后一页，触发pageChange\n    if (size * state.pageOptions.currentPage > state.pageOptions.total) return;\n    pageMain();\n  };\n\n  const pageChange = (page:number) => {\n    state.pageOptions.currentPage = page;\n    pageMain();\n  };\n\n  // 获取前端分页的数据\n  const getFrontPageRows = (rows:Obj[], columns:Obj[]) => {\n    setInitData(rows, columns);\n    return getSlicesRows(rows);\n  };\n\n  return {\n    ...toRefs(state),\n    pageParams,\n    frontPageOptions,\n    sizeChange,\n    pageChange,\n    getFrontPageRows,\n  };\n};\n\nexport default usePage;\n","// 通过 require.context 获取不到类型\n// import { Obj } from '../type';\n\n// const ctx = require.context('./', false, /(?<!(index)).ts$/);\n\n// const uses = ctx.keys().reduce((obj:Obj, path) => {\n//   const matches = path.match(/\\.\\/(.*)\\./);\n//   const fileName = matches?.[1] || '';\n//   obj[fileName] = ctx(path).default;\n//   return obj;\n// }, {});\n\n// export default uses;\n\nimport useCellClick from './useCellClick';\nimport useEditModal from './useEditModal';\nimport useExport from './useExport';\nimport useFormCheck from './useFormCheck';\nimport useMaxHeight from './useMaxHeight';\nimport usePage from './usePage';\nimport useSelection from './useSelection';\nimport useSort from './useSort';\nimport useQuery from './useQuery';\n\nexport default {\n  useCellClick, useEditModal, useExport, useFormCheck, useMaxHeight, usePage, useSelection, useSort, useQuery,\n};\n","import {\n  reactive, computed, toRefs, getCurrentInstance,\n} from '@vue/composition-api';\nimport { Obj } from '../type';\n\nconst useEditModal = (operate?:Obj) => {\n  const that = getCurrentInstance()!;\n  const state = reactive({\n    isEdit: false,\n    editShow: false,\n    editParams: {},\n    editFormValues: {} as Obj | undefined,\n  });\n  const editTitle = computed(() => (state.isEdit ? '编辑' : '新增'));\n\n  // 新增\n  const add = () => {\n    if (operate?.add?.submitUrl) {\n      state.isEdit = false;\n      state.editShow = true;\n      state.editFormValues = undefined;\n    } else {\n      // 自定义\n      that.$emit('add', that);\n    }\n  };\n\n  // 编辑\n  const edit = (row:Obj, index:number) => {\n    if (operate?.edit?.submitUrl) {\n      state.editFormValues = row;\n      state.isEdit = true;\n      state.editShow = true;\n    } else {\n      // 自定义\n      that.$emit('edit', row, index);\n    }\n  };\n\n  // 抛出删除事件\n  const del = (row:Obj, index:number) => {\n    that.$emit('del', row, index);\n  };\n\n  const getOperateTitle = (type:'add'|'edit'|'del') => {\n    const titleMap = {\n      add: '新增',\n      edit: '编辑',\n      del: '删除',\n    };\n    const opeateOption = (operate && operate[type]) || {};\n    return opeateOption.title || titleMap[type] || '';\n  };\n\n  return {\n    ...toRefs(state),\n    editTitle,\n    add,\n    edit,\n    del,\n    getOperateTitle,\n  };\n};\n\nexport default useEditModal;\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","import {\n  onMounted, onUnmounted, SetupContext,\n} from '@vue/composition-api';\nimport { copy } from '../utils';\nimport { Obj } from '../type';\n\nconst useCellClick = ({ refs }:SetupContext) => {\n  const cellClick = (row:Obj, column:Obj, cell:any, e:MouseEvent) => {\n    if ((e.target as HTMLElement).tagName === 'I') return; // 如果点击图标则不复制\n    const cellText = row[column.property].name || row[column.property];\n    copy(cellText);\n  };\n\n  const handleHeaderFooterClick = (e:MouseEvent) => {\n    let target = (e.target as HTMLElement);\n    if (target.tagName === 'SPAN') target = target.parentElement!;\n    if (target.classList.contains('is-leaf')) {\n      const cellText = target.textContent;\n      copy(cellText!);\n    }\n  };\n\n  const headerFooterClick = () => {\n    return refs.table?.$el.addEventListener('dblclick', handleHeaderFooterClick);\n  };\n\n  onMounted(() => {\n    headerFooterClick();\n  });\n\n  onUnmounted(() => {\n    return refs.table?.$el.removeEventListener('dbclick', handleHeaderFooterClick);\n  });\n\n  return {\n    cellClick,\n  };\n};\n\nexport default useCellClick;\n"],"sourceRoot":""}