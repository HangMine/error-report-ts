{"version":3,"sources":["webpack:///./src/views/test/FileParamsViewer.vue?c01b","webpack:///./src/views/test/FileParamsViewer.vue?bd02","webpack:///src/views/test/FileParamsViewer.vue","webpack:///./src/views/test/FileParamsViewer.vue?a0e3","webpack:///./src/views/test/FileParamsViewer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","_s","user","mail","on","logout","attrs","path","query","redirect","$route","fullPath","model","value","callback","$$v","sourceType","expression","e","$act","pickFiles","target","files","item","_l","index","key","name","params","basePath","staticRenderFns","data","computed","methods","component"],"mappings":"gHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,aAAaH,EAAG,MAAM,CAACI,YAAY,CAAC,gBAAgB,SAAS,CAACJ,EAAG,SAAS,CAACI,YAAY,CAAC,eAAe,QAAQ,CAACR,EAAIO,GAAG,UAAWP,EAAQ,KAAEI,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIS,GAAGT,EAAIU,KAAKC,OAAOP,EAAG,IAAI,CAACQ,GAAG,CAAC,MAAQZ,EAAIa,SAAS,CAACb,EAAIO,GAAG,YAAYH,EAAG,cAAc,CAACE,YAAY,QAAQQ,MAAM,CAAC,GAAK,CAAEC,KAAM,SAAUC,MAAO,CAACC,SAAUjB,EAAIkB,OAAOC,aAAa,CAACnB,EAAIO,GAAG,YAAY,GAAGH,EAAG,WAAW,CAACE,YAAY,QAAQQ,MAAM,CAAC,YAAc,WAAWM,MAAM,CAACC,MAAOrB,EAAc,WAAEsB,SAAS,SAAUC,GAAMvB,EAAIwB,WAAWD,GAAKE,WAAW,gBAAgBrB,EAAG,QAAQ,CAACE,YAAY,gCAAgC,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,UAAUH,EAAG,QAAQ,CAACU,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIF,GAAG,CAAC,OAAS,SAAUc,GAC30B1B,EAAI2B,KAAK3B,EAAI4B,UAAW,CAACF,EAAEG,OAAOC,MAAO9B,EAAI+B,OAC7CL,EAAEG,OAAOR,MAAQ,WACZjB,EAAG,KAAKJ,EAAIgC,GAAIhC,EAAS,OAAE,SAAS+B,EAAKE,GAAO,OAAO7B,EAAG,KAAK,CAAC8B,IAAID,GAAO,CAAC7B,EAAG,SAAS,CAACJ,EAAIO,GAAGP,EAAIS,GAAGsB,EAAKI,SAASnC,EAAIO,GAAG,IAAIP,EAAIS,GAAGT,EAAIoC,OAAOH,GAAOI,UAAUrC,EAAIS,GAAGT,EAAIoC,OAAOH,GAAOlB,YAAW,IAAI,IAClNuB,EAAkB,G,sGCkEtB,GACEC,KADF,WAEI,MAAO,CACLT,MAAO,GACPM,OAAQ,GACRZ,WAAY,SAGhBgB,SAAU,CACR9B,KADJ,WAEM,OAAO,OAAb,OAAa,KAGX,QAbF,WAaA,wKACA,iBADA,OAEA,qBACA,OACA,cACA,2BAHA,yDAKA,uIACA,YADA,SAEA,2EAFA,OAEA,SAFA,kDALA,uDAFA,8CAYE+B,QAAS,CACP5B,OADJ,WAEM,OAAN,OAAM,IAEFe,UAJJ,SAIA,GACM3B,KAAK6B,MAAQ,OAAnB,OAAmB,CAAnB,MCpGyW,I,wBCQrWY,EAAY,eACd,EACA3C,EACAuC,GACA,EACA,KACA,WACA,MAIa,aAAAI,E","file":"js/chunk-ff5d5f74.a7e5cee1.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileParamsViewer.vue?vue&type=style&index=0&id=74877f5c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-params-viewer\"},[_c('h1',[_vm._v(\"文件路径计算器\")]),_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('strong',{staticStyle:{\"margin-right\":\"2em\"}},[_vm._v(\"当前用户\")]),(_vm.user)?_c('span',[_vm._v(_vm._s(_vm.user.mail)),_c('a',{on:{\"click\":_vm.logout}},[_vm._v(\"【退出】\")])]):_c('router-link',{staticClass:\"login\",attrs:{\"to\":{ path: '/login', query: {redirect: _vm.$route.fullPath}}}},[_vm._v(\"【未登录】\")])],1),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入资源类型\"},model:{value:(_vm.sourceType),callback:function ($$v) {_vm.sourceType=$$v},expression:\"sourceType\"}}),_c('label',{staticClass:\"el-button el-button--primary\"},[_c('span',[_vm._v(\"选择文件\")]),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":function (e) {\n      _vm.$act(_vm.pickFiles, [e.target.files, _vm.item]);\n      e.target.value = null\n    }}})]),_c('ul',_vm._l((_vm.files),function(item,index){return _c('li',{key:index},[_c('strong',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"+_vm._s(_vm.params[index].basePath)+_vm._s(_vm.params[index].path))])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"file-params-viewer\">\n    <h1>文件路径计算器</h1>\n    <div style=\"margin-bottom: 15px\">\n      <strong style=\"margin-right: 2em\">当前用户</strong>\n      <span v-if=\"user\">{{user.mail}}<a @click=\"logout\">【退出】</a></span>\n      <router-link class=\"login\"\n        :to=\"{ path: '/login', query: {redirect: $route.fullPath}}\"\n        v-else>【未登录】</router-link>\n    </div>\n    <el-input v-model=\"sourceType\" class=\"input\" placeholder=\"请输入资源类型\" />\n    <label class=\"el-button el-button--primary\">\n      <span>选择文件</span>\n      <input type=\"file\"\n        multiple\n        @change=\"(e) => {\n        $act(pickFiles, [e.target.files, item]);\n        e.target.value = null\n      }\" />\n    </label>\n    <ul>\n      <li v-for=\"(item, index) in files\" :key=\"index\">\n        <strong>{{item.name}}</strong> {{params[index].basePath}}{{params[index].path}}</li>\n    </ul>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\na {\n  color: $color-primary;\n  cursor: pointer;\n}\nh1 {\n  margin-bottom: 30px;\n}\n.file-params-viewer {\n  padding: 30px;\n  width: 900px;\n  margin: 30px auto;\n  background-color: rgba(255, 255, 255, 0.5);\n  border-radius: 10px;\n}\n.input {\n  width: 300px;\n  margin-right: 10px;\n}\n.login {\n  color: red;\n}\n.el-button {\n  input[type=\"file\"] {\n    position: absolute;\n    visibility: hidden;\n  }\n}\n\nul {\n  margin-top: 20px;\n  li {\n    margin-bottom: 10px;\n  }\n  strong {\n    width: 20em;\n    display: inline-block;\n  }\n}\n</style>\n<script>\nimport { getParams } from '@/utils/oss/utils';\nimport { updateContext, logout, getContextUser } from '../../loaders/context';\n\nexport default {\n  data() {\n    return {\n      files: [],\n      params: [],\n      sourceType: 'BASE',\n    };\n  },\n  computed: {\n    user() {\n      return getContextUser();\n    },\n  },\n  async created() {\n    await updateContext();\n    this.$watch(() => {\n      return {\n        files: this.files,\n        sourceType: this.sourceType,\n      };\n    }, async ({ files, sourceType }) => {\n      this.params = [];\n      this.params = await Promise.all(files.map(file => getParams(file, { sourceType })));\n    });\n  },\n  methods: {\n    logout() {\n      logout();\n    },\n    pickFiles(files) {\n      this.files = [...files];\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileParamsViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileParamsViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileParamsViewer.vue?vue&type=template&id=74877f5c&scoped=true&\"\nimport script from \"./FileParamsViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./FileParamsViewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileParamsViewer.vue?vue&type=style&index=0&id=74877f5c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74877f5c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}