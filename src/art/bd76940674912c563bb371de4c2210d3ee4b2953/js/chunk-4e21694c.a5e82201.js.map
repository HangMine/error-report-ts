{"version":3,"sources":["webpack:///./src/views/clothes/sub-material/index.vue?6481","webpack:///./src/components/base/User.vue?bd5d","webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/index.js","webpack:///./src/views/clothes/material/MaterialProperty.vue?319a","webpack:///./src/assets/img/material/scale.png","webpack:///./src/views/clothes/pattern/OperationBar.vue?7592","webpack:///./src/components/Tree.vue?e5e4","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/views/clothes/components/CtmList.vue?1207","webpack:///./src/utils/oss/uploadToOSS.js","webpack:///./src/views/model/detail/renderer/SaveAsConfirm.vue?4a38","webpack:///src/views/model/detail/renderer/SaveAsConfirm.vue","webpack:///./src/views/model/detail/renderer/SaveAsConfirm.vue?91c5","webpack:///./src/views/model/detail/renderer/SaveAsConfirm.vue","webpack:///./src/views/material/info/components/ModelsSelector.vue?6bf0","webpack:///src/views/material/info/components/ModelsSelector.vue","webpack:///./src/views/material/info/components/ModelsSelector.vue?87aa","webpack:///./src/views/material/info/components/ModelsSelector.vue","webpack:///./src/views/file-list/components/catalog/Search&Select.vue?34ff","webpack:///./src/views/file-list/components/catalog/Search&Select.vue?f8cf","webpack:///./src/views/material/info/components/Form.vue?7e8c","webpack:///./src/components/base/User.vue?c91f","webpack:///src/components/base/User.vue","webpack:///./src/components/base/User.vue?9762","webpack:///./src/components/base/User.vue","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?2438","webpack:///./src/views/material/info/components/ComponentPreviewDetail.vue?a136","webpack:///./src/components/upload/UploadVideo.vue?1d6e","webpack:///./src/components/video/VideoPlayerForLocal.vue?9ab4","webpack:///src/components/video/VideoPlayerForLocal.vue","webpack:///./src/components/video/VideoPlayerForLocal.vue?6468","webpack:///./src/components/video/VideoPlayerForLocal.vue","webpack:///src/components/upload/UploadVideo.vue","webpack:///./src/components/upload/UploadVideo.vue?621d","webpack:///./src/components/upload/UploadVideo.vue","webpack:///./src/views/clothes/pattern/PatternProperty.vue?67e9","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?04bd","webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/SelectType2.js","webpack:///./src/api/material-mall.js","webpack:///./src/views/file-list/components/catalog/Search&Select.vue?feea","webpack:///./src/components/upload/styles/UploadStyle1.vue?7cff","webpack:///src/components/upload/styles/UploadStyle1.vue","webpack:///./src/components/upload/styles/UploadStyle1.vue?1f16","webpack:///./src/components/upload/styles/UploadStyle1.vue","webpack:///./src/components/layout/SelectableBox.vue?3b46","webpack:///./src/components/layout/SelectableBox.vue?0ce8","webpack:///./src/components/layout/SelectableBox.vue?df78","webpack:///./src/components/layout/SelectableBox.vue","webpack:///./src/components/base/AngleSelector.vue?affd","webpack:///./src/api/catalogue.js","webpack:///./src/views/clothes/pattern/info/PatternInfoUpload.vue?a3b3","webpack:///./src/views/material/info/components/UnitField.vue?c985","webpack:///./src/components/icon/IconQuestion.vue?212e","webpack:///src/components/icon/IconQuestion.vue","webpack:///./src/components/icon/IconQuestion.vue?116e","webpack:///./src/components/icon/IconQuestion.vue","webpack:///./src/views/clothes/pattern/PatternItem.vue?56de","webpack:///./src/views/model/detail/board/MaterialCard.vue?746b","webpack:///src/views/model/detail/board/MaterialCard.vue","webpack:///./src/views/model/detail/board/MaterialCard.vue?fb17","webpack:///./src/views/model/detail/board/MaterialCard.vue","webpack:///./src/views/clothes/pattern/info/PatternInfoView.vue?1265","webpack:///./src/views/material/info/components/AttachmentVideo.vue?3b18","webpack:///src/views/material/info/components/AttachmentVideo.vue","webpack:///./src/views/material/info/components/AttachmentVideo.vue?5000","webpack:///./src/views/material/info/components/AttachmentVideo.vue","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?5e02","webpack:///./src/views/clothes/version/index.vue?6dc1","webpack:///./src/views/clothes/components/RendererD4.vue?41ea","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?a17a","webpack:///./src/components/SupplierPriceList.vue?1e04","webpack:///./src/views/model/detail/renderer/SaveAsConfirm.vue?8462","webpack:///./src/views/material/info/components/ModelsSelector.vue?1f07","webpack:///./src/views/file-list/components/catalog/PriceForm.vue?e602","webpack:///./src/views/material/info/components/MaterialCarousel.vue?1fb7","webpack:///./src/views/material/info/components/MaterialCarousel.vue?1304","webpack:///./src/views/material/info/components/MaterialCarousel.vue?2737","webpack:///./src/views/material/info/components/MaterialCarousel.vue","webpack:///./src/components/changelog/index.vue?00f8","webpack:///./src/views/clothes/detail/index.vue?5635","webpack:///./src/views/clothes/components/CatalogTree.vue?a639","webpack:///./src/views/clothes/sub-material/SubMaterialProperty.vue?5ae9","webpack:///./src/api/account.js","webpack:///./src/views/clothes/version/VersionList.vue?3e4b","webpack:///./src/loaders/setting.ts","webpack:///./src/components/icon/IconMagnify.vue?a6b9","webpack:///src/components/icon/IconMagnify.vue","webpack:///./src/components/icon/IconMagnify.vue?683a","webpack:///./src/components/icon/IconMagnify.vue","webpack:///./src/views/material/info/components/ColorViewer.vue?e971","webpack:///./src/views/material/info/components/ColorViewer.vue?2495","webpack:///./src/views/material/info/components/ColorViewer.vue?45b4","webpack:///./src/views/material/info/components/ColorViewer.vue","webpack:///./src/views/material/info-anta/components/UnitField.vue?e2b6","webpack:///./src/components/icon/IconQuestion.vue?5172","webpack:///./src/views/clothes/version/OperationRecordList.vue?ac26","webpack:///./src/views/material/info/components/Form.vue?493a","webpack:///./src/views/material/info/components/Form.vue?f65c","webpack:///./src/views/material/info/components/Form.vue?7634","webpack:///./src/views/material/info/components/Form.vue","webpack:///./src/components/MaterialTypeCascade.vue?cd35","webpack:///./src/components/MaterialTypeCascade.vue?16f2","webpack:///./src/components/MaterialTypeCascade.vue?3409","webpack:///./src/components/MaterialTypeCascade.vue","webpack:///./node_modules/@4dst-saas/public-utils/dist/difference.js","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?6906","webpack:///./src/components/Tree.vue?12ca","webpack:///src/components/Tree.vue","webpack:///./src/components/Tree.vue?2284","webpack:///./src/components/Tree.vue","webpack:///./src/views/material/info/components/AttachmentVideo.vue?7adf","webpack:///./node_modules/vue-intersect/dist/index.js","webpack:///./src/assets/img/material/scale-horizontal.png","webpack:///./src/views/test/TagsEditor.tsx","webpack:///./src/views/material/info-anta/index.vue?c868","webpack:///./src/views/material/info/components/TimeInfo.vue?59ab","webpack:///./src/views/clothes/pattern/PatternList.vue?7976","webpack:///./src/components/upload/UploadVideo.vue?3c14","webpack:///./src/views/model/detail/board/DisplayModeSwitcher.vue?b2f7","webpack:///./src/views/clothes/components/CollapseContainer.vue?ef5a","webpack:///./src/components/icon/IconMagnify.vue?4087","webpack:///./src/assets/img/header/default_avatar.png","webpack:///./src/views/material/info/index.vue?a070","webpack:///./src/views/clothes/material/CurrentMaterial.vue?6114","webpack:///./src/components/changelog/index.vue?8fb3","webpack:///./src/components/SupplierPriceList.vue?db6d","webpack:///./src/components/SupplierPriceList.vue?9e87","webpack:///./src/components/SupplierPriceList.vue?7e70","webpack:///./src/components/SupplierPriceList.vue","webpack:///./src/components/changelog/property.ts","webpack:///./src/components/changelog/materialType.ts","webpack:///./src/components/changelog/index.vue?3c54","webpack:///./src/components/changelog/index.vue?72a1","webpack:///./src/components/changelog/index.vue","webpack:///./src/views/file-list/components/catalog/Search&Select.vue?b109","webpack:///./src/views/file-list/components/catalog/Search&Select.vue","webpack:///./src/views/file-list/components/catalog/Search&Select.vue?f52d","webpack:///./src/components/layout/SelectableBox.vue?dba0","webpack:///./src/components/upload/styles/UploadStyle1.vue?feac","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue?7f45","webpack:///src/components/dictionary/DictionaryCountrySelector.vue","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue?230a","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue","webpack:///./src/views/upload/material/components/ColorPicker.vue?5769","webpack:///./src/views/model/detail/board/MaterialItem.vue?d9b2","webpack:///./src/views/material/info/index.vue?6242","webpack:///./src/views/material/info/components/ComponentPreviewDetail.vue?f90f","webpack:///./src/views/material/info/components/FromFieldText.vue?c921","webpack:///./src/views/material/info/components/FromFieldText.vue?9e17","webpack:///./src/views/material/info/components/FromFieldText.vue?6411","webpack:///./src/views/material/info/components/FromFieldText.vue","webpack:///./src/views/material/info/components/ComponentPreviewDetail.vue?f891","webpack:///./src/views/material/info/components/ComponentPreviewDetail.vue?0447","webpack:///./src/views/material/info/components/ComponentPreviewDetail.vue","webpack:///./src/views/material/info/components/ComponentEditDetail.vue?5951","webpack:///./src/views/material/info/components/ComponentEditDetail.vue?b798","webpack:///./src/views/material/info/components/ComponentEditDetail.vue?3482","webpack:///./src/views/material/info/components/ComponentEditDetail.vue","webpack:///./src/views/material/info/index.vue?014c","webpack:///./src/views/material/info/index.vue?391e","webpack:///./src/views/material/info/index.vue","webpack:///./src/views/clothes/pattern/index.vue?3a88","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?d5af","webpack:///./src/views/material/info-anta/components/Form.vue?62b0","webpack:///./src/utils/key-serializer.ts","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?6a18","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/utils.ts","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?203f","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?3b9b","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue","webpack:///./src/views/material/info-anta/components/FormComponents/PriceFormItem.tsx","webpack:///./src/views/material/info-anta/components/FormComponents/SupplierSelect.tsx","webpack:///./src/components/dynamic-form/AntaMiddleClass2Form.tsx","webpack:///./src/views/material/info-anta/components/detail-validate.ts","webpack:///./src/views/material/info-anta/components/Form.vue?2a28","webpack:///./src/views/material/info-anta/components/Form.vue?4a4a","webpack:///./src/views/material/info-anta/components/Form.vue","webpack:///./src/views/model/detail/board/DisplayModeSwitcher.vue?c769","webpack:///./src/views/model/detail/board/DisplayModeSwitcher.vue?beae","webpack:///./src/views/model/detail/board/DisplayModeSwitcher.vue?291c","webpack:///./src/views/model/detail/board/DisplayModeSwitcher.vue","webpack:///./src/views/material/info/components/ComponentEditDetail.vue?8103","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?cee6","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?6eeb","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?6de5","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue","webpack:///./src/views/test/ClothesDetail.vue?d622","webpack:///./src/views/clothes/renderer/index.vue?6967","webpack:///./src/views/material/info/components/MaterialCarousel.vue?8774","webpack:///./src/views/file-list/components/catalog/PriceForm.vue?eb70","webpack:///./src/views/file-list/components/catalog/PriceForm.vue","webpack:///./src/views/file-list/components/catalog/PriceForm.vue?f4b2","webpack:///./src/components/base/TagsEditor.vue?c58a","webpack:///./src/components/base/TagsEditor.vue?b8fb","webpack:///./src/components/base/TagsEditor.vue?6227","webpack:///./src/components/base/TagsEditor.vue","webpack:///./src/views/material/info/components/UnitField.vue?b6eb","webpack:///src/views/material/info/components/UnitField.vue","webpack:///./src/views/material/info/components/UnitField.vue?bf5f","webpack:///./src/views/material/info/components/UnitField.vue","webpack:///./src/components/video/VideoPlayerForLocal.vue?afca","webpack:///./src/views/upload/material/components/ColorPicker.vue?80e8","webpack:///./src/views/upload/material/components/ColorPicker.vue?c1c3","webpack:///./src/views/upload/material/components/ColorPicker.vue?5d64","webpack:///./src/views/upload/material/components/ColorPicker.vue","webpack:///./src/views/clothes/components/CatalogAndSearch.vue?1653","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?f686","webpack:///./src/views/clothes/material/MaterialPanel.vue?07f6","webpack:///./src/views/clothes/pattern/info/index.vue?bb27","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?e635","webpack:///./src/views/material/info-anta/components/Form.vue?4614","webpack:///./src/views/clothes/pattern/info/PatternInfoEdit.vue?175c","webpack:///./src/views/clothes/sub-material/SubMaterialPanel.vue?6965","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-closest.js","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?00dc","webpack:///./src/views/model/detail/board/MaterialCard.vue?5791","webpack:///./node_modules/@johmun/vue-tags-input/dist/vue-tags-input.js","webpack:///./src/views/material/info/components/FromFieldText.vue?188c","webpack:///./src/utils/public.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/views/clothes/info/index.vue?4c21","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?96ae","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?7e93","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?60d8","webpack:///./src/components/dictionary/DictionarySelectorNew.vue","webpack:///./src/utils/i18n-material-type.ts","webpack:///./src/components/base/TagsEditor.vue?2e17","webpack:///./src/views/clothes/material/index.vue?dcee","webpack:///./src/views/material/info/components/ColorViewer.vue?02b5","webpack:///./src/views/clothes/pattern/PatternPanel.vue?eab8","webpack:///./src/views/material/form-related.js","webpack:///./src/assets/img/file-list/material-default.png","webpack:///./src/views/clothes/renderer/ToolBar.vue?6587","webpack:///./src/views/material/info-anta/index.vue?ccc3","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?f606","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?1857","webpack:///./src/views/material/info-anta/components/UnitField.vue?4e1c","webpack:///src/views/material/info-anta/components/UnitField.vue","webpack:///./src/views/material/info-anta/components/UnitField.vue?950e","webpack:///./src/views/material/info-anta/components/UnitField.vue","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?d466","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?8e56","webpack:///./src/views/material/info-anta/components/FromFieldText.vue","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?9fcf","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?9f81","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?8c76","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?2965","webpack:///src/views/material/info-anta/components/ModelsSelector.vue","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?183c","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?d53f","webpack:///src/views/material/info-anta/components/AttachmentImage.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?fb0b","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?107f","webpack:///src/views/material/info-anta/components/AttachmentVideo.vue","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?7b6a","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?fb88","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?3de1","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?a798","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?fdc7","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?eb6d","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?0bff","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?9533","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?b28c","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?3f12","webpack:///src/views/material/info-anta/components/TimeInfo.vue","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?b596","webpack:///./src/views/material/info-anta/components/TimeInfo.vue","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?56da","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?2252","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?0a31","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue","webpack:///./src/views/material/info-anta/index.vue?940a","webpack:///./src/views/material/info-anta/index.vue?124a","webpack:///./src/views/material/info-anta/index.vue","webpack:///./src/views/material/info/components/TimeInfo.vue?be7e","webpack:///src/views/material/info/components/TimeInfo.vue","webpack:///./src/views/material/info/components/TimeInfo.vue?1122","webpack:///./src/views/material/info/components/TimeInfo.vue","webpack:///./src/views/clothes/components/CtmItem.vue?1a8a","webpack:///./src/views/clothes/detail/index.vue?5f81","webpack:///./src/views/clothes/store.ts","webpack:///./src/views/clothes/info/index.vue?c59b","webpack:///./src/views/clothes/info/index.vue?dae1","webpack:///./src/views/clothes/info/index.vue?f7bf","webpack:///./src/views/clothes/info/index.vue","webpack:///./src/views/clothes/material/index.vue?0d05","webpack:///./src/views/clothes/components/CollapseContainer.vue?b7ed","webpack:///./src/views/clothes/components/CollapseContainer.vue?bd5f","webpack:///./src/views/clothes/components/CollapseContainer.vue?b2ce","webpack:///./src/views/clothes/components/CollapseContainer.vue","webpack:///./src/views/clothes/material/MaterialPanel.vue?ce1f","webpack:///./src/views/clothes/components/CatalogAndSearch.vue?6ca5","webpack:///./src/views/clothes/components/CatalogTree.vue?1aad","webpack:///src/views/clothes/components/CatalogTree.vue","webpack:///./src/views/clothes/components/CatalogTree.vue?8214","webpack:///./src/views/clothes/components/CatalogTree.vue","webpack:///src/views/clothes/components/CatalogAndSearch.vue","webpack:///./src/views/clothes/components/CatalogAndSearch.vue?0363","webpack:///./src/views/clothes/components/CatalogAndSearch.vue","webpack:///./src/views/clothes/material/MaterialPanel.vue?f077","webpack:///./src/views/clothes/material/MaterialPanel.vue?ecbb","webpack:///./src/views/clothes/material/MaterialPanel.vue","webpack:///./src/views/clothes/material/CurrentMaterial.vue?739d","webpack:///./src/views/model/detail/board/MaterialItem.vue?fb59","webpack:///src/views/model/detail/board/MaterialItem.vue","webpack:///./src/views/model/detail/board/MaterialItem.vue?c314","webpack:///./src/views/model/detail/board/MaterialItem.vue","webpack:///src/views/clothes/material/CurrentMaterial.vue","webpack:///./src/views/clothes/material/CurrentMaterial.vue?c306","webpack:///./src/views/clothes/material/CurrentMaterial.vue","webpack:///./src/views/clothes/material/MaterialProperty.vue?3c02","webpack:///./src/components/base/AngleSelector.vue?eda1","webpack:///src/components/base/AngleSelector.vue","webpack:///./src/components/base/AngleSelector.vue?6cd3","webpack:///./src/components/base/AngleSelector.vue","webpack:///./src/views/clothes/material/MaterialProperty.vue?207d","webpack:///./src/views/clothes/material/MaterialProperty.vue?f976","webpack:///./src/views/clothes/material/MaterialProperty.vue","webpack:///./src/views/clothes/material/index.vue?2f14","webpack:///./src/views/clothes/material/index.vue?d084","webpack:///./src/views/clothes/material/index.vue","webpack:///./src/views/clothes/pattern/index.vue?7c64","webpack:///./src/views/clothes/pattern/PatternPanel.vue?4dfe","webpack:///./src/views/clothes/pattern/OperationBar.vue?a3a9","webpack:///./src/views/clothes/pattern/OperationBar.vue?f93e","webpack:///./src/views/clothes/pattern/OperationBar.vue?6c00","webpack:///./src/views/clothes/pattern/OperationBar.vue","webpack:///./src/views/clothes/pattern/PatternList.vue?1e39","webpack:///./src/views/clothes/pattern/PatternItem.vue?881f","webpack:///src/views/clothes/pattern/PatternItem.vue","webpack:///./src/views/clothes/pattern/PatternItem.vue?2ecf","webpack:///./src/views/clothes/pattern/PatternItem.vue","webpack:///./src/views/clothes/pattern/info/index.vue?a7bf","webpack:///./src/views/clothes/pattern/info/PatternInfoEdit.vue?34e9","webpack:///./src/views/clothes/pattern/info/PatternInfoEdit.vue?b353","webpack:///./src/views/clothes/pattern/info/PatternInfoEdit.vue?4a71","webpack:///./src/views/clothes/pattern/info/PatternInfoEdit.vue","webpack:///./src/views/clothes/pattern/info/PatternInfoView.vue?810a","webpack:///./src/views/clothes/pattern/info/PatternInfoView.vue?10a8","webpack:///./src/views/clothes/pattern/info/PatternInfoView.vue?c9c6","webpack:///./src/views/clothes/pattern/info/PatternInfoView.vue","webpack:///./src/views/clothes/pattern/info/index.vue?4197","webpack:///./src/views/clothes/pattern/info/index.vue?8bf5","webpack:///./src/views/clothes/pattern/info/index.vue","webpack:///src/views/clothes/pattern/PatternList.vue","webpack:///./src/views/clothes/pattern/PatternList.vue?ee70","webpack:///./src/views/clothes/pattern/PatternList.vue","webpack:///./src/views/clothes/pattern/info/PatternInfoUpload.vue?023f","webpack:///./src/views/clothes/pattern/info/PatternInfoUpload.vue?0ebc","webpack:///./src/views/clothes/pattern/info/PatternInfoUpload.vue?0e4e","webpack:///./src/views/clothes/pattern/info/PatternInfoUpload.vue","webpack:///./src/views/clothes/pattern/PatternPanel.vue?8ccc","webpack:///./src/views/clothes/pattern/PatternPanel.vue?8aa4","webpack:///./src/views/clothes/pattern/PatternPanel.vue","webpack:///./src/views/clothes/pattern/PatternProperty.vue?3a02","webpack:///./src/views/clothes/pattern/PatternProperty.vue?5d3b","webpack:///./src/views/clothes/pattern/PatternProperty.vue?f863","webpack:///./src/views/clothes/pattern/PatternProperty.vue","webpack:///./src/views/clothes/pattern/index.vue?0e6d","webpack:///./src/views/clothes/pattern/index.vue?2094","webpack:///./src/views/clothes/pattern/index.vue","webpack:///./src/views/clothes/sub-material/index.vue?a212","webpack:///./src/views/clothes/components/CtmList.vue?16a0","webpack:///./src/views/clothes/components/CtmItem.vue?cbf3","webpack:///./src/views/clothes/components/CtmItem.vue?4e49","webpack:///./src/views/clothes/components/CtmItem.vue?bc3a","webpack:///./src/views/clothes/components/CtmItem.vue","webpack:///src/views/clothes/components/CtmList.vue","webpack:///./src/views/clothes/components/CtmList.vue?7f61","webpack:///./src/views/clothes/components/CtmList.vue","webpack:///./src/views/clothes/sub-material/SubMaterialPanel.vue?5032","webpack:///./src/views/clothes/sub-material/SubMaterialPanel.vue?580a","webpack:///./src/views/clothes/sub-material/SubMaterialPanel.vue?5abf","webpack:///./src/views/clothes/sub-material/SubMaterialPanel.vue","webpack:///./src/views/clothes/sub-material/SubMaterialProperty.vue?602e","webpack:///./src/views/clothes/sub-material/SubMaterialProperty.vue?48c4","webpack:///./src/views/clothes/sub-material/SubMaterialProperty.vue?a502","webpack:///./src/views/clothes/sub-material/SubMaterialProperty.vue","webpack:///./src/views/clothes/sub-material/index.vue?1b5e","webpack:///./src/views/clothes/sub-material/index.vue?5595","webpack:///./src/views/clothes/sub-material/index.vue","webpack:///./src/views/clothes/renderer/index.vue?9294","webpack:///./src/views/clothes/components/RendererD4.vue?90f0","webpack:///./src/views/clothes/components/RendererD4.vue?e955","webpack:///./src/views/clothes/components/RendererD4.vue?bd8b","webpack:///./src/views/clothes/components/RendererD4.vue","webpack:///./src/views/clothes/version/index.vue?ada6","webpack:///./src/views/clothes/version/OperationRecordList.vue?e65d","webpack:///src/views/clothes/version/OperationRecordList.vue","webpack:///./src/views/clothes/version/OperationRecordList.vue?bf37","webpack:///./src/views/clothes/version/OperationRecordList.vue","webpack:///./src/views/clothes/version/VersionList.vue?8612","webpack:///src/views/clothes/version/VersionList.vue","webpack:///./src/views/clothes/version/VersionList.vue?0800","webpack:///./src/views/clothes/version/VersionList.vue","webpack:///src/views/clothes/version/index.vue","webpack:///./src/views/clothes/version/index.vue?86c3","webpack:///./src/views/clothes/version/index.vue","webpack:///./src/views/clothes/renderer/ToolBar.vue?b04a","webpack:///./src/views/clothes/renderer/ToolBar.vue?2e14","webpack:///./src/views/clothes/renderer/ToolBar.vue?7176","webpack:///./src/views/clothes/renderer/ToolBar.vue","webpack:///./src/views/clothes/renderer/index.vue?9130","webpack:///./src/views/clothes/renderer/index.vue?8f1a","webpack:///./src/views/clothes/renderer/index.vue","webpack:///./src/views/clothes/detail/index.vue?7050","webpack:///./src/views/clothes/detail/index.vue?3320","webpack:///./src/views/clothes/detail/index.vue","webpack:///./src/api/dictionary.js","webpack:///./src/views/model/detail/board/MaterialList.vue?435a","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?410c","webpack:///./src/views/model/detail/board/MaterialList.vue?8c8b","webpack:///src/views/model/detail/board/MaterialList.vue","webpack:///./src/views/model/detail/board/MaterialList.vue?94df","webpack:///./src/views/model/detail/board/MaterialList.vue","webpack:///./src/views/model/detail/board/MaterialCard.vue?6242","webpack:///./src/loaders/supplier.ts","webpack:///./src/components/anta-customer-files/customJsonschema.ts","webpack:///./src/components/anta-customer-files/attribute.ts","webpack:///./src/views/material/info/components/AttachmentImage.vue?85c3","webpack:///src/views/material/info/components/AttachmentImage.vue","webpack:///./src/views/material/info/components/AttachmentImage.vue?8451","webpack:///./src/views/material/info/components/AttachmentImage.vue","webpack:///./src/views/material/info/components/AttachmentImage.vue?0f68","webpack:///./src/utils/validators/rules-validation.js","webpack:///./src/assets/img/public/records-empty.png","webpack:///./src/utils/dragging-data.ts","webpack:///./src/views/test/ClothesDetail.vue?9a18","webpack:///./src/components/dynamic-form/jsonschema2form/NumberType.tsx","webpack:///./src/views/test/ClothesDetail.vue","webpack:///./src/views/test/ClothesDetail.vue?a490","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?7aa6","webpack:///./src/assets/img/renderer/clothes-renderer-bg.jpg","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?b841","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?4eaf"],"names":["_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","exports","value","enumerable","get","_JSONschema2Type","default","_IntegerType","_JSONschema","_NumberType","_SelectType","MultipleSeleteType","_SelectType2","_StringType","_default","module","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defaultOptions","initialValue","undefined","loadingValue","oldValue","useLoader","loader","oldWatcher","params","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","ref","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","watch","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","this","immediate","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","uploadToOSS","blobOrDataUrl","sourceType","onUpload","body","isDataUrl","dataUrl2Blob","OSSUploader","send","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","rules","form","$t","model","callback","$$v","$set","expression","_v","_s","path","staticStyle","on","$event","$emit","handleSave","staticRenderFns","dialogify","props","title","width","data","modelNumber","methods","component","style","_l","selected","disabled","handlePreview","id","e","changeModel","cover","currentId","materialId","_e","method","url","components","SelectableBox","ModelPurePreviewer","mounted","_generateModelData","localStorage","setItem","JSON","stringify","models","modelIds","$closest","saveBtnDisabled","class","size","_t","userImage","$scopedSlots","user","account","email","mail","name","BaseImage","computed","headImg","avatar","icon","file","height","handleDeleteFile","handlePreviewImage","refInFor","fileList","max","multiple","accept","maxSize","handleUploadFile","sourceUrl","autoplay","type","String","required","Boolean","UploadArea","DeletableBox","urls","Array","Number","handler","arr","map","isArray","files","slice","splice","_formatFileItem","window","URL","createObjectURL","_typeof2","_default2","defineComponent","builder","subbuilder","valueKey","labelKey","options","val","prop","event","_this","h","isObject","$attrs","n","op","index","getMaterialDetail","axios","getLibraryMaterialDetail","getMaterialCollectStatus","addCollect","removeCollect","increaseClick","selectedStatus","stopPropagation","toggleSelectedStatus","IconMagnify","setup","emit","getMyUploadIds","getCatalogUrl","catalogId","getFileRelateIdByCatalogId","groupAppId","from","headers","reloadModelRendererUrl","getPanelBoardList","fetchWorkspaces","appId","changeSequence","updateResourceItemStatus","folderIds","status","getHiddenCatalog","_g","activeStatus","$listeners","material","texture","flat","textureVisible","slot","copying","isCopying","moving","isMoving","unavailableResaon","pick","handleContextmenu","handleDragStartMaterial","preventDefault","imgSrc","displayMode","handleUnlike","costPrice","材料规格","partUsed","part_used","1","2","supplierPriceObj","cost_value","v","u","cost_unit","reference_price_value","reference_price_unit","_material","samplePrice","samplePriceUnit","selectable","inClipboard","clipboard","deleteStatus","contextmenu","handleShowTexture","handleHideTexture","$refs","materialItem","addEventListener","unmounted","removeEventListener","paths","changeVideo","UploadVideo","IconQuestion","assetsInfo","obj","initialIndex","newIndex","item","directives","rawName","imageType","$act","previewImage","previewModel","VideoPlayer","swiperList","tyep","root","$ImageViewer","$Dialog","carousel","imgList","reduce","acc","cur","show","activeIndex","targetElems","previewVideo","is","sourceURL","fullscreen","top","bottom","center","modelId","mode","flex","carouselSetActiveItem","setActiveItem","registerAccount","axiosEncrypt","token","applyAccountForTrial","subscribeOurWebsite","getUserInfo","getUsersInfoByIds","_userIds","userIds","Set","fill","res","users","fromEntries","updateUserInfo","updateUserPasswordByVerificatioCode","createPaidSubaccount","fetchGroupMembers","keyword","createVirtualAccount","ApiConnectAccount","searchUsersToAdd","getSetting","defaults","setSetting","insertOrUpdate","label","content","split","color","white","backgroundColor","getColorHexByName","getColorNameByLang","colorItem","find","language","cnName","heximal","newMaterial","updateInfo","isCreator","entryAppType","materialType","samplePriceNumber","moqUnit","colorFamily","samplePeriodUnit","productionLeadTimeUnit","thicknessUnit","materialCountryOfOrigin","DictionarySelectorNew","DictionaryCountrySelector","MaterialColorPicker","classification","refsForm","materialsTechnology","surfaceTechnics","designContent","applicableProductLine","parse","shouldUpdateValue","materialsTechnologyList","surfaceTechnicsList","designContentList","applicableProductLineList","parentIds","categoryArr","materialInfo","console","info","getFormData","validate","valid","Error","formData","pickedKeys","k","prototype","hasOwnProperty","call","join","host","$route","includes","success","errorMsg","exec","list","showClearable","cascaderProps","handleChange","scopedSlots","_u","fn","strictMode","maxLevel","checkStrictly","expandTrigger","businessType","cascader","getChildren","level","leaf","subCount","initOptionList","children","result","j","checkedNodes","nodes","getCheckedNodes","pathNodes","lazy","lazyLoad","node","resolve","defaultList","ids","difference","a","b","aItem","findIndex","bItem","indexOf","include","isHidden","isRoot","isDragging","isOpened","isDroppable","insertIndex","isDraggable","currentTarget","handleDragStart","handleDragOver","handleDragEnd","pendingChildren","toggle","dragenter","handleDragEnter","dragleave","handleDragLeave","drop","handleDrop","scopedData","loadedChildren","openedItems","load","hidden","draggable","droppable","expandable","draggingData","indexs","concat","updateDraggingData","scope","other","isShowOther","handleOtherContextmenu","loadedVisibleChildrenLength","Function","showOther","opened","ancestors","getOpenedItems","innerOpened","isExpandable","parent","othercontextmenu","ev","dataTransfer","dropEffect","_enterElement","clearOpenTimeout","setOpenTimeout","_openTimeout","setTimeout","clearTimeout","warn","msg","config","silent","abstract","threshold","HTMLElement","rootMargin","observer","IntersectionObserver","entries","isIntersecting","$nextTick","$slots","observe","elm","destroyed","disconnect","tagsEditor","tags","editable","shareId","relateType","flexWrap","tagItem","border","marginRight","fontSize","lineHeight","padding","borderRadius","marginBottom","tag","cursor","marginLeft","handleDeleteTag","useLabel","handleAddTag","deleteTag","addTag","messageList","message","itemName","newValue","isSupplier","showSupplierPrice","sidebar","isSidebar","showAll","row","supplierStatus","closeOnClickModal","cache","properties","fetchProperties","getSelectionProperty","p","values","findValue","property","placeholder","materialTypes","origin","materialName","supplierName","material_number","category","season","brand","old_material_number","material_specification","weight","unit","available_area","ingredient","yarn_proportion","reference_price","supplier_price","color_limit_type","color_limit_remark","sample_moq","production_moq","post_treatment_process","acceptable_temperature","development_livecycle","production_livecycle","special_restrictions","shoemaking_risks","compound_way","dyeing_finishing","daily_production_capacity","detection_number","evergreen","PU_layer_composition","natural_leather_oil_proportion","volume","remark","plm","product_line","function","trend","season_lib","cost","supplier_price_array","approve_detail","fetchSupplierAll","colorList","3","approveStatus","4","SupplierPriceList","formList","changeLogRef","oldForm","newForm","evergreenList","log","offsetWidth","isDifferent","findTypeItem","itemValue","handleSupplierName","supplier","originalSupplierName","handleCostLikeData","priceUnitList","fetchSupplierPriceArr","current","supplier_name","handleSupplierPriceArr","supplierList","referencePrice","supplier_status","getPriceUnit","oldKeys","newKeys","Promise","all","allSupplierList","priceUnits","propertyList","messages","approve_status","year","Symbol","getPaths","optionsTree","_optionsTree","findIterator","option","isSelected","_value","SearchAndSelect","filters","isAnta","productTypes","code","_","_level","_node","requestType","parentId","post","i18n","itemCode","encodeURIComponent","currentYear","getYearObj","afterYears","beforeYears","_item","q","startPrice","endPrice","PriceForm","company","tagName","t","typeCode","self","customSlotNodes","customSlotNode","position","showCascader","popoverShown","options_","innerGetChildren","popover","updatePopper","change","addFilter","activePath","last","text","keyCode","updateKeyword","blur","removeFilter","w","cooperation","envs","VUE_APP_COOPERATION","dropdownShown","_options","__options","update","set","generateWatcher","old","_filters","filterKey","clearSelectorsAndKeyword","selectedValue","lang","usName","currentComponent","swipers","getMaterialInfoById","loading","creatorName","gmtCreateTime","gmtModifyTime","$can","materialDynamicComp","save","renderingJson","extraStatus","colorAlteration","tagsInfo","field","units","printPatternsInfo","patterns","notes","$i18n","i18next","UnitField","FormFielText","TagsEditor","MaterialColorViewer","fields","creator","oldVal","deep","materialCopy","fetchShowAntaNote","originalId","ModelsSelector","AttachmentImage","AttachmentVideo","MaterialForm","saveDisabled","refs","$errHandler","$message","materialForm","warning","updateObj","modelsSelector","getSelectResult","modelCover","attachmentImage","getImageOssPaths","images","attachmentVideo","getVideoOssPaths","videos","uploadArea","noPadding","closeWith","ComponentPreviewDetail","ComponentEditDetail","MaterialCarousel","TimeInfo","_getSwiperObj","mat","imgArr","unshift","img","imgJson","materialOrigin","toString","username","isQt","setJsonschemaFormItem","canEdit","middleCategoryId","propertyFromTemplate","str","trim","substr","query","createdTarget","shift","_b","handlerFilter","handleVisable","currentValue","isDelete","_map","0","years","chunks","helper","getCombines","seasons","combines","_combine","allOptions","prevOptions","OPTIONS_LIMIT","getFilterList","lableStr","slices","getInitFilterList","labelStr","requied","ElFormItem","emptyValue","state","value2CurrenValue","stringifyValue","objVal","品牌","currentValue2Value","init","initLableStr","isShow","PriceFormItem","reuqired","SupplierSelect","SeasonSelect","MaterialTypeCascade","middleClassId","validateDropdownItemImmediatly","jsonschemaListHander","showValidateButton","notHasTemplate","j2f","jsonschema","propertylist","sort","lastResult","pList","propertyItem","isSystem","propertyId","jssList","attribute","formRef","_jss","_form","formKeys","shouldHandleKeys","shouldFetchList","jss","oneOf","anyOf","constList","const","notFounds","founds","extraProperty","fetchMaterialDetail","fetchDefaultUnitId","AntaMiddleClass2Form","templateMaterialId","templateForm","typeCascade","updateData","oldMaterial","maxLength","filterable","materialNumberIndex","categoryIndex","costIndex","evergreenIndex","addOperateToRecord","count","_propertyFromTemplate","firstSupplier","delete_status","_newMaterial","omitList","_p","priceItem","diffPriceCount","oldPriceItem","relateId","replace","formMatarialData","bigType","midType","大类","中类","material_status","fileInfo","companyId","$el","offsetHeight","onmousewheel","className","deltaY","temp","sup","templateMaterial","ViewTool","declineRecord","_f","getDeclineRecord","showClose","records","userInfos","rec","INNER_VALUE","rNumber","isValidNumber","test","endsWith","data2InnerData","innerData2Data","value_","submit","isAllRequired","assign","handleClose","maxTagsLen","maxlength","handleInputConfirm","nativeOn","_k","inputValue","showInput","tagIds","inputVisible","saveTagInput","input","focus","err","marginTop","active","changeActiveStatus","colors","colorName","emitable","colorValue","initActiveStatus","useClosest","_vueClosest","componentName","closest","A","l","m","c","d","o","toStringTag","__esModule","create","bind","locals","btoa","unescape","sources","sourceRoot","css","media","sourceMap","parts","g","document","DEBUG","head","getElementsByTagName","navigator","userAgent","toLowerCase","f","B","createElement","appendChild","querySelector","parentNode","removeChild","C","setAttribute","ssrId","styleSheet","cssText","firstChild","createTextNode","childNodes","insertBefore","Date","getTime","RegExp","version","names","mappings","sourcesContent","focused","tagsCopy","tagsEditStatus","tiClasses","classes","isMarked","tabindex","click","edit","performSaveEdit","performSaveTag","performDelete","performDeleteTag","performCancelEdit","cancelEdit","performOpenEdit","performEditTag","deletionMark","validateTag","createChangedTag","createClasses","newTag","validation","isDuplicate","domProps","keydown","performAddTags","filteredAutocompleteItems","selectedItem","invokeDelete","performBlur","selectItem","paste","addTagsFromPaste","updateNewTag","addOnlyFromAutocomplete","autocompleteOpen","mouseout","mouseover","performAdd","_withStripped","rule","composing","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","beforeCreate","__file","some","isFinite","Math","floor","validator","autocompleteItems","allowEditTags","autocompleteFilterDuplicates","autocompleteMinLength","autocompleteAlwaysOpen","addOnKey","saveOnKey","maxTags","separators","avoidAddingDuplicates","addOnBlur","addFromPaste","deleteOnBackspace","iterator","constructor","TagInput","deletionMarkTime","duplicateFilter","getSelectedIndex","selectDefaultItem","_events","editTag","toggleEditMode","tagCenter","quote","hasForbiddingAddRule","disableAdd","createTagTexts","noTriggerKey","newTagInput","saveTag","tagsEqual","initTags","blurredOnClick","contains","activeElement","created","E","install","Vue","use","blockDragEffect","DOM","dropzoneId","loopAncestorNode","dom","counter","currentNode","parentElement","attachEvent","effectAllowed","$","addToUnscopables","proto","valueType","selectedOptions","translateCategoryName","categoryName","supplierArticleName","supplierArticleNo","printPatterns","moq","productionLeadTime","thickness","materialFromRules","selection","requirement","charLengthMax","numberPositive","samplePeriod","materialColorPicker","backOperate","isHistoryComponent","toOperateHistory","showDeclineRecord","contentStyle","thumbIndex","handleUpload4ddat","modifierName","printAsPDF","updateMaterial","showPlaceHolder","fetchMiddleCategoryId","attachFields","supplier_price_obj","extraList","dynamicFormData","$errorHandler","changeImage","UploadWithPreviewer","choseImg","remove","key2Name","thumbnail","UploadImgJson","selectedFils","srcList","uploadImgJson","bucketList","newImgJson","Form","emptyImgJson","src","rulerSetting","rulerHeight","dpi","_m","modifier","uploaded","updated","dayOperateList","day","operateList","loadMore","getUsersObj","usersObj","handleOperateList","operate","format","dayOperate","inheritAttrs","Intersect","BaseUser","changelog","empty","pageSize","defaultState","pageLoading","pageNumber","hasMore","showLoadMore","resetLoading","setDayOperateList","isLoadMore","MaterialOperateHistory","DeclineRecord","userName","userNames","$injectDialog","routeUrl","$router","nativeHost","openWin","href","open","workspaceId","activeMenu","handleToggleMenu","rendererCategory","clothingId","_state","ctmList","materialCache","modelInfo","partSelected","isYarnEnabled","partSelectedYarn","patternSelected","observable","maxRatio","InfoIndex","ClothesDetail","proxy","activePanels","activeNames","titles","CollapseContainer","slots","materialRootCatalogRef","materialSearchOptionsRef","handleSelect","handleSearch","materialCurrentCatalogRef","fetchNotMatChildrenWithPaging","handleMaterialDrag","updateDisplayMode","catalogVisible","currentCatalogName","catalog","searchParams","time","isCatalogExpandable","currentCatalog","selectCatalog","handleClick","appType2Name","appType","Tree","addOther","json","toJSON","_cache","folderCount","CatalogTree","rootName","MaterialPanel","MaterialList","CatalogAndSearch","context","clothesDetail","appTypeCodeList","patternCatalogId","command","handleReplace","handleDelete","imgSize","transform","zIndex","renderer","imgs","targetMaterial","replaceMaterial","deleteMaterial","MaterialItem","Scrollable","store","materialList","subMaterialNames","ctmName","hash","mt","originMaterial","rotation","handleRotateChange","formChange","_n","handleYarnEnableChange","resetYarn","offsetComputer","throttleRotate","angle","offsetX","offsetY","isRotating","rotate","updateRotation","deg","INVALID_DEG","formatDeg","formattedRotation","getRotation","x","y","atan","PI","toFixed","abs","formatRotation","rot","min","targetRotation","getOffset","positive","negative","transYarn2Form","yarn","offset","MaterialProperty","AngleSelector","resetFormData","offsetUnits","offsetUnitSelected","updateYarn","part","yarnData","MaterialIndex","CurrentMaterial","pattern","handleUpload","patternCatalogRef","searchOptionsRef","OperationBar","loadingPage","materialCatalogs","idx","handleListDragStart","clearAndSelect","handleShoWDialogInfo","showMagnifyMode","toggleSelected","currentComp","handleSubmit","uploadCurtailImg","PatternInfoEdit","UploadStyle","curtailImg","filePath","uploadedFile","uploadWithPreviewerRef","trigger","uploadPatternImg","PatternInfoView","craftPatternId","PatternInfo","patternListRef","patternFormRef","updatePatternInfo","isUploadImg","uploadForm","updatePage","PatternItem","rootCatalog","timestamp","now","catalogPaging","canLoadMore","pages","$watch","paging","loadPage","clearSelected","patternForm","UploadPattern","formatTags","parentFolderId","PatternPanel","PatternList","dataArr","refresh","PatternInfoUpload","isEnabled","selectPattern","removePattern","patternsList","image","PatternProperty","scale","isLocked","transPattern2Form","tecName","newPattern","oldPattern","updatePatternProperty","_pattern","PatternIndex","subMaterial","selectedId","handleCtmClick","handleCtmClear","ctmId","ctmSelected","ctm","materialFlat","CtmItem","fetchMatChildrenWithPaging","SubMaterialPanel","isAccessory","predefineColors","handleColorChange","scaleX","scaleY","SubMaterialProperty","CtmList","selectCtmById","clearCtmMaterial","handleBackward","handleForward","rendererd4","resetControls","handleShowVersion","modelData","handleSelectedChange","handlePatternSelectedChange","handleYarnChange","canvasEvent","loadingStatus","RendererD4","d4","percentage","renderCanvas","parentWidth","parentHeight","getDefaultMaterialPromise","resize","canvasDom","canvas","clientWidth","clientHeight","resolution","devicePixelRatio","resizeRenderer","_formatShoeComponents","promiseArr","additionalJsonExt","decalInfo","decal","componentID","materialID","hideSigns","shoeID","outputDatas","modelCtmRequestList","uploader","sendAs","getModelSnapshot","modifiedRecord","getRecord","modifyContent","resetOriginRecord","newRelateId","newModelName","newCatalogId","goodId","_ctm","d4Material","beforeChangeMaterial","updatePattern","eventParam","imgUrl","addDecalByIntersect","deleteDecal","getTargetFromId","yarnMat","getDesignMaterial","updateMaterialByPartIdAndName","partId","partName","defaultMaterial","defaultColor","updateModelsData","patternData","updateDecalAngle","updateDecalScale","changeDecalTec","updateDecalPosOffsetX","updateDecalPosOffsetY","bindD4","getTarget","param","left","getBoundingClientRect","clickX","clientX","clickY","clientY","eventType","getTargetFromScreen","getEventParam","dblclick","mousedown","controlsMouseMove","mouseMoveRender","controlsMouseUp","isStart","controlsMouseDown","selectDecalByIntersect","mousemove","throttleMoveDecal","mouseup","endSelectedDecal","getCurrentDecalInfo","wheel","controlsMouseWheel","dropData","datum","clear","touchstart","controlsTouchMove","controlsTouchEnd","initD4","D4","_d4","changeBackgroundTexture","enableGround","onProgress","_loadingStatus","parseInt","loadModel","loadingStatus_","loaded","total","previousOperation","backwardAlter","nextOparation","forwardAlter","getCtmData","unwatch","onresize","handleToggleActiveVersion","contentThumbnail","viewHistoryModel","openDialogRestore","generateIconByIndex","operationName","operation","vCode","defaultAvatar","userInfo","versions","compact","modal","VersionList","OperationRecordList","modifiedContentBrief","sourceCode","_generateOperationsRecords","newArr","handleSaveAs","ToolBar","SaveAsConfirm","RendererIndex","shoeId","componentType","ctmPath","args","syncStoreFromD4","ctmData","comp","selectedCtm","uvTrans","targetVersion","reg","newFullPath","fullPath","Info","Material","Patterns","SubMaterial","Renderer","getDictionaryByTypeCode","getCountryList","MaterialCard","DisplayModeSwitcher","fetchMethod","materials","$loadingState","background","fetchSupplierNotBound","clearable","getCategoryName","fetchSupplierName","attribute2JSONschema","itemOrList","JSONschemaList","attr","customJsonschema","av","$id","JSONschemaList2JSONschema","useSort","wrapper","pre","antaMiddleClassIdAndFormData2TransformedFormDataList","setColorLimitType","colorLimitType","extractList","propertiesSortList","referenceUnit","costUnit","wait4FetchValue","labels","jsonschema2FormItemValidatorObject","validatorObject","validatorKeys","valueList","validateFormFields","validateForm","strLength","passwordConfirm","password","roleGenerator","validations","spaceTrim","number","numberNatural","integerPositive","charTypeWithNormal","charTypeWithoutEmail","numberAndAlphabet","numAlphabetUnderscore","charLength","validator2ElemRule","checkPasswordRepeat","phone","mobilePhoneChina","charLengthRange","len","charLengthMini","charTypeNormal","charTypeNormal1","charTypeNotOnlyDigitOrLatin","charTypeDigitAndLatin","charTypeDigitOrLatin","charTypeDigitAndHyphen","charAt","toUpperCase","storageKey","storage","instance","getItem","removeItem","IMode","numberType","Infinity","parsedValue","handleUpdateValue","hasDot","updateParsedValue","newStr","leng","short","lastIndexOf","globalThis","isNaN","preProcess","price","getClothesDetailInfo","getMaterialsInfo","getPatternsInfo","decals","additionalJson","patternUrls","synopsis","cDetail","isDialog","detailInfo","viewMode","editMode","selectOptions","priceOptions","priceUnit","wordBreak","filteredMaterialInfo","patternsInfo","oldInfo","alignItems","view","handleAfterEdit","getEditableProperties","detailForm"],"mappings":"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","file":"js/chunk-4e21694c.a5e82201.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e06589c8&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"JSONschema2Type\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema2Type.default;\n  }\n});\nObject.defineProperty(exports, \"IntegerType\", {\n  enumerable: true,\n  get: function get() {\n    return _IntegerType.default;\n  }\n});\nObject.defineProperty(exports, \"JSONschema\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema.default;\n  }\n});\nObject.defineProperty(exports, \"NumberType\", {\n  enumerable: true,\n  get: function get() {\n    return _NumberType.default;\n  }\n});\nObject.defineProperty(exports, \"SelectType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.default;\n  }\n});\nObject.defineProperty(exports, \"MultipleSeleteType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.MultipleSeleteType;\n  }\n});\nObject.defineProperty(exports, \"SelectType2\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType2.default;\n  }\n});\nObject.defineProperty(exports, \"StringType\", {\n  enumerable: true,\n  get: function get() {\n    return _StringType.default;\n  }\n});\nexports.default = void 0;\n\nvar _JSONschema2Type = _interopRequireDefault(require(\"./JSONschema2Type\"));\n\nvar _IntegerType = _interopRequireDefault(require(\"./IntegerType\"));\n\nvar _JSONschema = _interopRequireDefault(require(\"./JSONschema\"));\n\nvar _NumberType = _interopRequireDefault(require(\"./NumberType\"));\n\nvar _SelectType = _interopRequireWildcard(require(\"./SelectType\"));\n\nvar _SelectType2 = _interopRequireDefault(require(\"./SelectType2\"));\n\nvar _StringType = _interopRequireDefault(require(\"./StringType\"));\n\nvar _default = _JSONschema2Type.default;\nexports.default = _default;","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialProperty.vue?vue&type=style&index=0&id=2178d70e&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/scale.1568bf34.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationBar.vue?vue&type=style&index=0&id=184134dc&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=style&index=0&id=c5ece6ca&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtmList.vue?vue&type=style&index=0&id=24ffba04&lang=scss&scoped=true&\"","import { OSSUploader } from '@/utils/oss/uploader';\nimport isDataUrl from '_/is-data-url';\nimport { dataUrl2Blob } from '_/blob-utils';\n\n/**\n *\n * @param {Blob|string} blobOrDataUrl 一个dataUrl或者Blob对象（包括File）\n * @param {string} [sourceType] 资源类型 - @see {@link http://api.4dshoetech.com/project/61/interface/api/4387}\n * @param {(event: unknown,\n    fileLoaded: number,\n    fileSize: number,\n    process: number,\n    options: ComputedUploaderOptions<Params, Query>\n  ) => any} [onUpload] 上传进度 - 具体自己看结果或者源码\n * @return {Promise<string>}\n */\nconst uploadToOSS = async (blobOrDataUrl, sourceType, onUpload) => {\n  let body;\n  if (typeof blobOrDataUrl === 'string' && isDataUrl(blobOrDataUrl)) {\n    // 转化blob对象\n    body = dataUrl2Blob(blobOrDataUrl);\n  } else {\n    body = blobOrDataUrl;\n  }\n  // OSSUploader 会自动处理后缀名的问题，不需要额外的处理\n  // 上传到oss\n  /** @see {@link vscode://../from/a} */\n  const { key } = await OSSUploader.send({\n    sourceType,\n    body,\n    onUpload,\n  });\n\n  return key;\n};\n\nexport default uploadToOSS;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"save-as-dialog-wrapper\"},[_c('el-form',{ref:\"form\",staticClass:\"save-as-confirm-content\",attrs:{\"rules\":_vm.rules,\"label-width\":\"100px\",\"label-position\":\"left\",\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('model.detail.2d.file_name') + ':',\"prop\":\"modelNumber\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\"},model:{value:(_vm.form.modelNumber),callback:function ($$v) {_vm.$set(_vm.form, \"modelNumber\", $$v)},expression:\"form.modelNumber\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('model.detail.2d.file_location') + ':'}},[_c('div',{staticClass:\"path-wrapper\"},[_vm._v(\" \"+_vm._s(_vm.path)+\" \")])])],1),_c('div',{staticClass:\"flex-justify-flex-end button-group\"},[_c('el-button',{staticClass:\"button-cancel\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.cancel'))+\" \")]),_c('el-button',{attrs:{\"round\":\"\",\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.2d.save'))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"save-as-dialog-wrapper\">\n    <el-form class=\"save-as-confirm-content\" :rules=\"rules\" label-width=\"100px\"\n      label-position=\"left\" :model=\"form\" ref=\"form\">\n      <el-form-item :label=\"$t('model.detail.2d.file_name') + ':'\" prop=\"modelNumber\">\n        <el-input v-model=\"form.modelNumber\" maxlength=\"100\"></el-input>\n      </el-form-item>\n      <el-form-item :label=\"$t('model.detail.2d.file_location') + ':'\">\n        <div class=\"path-wrapper\">\n          {{ path }}\n        </div>\n      </el-form-item>\n    </el-form>\n    <div class=\"flex-justify-flex-end button-group\">\n      <el-button class=\"button-cancel\"\n        round\n        @click=\"$emit('cancel')\"\n        style=\"margin-right: 10px;\">\n        {{ $t('public.dialog.cancel') }}\n      </el-button>\n      <el-button round type=\"primary\" @click=\"handleSave\">\n        {{ $t('model.detail.2d.save') }}\n      </el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport validator, { validateFormFields } from '@/utils/validators/rules-validation';\nimport {\n  getCatalogUrl,\n} from '@/api/catalogue';\n\nexport default {\n  dialogify: {\n    props: {\n      title: i18n.t('model.detail.2d.save_as'),\n      // titleAlign: 'left',\n      width: '440px',\n    },\n  },\n  props: ['modelNumber'],\n  data() {\n    return {\n      path: '',\n      form: {\n        modelNumber: this.modelNumber,\n      },\n      rules: {\n        modelNumber: validator.rules('requirement'),\n      },\n    };\n  },\n  methods: {\n    async handleSave() {\n      try {\n        await validateFormFields(this.$refs.form);\n        this.$emit('confirm', this.form.modelNumber);\n      } catch (e) {\n        throw this.$errHandler(e);\n      }\n    },\n  },\n  async mounted() {\n    const { catalogId } = this.$route.query;\n    let { data: pathList } = await getCatalogUrl(catalogId);\n    pathList = pathList.sort((a, b) => b.sort - a.sort);\n    // eslint-disable-next-line\n    pathList[0].name = pathList[0].name === 'SHOE' ? 'My Designs'\n      // eslint-disable-next-line\n      : (pathList[0].name === 'MATERIAL' ? 'My Materials' : (\n        pathList[0].name === 'WORKSPACE' ? 'Workspaces' : ''\n      ));\n    pathList.pop();\n    this.path = pathList.reduce((a, b) => {\n      a = `${a}${b.name} > `;\n      return a;\n    }, '');\n    this.path = this.path.slice(0, this.path.length - 2);\n    console.log(this.path);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.save-as-dialog-wrapper {\n  /deep/ .el-form-item {\n    margin-bottom: 5px;\n  }\n  .button-group {\n    margin-top: 20px;\n  }\n  .path-wrapper {\n    padding-top: 8px;\n    line-height: 25px;\n    word-break: normal;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveAsConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveAsConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaveAsConfirm.vue?vue&type=template&id=3543f7c0&scoped=true&\"\nimport script from \"./SaveAsConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveAsConfirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SaveAsConfirm.vue?vue&type=style&index=0&id=3543f7c0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3543f7c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"model-demo\"},[_c('h2',{staticClass:\"model-demo-title\",style:(_vm.titleStyle)},[_vm._v(_vm._s(_vm.$t('material.info.attachment_models_caption')))]),_c('ul',{staticClass:\"model-demo-list\"},_vm._l((_vm.models),function(model,i){return _c('li',{key:i,staticClass:\"model-demo-item\"},[_c('SelectableBox',{attrs:{\"selected\":model.selected,\"width\":164,\"height\":122,\"disabled\":_vm.disabled},on:{\"preview\":function($event){return _vm.handlePreview(model.id)},\"change\":function (e) { return _vm.changeModel(i, e); }}},[_c('el-image',{attrs:{\"src\":model.cover,\"fit\":\"contain\"}})],1),_c('p',{staticClass:\"model-demo-name\"},[_vm._v(\"Model \"+_vm._s(i + 1))])],1)}),0),(_vm.currentId)?_c('ModelPurePreviewer',{ref:\"modelPreviewer\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"-1\",\"opacity\":\"0\"},attrs:{\"mode\":\"modelMaterial\",\"modelId\":_vm.currentId,\"materialId\":_vm.materialId,\"initModelStatus\":false}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"model-demo\">\n    <h2 class=\"model-demo-title\" :style=\"titleStyle\">{{ $t('material.info.attachment_models_caption') }}</h2>\n    <ul class=\"model-demo-list\">\n      <li\n        v-for=\"(model, i) in models\"\n        :key=\"i\"\n        class=\"model-demo-item\">\n        <SelectableBox\n          :selected=\"model.selected\"\n          :width=\"164\" :height=\"122\"\n          :disabled=\"disabled\"\n          @preview=\"handlePreview(model.id)\"\n          @change=\"e => changeModel(i, e)\">\n          <el-image :src=\"model.cover\" fit=\"contain\" />\n        </SelectableBox>\n        <p class=\"model-demo-name\">Model {{ i + 1 }}</p>\n      </li>\n    </ul>\n\n    <!-- 截图使用 -->\n    <ModelPurePreviewer\n      v-if=\"currentId\"\n      mode=\"modelMaterial\"\n      :modelId=\"currentId\"\n      :materialId=\"materialId\"\n      :initModelStatus=\"false\"\n      style=\"position: absolute; z-index: -1;opacity:0;\"\n      ref=\"modelPreviewer\" />\n  </div>\n</template>\n\n<script>\nimport axios from '@/utils/axios';\nimport delay from '_/delay';\n\nimport SelectableBox from '@/components/layout/SelectableBox';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer';\n\nconst getMaterialDemoModels = () => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/modelSearch/getDisplayModelIds',\n  });\n};\n\nexport default {\n  components: {\n    SelectableBox,\n    ModelPurePreviewer,\n  },\n  props: ['assetsInfo', 'materialId', 'titleStyle', 'disabled'],\n  mounted() {\n    this._generateModelData();\n    localStorage.setItem('modelCovers', JSON.stringify({}));\n  },\n  data() {\n    return {\n      models: [],\n      modelIds: [],\n      currentId: '',\n    };\n  },\n  methods: {\n    // 获取选择框的选择项（外部调用）\n    async getSelectResult() {\n      // 第一，判断是否有选中的模型\n      const selectedModels = this.models.filter(model => model.selected);\n      if (!selectedModels.length) return [];\n\n      // 先判断接口返回的数据是否已存在 cover\n      selectedModels.forEach(model => {\n        if (model.modelCover && model.modelCover.includes('http')) {\n          model.modelCover = model.modelCover.split('?')[0].split('/').slice(-2).join('/');\n        }\n      });\n      const missModels = selectedModels.filter(model => model.modelCover === '');\n      if (missModels.length === 0) return selectedModels;\n\n      // 再判断缓存是否有已存在（模型预览默认截取）\n      const coverObj = JSON.parse(localStorage.getItem('modelCovers'));\n      selectedModels.forEach(model => {\n        if (!model.modelCover) {\n          model.modelCover = coverObj[model.id];\n        }\n      });\n      if (missModels.length === 0) return selectedModels;\n\n      // 最后再调用D4加载模型,获取对应的截图\n      for (let i = 0; i < selectedModels.length; i++) {\n        const model = selectedModels[i];\n        if (!model.modelCover) {\n          this.currentId = model.id;\n          // await this.$nextTick();\n          await delay(500);\n          model.modelCover = await this.$refs.modelPreviewer.reloadModel(model.id);\n        }\n      }\n\n      return selectedModels;\n    },\n    // 打开鞋模型弹框\n    async handlePreview(id) {\n      await this.$Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: this.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          flex: 'column',\n          width: '580px',\n          height: '500px',\n        },\n      });\n    },\n    // 获取默认展示三个模型ids,并调整数据结果\n    async _generateModelData() {\n      this.modelIds = (await getMaterialDemoModels()).data;\n      this.models = this.modelIds.map((model) => {\n        return {\n          id: model.id,\n          selected: false,\n          cover: model.curtailImg,\n          modelCover: '',\n        };\n      });\n\n      // 通过筛选面料信息中选择模型的数据，同步选中的状态\n      if (this.assetsInfo && this.assetsInfo?.models) {\n        this.assetsInfo.models.forEach(item => {\n          this.models.forEach(model => {\n            if (item.id === model.id) {\n              model.selected = true;\n              model.modelCover = item.cover;\n            }\n          });\n        });\n      }\n    },\n    changeModel(i, e) {\n      this.models[i].selected = e;\n      this.$closest('MaterialInfo') && (this.$closest('MaterialInfo').saveBtnDisabled = false);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-image {\n  width: 100%;\n  height: 100%;\n}\n\n.model-demo {\n  .model-demo-title {\n    margin-bottom: 10px;\n    line-height: 20px;\n    font-size: 14px;\n    font-weight: 400;\n    color: #606060;\n  }\n  .model-demo-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\n    .model-demo-name {\n      margin: 10px 0;\n      text-align: center;\n      font-size: 14px;\n      color: #333;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModelsSelector.vue?vue&type=template&id=5de5db5f&scoped=true&\"\nimport script from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModelsSelector.vue?vue&type=style&index=0&id=5de5db5f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5de5db5f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search&Select.vue?vue&type=style&index=2&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search&Select.vue?vue&type=style&index=1&id=512804a2&scoped=true&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&id=24131ba2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\",class:(\"user-\" + _vm.size)},[_vm._t(\"avatar\",[_c('BaseImage',{staticClass:\"avatar\",attrs:{\"src\":_vm.userImage}})]),_c('div',{staticClass:\"content ellipsis\",class:{ 'ellipsis': !_vm.$scopedSlots.default }},[_vm._t(\"default\",[_vm._v(\" \"+_vm._s(_vm.user.account || _vm.user.email || _vm.user.mail || _vm.user.name)+\" \")])],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user\" :class=\"`user-${size}`\">\n    <slot name=\"avatar\">\n      <BaseImage class=\"avatar\" :src=\"userImage\"></BaseImage>\n    </slot>\n    <div class=\"content ellipsis\" :class=\"{ 'ellipsis': !$scopedSlots.default }\">\n      <slot>\n        {{ user.account || user.email || user.mail || user.name  }}\n      </slot>\n    </div>\n  </div>\n</template>\n<script>\nimport BaseImage from '@/components/base/Image';\n\nexport default {\n  components: {\n    BaseImage,\n  },\n  props: {\n    user: {},\n    size: { default: 'medium' },\n  },\n  computed: {\n    userImage() {\n      return this.user.headImg || this.user.avatar || this.user.icon || require('@/assets/img/header/default_avatar.png');\n    },\n  },\n\n};\n</script>\n<style lang=\"scss\" scoped>\n.user {\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n  &-medium {\n    .avatar {\n      width: 36px;\n      height: 36px;\n    }\n  }\n  &-small {\n    .avatar {\n      width: 28px;\n      height: 28px;\n    }\n  }\n  &-mini {\n    .avatar {\n      width: 24px;\n      height: 24px;\n    }\n  }\n  &-large {\n    .avatar {\n      width: 40px;\n      height: 40px;\n    }\n  }\n  .avatar {\n    border-radius: 50%;\n    background-color: #f5f5f5;\n    margin-right: 10px;\n  }\n  /deep/ .img-err {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    color: #909399;\n  }\n  .content {\n    flex: 1;\n  }\n  .ellipsis {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=09fce134&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09fce134\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=style&index=0&id=1048a648&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=style&index=0&id=7cdafee0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-width-previewer\"},[_c('ul',{staticClass:\"flex\"},_vm._l((_vm.fileList),function(file,i){return _c('li',{key:i,staticClass:\"file-list-item\"},[_c('DeletableBox',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"disabled\":_vm.disabled},on:{\"delete\":function($event){return _vm.handleDeleteFile(i)},\"preview\":function($event){return _vm.handlePreviewImage(file.url)}}},[_c('div',{staticClass:\"upload-video-item\"},[_c('video',{ref:\"videoPlayer\",refInFor:true,attrs:{\"src\":file.url,\"width\":\"100%\",\"height\":\"100%\"}}),_c('span',{staticClass:\"video-play-icon\"})])])],1)}),0),(_vm.fileList.length < _vm.max)?_c('UploadArea',{attrs:{\"multiple\":_vm.multiple,\"accept\":_vm.accept,\"max-size\":_vm.maxSize,\"disabled\":_vm.disabled},on:{\"upload\":_vm.handleUploadFile}},[_c('div',{staticClass:\"upload-area-box\",style:({ width: (_vm.width + \"px\"), height: (_vm.height + \"px\") })},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-container\"},[_c('video',{attrs:{\"src\":_vm.sourceUrl,\"autoplay\":_vm.autoplay,\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"video-container\">\n    <video\n      :src=\"sourceUrl\" :autoplay=\"autoplay\"\n      width=\"100%\" height=\"100%\" controls />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    sourceUrl: {\n      type: String,\n      required: true,\n    },\n    autoplay: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.video-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  background: #333;\n  // > video {\n  //   position: absolute;\n  //   width: 100%;\n  //   height: 100%;\n  //   z-index: 1;\n  //   top: 50%;\n  //   left: 50%;\n  //   transform: translate(-50%, -50%);\n  // }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoPlayerForLocal.vue?vue&type=template&id=411b2de4&scoped=true&\"\nimport script from \"./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoPlayerForLocal.vue?vue&type=style&index=0&id=411b2de4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"411b2de4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"upload-width-previewer\">\n    <!-- 展示文件框 -->\n    <ul class=\"flex\">\n      <li\n        v-for=\"(file, i) in fileList\"\n        :key=\"i\"\n        class=\"file-list-item\"\n      >\n        <DeletableBox\n          :width=\"width\"\n          :height=\"height\"\n          :disabled=\"disabled\"\n          @delete=\"handleDeleteFile(i)\"\n          @preview=\"handlePreviewImage(file.url)\"\n        >\n          <div class =\"upload-video-item\">\n            <video :src=\"file.url\" width=\"100%\" height=\"100%\" ref=\"videoPlayer\" />\n            <span class=\"video-play-icon\"></span>\n          </div>\n        </DeletableBox>\n      </li>\n    </ul>\n\n    <UploadArea\n      v-if=\"fileList.length < max\"\n      :multiple=\"multiple\"\n      :accept=\"accept\"\n      :max-size=\"maxSize\"\n      :disabled=\"disabled\"\n      @upload=\"handleUploadFile\"\n    >\n      <div\n        class=\"upload-area-box\"\n        :style=\"{ width: `${width}px`, height: `${height}px` }\"\n      >\n        <i class=\"iconfont icon-upload-cloud-o\" />\n        <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n      </div>\n    </UploadArea>\n  </div>\n</template>\n\n<script>\nimport UploadArea from '@/components/upload/index.vue';\nimport DeletableBox from '@/components/layout/DeletableBox.vue';\nimport VideoPlayerForLocal from '@/components/video/VideoPlayerForLocal.vue';\n\nexport default {\n  name: 'UploadWithPreviewer',\n  components: {\n    UploadArea,\n    DeletableBox,\n  },\n  props: {\n    urls: { // 图片集合\n      type: Array,\n      default: () => [],\n    },\n    width: {\n      type: Number,\n      default: 100,\n    },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    accept: {\n      type: String,\n      default: '',\n    },\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    maxSize: {\n      type: Number,\n      default: 100 * 1024 * 1024,\n    },\n    max: { // 上传文件最大数量\n      type: Number,\n      default: 1,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fileList: [],\n    };\n  },\n  watch: {\n    urls: {\n      handler(arr) {\n        this.fileList = arr.map(item => {\n          return { file: '', url: item };\n        });\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleUploadFile(files) {\n      if (!Array.isArray(files)) files = [files];\n      this.fileList.push(...files.map(file => this._formatFileItem(file)));\n      if (this.fileList.length >= this.max) {\n        this.fileList = this.fileList.slice(0, this.max);\n        // this.$message.warning(`最多上传${this.max}文件`);\n      }\n      this.$emit('change', this.fileList);\n    },\n    // 删除上传的图片\n    handleDeleteFile(i) {\n      this.fileList.splice(i, 1);\n      this.$emit('change', this.fileList);\n    },\n    // 处理放大图片功能\n    async handlePreviewImage(sourceUrl) {\n      await this.$Dialog.dialogify({\n        is: VideoPlayerForLocal,\n        props: {\n          sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    },\n    _formatFileItem(file) {\n      return {\n        file,\n        url: window.URL.createObjectURL(file),\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.file-item-image {\n  width: 100%;\n  height: 100%;\n}\n\n.upload-width-previewer {\n  display: flex;\n  align-items: center;\n  // flex-wrap: wrap;\n}\n\n.upload-area-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n    font-weight: 400;\n  }\n  .iconfont {\n    font-size: 25px;\n    font-weight: 500;\n  }\n}\n\n.upload-video-item {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  .video-play-icon {\n    position: absolute;\n    width: 34px;\n    height: 34px;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: rgba(0, 0, 0, 0.4);\n    border-radius: 50%;\n    &::after {\n      content: '';\n      position: absolute;\n      left: 13px;\n      top: 6px;\n      width: 0;\n      height: 0;\n      border: 10px solid transparent;\n      border-left-color: #fff;\n      border-radius: 4px;\n    }\n  }\n}\n\n.file-list-item {\n  margin-right: 10px;\n  border-radius: 4px;\n  overflow: hidden;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadVideo.vue?vue&type=template&id=b3f5c08a&scoped=true&\"\nimport script from \"./UploadVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadVideo.vue?vue&type=style&index=0&id=b3f5c08a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b3f5c08a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternProperty.vue?vue&type=style&index=0&id=4e54450b&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5aa64bef&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _default2 = (0, _compositionApi.defineComponent)({\n  name: 'SingleSeletor',\n  props: {\n    builder: {\n      type: String,\n      default: 'el-select'\n    },\n    subbuilder: {\n      type: String,\n      default: 'el-option'\n    },\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    options: {\n      type: Array,\n      default: function _default() {\n        return [1, 2, 3, 4, 5];\n      }\n    },\n    val: {\n      type: String,\n      default: ''\n    }\n  },\n  model: {\n    prop: 'val',\n    event: 'change'\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var isObject = (0, _typeof2.default)(this.options[0]) === 'object';\n    return h(this.builder, {\n      \"attrs\": _objectSpread({\n        \"value\": this.val\n      }, this.$attrs),\n      \"on\": {\n        \"change\": function change(n) {\n          _this.$emit('change', n);\n        }\n      }\n    }, [this.options.map( // @ts-ignore\n    function (op, index) {\n      return h(_this.subbuilder, {\n        \"attrs\": {\n          \"value\": isObject ? op[_this.valueKey] : op,\n          \"label\": isObject ? op[_this.labelKey] : op\n        },\n        \"key\": index\n      });\n    })]);\n  }\n});\n\nexports.default = _default2;","import axios from './axios';\n\n/**\n * 查询面料详细信息\n */\nexport const getMaterialDetail = (id) => {\n  return axios({\n    method: 'get',\n    url: '/mall/material',\n    params: {\n      id,\n    },\n  });\n};\n\n/**\n * 读取收藏信息的接口\n */\nexport const getLibraryMaterialDetail = (id) => {\n  return axios({\n    method: 'get',\n    url: '/mall/collect/info',\n    params: {\n      id,\n    },\n  });\n};\n\n\n/**\n * 获取是否收藏\n */\nexport const getMaterialCollectStatus = (id) => {\n  return axios({\n    method: 'post',\n    url: '/mall/collect/check',\n    data: {\n      id,\n    },\n  });\n};\n\n/**\n * 新增收藏\n */\nexport const addCollect = (id, materialId) => {\n  return axios({\n    method: 'post',\n    url: '/mall/collect/add',\n    data: {\n      id,\n      materialId,\n    },\n  });\n};\n/**\n * 取消收藏\n */\nexport const removeCollect = (id, materialId) => {\n  return axios({\n    method: 'post',\n    url: '/mall/collect/remove',\n    data: {\n      id,\n      materialId,\n    },\n  });\n};\n\n/**\n * 取消收藏\n */\nexport const increaseClick = (id) => {\n  return axios({\n    method: 'post',\n    url: '/mall/mall/click/increase',\n    data: {\n      id,\n    },\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search&Select.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-style1\"},[(_vm.url)?_c('div',{staticClass:\"previewer-box\"},[_c('el-image',{staticClass:\"previewer\",attrs:{\"src\":_vm.url,\"fit\":\"cover\"}}),_c('div',{staticClass:\"previewer-veil\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.reupload')))])])],1):_c('div',{staticClass:\"upload-area\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"upload-style1\">\n    <!-- 上传预览图 -->\n    <div v-if=\"url\" class=\"previewer-box\">\n      <el-image :src=\"url\" fit=\"cover\" class=\"previewer\" />\n      <div class=\"previewer-veil\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.reupload') }}</p>\n      </div>\n    </div>\n    <!-- 上传按钮 -->\n    <div v-else class=\"upload-area\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-style1 {\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  cursor: pointer;\n  overflow: hidden;\n\n  &:hover {\n    background-color: #f7faff;\n  }\n  &:hover .upload-area {\n    border-color: $color-primary;\n  }\n}\n\n.upload-area {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n    font-weight: 400;\n  }\n  .iconfont {\n    font-size: 25px;\n    font-weight: 500;\n  }\n}\n\n.previewer-box {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  &:hover .previewer-veil {\n    display: flex;\n  }\n\n  .previewer-veil {\n    display: none;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.6);\n\n    .upload-text {\n      margin-top: 5px;\n      font-size: 14px;\n      font-weight: 500;\n    }\n    .iconfont {\n      font-size: 35px;\n      font-weight: 500;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadStyle1.vue?vue&type=template&id=456c7186&scoped=true&lang=html&\"\nimport script from \"./UploadStyle1.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadStyle1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadStyle1.vue?vue&type=style&index=0&id=456c7186&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"456c7186\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selected-previewer-box\",class:{ selected: _vm.selectedStatus },style:({ width: (_vm.width + \"px\"), height: (_vm.height + \"px\") }),on:{\"click\":function($event){return _vm.$emit('preview')}}},[_c('div',{staticClass:\"selected-previewer\",style:({ width: ((_vm.width - 2) + \"px\"), height: ((_vm.height - 2) + \"px\") })},[_vm._t(\"default\"),_c('i',{staticClass:\"iconfont\",class:[_vm.selectedStatus ? 'icon-tick-circle' : 'iconyuanxing',\n        _vm.disabled ? 'disabled' : ''\n      ],on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleSelectedStatus($event)}}}),_c('IconMagnify',{staticClass:\"icon-magnify-comp\"})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, watch } from '@vue/composition-api';\n\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'SelectedPreviewer',\n  components: { IconMagnify },\n  props: {\n    width: {\n      type: Number,\n      default: 100,\n    },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, { emit }) {\n    const selectedStatus = ref(false);\n\n    function toggleSelectedStatus() {\n      if (props.disabled) return;\n      selectedStatus.value = !selectedStatus.value;\n      emit('change', selectedStatus.value);\n    }\n\n    watch(() => props.selected, (val) => {\n      selectedStatus.value = val;\n    }, {\n      immediate: true,\n    });\n\n    return { selectedStatus, toggleSelectedStatus };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectableBox.vue?vue&type=template&id=54889722&scoped=true&\"\nimport script from \"./SelectableBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectableBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectableBox.vue?vue&type=style&index=0&id=54889722&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54889722\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleSelector.vue?vue&type=style&index=0&id=dcbaee98&lang=scss&scoped=true&\"","/**\n * 与目录相关的所有接口\n */\nimport axios from './axios';\n\n/* ======================= 与登录账号相关 ============================ */\n/**\n * 获取登录账号的鞋模型和材质的my-upload文件目录的Id\n * @returns {Promise}\n */\nexport const getMyUploadIds = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getPersonalUploadCIds',\n  });\n};\n\nexport const getCatalogUrl = (catalogId) => {\n  return axios.get('/catalogue/yunpanCatalog/getCatalogUrl', {\n    params: {\n      catalogId,\n    },\n  });\n};\n\n// 初始化目录树\nexport const initModuleCatelog = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/initOrg',\n  });\n};\n\n// 获取模块根目录的列表信息\nexport const getModuleRootCatalog = (appType, isAllFile, relateId, descs, ascs) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRelateCatalog',\n    params: {\n      appType,\n      isAllFile,\n      relateId,\n      descs,\n      ascs,\n    },\n  });\n};\n\n/**\n * @see http://yapi.4dshoetech.local/project/40/interface/api/3203\n * @param {(\n *  ({ from: string } | {groupAppId: string})\n *  && {catalogId: string, relateType: 1 | 0}\n * )} params\n * @returns {PromiseLike<{data: string}>}\n */\nexport const getFileRelateIdByCatalogId = ({\n  groupAppId,\n  from,\n  ...params\n}) => {\n  return axios({\n    headers: {\n      groupAppId: groupAppId || from || '',\n    },\n    method: 'get',\n    url: '/catalogue/appInteraction/getCurrentRelateId',\n    params,\n  });\n};\n\n\n// 创建文件夹\nexport const createCatalog = (appType, name, parentFolderId = '-1', relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/create',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      name,\n      parentFolderId,\n      // relateId,\n    },\n  });\n};\n\n// 重命名文件\nexport const renameCatalog = (id, name, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/rename',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      catalogId: id,\n      name,\n    },\n  });\n};\n\n// 删除文件\nexport const deleteCatalog = (data, groupAppId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/delete',\n    headers: {\n      groupAppId,\n    },\n    data,\n  });\n};\n\n// 移动文件\nexport const moveCatalog = (appType, oldFolderIds, targetFolderId, relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/move',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      oldFolderIds,\n      targetFolderId,\n    },\n  });\n};\n\n// 复制文件\nexport const copyCatalog = (appType, oldFolderIds, targetFolderId, relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/copy',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      oldFolderIds,\n      targetFolderId,\n      fileType: -1,\n    },\n  });\n};\n\n// 解锁或锁定文件\nexport const toggleCatalogStatus = (folderIds, status) => {\n  return axios({\n    method: 'put',\n    url: '/catalogue/yunpanCatalog/status',\n    data: {\n      folderIds,\n      status,\n    },\n  });\n};\n\n// 在快捷方式栏添加文件的快捷方式\nexport const createShortcut = data => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/shortcut/addShortcut',\n    data,\n  });\n};\n\n// 获取快捷方式栏的快捷方式\nexport const fetchShortcut = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/shortcut/getShortcut',\n  });\n};\n\n// 删除快捷方式\nexport const deleteShortcut = data => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/shortcut/delShortcut',\n    data,\n  });\n};\n\n// 搜索文件\nexport const searchCatalog = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/homeSearch',\n    headers: {\n      groupAppId,\n    },\n    params,\n  });\n};\n\n// 重定向模型对应的渲染页url\nexport const reloadModelRendererUrl = (params) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/model',\n    headers: {\n      groupAppId: params.from === 0 ? '' : params.from,\n    },\n    params,\n  });\n};\n\n// 获取模型或面料详情\nexport const getModelOrMaterialDetail = ({\n  catalogId,\n  relateType,\n  relateId,\n}) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/getAppInfo',\n    headers: {\n      groupAppId: relateId,\n    },\n    params: {\n      catalogId,\n      relateType,\n    },\n  });\n};\n\n// 获取最近文件的路径\nexport const getCurrentFilePath = params => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRecentlyBrowsedPath',\n    params,\n  });\n};\n\n// 获取最近文件\nexport const getCurrentFiles = params => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRecentlyBrowsedRecords',\n    params,\n  });\n};\n\n// 获取根目录文件夹和文件（分组）\nexport const getRootFoldersAndFiles = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/catalogue/yunpanCatalog/getRelateCatalogHome',\n    params,\n  });\n};\n\nexport const getFolderFoldersAndFiles = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/catalogue/yunpanCatalog/getChildCatalogHome',\n    params,\n  });\n};\n\nexport const getPanelBoardList = (groupAppId = '') => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getPanelBoardList',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/*  =====================================  workspace相关  =====================================  */\n\nexport const fetchWorkspaces = appId => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/list',\n    params: {\n      appId,\n    },\n  });\n};\n// 更改workspace列表的顺序\nexport const changeSequence = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/sort/update',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data,\n  });\n};\n// export const changeSequence = (groupAppId, data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/manage/groupapp/offset',\n//     headers: {\n//       groupAppId,\n//       'Content-Type': 'application/json',\n//     },\n//     data,\n//   });\n// };\n\n// 协同空间重命名\nexport const renameWorkspace = (groupAppId, name) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/rename',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      name,\n    },\n  });\n};\n\n// 获取内部成员列表\nexport const fetchInnerMembers = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list',\n    params: {\n      keyWord: '',\n      accountType: '',\n      isOuter: 0,\n    },\n  });\n};\n\n// 去重版\nexport const fetchDeduplicatedInnerMembers = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/invite',\n    headers: {\n      groupAppId,\n    },\n    params: {\n      accountType: 0,\n    },\n  });\n};\nexport const fetchDeduplicatedOuterMembers = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/invite',\n    headers: {\n      groupAppId,\n    },\n    params: {\n      accountType: 1,\n    },\n  });\n};\n\nexport const fetchOuterMembers = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/outer/nostatus/list',\n  });\n};\n\n// 最近邀请成员成员列表\nexport const fetchInvitMembers = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/current',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n\n// 获取子目录\nexport const getResourceSublist = (config, groupAppId = '') => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getChildCatalog',\n    params: config,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 创建新目录\nexport const createResourceItem = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/create',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 重命名目录名称\nexport const updateResourceItemName = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/rename',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 改变目录的状态\nexport const updateResourceItemStatus = (folderIds, status, groupAppId = '') => {\n  return axios({\n    method: 'put',\n    url: '/catalogue/yunpanCatalog/status',\n    data: {\n      folderIds,\n      status,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 删除目录 -- api只做单个删除\nexport const deleteResourceItem = (id, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/delete',\n    data: [id],\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 目录复制\nexport const copyFilesToFolders = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/copy',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 目录移动\nexport const removeFolder = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/move',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 获取固定工作版和临时工作版列表\nexport const getAllCategoriesList = (config) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getTempAndFixedCatalog',\n    params: config,\n  });\n};\n\n// 公共材质目录\nexport const getAllCatagoriesOfPublic = (config) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getMaterialLibrary',\n    params: config,\n  });\n};\n\n/* ================================ 资源中心 -- 搜索 ========================= */\n\nexport const searchResourceByKeyword = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/search',\n    headers: {\n      groupAppId,\n    },\n    params,\n  });\n};\n\nexport const getHiddenCatalog = (catalogId, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getHiddenCatalog',\n    params: {\n      catalogId,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoUpload.vue?vue&type=style&index=0&id=ad2bb65c&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=8f26f40a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',_vm._g({staticClass:\"iconfont\",class:_vm.activeStatus ? 'icon-help-circle' : 'iconhelp_nol',on:{\"mouseenter\":function($event){_vm.activeStatus = true},\"mouseleave\":function($event){_vm.activeStatus = false}}},_vm.$listeners))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <i\n    class=\"iconfont\"\n    :class=\"activeStatus ? 'icon-help-circle' : 'iconhelp_nol'\"\n    v-on=\"$listeners\"\n    @mouseenter=\"activeStatus = true\"\n    @mouseleave=\"activeStatus = false\" />\n</template>\n\n<script>\nexport default {\n  name: 'IconQuestion',\n  data() {\n    return {\n      activeStatus: false,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 标签填写示例\n.iconfont {\n  margin-left: 5px;\n  font-size: 17px;\n  color: #848b97;\n  cursor: pointer;\n}\n.icon-help-circle {\n  color: $color-primary;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconQuestion.vue?vue&type=template&id=b67bf064&scoped=true&\"\nimport script from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nexport * from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b67bf064\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternItem.vue?vue&type=style&index=0&id=633b2d9a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-popover',{attrs:{\"width\":\"200\",\"placement\":\"left-start\",\"visible-arrow\":false,\"close-delay\":0,\"disabled\":!_vm.material.texture && !_vm.material.flat,\"transition\":\"\",\"trigger\":\"manual\"},model:{value:(_vm.textureVisible),callback:function ($$v) {_vm.textureVisible=$$v},expression:\"textureVisible\"}},[_c('BaseImage',{attrs:{\"width\":\"200\",\"height\":\"200\",\"fit\":\"contain\",\"src\":_vm.material.texture || _vm.material.flat}},[_c('div',{staticClass:\"img-loading\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"el-icon-loading\"})])]),(_vm.material.texture)?_c('BaseImage',{attrs:{\"fit\":\"contain\",\"src\":require('@/assets/img/material/scale-horizontal.png')}}):_vm._e(),_c('div',{staticClass:\"text-one-line\"},[_vm._v(_vm._s(_vm.material.name))]),_c('div',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('figure',{ref:\"materialItem\",staticClass:\"material-item\",class:{\n        selected: _vm.selected,\n        copying: _vm.isCopying,\n        moving: _vm.isMoving\n      },attrs:{\"tabindex\":\"0\",\"draggable\":!_vm.unavailableResaon},on:{\"click\":function($event){$event.stopPropagation();return _vm.pick($event)},\"contextmenu\":function($event){$event.stopPropagation();return _vm.handleContextmenu($event)},\"dragstart\":function($event){return _vm.handleDragStartMaterial(_vm.material, $event)},\"dragover\":function($event){$event.preventDefault();}}},[_c('BaseImage',{style:({\n            width: '96px',\n            height: '96px',\n          }),attrs:{\"lazy\":true,\"data-img-type\":\"material-list\",\"data-src\":_vm.imgSrc,\"src\":_vm.imgSrc}}),_c('i',{staticClass:\"iconfont icon-help\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('show-info', _vm.material)}}}),(_vm.selectable)?_c('i',{staticClass:\"iconfont icon-tick-circle\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('update:selected', !_vm.selected)}}}):_vm._e(),_c('i',{staticClass:\"iconfont icon-zoom\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('magnify', _vm.displayMode)}}}),(_vm.material.formFavorite)?_c('i',{staticClass:\"iconfont icon-heart\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleUnlike($event)}}}):_vm._e(),(_vm.unavailableResaon)?_c('span',{staticClass:\"material-item-publishstatus\"},[_vm._v(\" \"+_vm._s(_vm.unavailableResaon)+\" \")]):_vm._e(),(_vm.costPrice)?_c('small',{staticClass:\"material-item-price\"},[_vm._v(_vm._s(_vm.costPrice))]):_vm._e()],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"placement\":\"bottom\",\"popper-class\":\"material-card-name-tooltip\"}},[_c('div',{staticClass:\"text-one-line\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',[_vm._v(_vm._s(_vm.material.name))]),(_vm.材料规格)?_c('div',[_vm._v(_vm._s(_vm.材料规格))]):_vm._e()]),_c('span',{staticClass:\"material-item-name text-one-line\"},[_vm._v(\" \"+_vm._s(_vm.material.name)+\" \")])]),(_vm.partUsed)?_c('div',{staticClass:\"row\"},[_c('span',{staticClass:\"text-one-line\",attrs:{\"title\":_vm.partUsed}},[_vm._v(_vm._s(_vm.partUsed)+\" \")])]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n<el-popover\n  width=\"200\"\n  placement=\"left-start\"\n  :visible-arrow=\"false\"\n  :close-delay=\"0\"\n  :disabled=\"!material.texture && !material.flat\"\n  transition=\"\"\n  v-model=\"textureVisible\"\n  trigger=\"manual\">\n  <BaseImage width=\"200\" height=\"200\" fit=\"contain\" :src=\"material.texture || material.flat\">\n    <div class=\"img-loading\" slot=\"placeholder\" >\n      <i class=\"el-icon-loading\"></i>\n    </div>\n  </BaseImage>\n  <BaseImage fit=\"contain\" :src=\"require('@/assets/img/material/scale-horizontal.png')\" v-if=\"material.texture\"></BaseImage>\n  <div class=\"text-one-line\">{{ material.name }}</div>\n  <div slot=\"reference\">\n    <figure class=\"material-item\"\n      ref=\"materialItem\"\n      :class=\"{\n        selected: selected,\n        copying: isCopying,\n        moving: isMoving\n      }\"\n      tabindex=\"0\"\n      @click.stop=\"pick\"\n      @contextmenu.stop=\"handleContextmenu\"\n      @dragstart=\"handleDragStartMaterial(material, $event)\"\n      @dragover.prevent\n      :draggable=\"!unavailableResaon\">\n\n      <BaseImage :lazy=\"true\"\n        data-img-type='material-list'\n        :data-src=\"imgSrc\"\n        :style=\"{\n            width: '96px',\n            height: '96px',\n          }\"\n        :src=\"imgSrc\" />\n      <!-- <figcaption class=\"material-item-name\">{{ material.name }}</figcaption> -->\n\n      <!-- 小功能按钮 -->\n      <i class=\"iconfont icon-help\"\n        @click.stop=\"$emit('show-info', material)\" />\n      <i\n        class=\"iconfont icon-tick-circle\"\n        v-if=\"selectable\"\n        @click.stop=\"$emit('update:selected', !selected)\"\n      />\n      <i class=\"iconfont icon-zoom\" @click.stop=\"$emit('magnify', displayMode)\" />\n      <i class=\"iconfont icon-heart\" @click.stop=\"handleUnlike\" v-if=\"material.formFavorite\" />\n      <span v-if=\"unavailableResaon\" class=\"material-item-publishstatus\">\n        {{unavailableResaon}}\n      </span>\n      <small v-if=\"costPrice\" class=\"material-item-price\">{{costPrice}}</small>\n    </figure>\n    <el-tooltip class=\"item\" effect=\"dark\" placement=\"bottom\" popper-class=\"material-card-name-tooltip\">\n      <div slot=\"content\" class=\"text-one-line\">\n        <div>{{ material.name }}</div>\n        <div v-if=\"材料规格\">{{ 材料规格 }}</div>\n      </div>\n      <span class=\"material-item-name text-one-line\">\n        {{ material.name }}\n      </span>\n    </el-tooltip>\n    <div class=\"row\" v-if=\"partUsed\">\n      <span\n        class=\"text-one-line\"\n        :title=\"partUsed\">{{ partUsed }}\n      </span>\n    </div>\n  </div>\n  </el-popover>\n</template>\n\n<script>\n\nimport BaseImage from '@/components/base/Image';\nimport clipboard from '@/utils/clipboard';\nimport { axios } from '@/utils/axios';\nimport i18n from 'i18next';\nimport MaterialStatus from '@/models/MaterialStatus';\n\nexport default {\n  components: {\n    BaseImage,\n  },\n  props: {\n    selected: {\n      type: Boolean,\n    },\n    material: {\n      type: Object,\n      required: true,\n    },\n    // 面料的现实模式 flat/drape\n    displayMode: {\n      type: String,\n      default: 'drape',\n    },\n  },\n  data() {\n    return {\n      textureVisible: false,\n    };\n  },\n  computed: {\n    材料规格() {\n      return this.material.extraProperty?.材料规格;\n    },\n    // 使用部位\n    partUsed() {\n      return this.material.part_used || this.material.partUsed || '';\n    },\n    // 成本单价\n    costPrice() {\n      const { material: _material } = this;\n      const supplierPriceObj = _material.supplier_price_obj ?? {};\n      const unit2symbol = {\n        1: '￥',\n        2: '$',\n      };\n      let v;\n      let u;\n      if (supplierPriceObj.cost_value) {\n        v = supplierPriceObj.cost_value;\n        u = supplierPriceObj.cost_unit;\n      } else if (supplierPriceObj.reference_price_value) {\n        v = supplierPriceObj.reference_price_value;\n        u = supplierPriceObj.reference_price_unit;\n      } else {\n        v = _material.samplePrice;\n        u = _material.samplePriceUnit;\n      }\n      return u && v ? `${unit2symbol[u]}${v}` : '';\n    },\n\n    selectable() {\n      return this.$listeners['update:selected'];\n    },\n    imgSrc() {\n      return (this.displayMode === 'flat'\n        ? this.material.texture ?? this.material.flat : this.material.thumbnail) || null;\n    },\n    inClipboard() {\n      return clipboard.type === 'catalog'\n        && clipboard.dataArr.some(catalog => catalog.fileInfo === this.material);\n    },\n    isCopying() {\n      return clipboard.command === 'copy'\n        && this.inClipboard;\n    },\n    isMoving() {\n      return clipboard.command === 'move'\n        && this.inClipboard;\n    },\n    unavailableResaon() {\n      const { material } = this;\n      if (material.deleteStatus) {\n        return i18n.t('model.detail.board.deleted');\n      } if (material.status === MaterialStatus.INACTIVE) {\n        return i18n.t('model.detail.board.inactive');\n        // } if (material.status === MaterialStatus.REJECTED) {\n        //   return i18n.t('model.detail.board.rejected');\n        // } if (material.status === MaterialStatus.DEVELOPING) {\n        //   return i18n.t('model.detail.board.developing');\n      } if (material.publishStatus === 3) {\n        return i18n.t('model.detail.board.unpublished');\n      }\n      return null;\n    },\n  },\n  methods: {\n    handleContextmenu(e) {\n      if (this.$listeners.contextmenu) {\n        e.preventDefault();\n        this.$emit('contextmenu', e, this.material);\n      }\n    },\n    handleDragStartMaterial(data, e) {\n      this.$emit('drag', data, e);\n    },\n    handleShowTexture() {\n      this.textureVisible = true;\n    },\n    handleHideTexture() {\n      this.textureVisible = false;\n    },\n    async handleUnlike() {\n      const confirm = await this.$confirmBool('确定取消收藏吗？');\n      if (confirm) {\n        await axios.post('/mall/collect/remove', {\n          id: this.material.goodId,\n          materialId: this.material.id,\n        });\n        this.$closest('LibraryList').t = Date.now();\n      }\n    },\n    pick() {\n      this.$emit('pick', this.material);\n    },\n  },\n  mounted() {\n    this.$refs.materialItem.addEventListener('mouseenter', this.handleShowTexture);\n    this.$refs.materialItem.addEventListener('mouseleave', this.handleHideTexture);\n  },\n  unmounted() {\n    this.$refs.materialItem.removeEventListener('mouseenter', this.handleShowTexture);\n    this.$refs.materialItem.removeEventListener('mouseleave', this.handleHideTexture);\n  },\n};\n</script>\n\n<style lang=\"scss\">\n// 加一点偏移，避免tooltip靠近body底部时，再滚动，会超出body的范围而出现滚动条抖动的现象\n.material-card-name-tooltip {\n  transform: translateY(-10px);\n}\n</style>\n<style lang=\"scss\" scoped>\n@keyframes blink {\n  50% {\n    border-color: $color-primary;\n  }\n}\n\n.material-item {\n  border: 1px solid transparent;\n  position: relative;\n  outline: none;\n  width: 96px;\n  height: 96px;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: 6px;\n  &:hover {\n    filter: drop-shadow(0 0 5px rgba(136, 149, 172, 0.4));\n  }\n  &.selected {\n    border-color: $color-primary;\n    .icon-tick-circle {\n      display: block;\n      color: $color-primary;\n    }\n  }\n\n  &.copying,\n  &.moving {\n    border-style: dashed;\n    animation: blink 2s infinite;\n  }\n  &.moving {\n    > * {\n      opacity: 0.5;\n    }\n  }\n  &:hover .iconfont,\n  &:hover .icon-heart,\n  // &:hover .material-item-price,\n  &:hover .icon-zoom {\n    display: block;\n  }\n\n  .iconfont {\n    display: none;\n    position: absolute;\n    z-index: 2;\n    color: #848b97;\n  }\n\n  .material-item-price {\n    position: absolute;\n    z-index: 2;\n    height: 18px;\n    opacity: 0.6;\n    background: #000;\n    border-radius: 8px;\n    color: #fff;\n    left: 6px;\n    bottom: 6px;\n    padding: 3px 6px;\n  }\n\n  .material-item-publishstatus {\n    height: 20px;\n    line-height: 20px;\n    user-select: none;\n    background-color: #838b97;\n    border-radius: 10px;\n    color: #fff;\n    position: absolute;\n    top: 40px;\n    width: 52px;\n    left: 22px;\n    text-align: center;\n    font-size: 12px;\n  }\n\n  .icon-help {\n    left: 6px;\n    top: 6px;\n  }\n  .icon-help:hover {\n    color: #2878ff;\n  }\n  .icon-tick-circle {\n    right: 6px;\n    top: 6px;\n  }\n  .icon-zoom {\n    display: none;\n    text-align: center;\n    line-height: 18px;\n    right: 6px;\n    bottom: 6px;\n    width: 18px;\n    height: 18px;\n    background-color: rgba(132, 139, 151, 0.4);\n    border-radius: 2px;\n    color: #fff;\n    &:hover {\n      background-color: rgba(0, 0, 0, 0.6);\n    }\n  }\n  .icon-heart {\n    display: none;\n    text-align: center;\n    line-height: 18px;\n    right: 6px;\n    top: 6px;\n    width: 18px;\n    height: 18px;\n    color: #f74c4c;\n    border-radius: 2px;\n    &:hover {\n      color: #f62020;\n    }\n  }\n  // .material-item-price {\n  //   right: 4px;\n  //   bottom: 26px;\n  //   color: $color-font-dark;\n  // }\n}\n.material-item-name {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 24px;\n  line-height: 24px;\n  font-size: 12px;\n  font-weight: 400;\n  // text-align: center;\n  color: #333;\n  cursor: pointer;\n}\n\n.row {\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n  align-content: center;\n  align-items: center;\n  > * {\n    margin-left: 0.4em;\n    min-width: 0;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    &:first-child {\n      margin-left: 0;\n    }\n  }\n}\n\n.el-image {\n  border-radius: 0;\n}\n.el-popover {\n  padding: 10px;\n}\n.img-loading {\n  font-size: 150%;\n  background-color: #f7f7f7;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  color: inherit;\n  i {\n    font-size: inherit;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialCard.vue?vue&type=template&id=1a06ab60&scoped=true&lang=html&\"\nimport script from \"./MaterialCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialCard.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./MaterialCard.vue?vue&type=style&index=1&id=1a06ab60&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a06ab60\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoView.vue?vue&type=style&index=0&id=438266f1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_videos_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip2'))+\" \")])],1)],1),_c('UploadVideo',{ref:\"UploadVideo\",attrs:{\"urls\":_vm.paths,\"disabled\":_vm.disabled,\"maxSize\":30 * 1024 * 1024,\"width\":78,\"height\":78,\"accept\":\".mp4\"},on:{\"change\":_vm.changeVideo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_videos_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_videos_tip') }}<br>\n          {{ $t('material.info.attachment_videos_tip2') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadVideo\n      ref=\"UploadVideo\"\n      :urls=\"paths\"\n      :disabled=\"disabled\"\n      :maxSize=\"30 * 1024 * 1024\"\n      :width=\"78\" :height=\"78\"\n      accept=\".mp4\"\n      @change=\"changeVideo\"\n    />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadVideo from '@/components/upload/UploadVideo';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadVideo,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.videos) {\n          this.paths = obj?.videos;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getVideoOssPaths() {\n      const result = this.$refs.UploadVideo.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n    changeVideo(e) {\n      this.files = e;\n      this.$closest('MaterialInfo') && (this.$closest('MaterialInfo').saveBtnDisabled = false);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin: 15px 0 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentVideo.vue?vue&type=template&id=5a911f2c&scoped=true&\"\nimport script from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentVideo.vue?vue&type=style&index=0&id=5a911f2c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a911f2c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=style&index=0&id=10f2f0aa&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4fd64367&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RendererD4.vue?vue&type=style&index=0&id=2a8c0887&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=style&index=0&id=15080de4&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=style&index=0&id=4db97a97&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveAsConfirm.vue?vue&type=style&index=0&id=3543f7c0&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=style&index=0&id=5de5db5f&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceForm.vue?vue&type=style&index=0&id=5924e2d1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-carousel',{ref:\"carousel\",class:_vm.size,attrs:{\"indicator-position\":\"none\",\"initial-index\":_vm.initialIndex,\"autoplay\":false},on:{\"change\":function (newIndex) {_vm.$emit('change', newIndex)}}},_vm._l((_vm.swiperList),function(item,i){return _c('el-carousel-item',{key:i},[(item.type === 'image')?[_c('base-image',{staticClass:\"material-img\",attrs:{\"fit\":\"contain\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.imageType && item.imageType === 'texture'),expression:\"item.imageType && item.imageType === 'texture'\"}],staticClass:\"img-scale\"},[_c('img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":require('@/assets/img/material/scale.png')}})]),_c('IconMagnify',{staticClass:\"icon-magnify__image\",on:{\"magnify\":function (e) { return _vm.$act(_vm.previewImage, [e]); }}})]:(item.type === 'video')?[_c('div',{staticClass:\"material-video\"},[_c('VideoPlayer',{attrs:{\"sourceURL\":item.url,\"autoplay\":\"\"}}),_c('i',{staticClass:\"iconfont iconshipin\"})],1)]:(item.type === 'model')?[_c('div',{staticClass:\"material-model\"},[_c('base-image',{attrs:{\"fit\":\"cover\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('i',{staticClass:\"iconfont iconmoxing\"}),_c('IconMagnify',{staticClass:\"icon-magnify__model\",on:{\"magnify\":function($event){return _vm.previewModel(item.id)}}})],1)]:_vm._e()],2)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\n\nimport VideoPlayer from '@/components/video/index.vue';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer.vue';\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'CarouselMaterialImages',\n  components: {\n    IconMagnify,\n    VideoPlayer,\n  },\n  props: {\n    swiperList: {\n      type: Array,\n      required: true,\n    },\n    materialId: {\n      type: String,\n      default: '',\n    },\n    size: {\n      tyep: String,\n      default: '',\n    },\n    initialIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  // @ts-ignore\n  setup(props, { root: { $ImageViewer, $Dialog } }) {\n    const carousel = ref(null);\n\n    async function previewImage() {\n      const imgList = props.swiperList.reduce((acc, cur) => {\n        // @ts-ignore\n        if (cur.type === 'image') acc.push(cur.url);\n        return acc;\n      }, []);\n      await $ImageViewer.show(imgList as string[], {\n        index: ((carousel.value) as any).activeIndex,\n        targetElems: '.material-img',\n      });\n    }\n\n    async function previewVideo(sourceUrl: string) {\n      await $Dialog.dialogify({\n        is: VideoPlayer,\n        props: {\n          sourceURL: sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          center: true,\n        },\n      });\n    }\n\n    async function previewModel(id: string) {\n      await $Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: props.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    }\n\n    // 设置轮播图的滚动的index(外部调用)\n    function carouselSetActiveItem(index: number) {\n      ((carousel.value) as any).setActiveItem(index);\n    }\n\n    return {\n      carousel, previewImage, previewVideo, previewModel, carouselSetActiveItem,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialCarousel.vue?vue&type=template&id=2a271184&scoped=true&\"\nimport script from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialCarousel.vue?vue&type=style&index=0&id=2a271184&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a271184\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=57918cc7&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=24b34a41&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogTree.vue?vue&type=style&index=0&id=218c3ba6&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubMaterialProperty.vue?vue&type=style&index=0&id=3392e7c6&lang=scss&scoped=true&\"","import axios, { axiosEncrypt } from '@/utils/axios';\n\n/* =========================== 账号相关 =========================== */\nexport const registerAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/register',\n    headers: {\n      token: '',\n    },\n    data,\n  });\n};\n\nexport const loginByName = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/login/login',\n    data,\n  });\n};\n\n// 重置密码\n// 已废弃\n// export const resetPassword = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/pass/reset',\n//     data,\n//   });\n// };\n\n// 发送验证码\n// 已废弃\n// export const sendVerifyCode = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/verification/code',\n//     data,\n//   });\n// };\n\n// 校验验证码\n// 已废弃\n// export const checkVerifyCode = (code, account) => {\n//   return axios({\n//     method: 'get',\n//     url: `/authcenter/user/check/verify?verifyCode=${code}&account=${account}`,\n//   });\n// };\n\n// 验证邮箱接口\nexport const emailVerify = (email) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/email/verify?email=${email}`,\n  });\n};\n\n// 校验账号是否为主账号或普通账号\nexport const checkRole = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/check/role?account=${account}`,\n  });\n};\n\n// 账号购买套餐的信息\nexport const getUserPurchaseInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/info/all',\n  });\n};\n\n/**\n * 申请试用\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const applyAccountForTrial = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/trial/add',\n    data,\n  });\n};\n\n/**\n * 订阅更新信息\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const subscribeOurWebsite = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/subscribe',\n    data,\n  });\n};\n\n/**\n * 校验账户是否重复\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const checkAcountExistent = (account) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/account/check',\n    params: {\n      account,\n    },\n  });\n};\n\n/* =========================== 当前登录用户 =========================== */\n/**\n * 根据token来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUserInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/info/get',\n  });\n};\n\n/**\n * 根据用户ID来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUsersInfoByIds = async (_userIds = []) => {\n  const userIds = Array.from(new Set(_userIds.filter(id => !!id)));\n  if (!userIds.length) {\n    const data = new Array(_userIds.length);\n    data.fill(null);\n    return { data };\n  }\n  const res = await axios({\n    method: 'post',\n    url: '/authcenter/user/im/info',\n    data: userIds,\n  });\n  const users = Object.fromEntries(res.data.map(user => ([user.id, user])));\n  res.data = _userIds.map(id => users[id] ?? null);\n  return res;\n};\n\n/**  ???????????????????????????\n * 根据token来获取当前登录用户信息\n * @param {Object} data 登录信息\n * @returns {Promise}\n */\nexport const uploadAccountInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/update',\n    data,\n  });\n};\n\n/**\n * 修改用户信息\n * @param {Object} data 支持 name, email, headImg 三个属性修改\n * @returns {Promise}\n */\nexport const updateUserInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update/self',\n    data,\n  });\n};\n\n/**\n * 根据邮箱或账号重置账号密码\n * @param {Object} data 邮箱和信息密码\n * @returns {Promise}\n */\nexport const updateUserPasswordByVerificatioCode = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/password/reset',\n    data,\n  });\n};\n\n/**\n * 获取是否有剩余的子账号（true/fase）(deprecated)\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetLeaveSubaccount = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/check?resourceType=${type}`,\n  });\n};\n\n/**\n * 新增收费子账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createPaidSubaccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/add',\n    data,\n  });\n};\n\n/**\n * 新增免费账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const ApiAddFreeAccount = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/free/add',\n    data,\n  });\n};\n\n/* =========================== 账号中心 =========================== */\n/**\n * 公司列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiCompanyList = (groupAppId, keyword = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiAddressList = (keyWord, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: `/authcenter/contacts/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 虚拟账号列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiVirtualList = (keyWord) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/virtual/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 协同空间群设置的成员列表（可搜索）\n * @param {String} keyword 搜索\n * @returns {Promise}\n */\nexport const fetchGroupMembers = ({\n  keyword,\n  groupAppId,\n}) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/ugroup/users/search?keyword=${keyword}`,\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n  });\n};\n\n/**\n * 公司账号的子账号列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getSubaccountListOfCompany = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getContactList = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/contacts/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 虚拟账号列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getVirtualList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/virtual/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 编辑\n * @param {String} data 编辑信息对象\n * @returns {Promise}\n */\nexport const ApiupdateUserAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update',\n    data,\n  });\n};\n\n/**\n * 删除单个 非邀请Delete\n * @param {String} id 删除id  <!-- null 和0 都是，1 是邀请 Disconnect-->\n * @returns {Promise}\n */\nexport const ApiDelAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/delete?userId=${id}`,\n  });\n};\n\n/**\n * 删除单个 邀请 Disconnect\n * @param {String} id 删除id\n * @returns {Promise}\n */\nexport const ApiDisconnectAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/contacts/disconnect?relateUserId=${id}`,\n  });\n};\n\n/**\n * 获取新增子账号剩余多少\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetCanUseWorkspace = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/info?resourceType=${type}`,\n  });\n};\n\n/**\n * 检查名称是否重复\n * @param {String} account 名称\n * @returns {Promise}\n */\nexport const ApicheckUsable = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/check?account=${account}`,\n  });\n};\n\n/**\n * 清除到期账号\n * @returns {Promise}\n */\nexport const ApiDelOverdue = () => {\n  return axios({\n    method: 'get',\n    url: '/user/overdue/delete',\n  });\n};\n\n/**\n * 查询是否遮罩\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApigetShade = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/shade/get?type=${type}`,\n  });\n};\n\n/**\n * 关闭遮罩\n * @param {String} data 类型\n * @returns {Promise}\n */\nexport const ApiaddShade = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/shade/add',\n    data,\n  });\n};\n\n/**\n * 新增虚拟账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createVirtualAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/virtual/add',\n    data,\n  });\n};\n\n// 头和目标账号信息\nexport const ApiConnectAccount = (data, headers) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/add/mutiple',\n    data,\n    headers,\n  });\n};\n\n/**\n * 公司套餐workspace数量(deprecated)\n * @param {String}\n * @returns {Promise}\n */\nexport const getWorkspacesNumberOfPackage = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/package/workspace/number',\n  });\n};\n\n/**\n * 添加协同空间成员时搜索可添加的列表\n * @param {String}\n * @returns {Promise}\n */\nexport const searchUsersToAdd = (keyword, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/search',\n    params: {\n      keyword,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionList.vue?vue&type=style&index=0&id=10da4ea4&lang=scss&scoped=true&\"","import Setting, { Key2ValueType } from '@/models/Setting';\n\n\nfunction getSetting\n  <K extends keyof Key2ValueType>(key: K): NonNullable<Key2ValueType[K]> | undefined;\nfunction getSetting\n  <K extends keyof Key2ValueType,\n  T extends Key2ValueType[K]>(key: K, defaults ?: T): T | Key2ValueType[K];\nfunction getSetting\n  <K extends keyof Key2ValueType, T extends Key2ValueType[K]>(key: K, defaults ?: T) {\n  return Setting.get(key)?.value ?? defaults;\n}\n\nexport { getSetting };\n\nexport function setSetting<K extends keyof Key2ValueType>(key: K, value ?: any) {\n  Setting.insertOrUpdate({\n    data: {\n      key,\n      value,\n    },\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon-maginfy-box\",on:{\"click\":function($event){return _vm.$emit('magnify')}}},[_c('i',{staticClass:\"iconfont iconfangdajing\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"icon-maginfy-box\"\n    @click=\"$emit('magnify')\">\n    <i class=\"iconfont iconfangdajing\" />\n  </div>\n</template>\n<script>\nexport default {};\n</script>\n\n<style lang=\"scss\" scoped>\n.icon-maginfy-box {\n  position: relative;\n  color: rgba(173, 173, 173, 0.6);\n  width: 24px;\n  cursor: pointer;\n\n  &:hover,\n  &:active,\n  &.hover-status {\n    color: rgba(90, 90, 90, 0.6);\n  }\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    right: -20px;\n    bottom: -20px;\n    width: 0;\n    height: 0;\n    border: 20px solid transparent;\n    border-top-color: currentColor;\n    transform: rotate(-45deg);\n  }\n\n  .iconfangdajing {\n    position: relative;\n    left: 10px;\n    top: -1px;\n    font-size: 14px;\n    color: #fff;\n    z-index: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconMagnify.vue?vue&type=template&id=01875c86&scoped=true&\"\nimport script from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nexport * from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01875c86\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-color-viewer\"},[_c('label',{staticClass:\"label text-one-line\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"content-box\"},[_vm._t(\"default\",[(_vm.content)?[_c('span',{staticClass:\"content\"},_vm._l((_vm.content.split(',')),function(color){return _c('span',{key:color,staticClass:\"color-item\"},[_c('i',{staticClass:\"icon-color-point\",class:{ white: color === 'White' },style:({ backgroundColor: _vm.getColorHexByName(color) })}),_vm._v(\" \"+_vm._s(_vm.getColorNameByLang(color))+\" \")])}),0)]:[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent, ref, watchEffect } from '@vue/composition-api';\n\nimport { materialColorPicker } from '@/views/material/form-related';\n\nfunction getColorNameByLang(color: string) {\n  const colorItem = materialColorPicker.find(item => item.name === color);\n  if (!colorItem) return color;\n  return i18n.language === 'cn' ? colorItem.cnName : colorItem.name;\n}\nfunction getColorHexByName(color: string) {\n  const colorItem = materialColorPicker.find(item => item.name === color);\n  if (!colorItem) return '#fff';\n  return colorItem.heximal;\n}\n\nexport default defineComponent({\n  name: 'MaterialColorViewer',\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String],\n      default: '',\n    },\n  },\n  setup(props) {\n    return {\n      getColorHexByName,\n      getColorNameByLang,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorViewer.vue?vue&type=template&id=1403ff55&scoped=true&\"\nimport script from \"./ColorViewer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorViewer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorViewer.vue?vue&type=style&index=0&id=1403ff55&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1403ff55\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=c81a14aa&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationRecordList.vue?vue&type=style&index=0&id=79b57bf4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"refsForm\",class:{ 'upload': _vm.status === 'upload'},attrs:{\"model\":_vm.newMaterial,\"rules\":_vm.rules,\"size\":\"medium\"}},[_c('el-form-item',{attrs:{\"prop\":\"materialName\",\"label\":_vm.$t('material.info.material_name')}},[_c('el-input',{on:{\"change\":function($event){return _vm.updateInfo('materialName', $event)}},model:{value:(_vm.newMaterial.materialName),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"materialName\", $$v)},expression:\"newMaterial.materialName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"materialType\",\"label\":_vm.$t('material.info.material_type')}},[_c('DictionarySelectorNew',{staticClass:\"width-100\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.materialType,\"type\":\"materialType\",\"valueType\":\"string\"},on:{\"change\":function($event){return _vm.updateInfo('materialType', $event)}}})],1),_c('el-form-item',{attrs:{\"prop\":\"supplierArticleName\",\"label\":_vm.$t('material.info.supplier_article_name')}},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16},on:{\"change\":function($event){return _vm.updateInfo('supplierArticleName', $event)}},model:{value:(_vm.newMaterial.supplierArticleName),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"supplierArticleName\", $$v)},expression:\"newMaterial.supplierArticleName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"supplierArticleNo\",\"label\":_vm.$t('material.info.supplier_article_number')}},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16},on:{\"change\":function($event){return _vm.updateInfo('supplierArticleNo', $event)}},model:{value:(_vm.newMaterial.supplierArticleNo),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"supplierArticleNo\", $$v)},expression:\"newMaterial.supplierArticleNo\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"samplePrice\",\"label\":_vm.$t('material.info.sample_price')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"type\":\"number\"},on:{\"change\":function($event){return _vm.updateInfo('samplePrice', $event)}},model:{value:(_vm.newMaterial.samplePrice),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"samplePrice\", $$v)},expression:\"newMaterial.samplePrice\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"180px\",\"margin-left\":\"12px\"},attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.samplePriceUnit,\"type\":\"priceUnit\",\"valueType\":\"string\"},on:{\"change\":function($event){return _vm.updateInfo('samplePriceUnit', $event)}}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"180px\",\"margin-left\":\"12px\"},attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.samplePriceNumber,\"type\":\"sizeNumber\",\"valueType\":\"string\"},on:{\"change\":function($event){return _vm.updateInfo('samplePriceNumber', $event)}}})],1)]),_c('el-form-item',{attrs:{\"prop\":\"supplierName\",\"label\":_vm.$t('material.info.supplier_name')}},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16},on:{\"change\":function($event){return _vm.updateInfo('supplierName', $event)}},model:{value:(_vm.newMaterial.supplierName),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"supplierName\", $$v)},expression:\"newMaterial.supplierName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"partUsed\",\"label\":_vm.$t('material.info.part_used')}},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"maxlength\":\"20\"},on:{\"change\":function($event){return _vm.updateInfo('partUsed', $event)}},model:{value:(_vm.newMaterial.partUsed),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"partUsed\", $$v)},expression:\"newMaterial.partUsed\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"moq\",\"label\":_vm.$t('material.info.moq')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16},on:{\"change\":function($event){return _vm.updateInfo('moq', $event)}},model:{value:(_vm.newMaterial.moq),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"moq\", $$v)},expression:\"newMaterial.moq\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"124px\",\"margin-left\":\"12px\"},attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.moqUnit,\"type\":\"mqqUnit\",\"valueType\":\"string\"},on:{\"change\":function($event){return _vm.updateInfo('moqUnit', $event)}}})],1)]),_c('el-form-item',{attrs:{\"prop\":\"season\",\"label\":_vm.$t('material.info.season')}},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16},on:{\"change\":function($event){return _vm.updateInfo('season', $event)}},model:{value:(_vm.newMaterial.season),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"season\", $$v)},expression:\"newMaterial.season\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"colorFamily\",\"label\":_vm.$t('material.info.color_family')}},[_c('MaterialColorPicker',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.colorFamily,\"mode\":\"tooltip\"},on:{\"change\":function($event){return _vm.updateInfo('colorFamily', $event)}}})],1),_c('el-form-item',{attrs:{\"prop\":\"color\",\"label\":_vm.$t('material.info.color')}},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"placeholder\":_vm.$t('material.info.color_placeholder')},on:{\"change\":function($event){return _vm.updateInfo('color', $event)}},model:{value:(_vm.newMaterial.color),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"color\", $$v)},expression:\"newMaterial.color\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"samplePeriod\",\"label\":_vm.$t('material.info.sample_period')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"maxlength\":\"8\"},on:{\"change\":function($event){return _vm.updateInfo('samplePeriod', $event)}},model:{value:(_vm.newMaterial.samplePeriod),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"samplePeriod\", $$v)},expression:\"newMaterial.samplePeriod\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"124px\",\"margin-left\":\"12px\"},attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.samplePeriodUnit,\"type\":\"date\",\"valueType\":\"string\"},on:{\"change\":function($event){return _vm.updateInfo('samplePeriodUnit', $event)}}})],1)]),_c('el-form-item',{attrs:{\"prop\":\"productionLeadTime\",\"label\":_vm.$t('material.info.lead_time')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"maxlength\":\"8\"},on:{\"change\":function($event){return _vm.updateInfo('productionLeadTime', $event)}},model:{value:(_vm.newMaterial.productionLeadTime),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"productionLeadTime\", $$v)},expression:\"newMaterial.productionLeadTime\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"124px\",\"margin-left\":\"12px\"},attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.productionLeadTimeUnit,\"type\":\"date\",\"valueType\":\"string\"},on:{\"change\":function($event){return _vm.updateInfo('productionLeadTimeUnit', $event)}}})],1)]),_c('el-form-item',{attrs:{\"prop\":\"specification\",\"label\":_vm.$t('material.info.specification')}},[_c('el-input',{attrs:{\"maxlength\":\"20\",\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16},on:{\"change\":function($event){return _vm.updateInfo('specification', $event)}},model:{value:(_vm.newMaterial.specification),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"specification\", $$v)},expression:\"newMaterial.specification\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"thickness\",\"label\":_vm.$t('material.info.thickness')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"type\":\"number\"},on:{\"change\":function($event){return _vm.updateInfo('thickness', $event)}},model:{value:(_vm.newMaterial.thickness),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"thickness\", $$v)},expression:\"newMaterial.thickness\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"180px\",\"margin-left\":\"12px\"},attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.thicknessUnit,\"type\":\"thicknessUnit\",\"valueType\":\"string\"},on:{\"change\":function($event){return _vm.updateInfo('thicknessUnit', $event)}}})],1)]),_c('el-form-item',{attrs:{\"prop\":\"materialCountryOfOrigin\",\"label\":_vm.$t('material.info.original_country')}},[_c('DictionaryCountrySelector',{staticClass:\"width-100\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"value\":_vm.newMaterial.materialCountryOfOrigin,\"placeholder\":_vm.$t('material.info.original_country_placeholder')},on:{\"change\":function($event){return _vm.updateInfo('materialCountryOfOrigin', $event)}}})],1),_c('el-form-item',{staticClass:\"form-item-notes\",attrs:{\"prop\":\"notes\",\"label\":_vm.$t('material.info.notes')}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\",\"resize\":\"none\",\"show-word-limit\":\"\",\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"maxlength\":\"300\",\"placeholder\":_vm.$t('material.info.notes_placeholder')},on:{\"change\":function($event){return _vm.updateInfo('notes', $event)}},model:{value:(_vm.newMaterial.notes),callback:function ($$v) {_vm.$set(_vm.newMaterial, \"notes\", $$v)},expression:\"newMaterial.notes\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, onMounted, watch,\n} from '@vue/composition-api';\n\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport DictionarySelectorNew from '@/components/dictionary/DictionarySelectorNew.vue';\nimport DictionaryCountrySelector from '@/components/dictionary/DictionaryCountrySelector.vue';\nimport MaterialColorPicker from '@/views/upload/material/components/ColorPicker.vue';\nimport { materialForm, materialFromRules } from '@/views/material/form-related.js';\nimport useClosest from '_/composables/use-closest';\nimport {\n  categoryName2surfaceTechnics, categoryName2MaterialsTechnology, designContent, applicableProductLine,\n  MaterialsTechnology, SurfaceTechnics,\n} from '@/models/Material';\nimport { getHost, exec } from '@/utils/exec';\nimport isQt from '@/utils/is-qt';\nimport MaterialInfo from '../index.vue';\n\n// 此组件仅用于普通面料编辑、面料库面料上传\nexport default defineComponent({\n  name: 'MaterialForm',\n  components: {\n    DictionarySelectorNew,\n    DictionaryCountrySelector,\n    MaterialColorPicker,\n    // MaterialTypeCascade,\n  },\n  props: {\n    material: {\n      type: Object,\n    },\n    status: {\n      type: String as () => 'uplaod' | 'edit',\n      default: 'edit',\n    },\n    isCreator: {\n      type: Boolean,\n      default: false,\n    },\n    entryAppType: {\n      type: Number,\n    },\n    classification: {\n      type: String as () => '织物' | '人造革' | '真皮',\n      default: '',\n    },\n  },\n  setup(props, { root }) {\n    const refsForm = ref(null);\n    const newMaterial = ref<Partial<typeof materialForm> & { [key: string]: any }>({});\n    if (props.status === 'upload') {\n      newMaterial.value = {\n        ...materialForm,\n        materialsTechnology: [],\n        surfaceTechnics: [],\n        designContent: [],\n        applicableProductLine: [],\n      };\n    } else {\n      newMaterial.value = JSON.parse(JSON.stringify(props.material));\n    }\n\n    const shouldUpdateValue = ref<{ [key: string]: any }>({});\n\n    // 材料种类\n    const materialsTechnologyList = ref<MaterialsTechnology[]>([]);\n    // 表面工艺\n    const surfaceTechnicsList = ref<SurfaceTechnics[]>([]);\n    if (props.status === 'upload') {\n      materialsTechnologyList.value = categoryName2MaterialsTechnology[props.classification as '织物' | '人造革' | '真皮'];\n      surfaceTechnicsList.value = categoryName2surfaceTechnics[props.classification as '织物' | '人造革' | '真皮'];\n    }\n    // 图案内容\n    const designContentList = designContent;\n    // 适用产品线\n    const applicableProductLineList = applicableProductLine;\n\n\n    // 获取分类信息\n    const parentIds = ref<string[]>([]);\n\n    // 类别节点数组\n    const categoryArr = ref<any[]>([]);\n\n    watch(() => categoryArr.value, async (v: any[]) => {\n      if (props.status === 'edit') {\n        materialsTechnologyList.value = categoryName2MaterialsTechnology[v[1].name as '织物' | '人造革' | '真皮'];\n        surfaceTechnicsList.value = categoryName2surfaceTechnics[v[1].name as '织物' | '人造革' | '真皮'];\n      }\n    });\n\n    const materialInfo = useClosest<typeof MaterialInfo>('MaterialInfo');\n    // 修改鞋模型信息\n    async function updateInfo(prop: string, value: unknown) {\n      shouldUpdateValue.value[prop] = value;\n      newMaterial.value[prop] = value;\n      console.info(materialInfo.value);\n      if (materialInfo.value) {\n        materialInfo.value.saveBtnDisabled = false;\n      }\n    }\n\n    async function getFormData() {\n      const valid = await refsForm.value!.validate();\n      if (!valid) throw new Error('表单校验不通过');\n      let formData = {} as { [x: string]: any; };\n      if (props.status === 'edit') {\n        formData = JSON.parse(JSON.stringify(shouldUpdateValue.value));\n      } else {\n        formData = JSON.parse(JSON.stringify(newMaterial.value));\n      }\n\n      const pickedKeys = ['designContent', 'applicableProductLine', 'surfaceTechnics', 'materialsTechnology'] as const;\n\n      pickedKeys.forEach(k => {\n        if (Object.prototype.hasOwnProperty.call(formData, k)) {\n          formData[k] = formData[k].join();\n        }\n      });\n\n      console.info(formData);\n\n      return formData;\n    }\n\n    const host = ref(null);\n\n    onMounted(async () => {\n      if (props.status === 'upload') {\n        host.value = await getHost();\n\n        if (host.value && root.$route.path.includes('/qt/upload/material-library')) {\n          host.value!.on('requestSupplierForm', async () => {\n            let formData = {};\n            try {\n              formData = await getFormData();\n            } catch (e) {\n              formData = {\n                success: false,\n                errorMsg: '',\n                material: null,\n              };\n            }\n\n            await exec('recvSupplierForm', formData);\n          });\n        }\n      }\n    });\n    return {\n      applicableProductLineList,\n      designContentList,\n      materialsTechnologyList,\n      surfaceTechnicsList,\n      rules: materialFromRules,\n      // rules: materialLibraryFromRules,\n      refsForm,\n      updateInfo,\n      getFormData,\n      newMaterial,\n      shouldUpdateValue,\n      parentIds,\n      categoryArr,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=24131ba2&scoped=true&\"\nimport script from \"./Form.vue?vue&type=script&lang=ts&\"\nexport * from \"./Form.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&id=24131ba2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24131ba2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-cascader',{ref:\"cascader\",staticClass:\"fixed-width anta\",attrs:{\"options\":_vm.list,\"value\":_vm.value,\"clearable\":_vm.showClearable,\"disabled\":_vm.disabled,\"placeholder\":_vm.$t('material.others.select_type'),\"props\":_vm.cascaderProps,\"size\":\"small\"},on:{\"change\":_vm.handleChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('span',[_vm._v(_vm._s(data.label))])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, watch, toRefs, computed,\n} from '@vue/composition-api';\nimport { fetchMaterialTypes } from '@/api/material';\nimport useLoader from '_/composables/use-loader';\nimport { ElCascader } from 'element-ui/types/cascader';\nimport translateCategoryName from '@/utils/i18n-material-type';\n\ntype MaterialSelectItem = {\n  id: string,\n  name: string,\n  label: string,\n  subCount?: number,\n  children?: MaterialSelectItem[]\n  parentIds?: string[]\n  leaf?: boolean,\n  disabled?: boolean,\n};\n\nexport default defineComponent({\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n  props: {\n    strictMode: {\n      type: Boolean,\n      default: false,\n    },\n    maxLevel: {\n      type: Number,\n      default: 2,\n    },\n    value: {\n      type: Array as () => string[],\n      required: true,\n      default: () => [],\n    },\n    checkStrictly: {\n      type: Boolean,\n      default: false,\n    },\n    expandTrigger: {\n      type: String,\n      default: 'click',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    showClearable: {\n      type: Boolean,\n      default: true,\n    },\n\n    businessType: {\n      // 1安踏 0普通\n      type: Number,\n      default: 1,\n    },\n  },\n  setup(props, { emit }) {\n    const selected = ref<MaterialSelectItem[]>([]);\n\n    const cascader = ref<ElCascader>();\n\n    async function getChildren(id: string, level: number) {\n      const list = (await fetchMaterialTypes(id, props.businessType)) as MaterialSelectItem[];\n      return list.map(i => {\n        i.leaf = !(i.subCount && i.subCount > 0 && level < props.maxLevel);\n        i.disabled = props.maxLevel !== level && !i.subCount && props.strictMode;\n        if (props.businessType === 0) {\n          i.label = translateCategoryName(i.name);\n        } else {\n          i.label = i.name;\n        }\n        return i;\n      });\n    }\n\n    async function initOptionList(children: MaterialSelectItem[], list: string[]) {\n      const result = [];\n      while (children && children.length) {\n        // eslint-disable-next-line no-loop-func\n        const item = children.find(j => j.id === list[result.length]);\n        if (item && result.length < props.maxLevel) {\n          result.push(item);\n          item.children = item.children || await getChildren(item.id, result.length);\n          ({ children } = item);\n        } else {\n          children = [];\n        }\n      }\n      return result;\n    }\n\n    const checkedNodes = computed(() => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    });\n\n    const getCheckedNodes = () => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    };\n\n    const cascaderProps = {\n      lazy: true,\n      label: 'label',\n      value: 'id',\n      children: 'children',\n      checkStrictly: props.checkStrictly,\n      expandTrigger: props.expandTrigger,\n      lazyLoad: async (node, resolve) => {\n        if (node.level && node.level < props.maxLevel + 1 && !node.leaf && node.children?.length === 0) {\n          const res = await getChildren(node.value, node.level);\n          resolve(res);\n        } else {\n          resolve();\n        }\n      },\n    };\n\n    const list = useLoader(async ({ value }) => {\n      const defaultList = await getChildren('-1', 0);\n      if (value.length) {\n        if (defaultList) {\n          selected.value = await initOptionList(defaultList, value);\n        }\n      }\n      return defaultList;\n    }, {\n      ...toRefs(props),\n    }, {\n      initialValue: [],\n    });\n\n    async function handleChange(ids: string[]) {\n      if (!cascader.value?.getCheckedNodes()[0]) {\n        emit('change', ids, []);\n      } else {\n        const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n          return n.data;\n        }) || [];\n        emit('change', ids, nodes);\n      }\n    }\n\n    watch(() => checkedNodes.value, (v) => {\n      if (v.length > 0) handleChange(props.value);\n    });\n    // watch(() => {\n    //   return props.value;\n    // }, (v, ov) => {\n    //   if (JSON.stringify(v) !== JSON.stringify(ov)) {\n    //     if (v.length > 0) {\n    //\n    //       initOptionList(list.value, v);\n    //     } else {\n    //\n    //\n    //     }\n    //   }\n    // });\n\n    return {\n      cascaderProps,\n      handleChange,\n      list,\n      cascader,\n      getCheckedNodes,\n      checkedNodes,\n    };\n  },\n\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialTypeCascade.vue?vue&type=template&id=bb4c346e&\"\nimport script from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.find-index\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.difference = difference;\nexports.default = void 0;\n\n/**\n * 得出b相对于a补集（a里边找b没有的）\n * @see https://zh.wikipedia.org/wiki/%E8%A1%A5%E9%9B%86\n * @param a数组\n * @param b数组\n * @param fn 用于对比的方法\n */\nfunction difference(a, b, fn) {\n  return a.filter(function (aItem) {\n    var i = fn ? b.findIndex(function (bItem) {\n      return fn(aItem, bItem);\n    }) : b.indexOf(aItem);\n    var include = i === -1;\n    return include;\n  });\n}\n\nvar _default = difference;\nexports.default = _default;","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=style&index=0&id=67ab5d7d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isHidden)?_c('div',{class:['tree', 'host', {\n    'is-root': _vm.isRoot,\n    'is-dragging': _vm.isDragging,\n    'is-opened': _vm.isOpened,\n    'is-droppable': _vm.isDroppable,\n  }, typeof _vm.insertIndex === 'number' ? \"is-dragover\" : ''],attrs:{\"draggable\":_vm.isDraggable,\"data-is-droppable\":_vm.isDroppable},on:{\"dragstart\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.handleDragStart($event)},\"dragover\":function($event){$event.preventDefault();return _vm.handleDragOver($event)},\"dragend\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.handleDragEnd($event)}}},[(!_vm.isRoot && _vm.data[_vm.valueKey])?_c('div',{staticClass:\"indent\"},[(_vm.pendingChildren[_vm.data[_vm.valueKey]])?_c('i',{staticClass:\"loading el-icon-loading\"}):(_vm.isExpandable)?_c('i',{staticClass:\"arrow el-icon-arrow-right\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle(_vm.data)}}}):_vm._e(),_c('i',{staticClass:\"indent-line\"})]):_vm._e(),_c('div',{staticClass:\"content\"},[(!_vm.isRoot && _vm.data[_vm.valueKey])?_c('div',_vm._g({staticClass:\"item-wrapper\",on:{\"contextmenu\":function($event){$event.stopPropagation();return _vm.handleContextmenu($event)}}},_vm.isDroppable ? {\n        dragenter: _vm.handleDragEnter,\n        dragleave: _vm.handleDragLeave,\n        drop: _vm.handleDrop\n      } : {}),[_vm._t(\"default\",[_c('div',{staticClass:\"item\"},[_vm._v(\" \"+_vm._s(_vm.data[_vm.labelKey])+\" \")])],null,_vm.scopedData)],2):_vm._e(),(_vm.loadedChildren[_vm.data[_vm.valueKey]])?_c('el-collapse-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.innerOpened),expression:\"innerOpened\"}],staticClass:\"sublist-wrapper\"},[_c('transition-group',{staticClass:\"sublist\",attrs:{\"name\":\"list\",\"tag\":\"div\"}},_vm._l((_vm.loadedChildren[_vm.data[_vm.valueKey]]),function(item,i){return _c('div',{key:item[_vm.valueKey] || i,staticClass:\"child\"},[_c('tree',{attrs:{\"opened\":_vm.openedItems,\"load\":_vm.load,\"hidden\":_vm.hidden,\"draggable\":_vm.draggable,\"droppable\":_vm.droppable,\"expandable\":_vm.expandable,\"label-key\":_vm.labelKey,\"dragging-data\":_vm.draggingData,\"value-key\":_vm.valueKey,\"loadedChildren\":_vm.loadedChildren,\"pendingChildren\":_vm.pendingChildren,\"indexs\":_vm.indexs.concat( [i]),\"ancestors\":_vm.nodes,\"data\":item},on:{\"update:draggingData\":_vm.updateDraggingData,\"drop\":function (v) { return _vm.$emit('drop', v); },\"contextmenu\":function (e, v) { return _vm.$emit('contextmenu', e, v); }},scopedSlots:_vm._u([_vm._l((Object.keys(_vm.$scopedSlots)),function(slot){return {key:slot,fn:function(scope){return [_vm._t(slot,null,null,scope)]}}})],null,true)}),_c('div',_vm._g({staticClass:\"hr before\",class:{'active': _vm.insertIndex === i }},{\n                dragenter: function (e) { return _vm.handleDragEnter(e, i); },\n                dragleave: _vm.handleDragLeave,\n                drop: function (e) { return _vm.handleDrop(e, i); }\n              }),[_c('span')]),_c('div',_vm._g({staticClass:\"hr after\",class:{'active': _vm.insertIndex === i + 1 }},{\n                dragenter: function (e) { return _vm.handleDragEnter(e, i + 1); },\n                dragleave: _vm.handleDragLeave,\n                drop: function (e) { return _vm.handleDrop(e, i + 1); }\n              }),[_c('span')])],1)}),0),(_vm.$scopedSlots.other && _vm.isShowOther)?_c('div',{staticClass:\"other\",attrs:{\"draggable\":\"true\"},on:{\"contextmenu\":function($event){$event.stopPropagation();return _vm.handleOtherContextmenu($event)},\"dragstart\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"host\"},[_c('div',{staticClass:\"indent\"},[_c('div',{staticClass:\"indent-line\"})]),_c('div',{staticClass:\"content\"},[_vm._t(\"other\",null,null,_vm.scopedData)],2)])]):(!_vm.loadedVisibleChildrenLength)?_vm._t(\"empty\"):_vm._e()],2)]):_vm._e()],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :draggable=\"isDraggable\"\n    v-if=\"!isHidden\"\n    :data-is-droppable=\"isDroppable\"\n    :class=\"['tree', 'host', {\n      'is-root': isRoot,\n      'is-dragging': isDragging,\n      'is-opened': isOpened,\n      'is-droppable': isDroppable,\n    }, typeof insertIndex === 'number' ? `is-dragover` : '']\"\n    @dragstart.self=\"handleDragStart\"\n    @dragover.prevent=\"handleDragOver\"\n    @dragend.self=\"handleDragEnd\">\n    <div class=\"indent\" v-if=\"!isRoot && data[valueKey]\">\n      <i class=\"loading el-icon-loading\" v-if=\"pendingChildren[data[valueKey]]\" />\n      <i\n        v-else-if=\"isExpandable\"\n        class=\"arrow el-icon-arrow-right\"\n        @click.stop=\"toggle(data)\"></i>\n      <i class=\"indent-line\"></i>\n    </div>\n    <div class=\"content\">\n      <div\n        class=\"item-wrapper\"\n        v-if=\"!isRoot && data[valueKey]\"\n        v-on=\"isDroppable ? {\n          dragenter: handleDragEnter,\n          dragleave: handleDragLeave,\n          drop: handleDrop\n        } : {}\"\n        @contextmenu.stop=\"handleContextmenu($event)\">\n        <!--\n          @slot 默认的slot, 传递了一系列的scopedData，请自行查看\n        -->\n        <slot v-bind=\"scopedData\">\n          <div class=\"item\">\n            {{data[labelKey]}}\n          </div>\n        </slot>\n      </div>\n      <el-collapse-transition\n        v-if=\"loadedChildren[data[valueKey]]\">\n        <div class=\"sublist-wrapper\" v-show=\"innerOpened\">\n          <transition-group name=\"list\" tag=\"div\" class=\"sublist\">\n            <div class=\"child\"\n              :key=\"item[valueKey] || i\"\n              v-for=\"(item, i) in loadedChildren[data[valueKey]]\">\n              <tree\n                :opened=\"openedItems\"\n                :load=\"load\"\n                :hidden=\"hidden\"\n                :draggable=\"draggable\"\n                :droppable=\"droppable\"\n                :expandable=\"expandable\"\n                :label-key=\"labelKey\"\n                :dragging-data=\"draggingData\"\n                :value-key=\"valueKey\"\n                :loadedChildren=\"loadedChildren\"\n                :pendingChildren=\"pendingChildren\"\n                @update:draggingData=\"updateDraggingData\"\n                @drop=\"(v) => $emit('drop', v)\"\n                @contextmenu=\"(e, v) => $emit('contextmenu', e, v)\"\n                :indexs=\"[...indexs, i]\"\n                :ancestors=\"nodes\"\n                :data=\"item\">\n                <template v-for=\"slot in Object.keys($scopedSlots)\" v-slot:[slot]=\"scope\">\n                  <slot :name=\"slot\" v-bind=\"scope\" />\n                </template>\n              </tree>\n              <div\n                class=\"hr before\"\n                :class=\"{'active': insertIndex === i }\"\n                v-on=\"{\n                  dragenter: (e) => handleDragEnter(e, i),\n                  dragleave: handleDragLeave,\n                  drop: (e) => handleDrop(e, i)\n                }\"><span /></div>\n              <div class=\"hr after\"\n                :class=\"{'active': insertIndex === i + 1 }\"\n                v-on=\"{\n                  dragenter: (e) => handleDragEnter(e, i + 1),\n                  dragleave: handleDragLeave,\n                  drop: (e) => handleDrop(e, i + 1)\n                }\"><span /></div>\n            </div>\n\n          </transition-group>\n\n          <div class=\"other\"\n            v-if=\"$scopedSlots.other && isShowOther\"\n            @contextmenu.stop=\"handleOtherContextmenu\"\n            @dragstart.prevent draggable=\"true\">\n            <div class=\"host\">\n              <div class=\"indent\">\n                <div class=\"indent-line\" />\n              </div>\n              <div class=\"content\">\n                <!-- @slot 其他slot，用于显示除了树之外的内容 -->\n                <slot name=\"other\" v-bind=\"scopedData\" />\n              </div>\n            </div>\n          </div>\n          <!-- @slot 空的slot，如果没有子项，显示的slot -->\n          <slot name=\"empty\" v-else-if=\"!loadedVisibleChildrenLength\" />\n        </div>\n      </el-collapse-transition>\n\n    </div>\n  </div>\n</template>\n<script>\n\nimport delay from '_/delay';\n\n/**\n * 这个组件用于显示一个树状结构，包含拖动，右键等功能\n *\n * @template N\n */\n\nexport default {\n  name: 'Tree',\n  props: {\n    /**\n     * 树的根节点数据，一个对象\n     * @type {object}\n     */\n    data: {\n      type: Object,\n    },\n    /**\n     * 树是否可以释放，布尔值或者传递一个返回布尔值的function，参数为释放的节点\n     * @type {number | string}\n     */\n    droppable: {\n      type: [Boolean, Function],\n      default: false,\n    },\n    /**\n     * 树是否可以拖动，布尔值或者传递一个返回布尔值的function，参数为拖动的节点\n     */\n    draggable: {\n      type: [Boolean, Function],\n      default: false,\n    },\n    /**\n     * 一个加载子节点的function\n     * @type { <T>(item: T) => Promise<T[]> | T}\n     */\n    load: {\n      type: Function,\n      default: async function load(item) {\n        await delay(500);\n        return item.children;\n      },\n    },\n    /**\n     * 树是否隐藏，传递布尔值，或者一个返回布尔值的function，参数为需要判断隐藏的节点\n     */\n    hidden: {\n      type: [Boolean, Function],\n      default: () => function hidden(item) {\n        return item.hidden;\n      },\n    },\n    /**\n     * 树是否显示其他，传递布尔值，或者一个返回布尔值的function，参数为需要判断是否显示其他的节点\n     */\n    showOther: {\n      type: [Boolean, Function],\n      default: () => function showOther() {\n        return false;\n      },\n    },\n    /**\n     * 树是否可展开，传递布尔值，或者一个返回布尔值的function，参数为需要判断是否可展开的节点\n     */\n    expandable: {\n      type: [Boolean, Function],\n      default: () => function checkChildrenExistence(item) {\n        return item.children && item.children.length;\n      },\n    },\n    /**\n     * 正在拖动的项目的数据，需要一个对象，并且有一个data的字段为item，用于外部修改内部的拖动内容\n     */\n    draggingData: {\n      default: null,\n    },\n    /**\n     * 树是否可以展开，传递布尔值或者一个打开的items的数组\n     */\n    opened: {\n      default: () => [],\n    },\n    /**\n     * 树状用于显示内容的key，默认为label，如果传递了default slot，则需要自定义显示的内容\n     */\n    labelKey: {\n      default: 'label',\n    },\n    /**\n     * 用于缓存一些内部数据用的参数，需要传递节点的id的key，默认为\"id\"\n     */\n    valueKey: {\n      default: 'id',\n    },\n    /**\n     * @ignore\n     */\n    // 这两个内部使用\n    indexs: {\n      type: Array,\n      default: () => [],\n    },\n    /**\n     * @ignore\n     */\n    ancestors: {\n      type: Array,\n      default: () => [],\n    },\n\n    loadedChildren: {\n      type: Object,\n      default: () => ({}),\n    },\n\n    pendingChildren: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  data() {\n    // console.log(this.data, this.indexs.length);\n    // console.log(222);\n    return {\n      openedItems: this.getOpenedItems(this.opened),\n      insertIndex: null,\n      innerOpened: undefined,\n    };\n  },\n  computed: {\n    /**\n     * A song\n     * @typedef {Object} ScopedData\n     * @property {string} isOpened - The title\n     * @property {string} artist - The artist\n     * @property {number} year - The year\n     */\n    scopedData() {\n      return {\n        isOpened: this.isOpened,\n        isExpandable: this.isExpandable,\n        isDraggable: this.isDraggable,\n        isDroppable: this.isDroppable,\n        data: this.data,\n        indexs: this.indexs,\n        nodes: this.nodes,\n        ancestors: this.ancestors,\n        parent: this.parent,\n        index: this.index,\n      };\n    },\n    parent() {\n      return this.ancestors[this.ancestors.length - 1];\n    },\n    nodes() {\n      return [...this.ancestors, this.data];\n    },\n    index() {\n      if (this.indexs.length) {\n        return this.indexs[this.indexs.length - 1];\n      }\n      return undefined;\n    },\n    isRoot() {\n      return !this.indexs.length;\n    },\n    isDragging() {\n      if (!this.draggingData) return false;\n      return this.draggingData.data === this.data;\n    },\n    isShowOther() {\n      return typeof this.showOther === 'function' ? this.showOther(this.data) : !!this.showOther;\n    },\n    isHidden() {\n      return typeof this.hidden === 'function' ? this.hidden(this.data) : !!this.hidden;\n    },\n    isExpandable() {\n      return typeof this.expandable === 'function' ? this.expandable(this.data) : !!this.expandable;\n    },\n    isDraggable() {\n      return typeof this.draggable === 'function' ? this.draggable(this.data) : !!this.draggable;\n    },\n    isDroppable() {\n      const s = { from: this.draggingData, to: { data: this.data, getChildren: this.load } };\n      return typeof this.droppable === 'function' ? this.droppable(s) : !!this.droppable;\n    },\n    isOpened() {\n      return this.isRoot || this.openedItems.includes(this.data);\n    },\n    loadedVisibleChildrenLength() {\n      const children = this.loadedChildren[this.data[this.valueKey]];\n      if (!children) return 0;\n      if (typeof this.hidden !== 'function') {\n        return this.hidden ? 0 : children.length;\n      }\n      return children.length - children.filter(this.hidden).length;\n    },\n  },\n  methods: {\n    async loadChildren(item) {\n      const id = item[this.valueKey];\n      if (!this.loadedChildren[id]) {\n        let loadPromise = this.pendingChildren[id];\n        if (!loadPromise) {\n          loadPromise = this.load(item);\n          this.$set(this.pendingChildren, id, loadPromise);\n        }\n        const children = await loadPromise;\n        try {\n          this.$set(this.loadedChildren, id, children);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          this.$set(this.pendingChildren, id, null);\n        }\n        await this.$nextTick();\n      }\n      return this.loadedChildren[id];\n    },\n    getOpenedItems(opened) {\n      if (Array.isArray(opened)) {\n        return opened;\n      }\n      if (opened) {\n        return [this.data];\n      }\n      return [];\n    },\n    toggle(item, opened) {\n      if (opened && !this.isExpandable) {\n        return;\n      }\n      const index = this.openedItems.indexOf(item);\n      if (opened === undefined) {\n        opened = index === -1;\n      }\n      if (Array.isArray(this.opened)) {\n        if (opened) {\n          this.openedItems.push(item);\n        } else {\n          this.openedItems.splice(index, 1);\n        }\n      } else {\n        /**\n         * 更新opened的事件，如果opend本来是数组，则不会触发\n         * @event update:opened\n         * @param {Boolean} opened 是否打开\n         */\n        this.$emit('update:opened', opened);\n      }\n    },\n    handleOtherContextmenu(ev) {\n      if (this.$listeners.othercontextmenu) {\n        ev.preventDefault();\n        /**\n         * 其他项的右键事件\n         * @event othercontextmenu\n         * @param {ScopedData} scopedData 一个包含大部分节点数据的结构\n         */\n        this.$emit('othercontextmenu', ev, this.scopedData);\n      }\n    },\n    handleContextmenu(ev) {\n      if (this.$listeners.contextmenu) {\n        ev.preventDefault();\n        /**\n         * 右键事件\n         * @event contextmenu\n         * @param {ScopedData} scopedData 一个包含大部分节点数据的结构\n         */\n        this.$emit('contextmenu', ev, this.scopedData);\n      }\n    },\n    handleDragOver(ev) {\n      ev.dataTransfer.dropEffect = 'copy';\n    },\n    handleDragLeave(e) {\n      if (this._enterElement === e.target) {\n        this.clearOpenTimeout();\n        this.insertIndex = null;\n      }\n    },\n    setOpenTimeout() {\n      this._openTimeout = setTimeout(() => {\n        if (!this.isOpened && this.isExpandable) {\n          this.toggle(this.data, true);\n        }\n      }, 1000);\n    },\n    clearOpenTimeout() {\n      if (this._openTimeout) {\n        clearTimeout(this._openTimeout);\n      }\n    },\n    handleDragEnter(e, index = 0) {\n      e.dataTransfer.dropEffect = 'copy';\n      this._enterElement = e.target;\n      this.insertIndex = index;\n      this.clearOpenTimeout();\n      this.setOpenTimeout();\n    },\n    async handleDragEnd() {\n      await this.$nextTick();\n      this.clearOpenTimeout();\n      this.insertIndex = null;\n      this.updateDraggingData(null);\n    },\n    async handleDrop(e, insertIndex) {\n      e.preventDefault();\n      e.stopPropagation();\n      let moveIndex = insertIndex;\n\n      const from = this.draggingData;\n\n      const { index, parent } = from;\n\n      const target = this.data;\n\n      const children = await this.loadChildren(target);\n      const before = children[moveIndex - 1];\n      const after = children[moveIndex];\n\n      if (parent === target) {\n        if (moveIndex > index) {\n          moveIndex -= 1;\n          if (moveIndex < 0) moveIndex = 0;\n        }\n        if (index === moveIndex) return;\n      }\n\n      /**\n       * 释放事件\n       * @event drop\n       * @param { ({ from: object, to: object }) } dropData 释放需要的数据，from为拖动的节点，to为释放到的节点\n       */\n      this.$emit('drop', {\n        from,\n        to: {\n          ...this.scopedData, before, after, index: insertIndex, moveIndex,\n        },\n      });\n      this.handleDragEnd();\n    },\n    updateDraggingData(v) {\n      /**\n       * 更新拖动的事件\n       * @event update:draggingData\n       * @param { {data: object} | null } scopedData 拖动的数据\n       */\n      this.$emit('update:draggingData', v);\n    },\n    handleDragStart(e) {\n      if (this.draggingData) {\n        return;\n      }\n      // e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.dropEffect = 'copy';\n      this.updateDraggingData({\n        parent: this.parent,\n        data: this.data,\n        index: this.index,\n        indexs: this.indexs.slice(),\n        getChildren: this.load,\n      });\n    },\n  },\n  watch: {\n    opened(opened) {\n      this.openedItems = this.getOpenedItems(opened);\n    },\n    isOpened: {\n      immediate: true,\n      async handler(opened) {\n        if (opened) {\n          const item = this.data;\n          await this.loadChildren(item);\n          this.innerOpened = true;\n        } else {\n          this.innerOpened = false;\n        }\n      },\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n$primaryColor: #4c8eff;\n$hoverColor: #d7e4fb;\n$borderColor: #eee;\n$columnHeight: 32px;\n$sortLineHeight: 18px;\n\n.list-enter-active,\n.list-leave-active {\n  transition: all 0.2s;\n}\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateX(15%);\n}\n.list-move {\n  transition: transform 0.2s;\n}\n\n.sublist {\n  padding-bottom: $sortLineHeight/2;\n}\n.host {\n  display: flex;\n  border-color: $borderColor;\n}\n\n.indent-line {\n  position: relative;\n  flex: 1;\n  &:before {\n    content: \"\";\n    position: absolute;\n    left: 17px;\n    right: auto;\n    bottom: 0;\n    top: 0;\n    border-style: dashed;\n    border-width: 1px;\n    border-color: darken($borderColor, 5%);\n    border-left-color: transparent;\n  }\n  .is-opened\n    > .content\n    > .sublist-wrapper\n    > .sublist\n    > .child\n    > .host\n    > .indent\n    & {\n    display: block;\n  }\n}\n.other {\n  margin-top: -$sortLineHeight/2;\n}\n.item {\n  cursor: pointer;\n  padding-bottom: 7px;\n  padding-top: 7px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow: hidden;\n  position: relative;\n  border-radius: 2px 2px 0 0;\n  border-bottom: 1px solid;\n  border-color: $borderColor;\n  &:focus {\n    outline: none;\n  }\n  &:hover {\n    background-color: $hoverColor;\n    color: $primaryColor;\n    border-color: darken($hoverColor, 10%);\n  }\n}\n\n// .host.dragover {\n//   .content {\n//     color: $primaryColor;\n//     background-color: $hoverColor;\n//   }\n//   .item {\n//     border-color: darken($hoverColor, 10%);\n//   }\n//   .indent-line {\n//     border-color: darken($hoverColor, 10%);\n//   }\n//   .item {\n//     border-color: darken($hoverColor, 10%);\n//   }\n// }\n\n.host.is-droppable {\n  > .content > .sublist-wrapper > .sublist > .child > .hr {\n    display: block;\n  }\n}\n\n.host.is-dragover {\n  > .content > .item-wrapper > .item {\n    color: $primaryColor;\n  }\n  > .content > .sublist-wrapper > .sublist > .child > .host {\n    > .indent .indent-line:before {\n      border-left-color: darken($primaryColor, 10%);\n      border-right-color: darken($primaryColor, 10%);\n    }\n  }\n}\n\n.indent {\n  width: 34px;\n  display: flex;\n  flex-direction: column;\n}\n.arrow,\n.loading {\n  line-height: 36px;\n  text-align: center;\n  height: 36px;\n  display: block;\n  transition: transform 0.3s;\n  font-weight: 300;\n  cursor: pointer;\n}\n.is-opened > .indent > .arrow {\n  transform: rotate(90deg);\n}\n\n.is-dragging {\n  cursor: move;\n  > * {\n    cursor: move;\n    pointer-events: none;\n  }\n  > .content {\n    opacity: 0.5;\n  }\n}\n\n.content {\n  flex: 1;\n  position: relative;\n}\n.child {\n  position: relative;\n}\n\n.hr {\n  display: none;\n  &.active {\n    span,\n    &:before,\n    &:after {\n      border-color: darken($primaryColor, 10%);\n    }\n  }\n  &.after {\n    display: none;\n    bottom: -$sortLineHeight/2;\n  }\n  &.before {\n    top: -$sortLineHeight/2;\n  }\n  .child:first-child > &.before {\n    &:before,\n    &:after {\n      top: $sortLineHeight/2;\n    }\n  }\n  .child:last-child > &.after {\n    &:before,\n    &:after {\n      bottom: $sortLineHeight/2;\n      margin-bottom: 0;\n    }\n  }\n  * {\n    pointer-events: none;\n  }\n  position: absolute;\n  padding-top: $sortLineHeight/2-1px;\n  padding-bottom: $sortLineHeight/2-1px;\n  height: $sortLineHeight;\n  left: 17px;\n  right: 0;\n  span {\n    display: block;\n    border-top: 2px dashed transparent;\n  }\n  &:before,\n  &:after {\n    display: inline-block;\n    bottom: $sortLineHeight/2/2;\n    content: \"\";\n    position: absolute;\n    top: $sortLineHeight/2/2;\n    border-left: 2px solid transparent;\n  }\n  &:before {\n    left: 0;\n  }\n  &:after {\n    right: 0;\n  }\n\n  // span,\n  // &:before,\n  // &:after {\n  //   border-color: darken($primaryColor, 10%);\n  // }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tree.vue?vue&type=template&id=c5ece6ca&scoped=true&\"\nimport script from \"./Tree.vue?vue&type=script&lang=js&\"\nexport * from \"./Tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tree.vue?vue&type=style&index=0&id=c5ece6ca&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5ece6ca\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=style&index=0&id=5a911f2c&lang=scss&scoped=true&\"","import Vue from 'vue';\n\nvar warn = function warn(msg) {\n  if (!Vue.config.silent) {\n    console.warn(msg);\n  }\n};\n\nexport default {\n  name: 'intersect',\n  abstract: true,\n  props: {\n    threshold: {\n      type: Array,\n      required: false,\n      default: function _default() {\n        return [0, 0.2];\n      }\n    },\n    root: {\n      type: typeof HTMLElement !== 'undefined' ? HTMLElement : Object,\n      required: false,\n      default: function _default() {\n        return null;\n      }\n    },\n    rootMargin: {\n      type: String,\n      required: false,\n      default: function _default() {\n        return '0px 0px 0px 0px';\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.observer = new IntersectionObserver(function (entries) {\n      if (!entries[0].isIntersecting) {\n        _this.$emit('leave', [entries[0]]);\n      } else {\n        _this.$emit('enter', [entries[0]]);\n      }\n\n      _this.$emit('change', [entries[0]]);\n    }, {\n      threshold: this.threshold,\n      root: this.root,\n      rootMargin: this.rootMargin\n    });\n\n    this.$nextTick(function () {\n      if (_this.$slots.default && _this.$slots.default.length > 1) {\n        warn('[VueIntersect] You may only wrap one element in a <intersect> component.');\n      } else if (!_this.$slots.default || _this.$slots.default.length < 1) {\n        warn('[VueIntersect] You must have one child inside a <intersect> component.');\n        return;\n      }\n\n      _this.observer.observe(_this.$slots.default[0].elm);\n    });\n  },\n  destroyed: function destroyed() {\n    this.$emit('destroyed');\n    this.observer.disconnect();\n  },\n  render: function render() {\n    return this.$slots.default ? this.$slots.default[0] : null;\n  }\n};","module.exports = \"data:image/png;base64,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\"","import axios from '@/utils/axios';\nimport { defineComponent, ref } from '@vue/composition-api';\n\ntype Tag = {\n  id: string;\n  tag: string;\n};\n\nconst tagsEditor = defineComponent({\n  props: {\n    tags: {\n      type: Array as () => Tag[],\n      default: () => [],\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n      required: false,\n    },\n    shareId: {\n      type: String,\n      required: true,\n    },\n    type: {\n      type: String,\n      default: '1',\n    },\n    relateType: {\n      type: String,\n      default: '1',\n    },\n  },\n  render() {\n    const s = this as InstanceType<typeof tagsEditor>;\n    return <div class=\"flex\" style={{\n      flexWrap: 'wrap',\n    }}>\n      {\n        s.tags.map(tagItem => <div style={{\n          border: '1px solid #dbdbdb',\n          marginRight: '4px',\n          fontSize: '12px',\n          lineHeight: '18px',\n          padding: '3px 12px',\n          borderRadius: '12px',\n          marginBottom: '4px',\n          color: '#666',\n        }}>\n          <span>{tagItem.tag}</span>\n\n          <i vShow={s.editable} class='el-icon-close' style={{\n            cursor: 'pointer',\n            marginLeft: '4px',\n          }} onclick={() => { s.handleDeleteTag(tagItem); }}></i>\n        </div>)\n      }\n      <div class='flex-center' vShow={s.editable && !s.useLabel} style={{\n        width: '24px',\n        height: '24px',\n        border: '1px solid #dbdbdb',\n        cursor: 'pointer',\n        borderRadius: '12px',\n      }} onclick={() => { s.useLabel = true; }}>\n        <i class='el-icon-plus'></i>\n      </div>\n\n      <el-input vShow={s.editable && s.useLabel} vModel={s.label}\n      size='mini' onblur={s.handleAddTag} style={{\n        width: '200px',\n      }}></el-input>\n    </div>;\n  },\n  setup(props) {\n    const label = ref('');\n    const useLabel = ref(false);\n    async function deleteTag(data: string[]) {\n      await axios({\n        url: '/bff-center/showCommon/deleteTag',\n        method: 'POST',\n        data,\n      });\n    }\n    async function addTag(tags: string[]) {\n      const { shareId, type, relateType } = props;\n      return (await axios({\n        url: '/bff-center/showCommon/addTags',\n        method: 'POST',\n        data: {\n          shareId,\n          type,\n          relateType,\n          tags,\n        },\n      })).data;\n    }\n    async function handleAddTag() {\n      const res = await addTag([label.value]) as Tag[];\n      props.tags.push(...res);\n      label.value = '';\n      useLabel.value = false;\n    }\n    async function handleDeleteTag(tag: Tag) {\n      await deleteTag([tag.id]);\n      props.tags.splice(props.tags.indexOf(tag), 1);\n    }\n\n    return {\n      label,\n      useLabel,\n\n      handleAddTag,\n      handleDeleteTag,\n    };\n  },\n});\nexport default tagsEditor;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=759b404a&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=style&index=0&id=16b0fe39&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternList.vue?vue&type=style&index=0&id=64aa35e3&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=style&index=0&id=b3f5c08a&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayModeSwitcher.vue?vue&type=style&index=0&id=bc80c954&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseContainer.vue?vue&type=style&index=0&id=256bc588&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=abb8a52e&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentMaterial.vue?vue&type=style&index=0&id=4312e4a9&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.messageList && _vm.messageList.length)?_c('div',{ref:\"changeLogRef\"},[(_vm.showAll)?_c('div',[_vm._l((_vm.messageList),function(message){return _c('div',{key:message.label,staticClass:\"item\"},[(message.type === 0)?_c('div',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.label))]),_vm._v(\" 由 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.oldValue))]),_vm._v(\" 被修改为 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.newValue))])]):_c('div',[_c('div',{staticClass:\"flex-space-between\"},[_c('span',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.label))]),_vm._v(\" 被修改 \")]),(!_vm.isSupplier)?_c('span',{on:{\"click\":function($event){_vm.showSupplierPrice = !_vm.showSupplierPrice}}},[_c('span',{staticClass:\"text-link\"},[_vm._v(\"查看明细\")]),(_vm.showSupplierPrice)?_c('i',{staticClass:\"el-icon-arrow-down\"}):_c('i',{staticClass:\"el-icon-arrow-right\"})]):_vm._e()]),(_vm.showSupplierPrice)?_c('div',{staticClass:\"supplierPriceTable\",class:{sidebar: _vm.isSidebar}},[_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":message.oldValue,\"border\":true}}),_c('span',[_vm._v(\"改为\")]),_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":message.newValue,\"border\":true}})],1):_vm._e()])])}),_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){_vm.showAll = false}}},[_vm._v(\"收起全部\")])],2):_c('div',[(_vm.messageList[0].type === 0)?_c('div',{staticClass:\"item\"},[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].label))]),_vm._v(\" 由 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].oldValue))]),_vm._v(\" 被修改为 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].newValue))])]):_c('div',[_c('div',{staticClass:\"flex-space-between\"},[_c('span',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].label))]),_vm._v(\"被修改 \")]),(!_vm.isSupplier)?_c('span',{on:{\"click\":function($event){_vm.showSupplierPrice = !_vm.showSupplierPrice}}},[_c('span',{staticClass:\"text-link\"},[_vm._v(\"查看明细\")]),(_vm.showSupplierPrice)?_c('i',{staticClass:\"el-icon-arrow-right\"}):_c('i',{staticClass:\"el-icon-arrow-down\"})]):_vm._e()]),(_vm.showSupplierPrice)?_c('div',{staticClass:\"supplierPriceTable\",class:{sidebar: _vm.isSidebar}},[_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":_vm.messageList[0].oldValue,\"border\":true}}),_c('span',[_vm._v(\"改为\")]),_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":_vm.messageList[0].newValue,\"border\":true}})],1):_vm._e()]),(_vm.messageList.length > 1)?_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){_vm.showAll = true}}},[_vm._v(\"查看全部\")]):_vm._e()])]):_c('div',[_vm._v(\"暂无数据\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"table-container\"},[_c('el-table',{attrs:{\"data\":_vm.data,\"border\":_vm.border,\"header-cell-class-name\":\"customer-header\",\"cell-class-name\":\"customer-row\"}},[_c('el-table-column',{attrs:{\"prop\":\"supplierName\",\"label\":\"供应商名称\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"referencePrice\",\"label\":\"参考单价\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"cost\",\"label\":\"成本价\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"supplierStatus\",\"label\":\"是否为默认供应商\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.supplierStatus === 1 ? '是' : '否'))])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\n\ntype SupplierPriceForDisplay = {\n  referencePrice: string,\n  supplierName: string,\n  cost: string,\n  supplierStatus: number\n};\n\nexport default defineComponent({\n  dialogify: {\n    props: {\n      closeOnClickModal: false,\n      width: '480px',\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n    },\n  },\n  props: {\n    data: {\n      type: Array as () => SupplierPriceForDisplay[],\n      required: true,\n      default: [],\n    },\n    border: {\n      type: Boolean,\n      default: false,\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SupplierPriceList.vue?vue&type=template&id=4db97a97&scoped=true&\"\nimport script from \"./SupplierPriceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./SupplierPriceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SupplierPriceList.vue?vue&type=style&index=0&id=4db97a97&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4db97a97\",\n  null\n  \n)\n\nexport default component.exports","import axios from '@/utils/axios';\n\ntype Value = {\n  id?:string,\n  label: string\n};\n\nexport type Property = {\n  id: string,\n  title: string,\n  required: number,\n  component: number,\n  params: any,\n  values: Value[] | ''\n};\n\nconst cache: {\n  properties: Property[]\n} = {\n  properties: [],\n};\n\nexport async function fetchProperties() {\n  if (cache.properties && cache.properties.length === 0) {\n    cache.properties = (await axios({\n      url: '/anta-material/dynamics/property/list',\n      method: 'get',\n    })).data;\n  }\n  return cache.properties;\n}\nexport function getSelectionProperty(title: string) {\n  return cache.properties.find(p => {\n    return p.title === title && p.values && p.values.length !== 0;\n  }) || null;\n}\n\nexport function getProperty(title: string) {\n  return cache.properties.find(p => {\n    return p.title === title;\n  }) || null;\n}\n\nexport async function getPropertyByTitle(title: string) {\n  if (cache.properties && cache.properties.length === 0) {\n    try {\n      await fetchProperties();\n    } catch {\n      cache.properties = [];\n    }\n  }\n  return getProperty(title);\n}\n\nexport function findValue(value: string | string[], property: Property | null, placeholder:string = '--') {\n  if (!property) return value || placeholder;\n  if (!value) return placeholder;\n  const values = property.values as Value[];\n  // component=3表示是数组，要从值列表中找出对应值，组成数组再拼接成字符串\n  if (property.component === 3) {\n    return values.filter(({ id }) => (value as string[]).includes(id))?.map(i => i.label)?.join(', ');\n  }\n  return values.find(v => {\n    return v.id === value;\n  })?.label || placeholder;\n}\n\nexport default {};\n","// const field = {\n//   category: '分类',\n//   season: '季节',\n//   brand: '品牌',\n//   supplierName: '供应商名称',\n//   materialNumber: '材料编码',\n//   old_material_number: '旧材料编码',\n//   materialSpecification: '材料规格',\n//   weight: '克重',\n//   unit: '单位',\n//   available_area: '使用部位',\n//   ingredient: '成分',\n//   yarn_proportion: '纱线及占比',\n//   reference_price: '参考单位',\n//   supplier_price: '供应商价',\n//   color_limit_type: '颜色限制类别(鞋)',\n//   color_limit_remark: '颜色限制说明(鞋)',\n//   sample_moq: '样品起订量',\n//   production_moq: '量产起订量',\n//   post_treatment_process: '后处理工艺',\n//   acceptable_temperature: '可承受高温范围',\n//   development_livecycle: '开发周期',\n//   production_livecycle: '量产周期',\n//   special_restrictions: '特殊物限制',\n//   shoemaking_risks: '制鞋风险',\n//   compound_way: '复合方式',\n//   dyeing_finishing: '色纱/染整',\n//   materialCountryOfOrigin: '产地',\n//   daily_production_capacity: '日产能',\n//   detection_number: '检测标准编号',\n//   evergreen: '常青材料',\n//   PU_layer_composition: 'PU层成分',\n//   natural_leather_oil_proportion: '天然皮革含油量',\n//   volume: '体积（M3）',\n// };\n// export default field;\nconst materialTypes = {\n  origin: '产地',\n  materialName: '面料名称',\n  supplierName: '供应商',\n  material_number: '材料编码',\n  category: '分类',\n  season: '季节',\n  brand: '品牌',\n  old_material_number: '旧物料编号',\n  material_specification: '材料规格',\n  weight: '克重',\n  unit: '单位',\n  available_area: '使用部位',\n  ingredient: '成分',\n  yarn_proportion: '纱线及占比',\n  reference_price: '参考单价',\n  supplier_price: '供应商价',\n  color_limit_type: '颜色限制类别',\n  color_limit_remark: '颜色限制说明',\n  sample_moq: '样品起订量',\n  production_moq: '量产起订量',\n  post_treatment_process: '后处理工艺',\n  acceptable_temperature: '可承受高温范围',\n  development_livecycle: '开发周期',\n  production_livecycle: '量产周期',\n  special_restrictions: '特殊物限制',\n  shoemaking_risks: '制鞋风险',\n  compound_way: '复合方式',\n  dyeing_finishing: '色纱/染整',\n  daily_production_capacity: '日产能',\n  detection_number: '检测标准编号',\n  evergreen: '常青材料',\n  PU_layer_composition: 'PU层成分',\n  natural_leather_oil_proportion: '天然皮革含油率',\n  volume: '体积',\n  remark: '备注',\n  plm: 'plm编码',\n  product_line: '适用产品线',\n  function: '功能性',\n  label: '吊牌',\n  trend: '流行趋势',\n  season_lib: '季节库',\n  cost: '成本价',\n  supplier_price_array: '供应商价格',\n  approve_detail: '评审状态',\n\n};\nexport default materialTypes;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable camelcase */\n\nimport {\n  computed, defineComponent, ref,\n} from '@vue/composition-api';\nimport {\n  getDictionaryByTypeCode,\n  fetchAntaPropertyByCode,\n} from '@/loaders/dictionary';\n\n\nimport { DictItem } from '@/models/Dictionary';\nimport keys from '_/keys';\nimport axios from '@/api/axios';\nimport { getCurrentCompany } from '@/loaders/company';\nimport useLoader from '_/composables/use-loader';\nimport SupplierPriceList from '../SupplierPriceList.vue';\nimport {\n  fetchProperties,\n  findValue,\n  getProperty,\n  getPropertyByTitle,\n  getSelectionProperty,\n} from './property';\nimport materialTypes from './materialType';\n\nexport type PriceUnit = {\n  label: string,\n  // itemCode: string,\n  itemValue: number,\n};\n\nasync function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nconst colorList: { [key: number]: string } = {\n  1: '全部颜色',\n  2: '仅部分颜色',\n  3: '荧光色除外',\n};\n\nconst approveStatus = {\n  1: '待评审',\n  2: '评审中',\n  3: '复核中',\n  4: '已完成',\n} as { [x: number]: string };\n\ntype SupplierPrice = {\n  reference_price_unit: number,\n  reference_price_value: number,\n  cost_unit: number,\n  cost_value: number,\n  supplier_name: string,\n  supplier_status: number\n};\n\ntype Message = {\n  label: string;\n  oldValue: string;\n  newValue: string;\n};\n\ntype PriceType = {\n  value: string | number;\n  unit: number;\n};\n\ntype Supplier = {\n  id: string;\n  originalSupplierName: string;\n  companyId?: string;\n  name?: string;\n};\n\ntype Dictionary = {\n  id: string;\n  value: string;\n};\n\ntype TypeItem = {\n  itemCode: string;\n  itemValue: string;\n  label: string;\n};\nexport default defineComponent({\n  props: {\n    form: {\n      required: true,\n    },\n  },\n  components: {\n    SupplierPriceList,\n  },\n  setup(props) {\n    const changeLogRef = ref();\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n    let formList;\n    if (typeof props.form === 'string') {\n      formList = JSON.parse(JSON.parse(props.form));\n    } else {\n      formList = props.form;\n    }\n    // const formList = JSON.parse(props.form);\n    const oldForm = formList[1];\n    const newForm = formList[0];\n\n    const itemName = newForm.materialName || '';\n    const showAll = ref(false);\n    const showSupplierPrice = ref(false);\n    // const statusList = ['--', '开发中', '已完成', '驳回', '停用'];\n    // const typeItemList = ['priceUnit', 'mqqUnit'];\n    const evergreenList = ['', 'TRUE', 'FALSE'];\n\n    const isSidebar = computed(() => {\n      if (changeLogRef.value) {\n        console.log(changeLogRef.value.offsetWidth);\n        return changeLogRef.value.offsetWidth < 440;\n      }\n      return false;\n    });\n\n\n    function isDifferent(a: any, b: any) {\n      return JSON.stringify(a) !== JSON.stringify(b);\n    }\n\n    function findTypeItem(list: PriceUnit[], value: number | undefined) {\n      return (\n        list.find((i) => {\n          return i.itemValue === value;\n        })?.label || '--'\n      );\n    }\n\n    function handleSupplierName(id: string, list: Supplier[]) {\n      return (\n        list.find((supplier) => {\n          return supplier.id === id;\n        })?.originalSupplierName || '--'\n      );\n    }\n\n    function handleCostLikeData(\n      data: PriceType | undefined,\n      priceUnitList: PriceUnit[],\n    ) {\n      // console.log('handleCostList', data, priceUnitList);\n      if (data && data.value) {\n        return `${data.value ?? '--'} ${findTypeItem(\n          priceUnitList,\n          data.unit,\n        )}`;\n      }\n      return '--';\n    }\n\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'reference_price'\n    ): PriceType;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'cost'\n    ): PriceType;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'supplier_name'\n    ): string;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'reference_price' | 'cost' | 'supplier_name',\n    ) {\n      if (!current) return undefined;\n      // const current = prices[0];\n      switch (key) {\n        case 'reference_price':\n          return {\n            value: current.reference_price_value,\n            unit: current.reference_price_unit,\n          } as PriceType;\n        case 'cost':\n          return {\n            value: current.cost_value,\n            unit: current.cost_unit,\n          } as PriceType;\n        case 'supplier_name':\n          return current.supplier_name as string;\n        default:\n          return undefined;\n      }\n    }\n\n    function handleSupplierPriceArr(\n      list: SupplierPrice[],\n      priceUnitList: PriceUnit[],\n      supplierList: Supplier[],\n    ) {\n      return list.map((i) => {\n        return {\n          referencePrice: handleCostLikeData(\n            fetchSupplierPriceArr(i, 'reference_price'),\n            priceUnitList,\n          ),\n          cost: handleCostLikeData(\n            fetchSupplierPriceArr(i, 'cost'),\n            priceUnitList,\n          ),\n          supplier_name: handleSupplierName(\n            fetchSupplierPriceArr(i, 'supplier_name'),\n            supplierList,\n          ),\n          supplierStatus: i.supplier_status,\n        };\n      });\n    }\n\n    function getPriceUnit() {\n      return [{\n        label: '人民币',\n        // itemCode: 'CNY',\n        itemValue: 1,\n      }, {\n        label: '美元',\n        // itemCode: 'CNY',\n        itemValue: 2,\n      }];\n    }\n\n    const messageList = useLoader(\n      async () => {\n        const oldKeys = keys(oldForm);\n        const newKeys = keys(newForm);\n        const form = oldKeys.length > newKeys.length ? oldForm : newForm;\n\n        const [\n          allSupplierList,\n          priceUnits,\n          propertyList,\n        ] = await Promise.all([\n          fetchSupplierAll(),\n          getPriceUnit(),\n          fetchProperties(),\n        ]);\n\n        console.log(propertyList);\n\n        const messages = keys(form).map((key) => {\n          let oldValue;\n          let newValue;\n          let type = 0;\n          let label = materialTypes[(key as unknown) as keyof typeof materialTypes];\n          if (isDifferent(oldForm[key], newForm[key])) {\n            switch (key) {\n              case 'evergreen':\n                oldValue = evergreenList[Number(oldForm[key])] || '--';\n                newValue = evergreenList[Number(newForm[key])] || '--';\n                break;\n              case 'materialName':\n                if (oldForm[key] !== newForm[key]) {\n                  oldValue = oldForm[key];\n                  newValue = newForm[key];\n                }\n                break;\n              case 'material_status':\n                // oldValue = statusList[oldForm[key]];\n                // newValue = statusList[newForm[key]];\n                oldValue = undefined;\n                newValue = undefined;\n                break;\n              case 'color_limit_type':\n                oldValue = colorList[oldForm[key]] || '--';\n                newValue = colorList[newForm[key]] || '--';\n                break;\n              case 'approve_detail':\n                oldValue = approveStatus[oldForm[key].approve_status] || ' -- ';\n                newValue = approveStatus[newForm[key].approve_status] || ' -- ';\n                break;\n              case 'season':\n                // eslint-disable-next-line max-len\n                oldValue = `${oldForm.season?.year || ''} ${oldForm.season?.season || ''} ${findValue(oldForm.season['品牌'], getSelectionProperty('品牌')) || oldForm.season['品牌']}`;\n                // eslint-disable-next-line max-len\n                newValue = `${newForm.season?.year || ''} ${newForm.season?.season || ''} ${findValue(newForm.season['品牌'], getSelectionProperty('品牌')) || newForm.season['品牌']}`;\n                break;\n              case 'supplier_price_array':\n                oldValue = handleSupplierPriceArr(\n                  oldForm[key],\n                  priceUnits,\n                  allSupplierList,\n                );\n                newValue = handleSupplierPriceArr(\n                  newForm[key],\n                  priceUnits,\n                  allSupplierList,\n                );\n                type = 1;\n                break;\n              default:\n                console.log(key);\n                console.log(oldForm[key], newForm[key]);\n                oldValue = findValue(\n                  oldForm[key],\n                  getSelectionProperty(key as string),\n                );\n                newValue = findValue(\n                  newForm[key],\n                  getSelectionProperty(key as string),\n                );\n                console.log(oldValue, newValue);\n                label = label ?? key as string;\n                break;\n            }\n          }\n\n          return {\n            label,\n            oldValue,\n            newValue,\n            type,\n          };\n        });\n        console.info(messages);\n        // debugger;\n        return messages.filter((item) => {\n          // console.log(item);\n          return item.oldValue !== undefined && item.newValue !== undefined;\n        });\n      },\n      {},\n      {\n        initialValue: undefined,\n      },\n    );\n\n    return {\n      messageList,\n      itemName,\n      oldForm,\n      newForm,\n      showAll,\n      showSupplierPrice,\n      changeLogRef,\n      isSidebar,\n      isSupplier,\n      // fetchCategory,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=57918cc7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57918cc7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57918cc7\",\n  null\n  \n)\n\nexport default component.exports","\nimport Vue, { VueConstructor } from 'vue';\nimport {\n  defineComponent, ref, computed, watch, nextTick,\n} from '@vue/composition-api';\nimport { ElCascader } from 'element-ui/types/cascader';\n// @ts-ignore\nimport VueTagsInput from '@johmun/vue-tags-input';\nimport { i18n } from '@/i18n';\nimport axios from '@/utils/axios';\nimport { getContextWorkspace } from '@/loaders/context';\nimport { materialColorPicker } from '@/views/material/form-related';\nimport keys from '_/keys';\nimport { envs } from '@/utils/envs';\nimport { getCurrentCompany } from '@/loaders/company';\nimport PriceForm from './PriceForm.vue';\n\n\nconst rootSymbol = Symbol('root');\nexport type Tree = {\n  label: string,\n  value: unknown,\n  code?: string,\n  children?: Tree[],\n  tagName?: string,\n  leaf?: boolean,\n  slot?: VueConstructor,\n  isSelected?: (value: any) => boolean,\n  getChildren?: (this: Tree, options: Tree[], level: number) => Promise<Tree[]> | Tree[]\n  [rootSymbol]?: Tree,\n};\nexport type OptionsTree = Tree;\ntype CascaderOptionFromServer = {\n  itemCode: string,\n  itemValue: string,\n  label: string,\n};\n\nasync function getPaths(\n  // eslint-disable-next-line no-use-before-define\n  values: OptionsTree['value'][],\n  optionsTree: OptionsTree[],\n  getChildren: Function,\n) {\n  const result = [];\n  const _optionsTree = optionsTree;\n  for (let i = 0; i < values.length; i++) {\n    const value = values[i];\n    const findIterator = (option: OptionsTree) => {\n      const isSelected = option.isSelected || ((_value: any) => option.value === _value);\n      return isSelected(value);\n    };\n    const option = optionsTree.find(findIterator);\n    if (option) {\n      if (!option.leaf) {\n        optionsTree = await getChildren(option, _optionsTree, i + 1);\n      }\n      result.push(option);\n      if (option.leaf) {\n        break;\n      }\n    }\n  }\n  return result;\n}\nconst SearchAndSelect = defineComponent({\n  name: 'SearchAndSelect',\n  props: {\n    options: {\n      type: Array as () => OptionsTree[],\n      // required: true,\n    },\n    value: {\n      type: Object as () => {\n        filters: {\n          [x: string]: Tree['value'][],\n        },\n        keyword: string,\n      },\n      default: () => ({\n        filters: {},\n        keyword: '',\n      }),\n    },\n    getChildren: {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      default: () => async (node: Tree | undefined, options: OptionsTree[], level: number) => {\n        if (!node) {\n          if (options) {\n            return options;\n          }\n          const isAnta = (getContextWorkspace()?.businessType === 1 ?? 0);\n          let children: Tree[];\n          if (isAnta) {\n            const productTypes = '品牌';\n\n            children = [{\n              code: 'materialClassification',\n              value: 'materialClassification',\n              label: '材料分类',\n              async getChildren(_, _level) {\n                const _node = this;\n                const params = {\n                  requestType: '3',\n                  ...(_level > 1 ? { parentId: _node.value } : {}),\n                };\n                return (await axios.post<\n                  {\n                    itemCode: string,\n                    itemValue: string,\n                    label: string,\n                    subCount: number | null,\n                  }[]\n                >('bff-center/search/dict/conditions/detail', params, {\n                  headers: {\n                    language: i18n.language,\n                  },\n                })).data.map(item => {\n                  return {\n                    value: item.itemValue,\n                    code: item.itemCode,\n                    label: item.label,\n                    leaf: !item.subCount,\n                  };\n                });\n              },\n            }, {\n              code: 'productType',\n              value: 'productType',\n              label: productTypes,\n              async getChildren() {\n                return (await axios.get(`anta-material/dynamics/property/value/title?title=${encodeURIComponent(productTypes)}`)).data\n                  .map((item: any) => {\n                    return {\n                      code: item.id, value: item.id, label: item.label, leaf: true,\n                    };\n                  });\n              },\n            }, {\n              code: 'year',\n              value: 'year',\n              label: '年份',\n              children: (() => {\n                const currentYear = 2020;\n                const getYearObj = (year: string) => ({\n                  code: year, value: year, label: year, leaf: true,\n                });\n                const afterYears = [...Array(51)].map((_, i) => getYearObj(`${currentYear + i}`));\n                const beforeYears = [...Array(20)].map((_, i) => getYearObj(`${currentYear - i - 1}`));\n                return [...afterYears, ...beforeYears];\n              })(),\n            }, {\n              code: 'season',\n              value: 'season',\n              label: '季节',\n              children: Array.from(new Array(4)).map((_item, i) => {\n                const q = `Q${i + 1}`;\n                return {\n                  code: q, value: q, label: q, leaf: true,\n                };\n              }),\n            }, {\n              code: 'price',\n              value: { startPrice: undefined, endPrice: undefined, unit: 1 },\n              isSelected(value) {\n                return typeof value === 'object' && ('startPrice' in value || 'endPrice' in value) && 'unit' in value;\n              },\n              label: '价格区间',\n              slot: PriceForm,\n            }, {\n              code: 'fileInfoStatus',\n              value: 'fileInfoStatus',\n              label: '有无4ddat文件',\n              children: [\n                {\n                  label: '有4ddat文件', value: true, leaf: true, code: 'fileInfoStatus',\n                },\n                {\n                  label: '无4ddat文件', value: false, leaf: true, code: 'fileInfoStatus',\n                },\n              ],\n            }];\n            const company = getCurrentCompany();\n\n            if (company && company.type !== 3) {\n              children.push({\n                code: 'evergreen',\n                value: 'evergreen',\n                label: '常青材料',\n                children: [\n                  {\n                    label: 'TRUE', value: 1, leaf: true, tagName: '常青', code: 'evergreen',\n                  },\n                  {\n                    label: 'FALSE', value: 2, leaf: true, tagName: '非常青', code: 'evergreen',\n                  },\n                ],\n              });\n            }\n          } else {\n            children = [\n              {\n                label: i18n.t('file-list.material_type'),\n                code: 'materialType',\n                value: 'materialType',\n                async getChildren() {\n                  return (await axios.get<{ itemValue: string, itemCode: string, label: string }[]>('bff-center/showCommon/getDictionaryTypeItem', {\n                    headers: {\n                      language: i18n.language,\n                    },\n                    params: {\n                      typeCode: 'materialType',\n                    },\n                  })).data.map(item => {\n                    return {\n                      value: item.itemValue,\n                      code: item.itemCode,\n                      label: item.label,\n                      leaf: true,\n                    };\n                  });\n                },\n              },\n              {\n                label: i18n.t('file-list.color_family'),\n                code: 'colorFamily',\n                value: 'colorFamily',\n                children: materialColorPicker.map(item => {\n                  return {\n                    value: item.name,\n                    code: 'colorFamily',\n                    label: i18n.language === 'cn' ? item.cnName : item.name,\n                    leaf: true,\n                  };\n                }),\n              },\n\n            ];\n          }\n          return children;\n        }\n\n        return node.children ?? [];\n      },\n    },\n    placeholder: {\n      default: i18n.t('workspace.search'),\n    },\n  },\n  render() {\n    const self = this;\n    const customSlotNodes = self.customSlotNodes ?? [];\n    const customSlotNode = customSlotNodes[customSlotNodes.length - 1];\n    return (\n      <div class='search-and-select-wrapper flex' style={{\n        position: 'relative',\n      }}>\n\n\n        <div style={{ flex: 1 }} class='flex'>\n          {self.showCascader}\n          {self.showCascader\n            ? <el-popover\n              ref=\"popover\"\n              vModel={this.popoverShown}\n              trigger=\"click\"\n              popper-class='search-and-select-cascader-wrapper'\n              placement=\"bottom-start\"\n            >\n              <el-button\n                style=\"height: 32px; font-size: 13px;\"\n                slot=\"reference\"\n                size='medium'\n                class='flex-center drop-down-trigger'\n              >{Object.keys(self.filters).length ? i18n.t('file-list.filter') : i18n.t('file-list.all')}\n                <i style='margin-left: 8px; font-size: 14px; color: #C0C4CC'\n                  class={['el-select__caret el-icon-arrow-down', { 'is-reverse': this.popoverShown }]} />\n              </el-button>\n              <div class=\"flex\">\n                <el-cascader-panel\n                  ref=\"cascader\"\n                  border={false}\n                  on={{\n                    'expand-change': async (tag: (string | number)[]) => {\n                      const filter = await getPaths(tag, self.options_, this.innerGetChildren);\n                      const node = filter[filter.length - 1];\n                      if (node.slot) {\n                        this.customSlotNodes = filter;\n                      } else {\n                        this.customSlotNodes = undefined;\n                      }\n                      await nextTick();\n                      // 重新计算popover位置\n                      self.$refs.popover.updatePopper();\n                    },\n                    change: (values: (string | number)[]) => {\n                      // self.cascaderValue = Date.now();\n                      self.addFilter(values);\n                    },\n                  }}\n                  props={{\n                    options: self.options_,\n                    props: {\n                      lazy: true,\n                      async lazyLoad({ data, level }, resolve) {\n                        resolve(await self.innerGetChildren(data, self.options_, level));\n                      },\n                      children: 'children_',\n                    },\n                  }}\n                >\n                </el-cascader-panel>\n                {\n                  customSlotNode ? <div class=\"custom-panel\">\n                    <customSlotNode.slot node={customSlotNode} nodes={customSlotNodes} value={customSlotNode.value} onChange={(value) => {\n                      customSlotNode.value = value;\n                      self.addFilter(customSlotNodes.map(item => item.value));\n                      self.$refs.cascader.activePath = [];\n                      this.customSlotNodes = null;\n                    }} />\n                  </div> : null\n                }\n              </div>\n\n            </el-popover> : null\n          }\n          <VueTagsInput\n            class={{ 'show-icon': !self.showCascader, 'has-search-image': self.$slots['append-icon'] }}\n            scopedSlots={{\n              'between-elements': () => (self.showCascader ? null : <i class='iconfont icon-search' />),\n            }}\n            vModel={self.keyword}\n            tags={[\n              ...Object.values(self.filters)\n                .map(filter => {\n                  const last = filter[filter.length - 1];\n                  if (last) {\n                    return { text: last.tagName ?? last.label, filter };\n                  }\n                  return undefined;\n                }).filter(item => !!item),\n            ]}\n            placeholder={self.placeholder}\n            nativeOnKeyup={(e) => {\n              if (e.keyCode === 13) {\n                self.updateKeyword();\n              }\n            }}\n            on={{\n              blur: () => {\n                self.updateKeyword();\n              },\n              'before-adding-tag': () => {\n                self.updateKeyword();\n              },\n              'before-deleting-tag': ({ tag }) => {\n                if (tag) {\n                  const { filter } = tag;\n                  self.removeFilter(filter[0].code);\n                }\n              },\n            }}\n          />\n          {self.$slots['append-icon']\n            ? <div class=\"search-icon-wrap\">{self.$slots['append-icon']}</div> : null}\n        </div>\n      </div>\n    );\n  },\n  setup(props, { emit }) {\n    const cooperation = computed(() => { return envs.VUE_APP_COOPERATION; });\n    const cascader = ref<ElCascader>();\n    const keyword = ref(props.value.keyword);\n    const filters = ref<{ [k: string]: OptionsTree[] }>({});\n    const options = ref([] as OptionsTree[]);\n    const customSlotNodes = ref<Tree[]>();\n    const dropdownShown = ref(false);\n\n    const innerGetChildren = async (node: Tree | undefined, _options: Tree[], level: number) => {\n      const getChildren = node?.getChildren\n        ?? function getChildren(this: Tree | undefined, __options: Tree[], _level: number) {\n          return props.getChildren(this, _options, _level);\n        };\n      const children = await getChildren.call(node as Tree, _options, level);\n      return children!.map(item => {\n        if (!item.leaf) {\n          item.getChildren = item.getChildren ?? getChildren;\n        }\n        if (item.slot) {\n          item.leaf = false;\n          item.children = [];\n        }\n        item.code = item.code ?? node?.code;\n        return item;\n      });\n    };\n\n    function update(__options, value) {\n      keyword.value = value.keyword;\n      filters.value = {};\n      keys(value.filters).forEach(async (key) => {\n        Vue.set(filters.value, key, await getPaths(value.filters[key], __options, innerGetChildren));\n      });\n    }\n\n    let w: ReturnType<typeof watch>;\n    const generateWatcher = () => {\n      if (w) w();\n      w = watch(() => props.value, (value, old) => {\n        if (JSON.stringify(value) !== JSON.stringify(old)) {\n          update(options.value, value);\n        }\n      }, {\n        immediate: false,\n      });\n    };\n\n    async function updateKeyword() {\n      if (props.value.keyword !== keyword.value) {\n        emit('change', {\n          filters: props.value.filters,\n          keyword: keyword.value,\n        });\n      }\n    }\n\n    async function addFilter(values: (string | number)[]) {\n      const filter = await getPaths(values, options.value, innerGetChildren);\n      const _filters = { ...props.value.filters };\n      _filters[filter[0].code] = values;\n      emit('change', {\n        keyword: props.value.keyword,\n        filters: _filters,\n      });\n    }\n\n    async function removeFilter(filterKey) {\n      const _filters = { ...props.value.filters };\n      delete _filters[filterKey];\n      emit('change', {\n        keyword: props.value.keyword,\n        filters: _filters,\n      });\n    }\n\n\n    function clearSelectorsAndKeyword() {\n      emit('change', {\n        keyword: '',\n        filters: {},\n      });\n    }\n\n\n    watch(() => props.options, async (_options) => {\n      const __options = await innerGetChildren(undefined, _options, 0);\n      options.value = __options;\n      customSlotNodes.value = undefined;\n      update(options.value, props.value);\n    }, {\n      immediate: true,\n    });\n\n    const showCascader = computed(() => {\n      return options.value && !!options.value.length;\n    });\n\n    generateWatcher();\n\n    return {\n      innerGetChildren,\n      dropdownShown,\n      updateKeyword,\n      removeFilter,\n      addFilter,\n      customSlotNodes,\n      options_: options,\n      // cascaderValue: ref(Date.now()),\n      popoverShown: ref(false),\n      cooperation,\n      showCascader,\n      cascader,\n      filters,\n      keyword,\n      clearSelectorsAndKeyword,\n    };\n  },\n});\nexport default SearchAndSelect;\n","var render, staticRenderFns\nimport script from \"./Search&Select.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Search&Select.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./Search&Select.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./Search&Select.vue?vue&type=style&index=1&id=512804a2&scoped=true&lang=scss&\"\nimport style2 from \"./Search&Select.vue?vue&type=style&index=2&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"512804a2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search&Select.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search&Select.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=style&index=0&id=54889722&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=style&index=0&id=456c7186&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"filterable\":\"\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.$emit('change', _vm.selectedValue)}},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":_vm.lang === 'cn' ? item.name : item.usName,\"value\":item.id}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-select\n    v-model=\"selectedValue\"\n    :placeholder=\"placeholder\"\n    :disabled=\"disabled\"\n    filterable\n    clearable\n    @change=\"$emit('change', selectedValue)\">\n    <el-option\n      v-for=\"item in options\"\n      :key=\"item.id\"\n      :label=\"lang === 'cn' ? item.name : item.usName\"\n      :value=\"item.id\" />\n  </el-select>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { getCountryList } from '@/api/dictionary';\n\nexport default {\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: '',\n    },\n    placeholder: {\n      type: String,\n      default: i18n.t('login.country_palceholder'),\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    this.lang = i18n.language;\n    return {\n      selectedValue: '',\n      options: [],\n    };\n  },\n  async created() {\n    try {\n      const res = await getCountryList();\n      this.options = res.data;\n    } catch (err) {\n      this.$message.error(err.message);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val || '';\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DictionaryCountrySelector.vue?vue&type=template&id=a0a6c192&\"\nimport script from \"./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=style&index=0&id=29d46fb1&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=style&index=0&id=a05eff14&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-detail-container\"},[_c('div',{staticClass:\"scrollable-y\",staticStyle:{\"height\":\"550px\",\"padding\":\"0 30px\"}},[(_vm.currentComponent === 'ComponentPreviewDetail')?_c('div',{staticClass:\"flex-center\"},[(_vm.swipers.length > 0)?_c('MaterialCarousel',{ref:\"materialCarousel\",attrs:{\"swiper-list\":_vm.swipers,\"materialId\":_vm.material.id}}):_vm._e()],1):_vm._e(),_c('transition',{attrs:{\"enter-active-class\":\"animated faedIn faster\",\"leave-active-class\":\"animated fadeOut faster\",\"mode\":\"out-in\",\"appear\":\"\"}},[(_vm.material)?_c(_vm.currentComponent,{ref:\"materialDynamicComp\",tag:\"component\",attrs:{\"entryAppType\":_vm.entryAppType,\"material\":_vm.material,\"saveDisabled\":_vm.saveBtnDisabled},on:{\"update:saveDisabled\":function($event){_vm.saveBtnDisabled = $event},\"switch-component\":function($event){_vm.currentComponent = $event},\"refresh\":function($event){return _vm.getMaterialInfoById(_vm.id)},\"loading\":function($event){_vm.loading = $event}}}):_vm._e()],1),_c('time-info',{staticStyle:{\"margin-top\":\"40px\"},attrs:{\"creator\":_vm.material ? _vm.material.creatorName || '' : '',\"uploaded\":_vm.material ? _vm.material.gmtCreateTime || '' : '',\"updated\":_vm.material ? _vm.material.gmtModifyTime || '' : ''}})],1),(_vm.editable)?[(_vm.currentComponent === 'ComponentPreviewDetail')?_c('section',{key:1,staticClass:\"submit-buttons\"},[_c('el-button',{attrs:{\"disabled\":!_vm.$can('workspace', 'OP0141'),\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentEditDetail'}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.edit'))+\" \")])],1):_c('section',{key:2,staticClass:\"submit-buttons\"},[_c('el-button',{staticClass:\"cancel\",attrs:{\"size\":\"small\",\"round\":\"\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentPreviewDetail';_vm.saveBtnDisabled = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.cancel'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\",\"disabled\":_vm.saveBtnDisabled},on:{\"click\":function($event){return _vm.$refs.materialDynamicComp.save()}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.save'))+\" \")])],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('div',{staticClass:\"material-detail-text\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.material.materialName)+\" \"),_c('el-tooltip',{attrs:{\"content\":((_vm.$t('material.info.proprietary')) + \":\" + (_vm.material.renderingJson.colorAlteration))}},[(_vm.material.extraStatus==='0' && _vm.material.renderingJson.colorAlteration)?_c('i',{staticClass:\"iconfont iconfeibiaozhuseka\"}):_vm._e()])],1),(_vm.material.tagsInfo)?_c('TagsEditor',{attrs:{\"tags\":_vm.material.tagsInfo,\"shareId\":_vm.material.id,\"type\":1,\"relateType\":1,\"maxTagsLen\":10}}):_vm._e(),(_vm.material.tags)?_c('TagsEditor',{attrs:{\"tags\":_vm.material.tags,\"shareId\":_vm.material.id,\"type\":1,\"relateType\":1,\"editable\":_vm.editable,\"maxTagsLen\":10}}):_vm._e(),_c('ul',{staticClass:\"field-list\",staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.fields),function(field){return _c('li',{key:field.prop,staticClass:\"field-item\"},[_c('FormFielText',{attrs:{\"label\":field.label,\"content\":_vm.material[field.prop || 0],\"units\":field.units}})],1)}),0),_c('ul',{staticClass:\"field-list\"},[_c('li',{staticClass:\"field-item full\"},[_c('MaterialColorViewer',{attrs:{\"label\":_vm.$t('material.info.color_family'),\"content\":_vm.material.colorFamily}})],1),_c('li',{staticClass:\"field-item full\"},[_c('FormFielText',{attrs:{\"label\":_vm.$t('material.info.print_and_pattern')}},[(_vm.material.printPatternsInfo || _vm.material.patterns)?[(_vm.material.printPatternsInfo)?_c('TagsEditor',{attrs:{\"tags\":_vm.material.printPatternsInfo,\"shareId\":_vm.material.id,\"type\":2,\"relateType\":1,\"editable\":_vm.isCreator,\"maxTagsLen\":10}}):_vm._e(),(_vm.material.patterns)?_c('TagsEditor',{attrs:{\"tags\":_vm.material.patterns,\"shareId\":_vm.material.id,\"type\":2,\"relateType\":1,\"editable\":false}}):_vm._e()]:[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]],2)],1),_c('li',{staticClass:\"field-item full\"},[_c('FormFielText',{staticClass:\"form-field-notes\",attrs:{\"label\":_vm.$t('material.info.notes'),\"content\":_vm.material.notes}})],1)])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-form-field\"},[_c('label',{staticClass:\"label text-one-line\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"content-box text-one-line\"},[_vm._t(\"default\",[(_vm.content\n        || _vm.units.length > 0 && (_vm.units[0].type === 'materialType' || _vm.units[0].type === 'country'))?[(_vm.content)?_c('span',{staticClass:\"content text-one-line\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")]):_vm._e(),_vm._l((_vm.units),function(unit,index){return [_c('UnitField',{key:unit.type,attrs:{\"type\":unit.type,\"value\":unit.value}}),(index < _vm.units.length - 1)?_c('span',{key:index,staticClass:\"unit-sep\"},[_vm._v(\" \"+_vm._s(_vm.$i18n.i18next.language === 'en' ? ' per ' : '/')+\" \")]):_vm._e()]})]:[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent } from '@vue/composition-api';\n\nimport UnitField from './UnitField.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\nexport default defineComponent({\n  name: 'MaterialFormFieldText',\n  components: { UnitField },\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String, Number],\n      default: '',\n    },\n    // 单位数组\n    units: {\n      type: Array as () => Unit[],\n      default: () => [],\n    },\n  },\n  setup(props) {\n    return {\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FromFieldText.vue?vue&type=template&id=abd58ba8&scoped=true&\"\nimport script from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nexport * from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FromFieldText.vue?vue&type=style&index=0&id=abd58ba8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abd58ba8\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport {\n  defineComponent, ref, computed, watch,\n} from '@vue/composition-api';\n\nimport { getContextUser } from '@/loaders/context';\nimport TagsEditor from '@/components/base/TagsEditor.vue';\nimport FormFielText from './FromFieldText.vue';\nimport MaterialColorViewer from './ColorViewer.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\ninterface FormField {\n  label: string,\n  prop?: string,\n  units?: Array<Unit>,\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailText',\n  components: { FormFielText, TagsEditor, MaterialColorViewer },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup(props) {\n    const loading = ref(true);\n    const fields = ref<Array<FormField>>([]);\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n    watch(() => props.material, (val, oldVal) => {\n      // 当请求回material数据才渲染页面\n      // loading.value = !!oldVal;\n\n      fields.value = [\n        {\n          label: i18n.t('material.info.material_type'),\n          units: [\n            { type: 'materialType', value: val.materialType },\n          ],\n        },\n        { label: i18n.t('material.info.supplier_article_name'), prop: 'supplierArticleName' },\n        { label: i18n.t('material.info.supplier_article_number'), prop: 'supplierArticleNo' },\n        {\n          label: i18n.t('material.info.sample_price'),\n          prop: 'samplePrice',\n          units: [\n            { type: 'priceUnit', value: val.samplePriceUnit },\n            { type: 'sizeNumber', value: val.samplePriceNumber },\n          ],\n        },\n        { label: i18n.t('material.info.supplier_name'), prop: 'supplierName' },\n        { label: i18n.t('material.info.part_used'), prop: 'partUsed' },\n        {\n          label: i18n.t('material.info.moq'),\n          prop: 'moq',\n          units: [\n            { type: 'mqqUnit', value: val.moqUnit },\n          ],\n        },\n        { label: i18n.t('material.info.season'), prop: 'season' },\n        { label: i18n.t('material.info.color'), prop: 'color' },\n        {\n          label: i18n.t('material.info.sample_period'),\n          prop: 'samplePeriod',\n          units: [\n            { type: 'date', value: val.samplePeriodUnit },\n          ],\n        },\n        {\n          label: i18n.t('material.info.lead_time'),\n          prop: 'productionLeadTime',\n          units: [\n            { type: 'date', value: val.productionLeadTimeUnit },\n          ],\n        },\n        { label: i18n.t('material.info.specification'), prop: 'specification' },\n        {\n          label: i18n.t('material.info.thickness'),\n          prop: 'thickness',\n          units: [\n            { type: 'thicknessUnit', value: val.thicknessUnit },\n          ],\n        },\n        {\n          label: i18n.t('material.info.original_country'),\n          units: [\n            { type: 'country', value: val.materialCountryOfOrigin },\n          ],\n        },\n      ];\n    }, { deep: true, immediate: true });\n\n    return {\n      loading,\n      fields,\n      isCreator,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentPreviewDetail.vue?vue&type=template&id=7cdafee0&scoped=true&\"\nimport script from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentPreviewDetail.vue?vue&type=style&index=0&id=7cdafee0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cdafee0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('MaterialForm',{ref:\"materialForm\",attrs:{\"material\":_vm.materialCopy,\"businessType\":_vm.material.businessType || 0,\"isCreator\":_vm.isCreator,\"entryAppType\":_vm.entryAppType}}),_c('div',{ref:\"uploadArea\",staticClass:\"asset-upload-container\"},[_c('h2',{staticClass:\"asset-upload-title\"},[_vm._v(_vm._s(_vm.$t('material.info.attachment_title')))]),_c('ModelsSelector',{ref:\"modelsSelector\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo,\"materialId\":_vm.material.id}}),_c('AttachmentImage',{ref:\"attachmentImage\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}}),_c('AttachmentVideo',{ref:\"attachmentVideo\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed, onMounted,\n} from '@vue/composition-api';\n\nimport axios from '@/utils/axios';\nimport { blockDragEffect } from '@/utils/public';\nimport { getContextUser } from '@/loaders/context';\nimport { getCurrentCompany } from '@/loaders/company';\n\nimport MaterialForm from './Form.vue';\nimport ModelsSelector from './ModelsSelector.vue';\nimport AttachmentImage from './AttachmentImage.vue';\nimport AttachmentVideo from './AttachmentVideo.vue';\n\n\n/**\n * 更新材质详情信息（标签更新在其他接口）\n * @param {String} data { id: string, propName: any }\n * @see {Promise}\n */\nexport const updateMaterialInfo = (data: any) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/updateNewMaterialInfo',\n    data,\n  });\n};\n\n\n// 判断材质修改提醒\nasync function fetchShowAntaNote(originalId: string) {\n  return (await axios({\n    method: 'GET',\n    url: '/show/material/relate/needAlert',\n    params: { originalId },\n  })).data;\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailForm',\n  components: {\n    ModelsSelector,\n    AttachmentImage,\n    AttachmentVideo,\n    MaterialForm,\n  },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n    },\n    saveDisabled: {\n      type: Boolean,\n      default: true,\n    },\n    entryAppType: {\n      type: Number,\n    },\n  },\n  // @ts-ignore\n  setup(props, { emit, refs, root: { $errHandler, $message } }) {\n    const materialForm = ref(null);\n\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n\n    const materialCopy = ref(JSON.parse(JSON.stringify(props.material)));\n\n    // 禁止浏览器拖拽的默认行为\n    onMounted(() => blockDragEffect(refs.uploadArea));\n\n    // 保存\n    async function save() {\n      emit('loading', true);\n      try {\n        const isSupplier = getCurrentCompany()?.type === 3;\n        console.info(getCurrentCompany());\n        if (isSupplier) {\n          const t = await fetchShowAntaNote(props.material.originalId);\n          console.info(t);\n          if (t) {\n            $message.warning('此面料已交付品牌使用，信息修改需确定是否影响交付面料，若有影响，请自行修改或联系品牌修改');\n          }\n        }\n\n        const updateObj = await materialForm.value!.getFormData();\n        console.info(updateObj);\n\n        updateObj.id = props.material.id;\n        // @ts-ignore\n        updateObj.assetsInfo = {}; // 初始assetsInfo接口有时返回null，访问 models, images, videos会报错\n\n        // 获取模型选择的结果\n        const models = await refs.modelsSelector.getSelectResult();\n        updateObj.assetsInfo.models = models.map((model: any) => {\n          return { id: model.id, cover: model.modelCover };\n        });\n\n        // 获取材质图片的结果\n        const images = await refs.attachmentImage.getImageOssPaths();\n        updateObj.assetsInfo.images = images;\n\n        // 获取模型选择的结果\n        const videos = await refs.attachmentVideo.getVideoOssPaths();\n        updateObj.assetsInfo.videos = videos;\n\n        await updateMaterialInfo(updateObj);\n        emit('switch-component', 'ComponentPreviewDetail');\n        // emit('update:saveDisabled', true);\n        emit('refresh');\n        emit('update:saveDisabled', true);\n      } catch (err) {\n        $errHandler(err);\n      } finally {\n        emit('loading', false);\n      }\n    }\n\n\n    return {\n      isCreator,\n      save,\n      materialCopy,\n      materialForm,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentEditDetail.vue?vue&type=template&id=66bbc2ee&scoped=true&\"\nimport script from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentEditDetail.vue?vue&type=style&index=0&id=66bbc2ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66bbc2ee\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent, ref } from '@vue/composition-api';\nimport { getMaterialInfo } from '@/api/material';\nimport { getUsersInfoByIds } from '@/api/account';\nimport ComponentPreviewDetail from './components/ComponentPreviewDetail.vue';\nimport ComponentEditDetail from './components/ComponentEditDetail.vue';\nimport MaterialCarousel from './components/MaterialCarousel.vue';\nimport TimeInfo from './components/TimeInfo.vue';\n\n\nexport default defineComponent({\n  name: 'MaterialInfo',\n  dialogify: {\n    props: {\n      top: '5vh',\n      width: '580px',\n      noPadding: true,\n      closeOnClickModal: false,\n    },\n    closeWith: 'material',\n  },\n  components: {\n    ComponentPreviewDetail,\n    ComponentEditDetail,\n    MaterialCarousel,\n    TimeInfo,\n  },\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    entryAppType: {\n      type: Number,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n    groupAppId: {\n      type: String,\n    },\n  },\n  setup(props, { root }) {\n    const { $set, $errHandler } = root;\n\n    const currentComponent = ref('ComponentPreviewDetail');\n    const saveBtnDisabled = ref(true);\n    const loading = ref(false);\n    const material = ref<any>(null);\n    const swipers = ref<any>([]);\n\n    // 获取轮播的需要的数据结构\n    function _getSwiperObj(mat: any) {\n      swipers.value = [];\n      // 获取三张合成图\n      // ['thumbnail', 'flat', 'toeThumbnail'].forEach(item => {\n      const imgArr = ['thumbnail', 'flat'];\n      if (mat.materialType === '6') {\n        imgArr.unshift('texture');\n      } else {\n        imgArr.push('texture');\n      }\n      imgArr.forEach(item => {\n        // @ts-ignore\n        const img = mat.imgJson[item];\n        if (img) swipers.value.push({ type: 'image', url: img, imageType: item });\n      });\n\n      if (!mat.assetsInfo) return swipers.value;\n      // 获取附件的材质图片\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.images.map(item => {\n        return { type: 'image', url: item };\n      }));\n\n      // 获取附件的视频\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.videos.map(item => {\n        return { type: 'video', url: item };\n      }));\n\n      //  获取附件的模型\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.models.map(item => {\n        return { type: 'model', url: item.cover, id: item.id };\n      }));\n      return swipers.value;\n    }\n\n    // 获取模型信息及捕获异常操作\n    async function getMaterialInfoById(id: string) {\n      try {\n        const materialOrigin = (\n          await getMaterialInfo(id, i18n.language, props.groupAppId)\n        ).data;\n        // 处理单位类型的数据类型 number 转为 string; (否则编辑页面的表单校验会提示转为字符串类型)\n        Object.keys(materialOrigin).forEach(key => {\n          if (materialOrigin[key] === null) materialOrigin[key] = '';\n          else if (typeof materialOrigin[key] === 'number') materialOrigin[key] = materialOrigin[key].toString();\n        });\n        material.value = materialOrigin;\n\n        // 根据用户id，获取用户信息\n        const username = (await getUsersInfoByIds([material.value?.creator])).data[0]?.name;\n        $set(material.value, 'creatorName', username);\n        _getSwiperObj(material.value);\n      } catch (err) {\n        $errHandler(err);\n      }\n    }\n\n    getMaterialInfoById(props.id);\n\n    return {\n      material, swipers, currentComponent, saveBtnDisabled, loading, getMaterialInfoById,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=abb8a52e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=abb8a52e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abb8a52e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=21179beb&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=style&index=0&id=7d61fe97&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"refsForm\",staticClass:\"flex-wrap upload-form\",staticStyle:{\"background-color\":\"#fff\"},attrs:{\"model\":_vm.newMaterial,\"rules\":_vm.rules,\"size\":\"small\"}},[(_vm.status === 'upload' && _vm.isQt())?_c('el-divider',{staticClass:\"divider\"}):_vm._e(),_c('el-form-item',{staticStyle:{\"width\":\"100%\",\"padding-right\":\"0\"},attrs:{\"label\":\"选择分类\",\"prop\":\"extraProperty.category\",\"required\":\"\"}},[_c('MaterialTypeCascade',{ref:\"typeCascade\",staticClass:\"fixed-width anta\",staticStyle:{\"width\":\"50%\",\"padding-right\":\"20px\"},attrs:{\"strictMode\":true,\"showClearable\":false,\"disabled\":_vm.status === 'edit'},on:{\"change\":function (ids, nodes) {\n          _vm.updateInfo('category', ids[ids.length - 1]);\n          _vm.categoryArr = nodes;\n        }},model:{value:(_vm.parentIds),callback:function ($$v) {_vm.parentIds=$$v},expression:\"parentIds\"}})],1),(_vm.parentIds.length)?_c('el-divider'):_vm._e(),_c('AntaMiddleClass2Form',{ref:\"templateForm\",staticClass:\"dynamic-form flex-wrap\",attrs:{\"jsonschemaListHander\":_vm.setJsonschemaFormItem,\"disabled\":!_vm.canEdit,\"size\":\"small\",\"validateDropdownItemImmediatly\":_vm.status === 'upload',\"middleClassId\":_vm.middleCategoryId || '',\"formData\":_vm.propertyFromTemplate}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export type PublicKey = Exclude<PropertyKey, symbol>;\n\n/**\n * parse a string to [[PublicKey]] array\n *\n * ```javascript\n *  parse('a[0].b[2]') // => ['a', 0, 'b', 2]\n * ```\n *\n * @param str the string you wanna parse\n */\nconst r = /(?=(?:\\[|\\.))/;\nexport function parse(str: string): PublicKey[] {\n  return str.split(r)\n    .filter(item => item.trim())\n    // eslint-disable-next-line no-nested-ternary\n    .map(item => (item[0] === '.' ? item.substr(1) : (item[0] === '[' ? +item.substr(1, item.length - 2) : item)));\n}\n\n\n/**\n * query the result from target by keys\n * @param target\n * @param keys\n * @param createdTarget if it's ```true```, this funciton will create object or array when necessary\n * ```javascript\n * const obj = { a: { b: [1, 2] } }\n * query(obj, 'a.b[0]') // => { target: [1, 2], key: 0, value: 1 }\n * ```\n * or with **createTarget** param\n * ```javascript\n * const obj = { }\n * query(obj, 'a.b[0]', true) => { target: [], key: 0, value: undefined }\n * ```\n *\n */\nexport function query(target: any, keys?: string | PublicKey[] | null, createdTarget = false) {\n  if (keys == null || keys === '') {\n    return { target, key: undefined, value: target };\n  }\n  if (typeof keys === 'string') {\n    keys = parse(keys) as PublicKey[];\n  } else {\n    keys = keys.slice() as PublicKey[];\n  }\n  let value = target;\n  let key: PublicKey;\n  if (!keys.length) {\n    return { target, value };\n  }\n  do {\n    target = value;\n    key = keys.shift()!;\n    if (target && !Object.prototype.hasOwnProperty.call(target, key) && createdTarget) {\n      if (typeof key === 'number') {\n        target[key] = [];\n      } else {\n        target[key] = {};\n      }\n    }\n    // this line may throw when target is undefined, and i do not need handle\n    value = target[key];\n  } while (keys.length);\n  return { target, key, value };\n}\n\n/**\n * deepin target, and set value of keys from target\n * @param target\n * @param keys\n * @param value\n *\n * ```javascript\n *\n * const obj = { a: { b: [1, 2] } }\n * query(obj, 'a.b[0]', 3)\n * obj.a.b[0] === 3 // => true\n *\n * ```\n */\nexport function set(target: object, keys: string | PublicKey[] | null, value: any, createdTarget = true): void {\n  const result = query(target, keys, createdTarget);\n  if (result.key) {\n    result.target[result.key] = value;\n  }\n}\n\n\nexport default set;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"season-select\"},[_c('el-select',_vm._b({directives:[{name:\"elSelectMiddle\",rawName:\"v-elSelectMiddle\"}],attrs:{\"filterable\":\"\",\"filter-method\":_vm.handlerFilter},on:{\"change\":_vm.handleChange,\"visible-change\":_vm.handleVisable},model:{value:(_vm.currentValue),callback:function ($$v) {_vm.currentValue=$$v},expression:\"currentValue\"}},'el-select',_vm.$attrs.attrs,false),_vm._l((_vm.options),function(ref){\nvar id = ref.id;\nvar value = ref.value;\nvar isDelete = ref.isDelete;\nreturn _c('el-option',{key:id,attrs:{\"disabled\":isDelete === 1,\"value\":id,\"label\":value}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { fetchAntaPropertyByCode } from '@/loaders/dictionary';\n\nexport type Obj = {\n  [key in string | number]: any;\n};\n\nexport interface ObjValue{\n  year: string,\n  season: 'Q1'|'Q2'|'Q3'|'Q4'|'',\n  品牌: string\n}\nexport type Value = ObjValue | null;\n\nexport interface Option{\n  id: string,\n  value:string,\n}\n\nexport type Options = Option[];\n\nexport const _map:Obj = {\n  0: 'year',\n  1: 'season',\n  2: '品牌',\n};\n\n\nconst getYears = () => {\n  const currentYear = 2020;\n  // const range = [-20, 50];\n  // const sortNums = [...Array(range[1] - range[0])].map((_, i) => range[0] + i).sort((a, b) => Math.abs(a) - Math.abs(b));\n  const afterYears = [...Array(51)].map((_, i) => currentYear + i);\n  const beforeYears = [...Array(20)].map((_, i) => currentYear - i - 1);\n  const years = [...afterYears, ...beforeYears].map(item => {\n    const value = `${item}`;\n    return {\n      id: value,\n      label: value,\n    };\n  });\n  return years;\n};\n\nconst getSeansons = () => [...Array(4)].map((_, i) => ({ id: `Q${i + 1}`, label: `Q${i + 1}` }));\n\nconst combine = (chunks:Obj[][]) => {\n  const result:any[] = [];\n\n  const helper = (i:number, prev:Obj[] = []) => {\n    if (i === chunks.length) {\n      result.push(prev);\n      return;\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of chunks[i]) {\n      helper(i + 1, [...prev, item]);\n    }\n  };\n\n  helper(0);\n\n  return result;\n};\n\nexport const getCombines = async () => {\n  const productTypes = await fetchAntaPropertyByCode('品牌');\n  const years = getYears();\n  const seasons = getSeansons();\n  let combines = combine([years, seasons, productTypes]);\n\n\n  combines = combines.map(_combine => {\n    const value = _combine.reduce((obj:Obj, cur:Obj, index:number) => {\n      const key = _map[index];\n      obj[key] = cur.id;\n      return obj;\n    }, {});\n\n    const id = JSON.stringify(value);\n    const label = _combine.map((item:Obj, i:number) => (_map[i] === 'year' ? +item.label.slice(2) : item.label)).join('');\n\n    return {\n      id,\n      value: label,\n    };\n  });\n\n  return combines;\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, toRefs, watch, onBeforeMount, markRaw, shallowReactive, getCurrentInstance,\n} from '@vue/composition-api';\nimport useClosest from '_/composables/use-closest';\nimport {\n  getCombines, Options, Value, ObjValue,\n} from './utils';\n\n\nlet allOptions: Options = [];\nlet prevOptions: Options = [];\nconst OPTIONS_LIMIT = 100;\n\n\nconst getFilterList = (lableStr: string = '') => {\n  const filters = allOptions.filter(item => item.value.includes(lableStr));\n  const slices = filters.slice(0, OPTIONS_LIMIT);\n  return slices;\n};\n\n// 初始化时的筛选逻辑\nconst getInitFilterList = (labelStr:string = '') => {\n  const index = allOptions.findIndex(item => item.value.includes(labelStr));\n  const slices = allOptions.slice(index, index + OPTIONS_LIMIT);\n  return slices;\n};\n\nexport default defineComponent({\n  name: 'season-select',\n  props: {\n    value: {\n      type: Object as () => Value,\n      requied: true,\n    },\n    productTypes: {\n      type: Array,\n    },\n  },\n  setup(props, { emit, refs }) {\n    const ElFormItem = useClosest('ElFormItem');\n    const emptyValue = null;\n    const state = shallowReactive({\n      currentValue: emptyValue as string | null,\n      options: markRaw([]) as Options,\n    });\n\n    const value2CurrenValue = (val?: Value) => {\n      const stringifyValue = (objVal: ObjValue) => {\n        const obj = {\n          year: objVal.year,\n          season: objVal.season,\n          品牌: objVal.品牌,\n        };\n        return JSON.stringify(obj);\n      };\n      state.currentValue = !val ? emptyValue : stringifyValue(val!);\n    };\n\n    const currentValue2Value = (val: string | null) => {\n      const value = !val ? emptyValue : JSON.parse(val);\n      emit('input', value);\n\n      // 解决校验时拿的是旧值的问题\n      return ElFormItem.value?.$emit('el.form.change');\n    };\n\n    const init = async () => {\n      allOptions = await getCombines();\n      // 初始加载时的options加载筛选逻辑，如果有值，默认以年份搜索\n      const initLableStr = props.value?.year?.slice(2, 4) || '';\n      state.options = getInitFilterList(initLableStr);\n      value2CurrenValue(props.value);\n    };\n\n    watch(() => props.value, val => {\n      value2CurrenValue(val);\n    });\n\n    watch(() => state.currentValue, val => {\n      currentValue2Value(val);\n    });\n\n    watch(() => props.productTypes, () => {\n      init();\n    }, {\n      immediate: true,\n    });\n\n\n    // onBeforeMount(() => {\n    //  init();\n    // });\n\n    const handlerFilter = (value: string) => {\n      state.options = getFilterList(value);\n    };\n\n    const handleChange = () => {\n      prevOptions = state.options;\n    };\n\n    const handleVisable = (isShow: boolean) => {\n      if (isShow) return;\n      if (!prevOptions?.length) return;\n      state.options = prevOptions;\n    };\n\n    return {\n      ...toRefs(state),\n      handlerFilter,\n      handleChange,\n      handleVisable,\n    };\n  },\n});\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5aa64bef&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5aa64bef&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aa64bef\",\n  null\n  \n)\n\nexport default component.exports","import { defineComponent } from '@vue/composition-api';\n// import NumberType from '@4dst-saas/form-utils/dist/components/jsonschema2form/NumberType';\nimport NumberType from '@4dst-saas/form-utils/dist/components/jsonschema2form/NumberType';\nimport isFilled from '@/utils/validators/is-filled';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\n\nconst PriceFormItem = defineComponent({\n  // model: {\n  //   prop: 'reference_price',\n  //   event: 'change',\n  // },\n  props: {\n    reference_price: {\n      type: Object as () => {\n        value: number, unit: number,\n      },\n      reuqired: true,\n      default: () => ({\n        value: null,\n        unit: 1,\n      }),\n    },\n  },\n\n  render() {\n    // const { $attrs: attrs } = this;\n    return <div class=\"flex\" style=\"width: 100%;\" >\n      <NumberType {...this.$attrs.attrs}\n        val={ this.reference_price.value }\n        rules={ this.$attrs.required ? validator2ElemRule(isFilled) : null}\n        onchange={(e: number) => {\n          this.reference_price.value = e;\n          // this.$set(this.reference_price, 'value', e);\n          // console.info(this.reference_price);\n          // this.$emit('change', this.reference_price);\n        }}\n      ></NumberType>\n      <el-select\n        disabled={this.$attrs.disabled}\n        size=\"small\"\n        style=\"width: 124px; margin-left: 6px\"\n        vModel={ this.reference_price.unit }\n        // value={ this.reference_price.unit }\n        // onchange={(e: number) => {\n        //   this.reference_price.unit = e;\n        //   this.$set(this.reference_price, 'unit', e);\n        //   console.info(this.reference_price);\n        //   // thi-s.$emit('change', this.reference_price);\n        // }}\n        >\n        <el-option value={1} label='人民币'></el-option>\n        <el-option value={2} label='美元'></el-option>\n      </el-select>\n    </div>;\n  },\n});\n\nexport default PriceFormItem;\n","\nimport { defineComponent, onMounted, ref } from '@vue/composition-api';\n// import axios from '@/utils/axios';\nimport { fetchSupplierAll } from '@/loaders/supplier';\n\nconst SupplierSelect = defineComponent({\n  name: 'SupplierSelect',\n  props: {\n    supplier_name: String,\n  },\n  model: {\n    prop: 'supplier_name',\n    event: 'change',\n  },\n  setup() {\n    const supplierList = ref([]);\n    onMounted(async () => {\n      supplierList.value = await fetchSupplierAll();\n    });\n    return {\n      supplierList,\n    };\n  },\n\n  render() {\n    return <el-select { ...{ attrs: this.$attrs.attrs } } value={this.supplier_name} onchange={ (e: string) => this.$emit('change', e) }>\n    {/* // return <el-select vModel={this.supplier_name} { ...this.$attrs.attrs }> */}\n      {this.supplierList.map((s: {id: string, name: string, originalSupplierName: string}) => {\n        return <el-option value={s.id} label={ s.originalSupplierName }></el-option>;\n      })}\n    </el-select>;\n  },\n});\n\nexport default SupplierSelect;\n","import axios from '@/utils/axios';\nimport {\n  attribute2JSONschema, IAttribute, jsonschema2FormItemValidatorObject,\n} from '@/components/anta-customer-files/attribute';\nimport useLoader from '_/composables/use-loader';\nimport extract from '_/extract';\nimport {\n  computed,\n  defineComponent, reactive, ref, toRefs,\n} from '@vue/composition-api';\nimport SeasonSelect from '@/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue';\nimport PriceFormItem from '@/views/material/info-anta/components/FormComponents/PriceFormItem';\nimport SupplierSelect from '@/views/material/info-anta/components/FormComponents/SupplierSelect';\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport Jsonschema2Form from '@4dst-saas/form-utils/dist/components/jsonschema2form';\nimport Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\nimport difference from '@4dst-saas/public-utils/dist/difference';\n\nexport default defineComponent({\n  name: 'AntaMiddleClass2Form',\n  components: {\n    SeasonSelect,\n    PriceFormItem,\n    SupplierSelect,\n    MaterialTypeCascade,\n  },\n  props: {\n    middleClassId: {\n      type: String, required: true,\n    },\n    formData: {\n      type: Object as () => { [key: string]: any },\n      default: () => {\n        return {\n        // eslint-disable-next-line quote-props\n          // '测试下拉': '1306902076941131778',\n        };\n      },\n    },\n    validateDropdownItemImmediatly: { type: Boolean, default: true },\n    jsonschemaListHander: {\n      type: Function as unknown as () => (jss: Jsonschema[]) => Jsonschema[],\n    },\n    showValidateButton: { type: Boolean, default: false },\n  },\n  render() {\n    if (!this.middleClassId || this.notHasTemplate) {\n      return <div></div>;\n    }\n    // if (!this.jsonschema) {\n    //   return <div vLoading={true} style={{\n    //     height: '300px', width: '100%',\n    //   }}></div>;\n    // }\n    // return <AnalysisWrapper jsonschema={this.jsonschema} formData={this.formData}\n    // form={this.formData}></AnalysisWrapper>;\n    const j2f = <Jsonschema2Form ref='formRef' jsonschema={this.jsonschema} {...{ attrs: this.$attrs }}\n      // formItemValidator={this.formItemValidator}\n      form={this.validateDropdownItemImmediatly ? this.formData : (this.form || this.formData)}\n      onchange={(v: any) => this.$emit('change', v)}\n      labelPosition='top' showValidateButton={this.showValidateButton}\n      ></Jsonschema2Form>;\n    const style = {\n      height: '200px',\n      width: '100%',\n    };\n    return this.jsonschema ? j2f : <div vLoading={true} style={style}>\n      <div vShow={false}>{j2f}</div>\n    </div>;\n  },\n  setup(props, { emit }) {\n    // let t1:any = null;\n    const propertylist = useLoader(async ({ middleClassId: id }) => {\n      if (!id) return null;\n      const r = (await axios({\n        url: '/anta-material/template/middle',\n        params: { id },\n        method: 'GET',\n      })).data as { propertyId?: string, sort: number, isSystem?: boolean, key: string, title: string, required: 0|1}[];\n      if (!r.length) emit('error', new Error('对应的中类没有模板，请更换一个有模板的中类'));\n      return r.sort((a, b) => a.sort - b.sort);\n      // return t1;\n    }, extract(toRefs(props), ['middleClassId']), {\n      initialValue: null,\n      loadingValue: (lastResult) => lastResult,\n    });\n\n    // let t2:any = null;\n    const jsonschema = useLoader(async ({ propertylist: pList }) => {\n      if (!pList || !pList.length) return null;\n\n      const list = await Promise.all(pList.map(async (propertyItem) => {\n        if (propertyItem.isSystem) {\n          return propertyItem;\n        }\n        return {\n          ...(await axios({\n            url: `/anta-material/dynamics/property/detail?id=${propertyItem.propertyId}`, method: 'GET',\n          })).data,\n          required: !!propertyItem.required,\n        } as IAttribute;\n      }));\n      let jssList = attribute2JSONschema(list) as Jsonschema[];\n\n      if (props.jsonschemaListHander) jssList = props.jsonschemaListHander(jssList);\n      // t2 = jssList;\n      return jssList;\n      // const res = JSONschemaList2JSONschema(jssList);\n      // return res;\n    }, reactive({ propertylist }), { initialValue: null, loadingValue: (lastResult) => lastResult });\n    const formRef = ref<InstanceType<typeof Jsonschema2Form>>();\n\n    // const formItemValidator = useLoader(({ jsonschema: _jss }) => {\n    //   if (!_jss) return null;\n    //   const res = jsonschema2FormItemValidatorObject(_jss);\n    //   // console.log(res, res['测试下拉']('6'));\n    //   return res;\n    // }, reactive({ jsonschema }));\n\n    const form = useLoader(async ({ jsonschema: _jss, formData: _form }) => {\n      if (!_jss || !Object.keys(_form).length) return _form;\n      // const properties = _jss.properties!;\n      // const propertiesKeys = Object.keys(properties);\n      const formKeys = Object.keys(_form);\n      const shouldHandleKeys = formKeys.filter(key => {\n        if (_jss.find(i => i.prop === key || i.title === key)) return true;\n        return false;\n      });\n      const shouldFetchList: {key: string, id: string}[] = [];\n      shouldHandleKeys.forEach(key => {\n        const jss = _jss.find(i => i.prop === key || i.title === key)!;\n        if (!jss.oneOf && !jss.anyOf) return;\n        const currentValue = _form[key]! as string | string[];\n        if (Array.isArray(currentValue)) {\n          const constList = jss.anyOf!.map(item => item.const) as unknown as {\n            label: string, value: string,\n          }[];\n          const notFounds = currentValue.filter(id => !constList.find(i => i.value === id));\n          if (notFounds.length) {\n            const founds = difference(currentValue, notFounds);\n            _form[key] = founds;\n            shouldFetchList.push(...notFounds.map(id => ({ id, key })));\n          }\n        } else {\n          const constList = jss.oneOf!.map(item => item.const) as unknown as {\n            label: string, value: string,\n          }[];\n          const target = constList.find(i => i.value === currentValue);\n          if (!target) shouldFetchList.push({ key, id: currentValue });\n        }\n      });\n      await Promise.all(shouldFetchList.map(async ({ key, id }) => {\n        const value = (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id },\n        })).data as string;\n        if (Array.isArray(_form[key])) {\n          _form[key].push(value);\n        } else {\n          _form[key] = value;\n        }\n      }));\n      return _form;\n    }, reactive({ jsonschema, ...extract(toRefs(props), ['formData']) }));\n\n    // watchEffect(async () => {\n    //   if (jsonschema.value) {\n    //     await delay(500);\n    //     Object.assign(form.value, { ...props.formData });\n    //     Object.assign(props.formData, form.value);\n    //   }\n    // });\n    async function validate() {\n      // 没有模板时，不用校验\n      if (!formRef.value) return true;\n      return formRef.value.validate();\n    }\n    return {\n      formRef,\n      jsonschema,\n      // formItemValidator,\n      notHasTemplate: computed(() => !!propertylist.value?.map(p => p.propertyId) && !propertylist.value?.map(p => p.propertyId).length),\n      form,\n      validate,\n    };\n  },\n});\n","import isFilled from '@/utils/validators/is-filled';\n// import strLength from '@/utils/validators/str-length';\n// import validPrice from '@/utils/validators/valid-price';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\n// import i18n from 'i18next';\n\nconst rules = {\n  extraProperty: {\n    category: validator2ElemRule(isFilled),\n  },\n};\nexport default rules;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, onMounted, provide, watch, computed, onBeforeUnmount, onUnmounted,\n} from '@vue/composition-api';\n\nimport axios from '@/utils/axios';\nimport set from '@/utils/key-serializer';\nimport isQt from '@/utils/is-qt';\n\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport { AntaMaterialInfo } from '@/models/AntaMaterialInfo';\nimport { fetchAntaPropertyByCode } from '@/loaders/dictionary';\nimport validateForm from '@/utils/validators/validate-form';\n\nimport { getCurrentCompany } from '@/loaders/company';\n\nimport AntaMiddleClass2Form from '@/components/dynamic-form/AntaMiddleClass2Form';\n\nimport DictionarySelectorNew from '@/components/dictionary/DictionarySelectorNew.vue';\n// import DictionarySelectorAnta from '@/components/dictionary/DictionarySelectorAnta.vue';\nimport { getHost, exec } from '@/utils/exec';\nimport { ElForm } from 'element-ui/types/form';\n// import ReferencePrice from './FormComponents/ReferencePrice';\nimport SeasonSelect from './FormComponents/SeasonSelect/index.vue';\nimport rules from './detail-validate';\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId: string, language = 'cn') => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n    },\n    params: { materialId },\n  });\n};\n\n// 类目详情\nexport const fetchMaterialDetail = async (id: string) => {\n  return (await axios({\n    method: 'get',\n    url: `/anta-material/category/detail?id=${id}`,\n  })).data;\n};\n\n// 类目详情\nexport const fetchDefaultUnitId = async (property: string) => {\n  return (await axios({\n    method: 'get',\n    url: '/anta-material/system/default/unit/category',\n    params: {\n      property,\n    },\n  })).data;\n};\n\n// 修改面料详情新增操作记录\nexport const addOperate = (groupAppId: string, data: { relateId: string, params: any }) => {\n  return axios({\n    headers: {\n      groupAppId,\n    },\n    method: 'post',\n    url: '/msgcenter/operate/add',\n    data,\n  });\n};\n\n// 获取全部供应商\nexport async function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nexport default defineComponent({\n  name: 'AntaMaterialForm',\n  components: {\n    // DictionarySelectorNew,\n    // DictionarySelectorAnta,\n    MaterialTypeCascade,\n    // ReferencePrice,\n    // SeasonSelect,\n    AntaMiddleClass2Form,\n  },\n  props: {\n    material: {\n      type: Object,\n      default: null,\n    },\n    status: {\n      type: String as () => 'upload' | 'edit' | 'convert',\n      default: 'edit',\n    },\n    templateMaterialId: {\n      type: String,\n      default: '',\n    },\n    isCreator: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  setup(props, { root }) {\n    const host = ref(null);\n\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n\n    // 表单ref\n    const templateForm = ref<InstanceType<typeof AntaMiddleClass2Form>>();\n    const refsForm = ref<InstanceType<typeof ElForm>>();\n    const typeCascade = ref<InstanceType<typeof MaterialTypeCascade>>();\n\n    // 自动表单数据\n    const propertyFromTemplate = ref<Partial<AntaMaterialInfo['extraProperty'] & { materialName: string }>>({});\n\n    // 是否创建者\n    // const isCreator = ref(false);\n\n    const canEdit = computed(() => {\n      return props.status === 'upload' || props.status === 'convert' || (props.status === 'edit' && props.isCreator);\n    });\n\n    provide('getStatus', props.status);\n\n    // 用于保存变更记录\n    const updateData = ref<{ [key: string]: any }[]>([{}, {}]);\n\n    // 获取全部供应商列表\n    const supplierList = ref<{ [key: string]: { companyId?: string, id: string, name: string, originalSupplierName: string } }>({});\n\n    // 用于对比哪些属性发生改变\n    const oldMaterial = ref<Partial<AntaMaterialInfo>>({});\n    const newMaterial = ref<AntaMaterialInfo>({\n      materialName: '',\n      extraProperty: {\n        category: '',\n        evergreen: 2,\n      },\n    });\n\n    // 获取分类信息\n    const parentIds = ref<string[]>([]);\n\n    // 中类ID\n    const middleCategoryId = computed(() => parentIds.value[1]);\n\n    // 类别节点数组\n    const categoryArr = ref<any[]>([]);\n\n    watch(() => categoryArr.value, async (v: any[]) => {\n      if ((props.status === 'upload' || props.status === 'convert')) {\n        const unit = await fetchDefaultUnitId(v[2].name);\n        if (!props.templateMaterialId) {\n          const companyId = await getCurrentCompany()?.id || '';\n          root.$set(propertyFromTemplate.value, '单位', unit);\n          root.$set(propertyFromTemplate.value, 'supplier_name', Object.values(supplierList.value).find((s) => s.companyId === companyId)?.id || '');\n          root.$set(propertyFromTemplate.value, 'reference_price', { value: null, unit: 1 });\n          root.$set(propertyFromTemplate.value, '品牌编码', (await fetchAntaPropertyByCode('品牌编码'))[0].id);\n        }\n      }\n    });\n\n    watch(() => templateForm.value?.jsonschema, async (val) => {\n      if (val) {\n        await root.$nextTick();\n        const form = refsForm.value?.$el as unknown as HTMLFormElement;\n\n        if (host.value) {\n          await exec('recvWebSizeChanged', {\n            width: form.offsetWidth,\n            height: form.offsetHeight,\n          });\n        }\n      }\n    });\n\n    // 处理jsonschema\n    function setJsonschemaFormItem(jss: any[]) {\n      jss.find(i => i.prop === 'materialName').maxLength = 512;\n      jss.find(i => i.prop === 'supplier_name').filterable = true;\n      if (props.status === 'edit') {\n        jss.find(i => i.title === '品牌编码').disabled = true;\n        jss.find(i => i.prop === 'season').disabled = true;\n        if (!props.material.extraProperty.season) {\n          jss.find(i => i.prop === 'season').required = false;\n        }\n        if (jss.find(i => i.prop === 'supplier_name')) {\n          jss.find(i => i.prop === 'supplier_name').disabled = true;\n        }\n      } else {\n        const materialNumberIndex = jss.findIndex(i => i.prop === 'material_number');\n        if (materialNumberIndex !== -1) {\n          jss.splice(materialNumberIndex, 1);\n        }\n      }\n\n      const categoryIndex = jss.findIndex(i => i.prop === 'category');\n      if (categoryIndex !== -1) {\n        jss.splice(categoryIndex, 1);\n      }\n      const costIndex = jss.findIndex(i => i.prop === 'cost');\n      if (costIndex !== -1) {\n        jss.splice(costIndex, 1);\n      }\n      if (isSupplier.value) {\n        const evergreenIndex = jss.findIndex(i => i.prop === 'evergreen');\n        if (evergreenIndex !== -1) {\n          jss.splice(evergreenIndex, 1);\n        }\n        if (jss.find(i => i.prop === 'supplier_name')) {\n          jss.find(i => i.prop === 'supplier_name').disabled = true;\n        }\n      }\n      return jss;\n    }\n\n    // 提交变更记录（外部调用）\n    async function addOperateToRecord(groupAppId = '') {\n      if (!groupAppId) return;\n\n      // 统计变更记录数量\n      let count = 0 as number;\n\n\n      const _propertyFromTemplate = JSON.parse(JSON.stringify(propertyFromTemplate.value));\n      const firstSupplier = {\n        reference_price_unit: _propertyFromTemplate.reference_price.unit,\n        reference_price_value: _propertyFromTemplate.reference_price.value,\n        cost_unit: 1,\n        cost_value: '',\n        supplier_name: _propertyFromTemplate.supplier_name,\n        delete_status: 0,\n        supplier_status: 1,\n      };\n\n      let _newMaterial = {\n        ...newMaterial.value,\n        materialName: _propertyFromTemplate.materialName,\n      } as Partial<AntaMaterialInfo>;\n\n      const omitList = ['materialName', 'reference_price', 'cost', 'supplier_name'];\n      omitList.forEach((i) => {\n        if (Object.hasOwnProperty.call(_propertyFromTemplate, i)) {\n          delete _propertyFromTemplate[i];\n        }\n      });\n\n      _newMaterial = {\n        ..._newMaterial,\n        extraProperty: {\n          ...newMaterial.value.extraProperty,\n          ..._propertyFromTemplate,\n          supplier_price_array: [\n            firstSupplier,\n            ...newMaterial.value.extraProperty.supplier_price_array!.slice(1),\n          ],\n        },\n      };\n      Object.keys(_newMaterial.extraProperty!).forEach((_p) => {\n        const p = _p as keyof AntaMaterialInfo['extraProperty'];\n        if ([\n          'material_status',\n          'cite_status',\n          'decline_reason',\n          'supplier_price_obj',\n          'decline_time',\n          'approve_detail',\n          'season',\n        ].find(i => i === p)) {\n          return;\n        }\n\n        if (p === 'supplier_price_array') {\n          _newMaterial.extraProperty!.supplier_price_array!.forEach((priceItem, i) => {\n            let diffPriceCount = 0;\n            Object.keys(priceItem).forEach(key => {\n              const oldPriceItem = oldMaterial.value.extraProperty!.supplier_price_array!;\n              if (priceItem[key as keyof typeof priceItem] !== oldPriceItem[i][key as keyof typeof priceItem]) {\n                diffPriceCount += 1;\n              }\n            });\n            if (diffPriceCount > 0) {\n              updateData.value[0][p] = _newMaterial.extraProperty![p];\n              updateData.value[1][p] = oldMaterial.value.extraProperty?.[p];\n              count += 1;\n            }\n          });\n        } else if (JSON.stringify(_newMaterial.extraProperty![p]) !== JSON.stringify(oldMaterial.value.extraProperty?.[p])\n          && (!!_newMaterial.extraProperty![p] || !!oldMaterial.value.extraProperty?.[p])) {\n          updateData.value[0][p] = _newMaterial.extraProperty![p];\n          updateData.value[1][p] = oldMaterial.value.extraProperty?.[p];\n          count += 1;\n        }\n      });\n\n      if (_newMaterial.materialName === oldMaterial.value.materialName && count === 0) {\n        return;\n      }\n\n      updateData.value[0].materialName = _newMaterial.materialName;\n      updateData.value[1].materialName = oldMaterial.value.materialName;\n\n      const relateId = _newMaterial.originalId;\n      if (relateId) {\n        await addOperate(groupAppId, {\n          relateId,\n          params: updateData.value,\n        });\n      }\n    }\n\n    // 修改鞋模型信息\n    function updateInfo(prop: string, value: unknown | number | string) {\n      if (typeof value === 'string') {\n        value = value.replace(/（/g, '(').replace(/）/g, ')');\n      }\n      if (prop === 'materialName') {\n        // set(updateObj.value, prop, value);\n        set(newMaterial.value, prop, value);\n      } else {\n        // 分类\n        // set(updateObj.value.extraProperty, prop, value);\n        set(newMaterial.value.extraProperty, prop, value);\n      }\n    }\n\n    // 检测表单是否通过校验,通过后返回表单数据（外部调用）\n    async function getFormData() {\n      await Promise.all([validateForm(refsForm.value!), templateForm.value?.validate()]);\n\n      let formMatarialData = {\n        materialName: propertyFromTemplate.value.materialName,\n      } as Partial<AntaMaterialInfo>;\n\n      const _propertyFromTemplate = JSON.parse(JSON.stringify(propertyFromTemplate.value));\n\n      const firstSupplier = {\n        reference_price_unit: _propertyFromTemplate.reference_price.unit,\n        reference_price_value: _propertyFromTemplate.reference_price.value,\n        cost_unit: 1,\n        cost_value: '',\n        supplier_name: _propertyFromTemplate.supplier_name,\n        delete_status: 0,\n        supplier_status: 1,\n      };\n\n      const omitList = ['materialName', 'reference_price', 'cost'];\n      omitList.forEach((i) => {\n        if (Object.hasOwnProperty.call(_propertyFromTemplate, i)) {\n          delete _propertyFromTemplate[i];\n        }\n      });\n\n\n      if (props.status === 'upload' || props.status === 'convert') {\n        // 获取大类中类名称\n        let bigType = '';\n        let midType = '';\n        if (categoryArr.value.length) {\n          bigType = categoryArr.value[0].name;\n          midType = categoryArr.value[1].name;\n        } else {\n          const checkedNodes = typeCascade.value?.getCheckedNodes();\n          bigType = checkedNodes[0].name;\n          midType = checkedNodes[1].name;\n        }\n        formMatarialData = {\n          ...formMatarialData,\n          businessType: 1,\n          extraProperty: {\n            ...newMaterial.value.extraProperty,\n            ..._propertyFromTemplate,\n            category: newMaterial.value.extraProperty.category,\n            supplier_price_array: [\n              firstSupplier,\n              // ...newMaterial.value.extraProperty.supplier_price_array.slice(1),\n            ],\n            大类: bigType,\n            中类: midType,\n            // material_number: materialNumber,\n          },\n        };\n      } else {\n        formMatarialData = {\n          ...formMatarialData,\n          businessType: 1,\n          extraProperty: {\n            ...newMaterial.value.extraProperty,\n            ..._propertyFromTemplate,\n            supplier_price_array: [\n              firstSupplier,\n              ...newMaterial.value.extraProperty.supplier_price_array!.slice(1),\n            ],\n          },\n        };\n      }\n\n      if (props.isCreator && props.status === 'edit') {\n        formMatarialData.extraProperty!.material_status = 1;\n      }\n\n      // 上传\n      if (props.status === 'upload' && isQt()) {\n        return {\n          success: true,\n          errorMsg: '',\n          material: formMatarialData,\n        };\n      }\n\n      if (props.templateMaterialId) {\n        const imgJson = {} as { [key: string]: string };\n        let renderingJson = {};\n        let fileInfo = '';\n        if (newMaterial.value.imgJson) {\n          Object.keys(newMaterial.value.imgJson).forEach((i) => {\n            imgJson[i] = newMaterial.value.imgJson![i].split('?')[0].split('/').splice(-2).join('/');\n          });\n        }\n        if (newMaterial.value.fileInfo) {\n          fileInfo = newMaterial.value.fileInfo.split('?')[0].split('/').splice(-2).join('/');\n        }\n        if (newMaterial.value.renderingJson) {\n          renderingJson = newMaterial.value.renderingJson;\n        }\n\n        formMatarialData = {\n          ...formMatarialData,\n          imgJson,\n          fileInfo,\n          renderingJson,\n        };\n      }\n      // debugger;\n\n      console.info(formMatarialData);\n\n      console.info(formMatarialData);\n\n      return formMatarialData;\n    }\n\n    onMounted(async () => {\n      // 上传\n      if (props.status === 'upload' && isQt()) {\n        host.value = await getHost();\n\n        if (host.value && root.$route.path.includes('/qt/upload/anta-material')) {\n          host.value!.on('requestAntaForm', async () => {\n            let formData = {};\n            if (templateForm.value?.notHasTemplate) {\n              formData = {\n                success: false,\n                errorMsg: '对应的分类没有模板，请更换一个有模板的分类',\n                material: null,\n              };\n            }\n            try {\n              formData = await getFormData();\n            } catch (e) {\n              formData = {\n                success: false,\n                errorMsg: '',\n                material: null,\n              };\n            }\n\n            await exec('recvAntaForm', formData);\n          });\n        }\n      }\n      window.onmousewheel = async (e) => {\n        if (isQt() && root.$route.path.includes('/qt/upload/anta-material')) {\n          if (e.target.className.includes('el-form-item') || e.target.className.includes('el-form')) {\n            await exec('onWebScrollValue', e.deltaY);\n          }\n        }\n      };\n\n      // 获取供应商信息\n      const temp = {} as { [x: string]: { id: string, name: string, originalSupplierName: string } };\n      (await fetchSupplierAll()).forEach((sup: { id: string, name: string, originalSupplierName: string }) => {\n        temp[`${sup.id}`] = sup;\n      });\n      supplierList.value = temp;\n\n      // 上传（非以此为模版）或转换、供应商\n      if (isSupplier.value && (props.status === 'upload' || props.status === 'convert') && !props.templateMaterialId) {\n        // const companyId = await getCurrentCompany()?.id || '';\n\n        // newMaterial.value.extraProperty.supplier_price_array[0].supplier_name = Object.values(supplierList.value)\n        //   .find((s) => s.companyId === companyId)?.id || '';\n\n        // propertyFromTemplate.value.supplier_name = Object.values(supplierList.value).find((s) => s.companyId === companyId)?.id || '';\n        // root.$set(propertyFromTemplate.value, 'reference_price', { value: null, unit: 1 });\n        // propertyFromTemplate.value.reference_price = { value: null, unit: 1 };\n\n        // propertyFromTemplate.value.品牌编码 = (await fetchAntaPropertyByCode('品牌编码'))[0].id;\n      }\n\n      // 以此为模版上传\n      if (props.templateMaterialId) {\n        const templateMaterial = (\n          await getMaterialInfo(props.templateMaterialId, 'cn')\n        ).data;\n\n        // $set(props, 'material', templateMaterial);\n        newMaterial.value = templateMaterial;\n\n        propertyFromTemplate.value = {\n          ...JSON.parse(JSON.stringify(newMaterial.value.extraProperty)),\n          materialName: newMaterial.value.materialName,\n          supplier_name: newMaterial.value.extraProperty.supplier_price_array![0].supplier_name,\n          reference_price: {\n            value: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_value,\n            unit: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_unit,\n          },\n          // cost: newMaterial.value.extraProperty.supplier_price_array![0].cost_value,\n        };\n      }\n\n      // 编辑\n      if (props.status === 'edit') {\n        //\n        if (props.material) {\n          newMaterial.value = props.material as AntaMaterialInfo;\n        }\n        propertyFromTemplate.value = {\n          ...JSON.parse(JSON.stringify(newMaterial.value.extraProperty)),\n          materialName: newMaterial.value.materialName,\n          supplier_name: newMaterial.value.extraProperty.supplier_price_array![0].supplier_name,\n          reference_price: {\n            value: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_value,\n            unit: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_unit,\n          },\n          // cost: newMaterial.value.extraProperty.supplier_price_array![0].cost_value,\n        };\n        oldMaterial.value = JSON.parse(JSON.stringify(newMaterial.value)) as AntaMaterialInfo;\n      }\n\n      // 如果有分类id\n      if (newMaterial.value.extraProperty.category) {\n        const res = await fetchMaterialDetail(newMaterial.value.extraProperty.category);\n        parentIds.value = [...res.parentIds.slice(), newMaterial.value.extraProperty.category];\n      }\n    });\n\n    onUnmounted(() => {\n      window.onmousewheel = null;\n    });\n    return {\n      isQt,\n      rules,\n      addOperateToRecord,\n      updateInfo,\n      parentIds,\n      getFormData,\n      middleCategoryId,\n      typeCascade,\n      propertyFromTemplate,\n      categoryArr,\n      supplierList,\n      refsForm,\n      templateForm,\n      newMaterial,\n      canEdit,\n      setJsonschemaFormItem,\n      isSupplier,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=553a3c7d&scoped=true&\"\nimport script from \"./Form.vue?vue&type=script&lang=ts&\"\nexport * from \"./Form.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&id=553a3c7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"553a3c7d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"display-mode-switcher\"},[_c('a',{class:_vm.value === 'drape' ? 'select': 'default',on:{\"click\":function (v) { return _vm.$emit('input','drape'); }}},[_c('i',{staticClass:\"iconfont icon-drape-o\"})]),_c('a',{class:_vm.value === 'drape' ? 'default': 'select',on:{\"click\":function (v) { return _vm.$emit('input','flat'); }}},[_c('i',{staticClass:\"iconfont icon-flat-o\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\n\nconst ViewTool = defineComponent({\n  props: {\n    value: {\n      type: String,\n      default: 'drape',\n    },\n  },\n  setup() {\n    return {};\n  },\n});\n// type ViewTool = InstanceType<typeof ViewTool>;\nexport default ViewTool;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DisplayModeSwitcher.vue?vue&type=template&id=bc80c954&scoped=true&\"\nimport script from \"./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"\nexport * from \"./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DisplayModeSwitcher.vue?vue&type=style&index=0&id=bc80c954&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc80c954\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=style&index=0&id=66bbc2ee&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticClass:\"decline-record-table\",attrs:{\"data\":_vm.declineRecord}},[_c('error',{staticClass:\"error-block\",staticStyle:{\"height\":\"150px\",\"font-size\":\"50%\"},attrs:{\"slot\":\"empty\",\"error\":{ code: 404, message: '暂无数据' }},slot:\"empty\"}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"驳回原因\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"gmtCreateTime\",\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"驳回时间\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm._f(\"date\")(row.gmtCreateTime,'YYYY-MM-DD HH:mm')))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"creator\",\"align\":\"center\",\"label\":\"驳回人\",\"show-overflow-tooltip\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, reactive,\n} from '@vue/composition-api';\n// import { getDeclineRecord } from '@/loaders/material-mangement';\nimport axios from '@/utils/axios';\nimport useLoader from '_/composables/use-loader';\n\nasync function getDeclineRecord(id: string) {\n  return (await axios({\n    method: 'GET',\n    url: '/anta-material/audit/decline',\n    params: {\n      materialId: id,\n    },\n  })).data;\n}\nasync function getUserInfo(ids: string[]) {\n  return (await axios({\n    method: 'POST',\n    url: '/authcenter/user/im/info',\n    data: ids,\n  })).data;\n}\n\nexport default defineComponent({\n  name: 'DeclineRecord',\n  dialogify: {\n    props: {\n      // title: '驳回原因',\n      width: '540px',\n      // closeOnClickModal: false,\n      showClose: true,\n      top: 'auto',\n      bottom: 'auto',\n      flex: 'column',\n      'custom-class': 'decline-record-dialog',\n    },\n  },\n  components: {\n  },\n  props: {\n    materialId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props, { emit }) {\n    const declineRecord = useLoader(async () => {\n      const records = await getDeclineRecord(props.materialId);\n      const userIds = Array.from(new Set(records.map(item => item.creator)));\n      if (userIds.length > 0) {\n        const userInfos = await getUserInfo(userIds);\n        records.forEach(rec => {\n          rec.creator = userInfos.find(user => user.id === rec.creator)?.name;\n        });\n        return records;\n      }\n      return [];\n    });\n    return {\n      declineRecord,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DeclineRecord.vue?vue&type=template&id=2a47bbd8&scoped=true&\"\nimport script from \"./DeclineRecord.vue?vue&type=script&lang=ts&\"\nexport * from \"./DeclineRecord.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DeclineRecord.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./DeclineRecord.vue?vue&type=style&index=1&id=2a47bbd8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a47bbd8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClothesDetail.vue?vue&type=style&index=0&id=6597be48&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=71a72956&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=style&index=0&id=2a271184&lang=scss&scoped=true&\"","\n\nimport {\n  defineComponent, reactive, ref, watch,\n} from '@vue/composition-api';\nimport DictSelectorNew from '@/components/dictionary/DictionarySelectorNew.vue';\nimport validateForm from '@/utils/validators/validate-form';\nimport { ElForm } from 'element-ui/types/form';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\n\nconst INNER_VALUE = Symbol('inner value');\n\ntype PriceData = {\n  startPrice: number | undefined,\n  endPrice: number | undefined,\n  unit: number | undefined,\n  [INNER_VALUE]?: boolean\n};\n\ntype InnerPriceData = {\n  startPrice: string,\n  endPrice: string,\n  unit: number | undefined,\n};\n\nconst rNumber = /^[\\d.]+$/;\nfunction isValidNumber(str: string) {\n  if (!str) return;\n  if (!rNumber.test(str) || str.split('').filter(item => item === '.').length > 1 || str.endsWith('.')) {\n    throw new Error('请输入合法的数字');\n  }\n}\n\nfunction data2InnerData(data: PriceData) {\n  return {\n    startPrice: `${data.startPrice ?? ''}`,\n    endPrice: `${data.endPrice ?? ''}`,\n    unit: data.unit,\n  };\n}\nfunction innerData2Data(data: InnerPriceData) {\n  const obj: any = {\n    unit: data.unit,\n    [INNER_VALUE]: true,\n  };\n  if (data.startPrice) {\n    obj.startPrice = +data.startPrice;\n  }\n  if (data.endPrice) {\n    obj.endPrice = +data.endPrice;\n  }\n  return obj;\n}\n\nconst rules = {\n  startPrice: validator2ElemRule(isValidNumber),\n  endPrice: validator2ElemRule(isValidNumber),\n};\n\nconst PriceForm = defineComponent({\n  setup(props, { emit }) {\n    const value_ = reactive<InnerPriceData>(data2InnerData(props.value));\n    const form = ref<ElForm>();\n    const submit = async () => {\n      if (!form.value) return;\n      if (!props.node.isAllRequired && !value_.startPrice && !value_.endPrice) throw new Error('价格区间不能为空');\n      if (props.node.isAllRequired && (!value_.startPrice || !value_.endPrice)) throw new Error('价格区间不能为空');\n      await validateForm(form.value);\n      emit('change', {\n        ...innerData2Data(value_),\n        [INNER_VALUE]: true,\n      });\n    };\n    watch(() => props.value, (_value: PriceData) => {\n      if (!_value[INNER_VALUE]) {\n        Object.assign(value_, data2InnerData(_value));\n      }\n    });\n    return {\n      submit,\n      form,\n      value_,\n    };\n  },\n  props: {\n    value: {\n      type: Object as () => PriceData,\n      default: () => ({\n        startPrice: undefined,\n        endPrice: undefined,\n        unit: 1,\n        [INNER_VALUE]: true,\n      }),\n    },\n    node: {\n      default: {},\n      type: Object as () => {\n        [key: string]: any\n      },\n    },\n  },\n  render() {\n    const self = this as InstanceType<typeof PriceForm>;\n    const { value_, submit } = self;\n    return <div class=\"price-form host\">\n      <el-form label-width=\"2em\" ref=\"form\" props={{ model: value_, rules }}>\n        <el-form-item label=\"从\" size=\"small\" placeholder=\"请输入价格\" prop=\"startPrice\">\n          <el-input vModel={value_.startPrice} />\n        </el-form-item>\n        <el-form-item label=\"到\" size=\"small\" placeholder=\"请输入价格\" prop=\"endPrice\">\n          <el-input vModel={value_.endPrice} />\n        </el-form-item>\n        <el-form-item size=\"small\">\n          <DictSelectorNew type=\"priceUnit\" vModel={value_.unit} />\n        </el-form-item>\n        <el-form-item size=\"small\">\n          <el-button round onClick={submit}>确定</el-button>\n        </el-form-item>\n      </el-form>\n    </div>;\n  },\n});\n\nexport default PriceForm;\n","var render, staticRenderFns\nimport script from \"./PriceForm.vue?vue&type=script&lang=tsx&\"\nexport * from \"./PriceForm.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./PriceForm.vue?vue&type=style&index=0&id=5924e2d1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5924e2d1\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceForm.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriceForm.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags-editor-wrapper\"},[_vm._l((_vm.tags),function(tag){return _c('el-tooltip',{key:tag.id || tag.tag,attrs:{\"effect\":\"dark\",\"content\":tag.tag}},[_c('el-tag',{staticClass:\"flex-center\",attrs:{\"closable\":_vm.editable,\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(tag.id)}}},[_c('span',{staticClass:\"text-one-line\",staticStyle:{\"max-width\":\"150px\",\"display\":\"inline-block\"}},[_vm._v(\" \"+_vm._s(tag.tag)+\" \")])])],1)}),(_vm.editable && _vm.tags.length < _vm.maxTagsLen)?[(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"mini\",\"maxlength\":_vm.maxlength},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('i',{staticClass:\"iconfont icon-add button-new-tag\",on:{\"click\":_vm.showInput}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\n// import axios from '../../../../api/axios';\nimport axios from '@/api/axios';\n\n/**\n * 新增标签\n * @param {Object} data { shareId: string, tags: string[], type: string, relateType: string, }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6116\n */\nexport const apiAddTags = (data: any) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/addTags',\n    data,\n  });\n};\n\n/**\n * 删除标签\n * @param {Array} tagIds { string[] }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6128\n */\nexport const apiRemoveTags = (tagIds: string[]) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/deleteTag',\n    data: tagIds,\n  });\n};\n\ninterface TagItem {\n  id: string,\n  tag: string,\n}\n\n// 此组件配合标签相关中台接口使用。用于标签新增、删除以及展示。\n// tags, shareId, type, relateType分别对应接口的参数，与标签的业务类型相关，不可不传\nexport default defineComponent({\n  name: 'TagsEditor',\n  props: {\n    // 标签数据\n    tags: {\n      type: Array as () => TagItem[],\n      default: () => [],\n    },\n    // 面料ID\n    shareId: {\n      type: String,\n      required: true,\n    },\n    // 所属类型  0:鞋款备注;1:面料备注;2：面料花纹;3:包包备注;4:服装备注\n    type: {\n      type: Number,\n      required: true,\n    },\n    // 类型：0鞋款 1面料 2二进制 3包包 4服装\n    relateType: {\n      type: Number,\n      required: true,\n    },\n\n    // 可编辑状态\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n    // 最多输入的字符长度\n    maxlength: {\n      type: Number,\n      default: 30,\n    },\n    // 最多输入的标签数\n    maxTagsLen: {\n      type: Number,\n      default: 10,\n    },\n  },\n  setup(props, { root: { $nextTick, $errHandler } }) {\n    const inputValue = ref('');\n    const inputVisible = ref(false);\n    const saveTagInput = ref(null);\n\n    // 显示输入框\n    async function showInput() {\n      inputVisible.value = true;\n      await $nextTick();\n      (saveTagInput.value as any).$refs.input.focus();\n    }\n\n    // 上传输入框的内容\n    async function handleInputConfirm() {\n      if (inputValue.value.trim()) {\n        const { data } = await apiAddTags({\n          shareId: props.shareId,\n          type: props.type,\n          tags: [inputValue.value],\n          relateType: props.relateType,\n        });\n        props.tags.push(...data as TagItem[]);\n      }\n      inputVisible.value = false;\n      inputValue.value = '';\n    }\n\n    // 处理关闭tag按钮\n    function handleClose(id: string) {\n      const i = ((props.tags) as TagItem[]).findIndex((tag: TagItem) => tag.id === id);\n      if (i !== -1) {\n        props.tags.splice(i, 1);\n        try {\n          apiRemoveTags([id]);\n        } catch (err) {\n          $errHandler(err);\n        }\n      }\n    }\n\n    return {\n      inputValue,\n      inputVisible,\n      saveTagInput,\n      showInput,\n      handleInputConfirm,\n      handleClose,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TagsEditor.vue?vue&type=template&id=1fe3eee9&scoped=true&\"\nimport script from \"./TagsEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./TagsEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TagsEditor.vue?vue&type=style&index=0&id=1fe3eee9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fe3eee9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watch } from '@vue/composition-api';\nimport i18n from 'i18next';\n\nimport { getCountryList, getDictionaryByTypeCode } from '@/api/dictionary';\n\nexport default defineComponent({\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler } }) {\n    const unit = ref('');\n\n    watch(() => props.value, async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          if (props.type === 'country') {\n            units = (await getCountryList()).data;\n            currentUnit = units.find(u => +u.id === +props.value);\n            // unit.value = currentUnit ? currentUnit.usName : '';\n            unit.value = currentUnit\n              ? (i18n.language === 'en' ? (currentUnit.usName || currentUnit.name) : (currentUnit.name || currentUnit.usName))\n              : '';\n          } else {\n            units = (\n              await getDictionaryByTypeCode(props.type, i18n.language)\n            ).data;\n            currentUnit = units.find(u => +u.itemValue === +props.value);\n            unit.value = currentUnit ? currentUnit.label : '';\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    }, {\n      immediate: true,\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=8f26f40a&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=8f26f40a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f26f40a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=style&index=0&id=411b2de4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"material-color-picker\"},_vm._l((_vm.colors),function(color){return _c('li',{key:color.name,style:({ marginTop: _vm.mode === 'tooltip' ? '10px' : 0 })},[(_vm.mode === 'tooltip')?[_c('el-tooltip',{attrs:{\"content\":_vm.$i18n.i18next.language === 'en' ? color.name : color.cnName}},[_c('i',{staticClass:\"color-demo\",class:{ active: color.active, white: color.name === 'White' },style:({ backgroundColor: color.heximal }),on:{\"click\":function($event){return _vm.changeActiveStatus(color.name)}}})])]:[_c('i',{staticClass:\"color-demo\",class:{ active: color.active, white: color.name === 'White' },style:({ backgroundColor: color.heximal }),on:{\"click\":function($event){return _vm.changeActiveStatus(color.name)}}}),_c('p',{staticClass:\"color-name\"},[_vm._v(_vm._s(_vm.$i18n.i18next.language === \"en\" ? color.name : color.cnName))])]],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, onMounted, ref } from '@vue/composition-api';\nimport { materialColorPicker } from '@/views/material/form-related.js';\n\nexport default defineComponent({\n  name: 'MaterialColorPicker',\n  props: {\n    mode: {\n      type: String,\n      default: '',\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, { emit }) {\n    const colors = ref(materialColorPicker);\n\n    // 选择不同颜色时，把当前选择的颜色 emit 到父组件\n    function changeActiveStatus(colorName: string, emitable = true) {\n      if (props.disabled) return;\n      // colors.forEach(color => {\n      //   if (color.name === colorName) {\n      //     color.active = true;\n      //     if (emitable) emit('change', colorName, color, colors);\n      //   } else {\n      //     color.active = false;\n      //   }\n      // });\n      const colorItem = colors.value.find(color => color.name === colorName);\n      if (colorItem) {\n        colorItem.active = !colorItem.active;\n        if (emitable) {\n          const colorValue = colors.value.filter(color => color.active).map(color => color.name).join(',');\n          emit('change', colorValue, colorItem, colors.value);\n        }\n      }\n    }\n    // 初始化颜色状态\n    function initActiveStatus(colorFamily: string) {\n      colorFamily.split(',').forEach(color => {\n        changeActiveStatus(color, false);\n      });\n    }\n\n    onMounted(() => initActiveStatus(props.value));\n\n    return {\n      colors,\n      changeActiveStatus,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorPicker.vue?vue&type=template&id=29d46fb1&scoped=true&\"\nimport script from \"./ColorPicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorPicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorPicker.vue?vue&type=style&index=0&id=29d46fb1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29d46fb1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogAndSearch.vue?vue&type=style&index=0&id=23c16655&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialPanel.vue?vue&type=style&index=0&id=6c381d66&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2879bb3d&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=style&index=0&id=24588fb5&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&id=553a3c7d&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoEdit.vue?vue&type=style&index=0&id=30d5e630&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubMaterialPanel.vue?vue&type=style&index=0&id=1d67aa36&lang=scss&scoped=true&\"","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useClosest = useClosest;\nexports.default = void 0;\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nvar _vueClosest = require(\"../plugins/vue-closest\");\n\n// import { InstanceOfVue } from '@/typings/vue-types.d';\nfunction useClosest(componentName) {\n  var that = (0, _compositionApi.getCurrentInstance)();\n  return (0, _compositionApi.computed)(function () {\n    if (!that) {\n      return undefined;\n    }\n\n    return _vueClosest.closest.call(that, componentName);\n  });\n}\n\nvar _default = useClosest;\nexports.default = _default;","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6d552865&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCard.vue?vue&type=style&index=0&lang=scss&\"","!function(A,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vueTagsInput=t():A.vueTagsInput=t()}(window,function(){return function(A){var t={};function e(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return A[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=A,e.c=t,e.d=function(A,t,n){e.o(A,t)||Object.defineProperty(A,t,{enumerable:!0,get:n})},e.r=function(A){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(A,\"__esModule\",{value:!0})},e.t=function(A,t){if(1&t&&(A=e(A)),8&t)return A;if(4&t&&\"object\"==typeof A&&A&&A.__esModule)return A;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:A}),2&t&&\"string\"!=typeof A)for(var i in A)e.d(n,i,function(t){return A[t]}.bind(null,i));return n},e.n=function(A){var t=A&&A.__esModule?function(){return A.default}:function(){return A};return e.d(t,\"a\",t),t},e.o=function(A,t){return Object.prototype.hasOwnProperty.call(A,t)},e.p=\"/dist/\",e(e.s=6)}([function(A,t,e){var n=e(8);\"string\"==typeof n&&(n=[[A.i,n,\"\"]]),n.locals&&(A.exports=n.locals);(0,e(4).default)(\"7ec05f6c\",n,!1,{})},function(A,t,e){var n=e(10);\"string\"==typeof n&&(n=[[A.i,n,\"\"]]),n.locals&&(A.exports=n.locals);(0,e(4).default)(\"3453d19d\",n,!1,{})},function(A,t,e){\"use strict\";A.exports=function(A){var t=[];return t.toString=function(){return this.map(function(t){var e=function(A,t){var e=A[1]||\"\",n=A[3];if(!n)return e;if(t&&\"function\"==typeof btoa){var i=(r=n,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\"),a=n.sources.map(function(A){return\"/*# sourceURL=\"+n.sourceRoot+A+\" */\"});return[e].concat(a).concat([i]).join(\"\\n\")}var r;return[e].join(\"\\n\")}(t,A);return t[2]?\"@media \"+t[2]+\"{\"+e+\"}\":e}).join(\"\")},t.i=function(A,e){\"string\"==typeof A&&(A=[[null,A,\"\"]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(n[a]=!0)}for(i=0;i<A.length;i++){var r=A[i];null!=r[0]&&n[r[0]]||(e&&!r[2]?r[2]=e:e&&(r[2]=\"(\"+r[2]+\") and (\"+e+\")\"),t.push(r))}},t}},function(A,t){A.exports=\"data:application/vnd.ms-fontobject;base64,aAUAAMQEAAABAAIAAAAAAAAAAAAAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAUdPJHwAAAAAAAAAAAAAAAAAAAAAAAA4AaQBjAG8AbQBvAG8AbgAAAA4AUgBlAGcAdQBsAGEAcgAAABYAVgBlAHIAcwBpAG8AbgAgADEALgAwAAAADgBpAGMAbwBtAG8AbwBuAAAAAAAAAQAAAAsAgAADADBPUy8yDxIFrAAAALwAAABgY21hcBdW0okAAAEcAAAAVGdhc3AAAAAQAAABcAAAAAhnbHlmpZ+jMAAAAXgAAAD8aGVhZA/FmAgAAAJ0AAAANmhoZWEHgAPIAAACrAAAACRobXR4EgABvgAAAtAAAAAcbG9jYQCSAOIAAALsAAAAEG1heHAACQAfAAAC/AAAACBuYW1lmUoJ+wAAAxwAAAGGcG9zdAADAAAAAASkAAAAIAADA4ABkAAFAAACmQLMAAAAjwKZAswAAAHrADMBCQAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOkCA8D/wABAA8AAQAAAAAEAAAAAAAAAAAAAACAAAAAAAAMAAAADAAAAHAABAAMAAAAcAAMAAQAAABwABAA4AAAACgAIAAIAAgABACDpAv/9//8AAAAAACDpAP/9//8AAf/jFwQAAwABAAAAAAAAAAAAAAABAAH//wAPAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAVgEBA74CgQAcAAABMhceARcWFwcmJy4BJyYjIgYHFyERFzY3PgE3NgIWSkNDbykpF2QQIB9VMzQ5P3AtnP6AmB0iIkspKAJVFxhSODlCIDMrKz4REislmgGAmhkVFBwICAABANYAgQMqAtUACwAAAQcXBycHJzcnNxc3Ayru7jzu7jzu7jzu7gKZ7u487u487u487u4AAQCSAIEDgAK9AAUAACUBFwEnNwGAAcQ8/gDuPPkBxDz+AO48AAAAAAEAAAAAAAAfydNRXw889QALBAAAAAAA1nUqGwAAAADWdSobAAAAAAO+AtUAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA74AAQAAAAAAAAAAAAAAAAAAAAcEAAAAAAAAAAAAAAACAAAABAAAVgQAANYEAACSAAAAAAAKABQAHgBQAGoAfgABAAAABwAdAAEAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"},function(A,t,e){\"use strict\";function n(A,t){for(var e=[],n={},i=0;i<t.length;i++){var a=t[i],r=a[0],o={id:A+\":\"+i,css:a[1],media:a[2],sourceMap:a[3]};n[r]?n[r].parts.push(o):e.push(n[r]={id:r,parts:[o]})}return e}e.r(t),e.d(t,\"default\",function(){return g});var i=\"undefined\"!=typeof document;if(\"undefined\"!=typeof DEBUG&&DEBUG&&!i)throw new Error(\"vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\");var a={},r=i&&(document.head||document.getElementsByTagName(\"head\")[0]),o=null,s=0,u=!1,c=function(){},d=null,l=\"data-vue-ssr-id\",p=\"undefined\"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function g(A,t,e,i){u=e,d=i||{};var r=n(A,t);return f(r),function(t){for(var e=[],i=0;i<r.length;i++){var o=r[i];(s=a[o.id]).refs--,e.push(s)}t?f(r=n(A,t)):r=[];for(i=0;i<e.length;i++){var s;if(0===(s=e[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}}function f(A){for(var t=0;t<A.length;t++){var e=A[t],n=a[e.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](e.parts[i]);for(;i<e.parts.length;i++)n.parts.push(v(e.parts[i]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var r=[];for(i=0;i<e.parts.length;i++)r.push(v(e.parts[i]));a[e.id]={id:e.id,refs:1,parts:r}}}}function B(){var A=document.createElement(\"style\");return A.type=\"text/css\",r.appendChild(A),A}function v(A){var t,e,n=document.querySelector(\"style[\"+l+'~=\"'+A.id+'\"]');if(n){if(u)return c;n.parentNode.removeChild(n)}if(p){var i=s++;n=o||(o=B()),t=C.bind(null,n,i,!1),e=C.bind(null,n,i,!0)}else n=B(),t=function(A,t){var e=t.css,n=t.media,i=t.sourceMap;n&&A.setAttribute(\"media\",n);d.ssrId&&A.setAttribute(l,t.id);i&&(e+=\"\\n/*# sourceURL=\"+i.sources[0]+\" */\",e+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");if(A.styleSheet)A.styleSheet.cssText=e;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(e))}}.bind(null,n),e=function(){n.parentNode.removeChild(n)};return t(A),function(n){if(n){if(n.css===A.css&&n.media===A.media&&n.sourceMap===A.sourceMap)return;t(A=n)}else e()}}var m,h=(m=[],function(A,t){return m[A]=t,m.filter(Boolean).join(\"\\n\")});function C(A,t,e,n){var i=e?\"\":n.css;if(A.styleSheet)A.styleSheet.cssText=h(t,i);else{var a=document.createTextNode(i),r=A.childNodes;r[t]&&A.removeChild(r[t]),r.length?A.insertBefore(a,r[t]):A.appendChild(a)}}},function(A,t,e){\"use strict\";var n=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;A.exports=function A(t,e){if(t===e)return!0;if(t&&e&&\"object\"==typeof t&&\"object\"==typeof e){var r,o,s,u=n(t),c=n(e);if(u&&c){if((o=t.length)!=e.length)return!1;for(r=o;0!=r--;)if(!A(t[r],e[r]))return!1;return!0}if(u!=c)return!1;var d=t instanceof Date,l=e instanceof Date;if(d!=l)return!1;if(d&&l)return t.getTime()==e.getTime();var p=t instanceof RegExp,g=e instanceof RegExp;if(p!=g)return!1;if(p&&g)return t.toString()==e.toString();var f=i(t);if((o=f.length)!==i(e).length)return!1;for(r=o;0!=r--;)if(!a.call(e,f[r]))return!1;for(r=o;0!=r--;)if(!A(t[s=f[r]],e[s]))return!1;return!0}return t!=t&&e!=e}},function(A,t,e){A.exports=e(14)},function(A,t,e){\"use strict\";var n=e(0);e.n(n).a},function(A,t,e){(A.exports=e(2)(!0)).push([A.i,\".ti-tag-input[data-v-108f4f13] {\\n  background-color: transparent;\\n  color: inherit;\\n  border: none;\\n  padding: 0px;\\n  margin: 0px;\\n  display: flex;\\n  top: 0px;\\n  position: absolute;\\n  width: 100%;\\n  line-height: inherit;\\n}\\n.ti-tag-input[data-v-108f4f13]::-ms-clear {\\n  display: none;\\n}\\ninput[data-v-108f4f13]:focus {\\n  outline: none;\\n}\\ninput[disabled][data-v-108f4f13] {\\n  background-color: transparent;\\n}\\n\",\"\",{version:3,sources:[\"C:/Users/johan/dev/vue-tags-input/vue-tags-input/C:/Users/johan/dev/vue-tags-input/vue-tags-input/tag-input.vue\"],names:[],mappings:\"AAAA;EACE,8BAA8B;EAC9B,eAAe;EACf,aAAa;EACb,aAAa;EACb,YAAY;EACZ,cAAc;EACd,SAAS;EACT,mBAAmB;EACnB,YAAY;EACZ,qBAAqB;CAAE;AAEzB;EACE,cAAc;CAAE;AAElB;EACE,cAAc;CAAE;AAElB;EACE,8BAA8B;CAAE\",file:\"tag-input.vue?vue&type=style&index=0&id=108f4f13&lang=css&scoped=true&\",sourcesContent:[\".ti-tag-input {\\n  background-color: transparent;\\n  color: inherit;\\n  border: none;\\n  padding: 0px;\\n  margin: 0px;\\n  display: flex;\\n  top: 0px;\\n  position: absolute;\\n  width: 100%;\\n  line-height: inherit; }\\n\\n.ti-tag-input::-ms-clear {\\n  display: none; }\\n\\ninput:focus {\\n  outline: none; }\\n\\ninput[disabled] {\\n  background-color: transparent; }\\n\"],sourceRoot:\"\"}])},function(A,t,e){\"use strict\";var n=e(1);e.n(n).a},function(A,t,e){t=A.exports=e(2)(!0);var n=e(11),i=n(e(3)),a=n(e(3)+\"#iefix\"),r=n(e(12)),o=n(e(13));t.push([A.i,\"@font-face {\\n  font-family: 'icomoon';\\n  src: url(\"+i+\");\\n  src: url(\"+a+') format(\"embedded-opentype\"), url('+r+') format(\"truetype\"), url('+o+') format(\"woff\");\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n[class^=\"ti-icon-\"][data-v-61d92e31], [class*=\" ti-icon-\"][data-v-61d92e31] {\\n  font-family: \\'icomoon\\' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.ti-icon-check[data-v-61d92e31]:before {\\n  content: \"\\\\e902\";\\n}\\n.ti-icon-close[data-v-61d92e31]:before {\\n  content: \"\\\\e901\";\\n}\\n.ti-icon-undo[data-v-61d92e31]:before {\\n  content: \"\\\\e900\";\\n}\\nul[data-v-61d92e31] {\\n  margin: 0px;\\n  padding: 0px;\\n  list-style-type: none;\\n}\\n*[data-v-61d92e31], *[data-v-61d92e31]:before, *[data-v-61d92e31]:after {\\n  box-sizing: border-box;\\n}\\ninput[data-v-61d92e31]:focus {\\n  outline: none;\\n}\\ninput[disabled][data-v-61d92e31] {\\n  background-color: transparent;\\n}\\n.vue-tags-input[data-v-61d92e31] {\\n  max-width: 450px;\\n  position: relative;\\n  background-color: #fff;\\n}\\ndiv.vue-tags-input.disabled[data-v-61d92e31] {\\n  opacity: 0.5;\\n}\\ndiv.vue-tags-input.disabled *[data-v-61d92e31] {\\n    cursor: default;\\n}\\n.ti-input[data-v-61d92e31] {\\n  border: 1px solid #ccc;\\n  display: flex;\\n  padding: 4px;\\n  flex-wrap: wrap;\\n}\\n.ti-tags[data-v-61d92e31] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 100%;\\n  line-height: 1em;\\n}\\n.ti-tag[data-v-61d92e31] {\\n  background-color: #5C6BC0;\\n  color: #fff;\\n  border-radius: 2px;\\n  display: flex;\\n  padding: 3px 5px;\\n  margin: 2px;\\n  font-size: .85em;\\n}\\n.ti-tag[data-v-61d92e31]:focus {\\n    outline: none;\\n}\\n.ti-tag .ti-content[data-v-61d92e31] {\\n    display: flex;\\n    align-items: center;\\n}\\n.ti-tag .ti-tag-center[data-v-61d92e31] {\\n    position: relative;\\n}\\n.ti-tag span[data-v-61d92e31] {\\n    line-height: .85em;\\n}\\n.ti-tag span.ti-hidden[data-v-61d92e31] {\\n    padding-left: 14px;\\n    visibility: hidden;\\n    height: 0px;\\n    white-space: pre;\\n}\\n.ti-tag .ti-actions[data-v-61d92e31] {\\n    margin-left: 2px;\\n    display: flex;\\n    align-items: center;\\n    font-size: 1.15em;\\n}\\n.ti-tag .ti-actions i[data-v-61d92e31] {\\n      cursor: pointer;\\n}\\n.ti-tag[data-v-61d92e31]:last-child {\\n    margin-right: 4px;\\n}\\n.ti-tag.ti-invalid[data-v-61d92e31], .ti-tag.ti-tag.ti-deletion-mark[data-v-61d92e31] {\\n    background-color: #e54d42;\\n}\\n.ti-new-tag-input-wrapper[data-v-61d92e31] {\\n  display: flex;\\n  flex: 1 0 auto;\\n  padding: 3px 5px;\\n  margin: 2px;\\n  font-size: .85em;\\n}\\n.ti-new-tag-input-wrapper input[data-v-61d92e31] {\\n    flex: 1 0 auto;\\n    min-width: 100px;\\n    border: none;\\n    padding: 0px;\\n    margin: 0px;\\n}\\n.ti-new-tag-input[data-v-61d92e31] {\\n  line-height: initial;\\n}\\n.ti-autocomplete[data-v-61d92e31] {\\n  border: 1px solid #ccc;\\n  border-top: none;\\n  position: absolute;\\n  width: 100%;\\n  background-color: #fff;\\n  z-index: 20;\\n}\\n.ti-item > div[data-v-61d92e31] {\\n  cursor: pointer;\\n  padding: 3px 6px;\\n  width: 100%;\\n}\\n.ti-selected-item[data-v-61d92e31] {\\n  background-color: #5C6BC0;\\n  color: #fff;\\n}\\n',\"\",{version:3,sources:[\"C:/Users/johan/dev/vue-tags-input/vue-tags-input/C:/Users/johan/dev/vue-tags-input/vue-tags-input/vue-tags-input.scss\"],names:[],mappings:\"AAAA;EACE,uBAAuB;EACvB,mCAA8C;EAC9C,+JAAuM;EACvM,oBAAoB;EACpB,mBAAmB;CAAE;AAEvB;EACE,kCAAkC;EAClC,YAAY;EACZ,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,qBAAqB;EACrB,eAAe;EACf,oCAAoC;EACpC,mCAAmC;CAAE;AAEvC;EACE,iBAAiB;CAAE;AAErB;EACE,iBAAiB;CAAE;AAErB;EACE,iBAAiB;CAAE;AAErB;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;CAAE;AAE1B;EACE,uBAAuB;CAAE;AAE3B;EACE,cAAc;CAAE;AAElB;EACE,8BAA8B;CAAE;AAElC;EACE,iBAAiB;EACjB,mBAAmB;EACnB,uBAAuB;CAAE;AAE3B;EACE,aAAa;CAAE;AACf;IACE,gBAAgB;CAAE;AAEtB;EACE,uBAAuB;EACvB,cAAc;EACd,aAAa;EACb,gBAAgB;CAAE;AAEpB;EACE,cAAc;EACd,gBAAgB;EAChB,YAAY;EACZ,iBAAiB;CAAE;AAErB;EACE,0BAA0B;EAC1B,YAAY;EACZ,mBAAmB;EACnB,cAAc;EACd,iBAAiB;EACjB,YAAY;EACZ,iBAAiB;CAAE;AACnB;IACE,cAAc;CAAE;AAClB;IACE,cAAc;IACd,oBAAoB;CAAE;AACxB;IACE,mBAAmB;CAAE;AACvB;IACE,mBAAmB;CAAE;AACvB;IACE,mBAAmB;IACnB,mBAAmB;IACnB,YAAY;IACZ,iBAAiB;CAAE;AACrB;IACE,iBAAiB;IACjB,cAAc;IACd,oBAAoB;IACpB,kBAAkB;CAAE;AACpB;MACE,gBAAgB;CAAE;AACtB;IACE,kBAAkB;CAAE;AACtB;IACE,0BAA0B;CAAE;AAEhC;EACE,cAAc;EACd,eAAe;EACf,iBAAiB;EACjB,YAAY;EACZ,iBAAiB;CAAE;AACnB;IACE,eAAe;IACf,iBAAiB;IACjB,aAAa;IACb,aAAa;IACb,YAAY;CAAE;AAElB;EACE,qBAAqB;CAAE;AAEzB;EACE,uBAAuB;EACvB,iBAAiB;EACjB,mBAAmB;EACnB,YAAY;EACZ,uBAAuB;EACvB,YAAY;CAAE;AAEhB;EACE,gBAAgB;EAChB,iBAAiB;EACjB,YAAY;CAAE;AAEhB;EACE,0BAA0B;EAC1B,YAAY;CAAE\",file:\"vue-tags-input.scss?vue&type=style&index=0&id=61d92e31&lang=scss&scoped=true&\",sourcesContent:['@font-face {\\n  font-family: \\'icomoon\\';\\n  src: url(\"./assets/fonts/icomoon.eot?7grlse\");\\n  src: url(\"./assets/fonts/icomoon.eot?7grlse#iefix\") format(\"embedded-opentype\"), url(\"./assets/fonts/icomoon.ttf?7grlse\") format(\"truetype\"), url(\"./assets/fonts/icomoon.woff?7grlse\") format(\"woff\");\\n  font-weight: normal;\\n  font-style: normal; }\\n\\n[class^=\"ti-icon-\"], [class*=\" ti-icon-\"] {\\n  font-family: \\'icomoon\\' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale; }\\n\\n.ti-icon-check:before {\\n  content: \"\\\\e902\"; }\\n\\n.ti-icon-close:before {\\n  content: \"\\\\e901\"; }\\n\\n.ti-icon-undo:before {\\n  content: \"\\\\e900\"; }\\n\\nul {\\n  margin: 0px;\\n  padding: 0px;\\n  list-style-type: none; }\\n\\n*, *:before, *:after {\\n  box-sizing: border-box; }\\n\\ninput:focus {\\n  outline: none; }\\n\\ninput[disabled] {\\n  background-color: transparent; }\\n\\n.vue-tags-input {\\n  max-width: 450px;\\n  position: relative;\\n  background-color: #fff; }\\n\\ndiv.vue-tags-input.disabled {\\n  opacity: 0.5; }\\n  div.vue-tags-input.disabled * {\\n    cursor: default; }\\n\\n.ti-input {\\n  border: 1px solid #ccc;\\n  display: flex;\\n  padding: 4px;\\n  flex-wrap: wrap; }\\n\\n.ti-tags {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 100%;\\n  line-height: 1em; }\\n\\n.ti-tag {\\n  background-color: #5C6BC0;\\n  color: #fff;\\n  border-radius: 2px;\\n  display: flex;\\n  padding: 3px 5px;\\n  margin: 2px;\\n  font-size: .85em; }\\n  .ti-tag:focus {\\n    outline: none; }\\n  .ti-tag .ti-content {\\n    display: flex;\\n    align-items: center; }\\n  .ti-tag .ti-tag-center {\\n    position: relative; }\\n  .ti-tag span {\\n    line-height: .85em; }\\n  .ti-tag span.ti-hidden {\\n    padding-left: 14px;\\n    visibility: hidden;\\n    height: 0px;\\n    white-space: pre; }\\n  .ti-tag .ti-actions {\\n    margin-left: 2px;\\n    display: flex;\\n    align-items: center;\\n    font-size: 1.15em; }\\n    .ti-tag .ti-actions i {\\n      cursor: pointer; }\\n  .ti-tag:last-child {\\n    margin-right: 4px; }\\n  .ti-tag.ti-invalid, .ti-tag.ti-tag.ti-deletion-mark {\\n    background-color: #e54d42; }\\n\\n.ti-new-tag-input-wrapper {\\n  display: flex;\\n  flex: 1 0 auto;\\n  padding: 3px 5px;\\n  margin: 2px;\\n  font-size: .85em; }\\n  .ti-new-tag-input-wrapper input {\\n    flex: 1 0 auto;\\n    min-width: 100px;\\n    border: none;\\n    padding: 0px;\\n    margin: 0px; }\\n\\n.ti-new-tag-input {\\n  line-height: initial; }\\n\\n.ti-autocomplete {\\n  border: 1px solid #ccc;\\n  border-top: none;\\n  position: absolute;\\n  width: 100%;\\n  background-color: #fff;\\n  z-index: 20; }\\n\\n.ti-item > div {\\n  cursor: pointer;\\n  padding: 3px 6px;\\n  width: 100%; }\\n\\n.ti-selected-item {\\n  background-color: #5C6BC0;\\n  color: #fff; }\\n'],sourceRoot:\"\"}])},function(A,t,e){\"use strict\";A.exports=function(A){return\"string\"!=typeof A?A:(/^['\"].*['\"]$/.test(A)&&(A=A.slice(1,-1)),/[\"'() \\t\\n]/.test(A)?'\"'+A.replace(/\"/g,'\\\\\"').replace(/\\n/g,\"\\\\n\")+'\"':A)}},function(A,t){A.exports=\"data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBawAAAC8AAAAYGNtYXAXVtKJAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZqWfozAAAAF4AAAA/GhlYWQPxZgIAAACdAAAADZoaGVhB4ADyAAAAqwAAAAkaG10eBIAAb4AAALQAAAAHGxvY2EAkgDiAAAC7AAAABBtYXhwAAkAHwAAAvwAAAAgbmFtZZlKCfsAAAMcAAABhnBvc3QAAwAAAAAEpAAAACAAAwOAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpAgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6QL//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAFYBAQO+AoEAHAAAATIXHgEXFhcHJicuAScmIyIGBxchERc2Nz4BNzYCFkpDQ28pKRdkECAfVTM0OT9wLZz+gJgdIiJLKSgCVRcYUjg5QiAzKys+ERIrJZoBgJoZFRQcCAgAAQDWAIEDKgLVAAsAAAEHFwcnByc3JzcXNwMq7u487u487u487u4Cme7uPO7uPO7uPO7uAAEAkgCBA4ACvQAFAAAlARcBJzcBgAHEPP4A7jz5AcQ8/gDuPAAAAAABAAAAAAAAH8nTUV8PPPUACwQAAAAAANZ1KhsAAAAA1nUqGwAAAAADvgLVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAO+AAEAAAAAAAAAAAAAAAAAAAAHBAAAAAAAAAAAAAAAAgAAAAQAAFYEAADWBAAAkgAAAAAACgAUAB4AUABqAH4AAQAAAAcAHQABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\"},function(A,t){A.exports=\"data:font/woff;base64,d09GRgABAAAAAAUQAAsAAAAABMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIFrGNtYXAAAAFoAAAAVAAAAFQXVtKJZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAPwAAAD8pZ+jMGhlYWQAAALAAAAANgAAADYPxZgIaGhlYQAAAvgAAAAkAAAAJAeAA8hobXR4AAADHAAAABwAAAAcEgABvmxvY2EAAAM4AAAAEAAAABAAkgDibWF4cAAAA0gAAAAgAAAAIAAJAB9uYW1lAAADaAAAAYYAAAGGmUoJ+3Bvc3QAAATwAAAAIAAAACAAAwAAAAMDgAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkC//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQBWAQEDvgKBABwAAAEyFx4BFxYXByYnLgEnJiMiBgcXIREXNjc+ATc2AhZKQ0NvKSkXZBAgH1UzNDk/cC2c/oCYHSIiSykoAlUXGFI4OUIgMysrPhESKyWaAYCaGRUUHAgIAAEA1gCBAyoC1QALAAABBxcHJwcnNyc3FzcDKu7uPO7uPO7uPO7uApnu7jzu7jzu7jzu7gABAJIAgQOAAr0ABQAAJQEXASc3AYABxDz+AO48+QHEPP4A7jwAAAAAAQAAAAAAAB/J01FfDzz1AAsEAAAAAADWdSobAAAAANZ1KhsAAAAAA74C1QAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAADvgABAAAAAAAAAAAAAAAAAAAABwQAAAAAAAAAAAAAAAIAAAAEAABWBAAA1gQAAJIAAAAAAAoAFAAeAFAAagB+AAEAAAAHAB0AAQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"},function(A,t,e){\"use strict\";e.r(t);var n=function(){var A=this,t=A.$createElement,e=A._self._c||t;return e(\"div\",{staticClass:\"vue-tags-input\",class:[{\"ti-disabled\":A.disabled},{\"ti-focus\":A.focused}]},[e(\"div\",{staticClass:\"ti-input\"},[A.tagsCopy?e(\"ul\",{staticClass:\"ti-tags\"},[A._l(A.tagsCopy,function(t,n){return e(\"li\",{key:n,staticClass:\"ti-tag\",class:[{\"ti-editing\":A.tagsEditStatus[n]},t.tiClasses,t.classes,{\"ti-deletion-mark\":A.isMarked(n)}],style:t.style,attrs:{tabindex:\"0\"},on:{click:function(e){return A.$emit(\"tag-clicked\",{tag:t,index:n})}}},[e(\"div\",{staticClass:\"ti-content\"},[A.$scopedSlots[\"tag-left\"]?e(\"div\",{staticClass:\"ti-tag-left\"},[A._t(\"tag-left\",null,{tag:t,index:n,edit:A.tagsEditStatus[n],performSaveEdit:A.performSaveTag,performDelete:A.performDeleteTag,performCancelEdit:A.cancelEdit,performOpenEdit:A.performEditTag,deletionMark:A.isMarked(n)})],2):A._e(),A._v(\" \"),e(\"div\",{ref:\"tagCenter\",refInFor:!0,staticClass:\"ti-tag-center\"},[A.$scopedSlots[\"tag-center\"]?A._e():e(\"span\",{class:{\"ti-hidden\":A.tagsEditStatus[n]},on:{click:function(t){return A.performEditTag(n)}}},[A._v(A._s(t.text))]),A._v(\" \"),A.$scopedSlots[\"tag-center\"]?A._e():e(\"tag-input\",{attrs:{scope:{edit:A.tagsEditStatus[n],maxlength:A.maxlength,tag:t,index:n,validateTag:A.createChangedTag,performCancelEdit:A.cancelEdit,performSaveEdit:A.performSaveTag}}}),A._v(\" \"),A._t(\"tag-center\",null,{tag:t,index:n,maxlength:A.maxlength,edit:A.tagsEditStatus[n],performSaveEdit:A.performSaveTag,performDelete:A.performDeleteTag,performCancelEdit:A.cancelEdit,validateTag:A.createChangedTag,performOpenEdit:A.performEditTag,deletionMark:A.isMarked(n)})],2),A._v(\" \"),A.$scopedSlots[\"tag-right\"]?e(\"div\",{staticClass:\"ti-tag-right\"},[A._t(\"tag-right\",null,{tag:t,index:n,edit:A.tagsEditStatus[n],performSaveEdit:A.performSaveTag,performDelete:A.performDeleteTag,performCancelEdit:A.cancelEdit,performOpenEdit:A.performEditTag,deletionMark:A.isMarked(n)})],2):A._e()]),A._v(\" \"),e(\"div\",{staticClass:\"ti-actions\"},[A.$scopedSlots[\"tag-actions\"]?A._e():e(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:A.tagsEditStatus[n],expression:\"tagsEditStatus[index]\"}],staticClass:\"ti-icon-undo\",on:{click:function(t){return A.cancelEdit(n)}}}),A._v(\" \"),A.$scopedSlots[\"tag-actions\"]?A._e():e(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:!A.tagsEditStatus[n],expression:\"!tagsEditStatus[index]\"}],staticClass:\"ti-icon-close\",on:{click:function(t){return A.performDeleteTag(n)}}}),A._v(\" \"),A.$scopedSlots[\"tag-actions\"]?A._t(\"tag-actions\",null,{tag:t,index:n,edit:A.tagsEditStatus[n],performSaveEdit:A.performSaveTag,performDelete:A.performDeleteTag,performCancelEdit:A.cancelEdit,performOpenEdit:A.performEditTag,deletionMark:A.isMarked(n)}):A._e()],2)])}),A._v(\" \"),e(\"li\",{staticClass:\"ti-new-tag-input-wrapper\"},[e(\"input\",A._b({ref:\"newTagInput\",staticClass:\"ti-new-tag-input\",class:[A.createClasses(A.newTag,A.tags,A.validation,A.isDuplicate)],attrs:{placeholder:A.placeholder,maxlength:A.maxlength,disabled:A.disabled,type:\"text\",size:\"1\"},domProps:{value:A.newTag},on:{keydown:[function(t){return A.performAddTags(A.filteredAutocompleteItems[A.selectedItem]||A.newTag,t)},function(t){return t.type.indexOf(\"key\")||8===t.keyCode?A.invokeDelete(t):null},function(t){return t.type.indexOf(\"key\")||9===t.keyCode?A.performBlur(t):null},function(t){return t.type.indexOf(\"key\")||38===t.keyCode?A.selectItem(t,\"before\"):null},function(t){return t.type.indexOf(\"key\")||40===t.keyCode?A.selectItem(t,\"after\"):null}],paste:A.addTagsFromPaste,input:A.updateNewTag,blur:function(t){return A.$emit(\"blur\",t)},focus:function(t){A.focused=!0,A.$emit(\"focus\",t)},click:function(t){!A.addOnlyFromAutocomplete&&(A.selectedItem=null)}}},\"input\",A.$attrs,!1))])],2):A._e()]),A._v(\" \"),A._t(\"between-elements\"),A._v(\" \"),A.autocompleteOpen?e(\"div\",{staticClass:\"ti-autocomplete\",on:{mouseout:function(t){A.selectedItem=null}}},[A._t(\"autocomplete-header\"),A._v(\" \"),e(\"ul\",A._l(A.filteredAutocompleteItems,function(t,n){return e(\"li\",{key:n,staticClass:\"ti-item\",class:[t.tiClasses,t.classes,{\"ti-selected-item\":A.isSelected(n)}],style:t.style,on:{mouseover:function(t){!A.disabled&&(A.selectedItem=n)}}},[A.$scopedSlots[\"autocomplete-item\"]?A._t(\"autocomplete-item\",null,{item:t,index:n,performAdd:function(t){return A.performAddTags(t,void 0,\"autocomplete\")},selected:A.isSelected(n)}):e(\"div\",{on:{click:function(e){return A.performAddTags(t,void 0,\"autocomplete\")}}},[A._v(\"\\n          \"+A._s(t.text)+\"\\n        \")])],2)}),0),A._v(\" \"),A._t(\"autocomplete-footer\")],2):A._e()],2)};n._withStripped=!0;var i=e(5),a=e.n(i),r=function(A){return JSON.parse(JSON.stringify(A))},o=function(A,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;void 0===A.text&&(A={text:A});var i=function(A,t){return t.filter(function(t){var e=A.text;return\"string\"==typeof t.rule?!new RegExp(t.rule).test(e):t.rule instanceof RegExp?!t.rule.test(e):\"[object Function]\"==={}.toString.call(t.rule)?t.rule(A):void 0}).map(function(A){return A.classes})}(A,e),a=function(A,t){for(var e=0;e<A.length;){if(t(A[e],e,A))return e;e++}return-1}(t,function(t){return t===A}),o=r(t),s=-1!==a?o.splice(a,1)[0]:r(A);return(n?n(o,s):-1!==o.map(function(A){return A.text}).indexOf(s.text))&&i.push(\"ti-duplicate\"),0===i.length?i.push(\"ti-valid\"):i.push(\"ti-invalid\"),i},s=function(A){void 0===A.text&&(A={text:A});for(var t=r(A),e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.tiClasses=o.apply(void 0,[A].concat(n)),t},u=function(A){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return A.map(function(t){return s.apply(void 0,[t,A].concat(e))})},c=function(){var A=this,t=A.$createElement,e=A._self._c||t;return A.scope.edit?e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:A.scope.tag.text,expression:\"scope.tag.text\"}],staticClass:\"ti-tag-input\",attrs:{maxlength:A.scope.maxlength,type:\"text\",size:\"1\"},domProps:{value:A.scope.tag.text},on:{input:[function(t){t.target.composing||A.$set(A.scope.tag,\"text\",t.target.value)},function(t){return A.scope.validateTag(A.scope.index,t)}],blur:function(t){return A.scope.performCancelEdit(A.scope.index)},keydown:function(t){return A.scope.performSaveEdit(A.scope.index,t)}}}):A._e()};c._withStripped=!0;var d={name:\"TagInput\",props:{scope:{type:Object}}};e(7);function l(A,t,e,n,i,a,r,o){var s,u=\"function\"==typeof A?A.options:A;if(t&&(u.render=t,u.staticRenderFns=e,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId=\"data-v-\"+a),r?(s=function(A){(A=A||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(A=__VUE_SSR_CONTEXT__),i&&i.call(this,A),A&&A._registeredComponents&&A._registeredComponents.add(r)},u._ssrRegister=s):i&&(s=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(u.functional){u._injectStyles=s;var c=u.render;u.render=function(A,t){return s.call(t),c(A,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,s):[s]}return{exports:A,options:u}}var p=l(d,c,[],!1,null,\"108f4f13\",null);p.options.__file=\"vue-tags-input/tag-input.vue\";var g=p.exports,f=function(A){return!A.some(function(A){var t=!A.text;t&&console.warn('Missing property \"text\"',A);var e=!1;return A.classes&&(e=\"string\"!=typeof A.classes),e&&console.warn('Property \"classes\" must be type of string',A),t||e})},B=function(A){return!A.some(function(A){if(\"number\"==typeof A){var t=isFinite(A)&&Math.floor(A)===A;return t||console.warn(\"Only numerics are allowed for this prop. Found:\",A),!t}if(\"string\"==typeof A){var e=/\\W|[a-z]|!\\d/i.test(A);return e||console.warn(\"Only alpha strings are allowed for this prop. Found:\",A),!e}return console.warn(\"Only numeric and string values are allowed. Found:\",A),!1})},v={value:{type:String,default:\"\",required:!0},tags:{type:Array,default:function(){return[]},validator:f},autocompleteItems:{type:Array,default:function(){return[]},validator:f},allowEditTags:{type:Boolean,default:!1},autocompleteFilterDuplicates:{default:!0,type:Boolean},addOnlyFromAutocomplete:{type:Boolean,default:!1},autocompleteMinLength:{type:Number,default:1},autocompleteAlwaysOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:\"Add Tag\"},addOnKey:{type:Array,default:function(){return[13]},validator:B},saveOnKey:{type:Array,default:function(){return[13]},validator:B},maxTags:{type:Number},maxlength:{type:Number},validation:{type:Array,default:function(){return[]},validator:function(A){return!A.some(function(A){var t=!A.rule;t&&console.warn('Property \"rule\" is missing',A);var e=A.rule&&(\"string\"==typeof A.rule||A.rule instanceof RegExp||\"[object Function]\"==={}.toString.call(A.rule));e||console.warn(\"A rule must be type of string, RegExp or function. Found:\",JSON.stringify(A.rule));var n=!A.classes;n&&console.warn('Property \"classes\" is missing',A);var i=A.type&&\"string\"!=typeof A.type;return i&&console.warn('Property \"type\" must be type of string. Found:',A),!e||t||n||i})}},separators:{type:Array,default:function(){return[\";\"]},validator:function(A){return!A.some(function(A){var t=\"string\"!=typeof A;return t&&console.warn(\"Separators must be type of string. Found:\",A),t})}},avoidAddingDuplicates:{type:Boolean,default:!0},addOnBlur:{type:Boolean,default:!0},isDuplicate:{type:Function,default:null},addFromPaste:{type:Boolean,default:!0},deleteOnBackspace:{default:!0,type:Boolean}};function m(A){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&\"function\"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?\"symbol\":typeof A})(A)}var h={name:\"VueTagsInput\",components:{TagInput:g},props:v,data:function(){return{newTag:null,tagsCopy:null,tagsEditStatus:null,deletionMark:null,deletionMarkTime:null,selectedItem:null,focused:null}},computed:{autocompleteOpen:function(){return!!this.autocompleteAlwaysOpen||null!==this.newTag&&this.newTag.length>=this.autocompleteMinLength&&this.filteredAutocompleteItems.length>0&&this.focused},filteredAutocompleteItems:function(){var A=this,t=this.autocompleteItems.map(function(t){return s(t,A.tags,A.validation,A.isDuplicate)});return this.autocompleteFilterDuplicates?t.filter(this.duplicateFilter):t}},methods:{createClasses:o,getSelectedIndex:function(A){var t=this.filteredAutocompleteItems,e=this.selectedItem,n=t.length-1;if(0!==t.length)return null===e?0:\"before\"===A&&0===e?n:\"after\"===A&&e===n?0:\"after\"===A?e+1:e-1},selectDefaultItem:function(){this.addOnlyFromAutocomplete&&this.filteredAutocompleteItems.length>0?this.selectedItem=0:this.selectedItem=null},selectItem:function(A,t){A.preventDefault(),this.selectedItem=this.getSelectedIndex(t)},isSelected:function(A){return this.selectedItem===A},isMarked:function(A){return this.deletionMark===A},invokeDelete:function(){var A=this;if(this.deleteOnBackspace&&!(this.newTag.length>0)){var t=this.tagsCopy.length-1;null===this.deletionMark?(this.deletionMarkTime=setTimeout(function(){return A.deletionMark=null},1e3),this.deletionMark=t):this.performDeleteTag(t)}},addTagsFromPaste:function(){var A=this;this.addFromPaste&&setTimeout(function(){return A.performAddTags(A.newTag)},10)},performEditTag:function(A){var t=this;this.allowEditTags&&(this._events[\"before-editing-tag\"]||this.editTag(A),this.$emit(\"before-editing-tag\",{index:A,tag:this.tagsCopy[A],editTag:function(){return t.editTag(A)}}))},editTag:function(A){this.allowEditTags&&(this.toggleEditMode(A),this.focus(A))},toggleEditMode:function(A){this.allowEditTags&&!this.disabled&&this.$set(this.tagsEditStatus,A,!this.tagsEditStatus[A])},createChangedTag:function(A,t){var e=this.tagsCopy[A];e.text=t?t.target.value:this.tagsCopy[A].text,this.$set(this.tagsCopy,A,s(e,this.tagsCopy,this.validation,this.isDuplicate))},focus:function(A){var t=this;this.$nextTick(function(){var e=t.$refs.tagCenter[A].querySelector(\"input.ti-tag-input\");e&&e.focus()})},quote:function(A){return A.replace(/([()[{*+.$^\\\\|?])/g,\"\\\\$1\")},cancelEdit:function(A){this.tags[A]&&(this.tagsCopy[A]=r(s(this.tags[A],this.tags,this.validation,this.isDuplicate)),this.$set(this.tagsEditStatus,A,!1))},hasForbiddingAddRule:function(A){var t=this;return A.some(function(A){var e=t.validation.find(function(t){return A===t.classes});return!!e&&e.disableAdd})},createTagTexts:function(A){var t=this,e=new RegExp(this.separators.map(function(A){return t.quote(A)}).join(\"|\"));return A.split(e).map(function(A){return{text:A}})},performDeleteTag:function(A){var t=this;this._events[\"before-deleting-tag\"]||this.deleteTag(A),this.$emit(\"before-deleting-tag\",{index:A,tag:this.tagsCopy[A],deleteTag:function(){return t.deleteTag(A)}})},deleteTag:function(A){this.disabled||(this.deletionMark=null,clearTimeout(this.deletionMarkTime),this.tagsCopy.splice(A,1),this._events[\"update:tags\"]&&this.$emit(\"update:tags\",this.tagsCopy),this.$emit(\"tags-changed\",this.tagsCopy))},noTriggerKey:function(A,t){var e=-1!==this[t].indexOf(A.keyCode)||-1!==this[t].indexOf(A.key);return e&&A.preventDefault(),!e},performAddTags:function(A,t,e){var n=this;if(!(this.disabled||t&&this.noTriggerKey(t,\"addOnKey\"))){var i=[];\"object\"===m(A)&&(i=[A]),\"string\"==typeof A&&(i=this.createTagTexts(A)),(i=i.filter(function(A){return A.text.trim().length>0})).forEach(function(A){A=s(A,n.tags,n.validation,n.isDuplicate),n._events[\"before-adding-tag\"]||n.addTag(A,e),n.$emit(\"before-adding-tag\",{tag:A,addTag:function(){return n.addTag(A,e)}})})}},duplicateFilter:function(A){return this.isDuplicate?!this.isDuplicate(this.tagsCopy,A):!this.tagsCopy.find(function(t){return t.text===A.text})},addTag:function(A){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"new-tag-input\",n=this.filteredAutocompleteItems.map(function(A){return A.text});this.addOnlyFromAutocomplete&&-1===n.indexOf(A.text)||this.$nextTick(function(){return t.maxTags&&t.maxTags<=t.tagsCopy.length?t.$emit(\"max-tags-reached\",A):t.avoidAddingDuplicates&&!t.duplicateFilter(A)?t.$emit(\"adding-duplicate\",A):void(t.hasForbiddingAddRule(A.tiClasses)||(t.$emit(\"input\",\"\"),t.tagsCopy.push(A),t._events[\"update:tags\"]&&t.$emit(\"update:tags\",t.tagsCopy),\"autocomplete\"===e&&t.$refs.newTagInput.focus(),t.$emit(\"tags-changed\",t.tagsCopy)))})},performSaveTag:function(A,t){var e=this,n=this.tagsCopy[A];this.disabled||t&&this.noTriggerKey(t,\"addOnKey\")||0!==n.text.trim().length&&(this._events[\"before-saving-tag\"]||this.saveTag(A,n),this.$emit(\"before-saving-tag\",{index:A,tag:n,saveTag:function(){return e.saveTag(A,n)}}))},saveTag:function(A,t){if(this.avoidAddingDuplicates){var e=r(this.tagsCopy),n=e.splice(A,1)[0];if(this.isDuplicate?this.isDuplicate(e,n):-1!==e.map(function(A){return A.text}).indexOf(n.text))return this.$emit(\"saving-duplicate\",t)}this.hasForbiddingAddRule(t.tiClasses)||(this.$set(this.tagsCopy,A,t),this.toggleEditMode(A),this._events[\"update:tags\"]&&this.$emit(\"update:tags\",this.tagsCopy),this.$emit(\"tags-changed\",this.tagsCopy))},tagsEqual:function(){var A=this;return!this.tagsCopy.some(function(t,e){return!a()(t,A.tags[e])})},updateNewTag:function(A){var t=A.target.value;this.newTag=t,this.$emit(\"input\",t)},initTags:function(){this.tagsCopy=u(this.tags,this.validation,this.isDuplicate),this.tagsEditStatus=r(this.tags).map(function(){return!1}),this._events[\"update:tags\"]&&!this.tagsEqual()&&this.$emit(\"update:tags\",this.tagsCopy)},blurredOnClick:function(A){this.$el.contains(A.target)||this.$el.contains(document.activeElement)||this.performBlur(A)},performBlur:function(){this.addOnBlur&&this.focused&&this.performAddTags(this.newTag),this.focused=!1}},watch:{value:function(A){this.addOnlyFromAutocomplete||(this.selectedItem=null),this.newTag=A},tags:{handler:function(){this.initTags()},deep:!0},autocompleteOpen:\"selectDefaultItem\"},created:function(){this.newTag=this.value,this.initTags()},mounted:function(){this.selectDefaultItem(),document.addEventListener(\"click\",this.blurredOnClick)},destroyed:function(){document.removeEventListener(\"click\",this.blurredOnClick)}},C=(e(9),l(h,n,[],!1,null,\"61d92e31\",null));C.options.__file=\"vue-tags-input/vue-tags-input.vue\";var E=C.exports;e.d(t,\"VueTagsInput\",function(){return E}),e.d(t,\"createClasses\",function(){return o}),e.d(t,\"createTag\",function(){return s}),e.d(t,\"createTags\",function(){return u}),e.d(t,\"TagInput\",function(){return g}),E.install=function(A){return A.component(E.name,E)},\"undefined\"!=typeof window&&window.Vue&&window.Vue.use(E);t.default=E}])});\n//# sourceMappingURL=vue-tags-input.js.map","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=style&index=0&id=abd58ba8&lang=scss&scoped=true&\"","\n\n// 在一定区域内，禁止浏览器的的拖拽默认行为\nexport const blockDragEffect = (DOM) => {\n  const dropzoneId = 'dropzone';\n\n  function loopAncestorNode(dom, id, n) {\n    let result = false;\n    let counter = 0;\n    let currentNode = dom;\n\n    while (counter < n) {\n      counter++;\n      // 如果是上一个节点为空时，跳出循环\n      if (!currentNode) break;\n\n      // 当父节点的ID为拖动区域时，返回ture\n      if (currentNode.id === id) {\n        result = true;\n        break;\n      } else {\n        currentNode = currentNode.parentElement;\n      }\n    }\n    return result;\n  }\n\n  function attachEvent(e) {\n    const draggable = loopAncestorNode(e.target, dropzoneId, 10);\n    if (!draggable) {\n      e.preventDefault();\n      e.dataTransfer.effectAllowed = 'none';\n      e.dataTransfer.dropEffect = 'none';\n    }\n  }\n\n  DOM.addEventListener('dragenter', attachEvent, false);\n  DOM.addEventListener('dragover', attachEvent, false);\n  DOM.addEventListener('drop', attachEvent, false);\n};\nexport default {};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=63cee7fb&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.itemValue,attrs:{\"label\":item.label,\"value\":item.itemValue}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { getDictionaryByTypeCode } from '@/api/dictionary';\n// import * as DictionaryCache from '@/views/material/cache-dictionary';\n\ntype dictionaryUnit = {\n  itemValue: number| string,\n  label: string,\n};\n\nexport default {\n  name: 'DictionarySelector',\n  model: {\n    event: 'change',\n    prop: 'value',\n  },\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: 1,\n    },\n    // 字典类型\n    type: {\n      type: String,\n      required: true,\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    valueType: {\n      type: String as () => 'number'| 'string',\n      default: 'number',\n    },\n  },\n  data() {\n    return {\n      selectedValue: '',\n      options: [] as dictionaryUnit[],\n    };\n  },\n  async created() {\n    try {\n      this.options = (await getDictionaryByTypeCode(\n        this.type,\n        i18n.language,\n      )).data;\n\n      if (this.valueType === 'string') {\n        this.options.forEach(o => { o.itemValue = o.itemValue.toString(); });\n      }\n      // this.options = await DictionaryCache.default.getDictionaryByType(this.type);\n    } catch (err) {\n      this.$errHandler(err);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleChange() {\n      const selectedOptions = this.options.find(item => item.value === this.selectedValue);\n      this.$emit('change', this.selectedValue, selectedOptions);\n    },\n  },\n\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DictionarySelectorNew.vue?vue&type=template&id=1708da2e&\"\nimport script from \"./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"\nexport * from \"./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import i18n from 'i18next';\n\nexport default function translateCategoryName(categoryName: string) {\n  return i18n.t(`material.material-category.${categoryName}`);\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsEditor.vue?vue&type=style&index=0&id=1fe3eee9&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fb2835f4&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=style&index=0&id=1403ff55&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternPanel.vue?vue&type=style&index=0&id=2f6e5dd0&lang=scss&scoped=true&\"","import validator from '@/utils/validators/rules-validation';\n\nexport const materialForm = {\n  materialType: '',\n  materialName: '',\n  supplierArticleName: '',\n  supplierArticleNo: '',\n  season: '',\n  supplierName: '',\n  colorFamily: '',\n  materialCountryOfOrigin: '',\n  tags: [],\n  printPatterns: [],\n  // with unit\n  samplePrice: '',\n  samplePriceUnit: 1,\n  samplePriceNumber: 1,\n  moq: '',\n  moqUnit: 1,\n  productionLeadTime: '',\n  productionLeadTimeUnit: 1,\n  thickness: '',\n  thicknessUnit: 1,\n};\n\nexport const materialFromRules = {\n  materialType: validator.selection(),\n  materialName: [\n    validator.requirement(),\n    validator.charLengthMax(512),\n  ],\n  supplierArticleName: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  supplierArticleNo: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  season: [\n    // validator.requirement(),\n    validator.charLengthMax(32),\n  ],\n  supplierName: [\n    // validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  color: [\n    validator.charLengthMax(20),\n  ],\n  moq: [\n    validator.numberPositive(),\n    validator.charLengthMax(8),\n  ],\n  samplePeriod: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  productionLeadTime: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  samplePrice: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  thickness: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n};\nexport const materialLibraryFromRules = {\n  materialsTechnology: [validator.requirement()],\n  surfaceTechnics: [validator.requirement()],\n  designContent: [validator.requirement()],\n  applicableProductLine: [validator.requirement()],\n  materialName: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  supplierArticleName: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  supplierArticleNo: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  season: [\n    // validator.requirement(),\n    validator.charLengthMax(32),\n  ],\n  supplierName: [\n    // validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  color: [\n    validator.charLengthMax(20),\n  ],\n  moq: [\n    validator.numberPositive(),\n    validator.charLengthMax(8),\n  ],\n  samplePeriod: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  productionLeadTime: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  samplePrice: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  thickness: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n};\n\nexport const materialColorPicker = [\n  {\n    name: 'Red', cnName: '红', heximal: '#f00', active: false,\n  },\n  {\n    name: 'Orange', cnName: '橙', heximal: '#FF6300', active: false,\n  },\n  {\n    name: 'Yellow', cnName: '黄', heximal: '#FFE50F', active: false,\n  },\n  {\n    name: 'Green', cnName: '绿', heximal: '#3EED4F', active: false,\n  },\n  {\n    name: 'Blue', cnName: '蓝', heximal: '#2FB9F3', active: false,\n  },\n  {\n    name: 'Purple', cnName: '紫', heximal: '#DE54E8', active: false,\n  },\n  {\n    name: 'Black', cnName: '黑', heximal: '#000', active: false,\n  },\n  {\n    name: 'Gray', cnName: '灰', heximal: '#808080', active: false,\n  },\n  {\n    name: 'White', cnName: '白', heximal: '#fff', active: false,\n  },\n];\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAD8UlEQVR4Xu2bv47TQBDGZ2OHy99TAkoBiol9AgkKkKCAFgp4BGigAQkaeBpoQIIGGniEo4AWCpCgAAlEHBxBEcFFd3FiiO1FRgqCO+ds79ix45stL/vNzvz2i3c1vjCggSLAUGoSAwFEmoAAEkAkAaScHEgAkQSQ8lgc2NWNDQBoIHNZtHyoqUoTuygaYLfXfwKcX8Imkoqesadap30ZszYeoG5wTAJpazVVQTFAiXXd+MgBjqQNAbM+A/ikqspR0RjCALvdbgOY7D37ln9wu6lp2lCkEHGAujEBgJLIohnUWJqqlEXyEgL42TDOMAdeiiyYVQ134ezamvIqan5CALtLfnDMgyRyoEQGqOvGLQ5wJ+pOLcN8BnBbVZW7UXKNDDCv7ptBi+rCSAD1Xv8R5/xKlB1atrmMscdqp301bN6RAObdfSIuDA2wqxvvAeBY2J1Z8nkfNFU5HqaGUAAHg0F9ZFqbYQLmZU6tWlpttVpbQfWEAqj3+ibnvBIULE+fM8bGaqddDaopEKCu66c4SK+DAuXxcwbOaVVV3+xWWyDAvXJwiF6udwXY6xk3XA738uiusDUVGNzsdJT78+bvCnCvuy/MtWYuQF03HnCAa2F3Ks/zGMBDVVWu+9U4F+AX4ysvV+M/eB3HgYk5ToS3l68kSbHH9vI9rBzyZeX7R6P/7W2pUj4ReyYAwDkHc2uURGio1mvAWOC5KLS2NZ68U9oHT24X+642+DFM9D3HaDPwfipUZG21LqQLK2rtb+zgRQDD0gOAzAC0bRussfdGIL5RqpRBluX4AvpEygxAL7e4v8ZJf329nDMFMM7DJMnD418jZgqgl5hjOzAZ46405UoFJDn+q4vfsyBzAP9AdFyYmKbQs6tcrYIkFYS0IqJMApwVYo5M4K4bqi5WKEC1FthpChUryqRMA5wV8tOyYPpr6ltXcV8RVkrpvctfCoBRHLHouQQQSZwAEkAkAaScHEgAkQSQcnIgAUQSQMrJgXkA6PUC7amNLMVfLhflRHuCqTsw7h7gvF1IqjeYKkDvRZLXA1zE8F4seT3CuEeqABflvhm0JFxIAJGWTBWgNbHAnvq3qZB17ZAXi0VYKcff9koVoFfl2ByD6zhx8/ovnteh9jrVSYzUAc6KSuosSeifEv7uRWYAJuGORcQkgEjKBJAAIgkg5eRAAogkgJSTAwkgkgBSTg4kgEgCSDk5kAAiCSDl5EACiCSAlJMDCSCSAFIe2oHfh6MLrmuvI9fLlbxQgIsHGo1n24ua+8OyjY2tczZ3nueKgmAxMpPON5v1F37yZH6ZJ5joMsoIIHLXCCABRBJAysmBBBBJACknByIB/gZwyZhgBiB+/wAAAABJRU5ErkJggg==\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=style&index=0&id=03217a25&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-detail-container\"},[_c('div',{staticClass:\"material-detail-title\"},[(_vm.isHistoryComponent)?_c('i',{staticClass:\"iconfont icon-left el-icon-arrow-left\",on:{\"click\":_vm.backOperate}}):_vm._e(),_c('span',{staticClass:\"el-dialog__title\"},[_vm._v(_vm._s(_vm.title))]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"变更记录\",\"placement\":\"bottom\"}},[(!_vm.isHistoryComponent && _vm.groupAppId)?_c('i',{staticClass:\"iconfont icon-right iconshijian2\",on:{\"click\":_vm.toOperateHistory}}):_vm._e()]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"驳回原因\",\"placement\":\"bottom\"}},[_c('i',{staticClass:\"iconfont iconbohuiyuanyin\",staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.showDeclineRecord(_vm.material.id)}}})])],1),_c('div',{staticClass:\"scroll-content scrollable-y\",class:_vm.contentStyle},[(_vm.currentComponent === 'ComponentPreviewDetail' && !_vm.isHistoryComponent)?_c('div',{staticClass:\"flex-center\"},[(_vm.swipers.length > 0)?_c('MaterialCarousel',{ref:\"materialCarousel\",attrs:{\"swiper-list\":_vm.swipers,\"materialId\":_vm.material.id,\"initialIndex\":_vm.thumbIndex}}):(_vm.isCreator && _vm.isQt() && _vm.envs.VUE_APP_COOPERATION === 'anta')?_c('div',{staticClass:\"flex-center flex-column\",staticStyle:{\"height\":\"280px\"}},[_c('base-image',{staticStyle:{\"height\":\"80px\",\"width\":\"80px\"},attrs:{\"src\":require('@/assets/img/file-list/material-default.png'),\"fit\":\"contain\"}}),_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.handleUpload4ddat}},[_vm._v(\"上传4ddat\")])],1):_vm._e()],1):_vm._e(),_c('transition',{attrs:{\"enter-active-class\":\"animated faedIn faster\",\"leave-active-class\":\"animated fadeOut faster\",\"mode\":\"out-in\",\"appear\":\"\"}},[_c('keep-alive',{attrs:{\"include\":\"MaterialDetailText\"}},[_c(_vm.currentComponent,{ref:\"materialDynamicComp\",tag:\"component\",attrs:{\"entryAppType\":_vm.entryAppType,\"material\":_vm.material,\"groupAppId\":_vm.groupAppId,\"relateId\":_vm.material.id,\"originalId\":_vm.material.originalId,\"middleCategoryId\":_vm.middleCategoryId,\"saveDisabled\":_vm.saveBtnDisabled},on:{\"update:saveDisabled\":function (e) { return _vm.saveBtnDisabled = e; },\"switch-component\":function (e) { return _vm.currentComponent = e; },\"refresh\":function($event){return _vm.getMaterialInfoById(_vm.id)},\"loaded\":function (material) { _vm.loading = false; _vm.$emit('loaded', material); },\"loading\":function (e) { return _vm.loading = e; }}})],1)],1),(!_vm.isHistoryComponent)?_c('time-info',{staticStyle:{\"margin-top\":\"40px\"},attrs:{\"creator\":_vm.material.creatorName,\"modifier\":_vm.material.modifierName,\"uploaded\":_vm.material.gmtCreateTime,\"updated\":_vm.material.gmtModifyTime}}):_vm._e()],1),(_vm.currentComponent === 'ComponentPreviewDetail')?_c('section',{key:1,staticClass:\"submit-buttons\"},[_c('el-button',{attrs:{\"type\":\"default\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.printAsPDF}},[_vm._v(\" 导出PDF \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"disabled\":!_vm.editable\n        || [2,4].includes(_vm.material.extraProperty.material_status)\n        || (_vm.material.extraProperty.approve_detail && [2,3,4].includes(_vm.material.extraProperty.approve_detail.approve_status)),\"size\":\"small\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentEditDetail'}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.edit'))+\" \")])],1):(!_vm.isHistoryComponent)?_c('section',{key:2,staticClass:\"submit-buttons\"},[_c('el-button',{staticClass:\"cancel\",attrs:{\"size\":\"small\",\"round\":\"\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentPreviewDetail'}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.cancel'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$act(_vm.updateMaterial)}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.save'))+\" \")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-detail-text\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.material.materialName)+\" \")]),_c('ul',{staticClass:\"field-list\",staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.fields),function(field){return _c('li',{key:field.label,staticClass:\"field-item\"},[_c('FormFielText',{attrs:{\"label\":field.label,\"content\":field.value || '',\"units\":field.units}})],1)}),0),_c('ul',{staticClass:\"field-list\",staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.attachFields),function(field){return _c('li',{key:field.label,staticClass:\"field-item\"},[_c('FormFielText',{attrs:{\"label\":field.label,\"content\":field.value || '',\"units\":field.units}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-form-field\"},[_c('label',{staticClass:\"label text-one-line\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"content-box\"},[_vm._t(\"default\",[(_vm.showPlaceHolder)?[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]:[_c('span',{staticClass:\"content-box\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")]),_vm._l((_vm.units),function(unit,index){return [_c('UnitField',{key:'unit' + index,attrs:{\"type\":unit.type,\"value\":unit.value}})]})]])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watchEffect } from '@vue/composition-api';\n// import i18n from 'i18next';\n\n// import { getCountryList, getDictionaryByTypeCode } from '@/api/dictionary';\nimport { fetchAntaPropertyById } from '@/loaders/dictionary';\n// import { getCompanyNameById } from '@/api/company';\n\n\nexport default defineComponent({\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler } }) {\n    const unit = ref('');\n\n    watchEffect(async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          // if (props.type === 'country') {\n          //   units = (await getCountryList()).data;\n          //   currentUnit = units.find(u => +u.id === +props.value);\n          //   // unit.value = currentUnit ? currentUnit.usName : '';\n          //   if (currentUnit) {\n          //     if (i18n.language === 'en') {\n          //       unit.value = currentUnit.usName || currentUnit.name;\n          //     } else {\n          //       unit.value = currentUnit.name || currentUnit.usName || '';\n          //     }\n          //   }\n          // } else if (props.type === 'priceUnit' || props.type === 'mqqUnit') {\n          //   units = (\n          //     // 单位\n          //     await getDictionaryByTypeCode(props.type, 'cn')\n          //   ).data;\n          //   currentUnit = units.find(u => +u.itemValue === +props.value);\n          //   unit.value = currentUnit ? currentUnit.label : '';\n          // } else if (props.type === '品牌') {\n          //   units = (\n          //     // 属性\n          //     await fetchAntaPropertyById(props.type)\n          //   );\n          //   currentUnit = units.find(u => u.id === props.value);\n          //   unit.value = currentUnit ? currentUnit.value : '';\n          // } else if (props.type === 'supplierName') {\n          //   unit.value = (\n          //     // 供应商列表\n          //     await getCompanyNameById(props.value)\n          //   ).data.name;\n          // }\n          if (props.type === '品牌') {\n            units = (\n              // 属性\n              await fetchAntaPropertyById(props.type)\n            );\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=c81a14aa&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=c81a14aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c81a14aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import i18n from 'i18next';\nimport { defineComponent, computed } from '@vue/composition-api';\n\nimport UnitField from './UnitField.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\nexport default defineComponent({\n  name: 'MaterialFormFieldText',\n  components: { UnitField },\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String, Number, Array],\n      default: '',\n    },\n    // 单位数组\n    units: {\n      type: Array as () => Unit[],\n      default: () => [],\n    },\n  },\n  setup(props) {\n    const showPlaceHolder = computed(() => {\n      if (props.units[0]?.type === 'priceUnit') {\n        return !props.content;\n      }\n      return !props.content && props.units.length === 0;\n    });\n    return {\n      showPlaceHolder,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FromFieldText.vue?vue&type=template&id=67ab5d7d&scoped=true&\"\nimport script from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nexport * from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FromFieldText.vue?vue&type=style&index=0&id=67ab5d7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67ab5d7d\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import i18n from 'i18next';\nimport {\n  defineComponent, ref, computed, watch,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\n\n// import { getCompanyNameById } from '@/api/company';\n\nimport { getContextUser } from '@/loaders/context';\nimport { getCurrentCompany } from '@/loaders/company';\n\nimport { antaMiddleClassIdAndFormData2TransformedFormDataList } from '@/components/anta-customer-files/attribute';\nimport FormFielText from './FromFieldText.vue';\n\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\n// // 获取大中小类组合的类名\n// async function getCategoryName(id: string) {\n//   return ((await axios({\n//     method: 'post',\n//     url: '/anta-material/category/name',\n//     data: {\n//       ids: [id],\n//     },\n//   })).data)[id];\n// }\n\n// 根据中类id获取模版信息\nexport const getTemplateById = async (id: string) => {\n  return (await axios({\n    method: 'get',\n    url: 'anta-material/template/middle',\n    params: {\n      id,\n    },\n  })).data;\n};\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\ninterface FormField {\n  label: string,\n  value?: string,\n  units?: Array<Unit>,\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailText',\n  components: { FormFielText },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup(props, { root, emit }) {\n    const loading = ref(true);\n    const fields = ref<Array<FormField>>([]);\n    const attachFields = ref<Array<FormField>>([]);\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n\n    const middleCategoryId = ref<string>('');\n\n    const categoryName = ref<string>('');\n\n    const supplierName = ref<string>('');\n\n    watch(() => props.material, async (val) => {\n      console.info(val);\n      loading.value = true;\n\n      // let colorLimitType = '';\n      // switch (val.extraProperty.color_limit_type) {\n      //   case 1: colorLimitType = '全部颜色';\n      //     break;\n      //   case 2: colorLimitType = '仅部分颜色';\n      //     break;\n      //   case 3: colorLimitType = '荧光色除外';\n      //     break;\n      //   default:\n      // }\n\n      const priceItem = val.extraProperty.supplier_price_obj ?? val.extraProperty.supplier_price_array[0];\n\n      fields.value = [\n        // { label: '分类', value: categoryName.value },\n        // {\n        //   label: '季节',\n        //   value: `${val.extraProperty.season?.year || ''}${val.extraProperty.season?.season || ''}`,\n        // },\n        // { label: '供应商名称', value: priceItem.supplier_name },\n        // {\n        //   label: '参考单价',\n        //   value: priceItem.reference_price_value ? `${priceItem.reference_price_value}人民币` : '--',\n        // },\n        // {\n        //   label: '成本单价',\n        //   value: priceItem.cost_value ? `${priceItem.cost_value}人民币` : '--',\n        // },\n        // { label: '颜色限制类别（鞋）', value: colorLimitType },\n        // { label: '材料编码', value: val.extraProperty.material_number },\n      ];\n\n      const extraList = [];\n      if (isSupplier.value) {\n        extraList.push('常青材料');\n      }\n\n      // 可能会报错的接口放到后面去请求\n      try {\n        // 获取中类ID\n        middleCategoryId.value = await fetchMiddleCategoryId(val.extraProperty.category);\n\n        const dynamicFormData = await antaMiddleClassIdAndFormData2TransformedFormDataList(middleCategoryId.value, {\n          ...val.extraProperty,\n          reference_price: {\n            value: priceItem.reference_price_value,\n            unit: priceItem.reference_price_unit,\n          },\n          cost: {\n            value: priceItem.cost_value,\n            unit: priceItem.cost_unit,\n          },\n          supplier_name: priceItem.supplier_name,\n          materialName: val.materialName,\n        }, extraList);\n        console.info(dynamicFormData);\n        fields.value = [...fields.value, ...dynamicFormData];\n\n        emit('loaded', props.material);\n      } catch (e) {\n        root.$errorHandler(e);\n      } finally {\n        loading.value = false;\n      }\n    }, {\n      deep: true,\n      // immediate:\n    });\n\n    return {\n      loading,\n      fields,\n      attachFields,\n      isCreator,\n      categoryName,\n      supplierName,\n      isSupplier,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentPreviewDetail.vue?vue&type=template&id=77c96a62&scoped=true&\"\nimport script from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentPreviewDetail.vue?vue&type=style&index=0&id=77c96a62&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77c96a62\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.materialCopy && !_vm.materialCopy.fileInfo)?_c('UploadImgJson',{ref:\"uploadImgJson\",attrs:{\"disabled\":!_vm.isCreator},model:{value:(_vm.materialCopy.imgJson),callback:function ($$v) {_vm.$set(_vm.materialCopy, \"imgJson\", $$v)},expression:\"materialCopy.imgJson\"}}):_vm._e(),(_vm.materialCopy)?_c('Form',{ref:\"refsForm\",attrs:{\"isCreator\":_vm.isCreator,\"material\":_vm.materialCopy,\"status\":\"edit\"}}):_vm._e(),_c('div',{ref:\"uploadArea\"},[_c('h2',{staticClass:\"asset-upload-title\"},[_vm._v(\" 附件 \")]),(_vm.materialCopy.fileInfo)?_c('ModelsSelector',{ref:\"modelsSelector\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo,\"materialId\":_vm.material.id}}):_vm._e(),_c('AttachmentImage',{ref:\"attachmentImage\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}}),_c('AttachmentVideo',{ref:\"attachmentVideo\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"model-demo\"},[_c('h2',{staticClass:\"model-demo-title\",style:(_vm.titleStyle)},[_vm._v(_vm._s(_vm.$t('material.info.attachment_models_caption')))]),_c('ul',{staticClass:\"model-demo-list\"},_vm._l((_vm.models),function(model,i){return _c('li',{key:i,staticClass:\"model-demo-item\"},[_c('SelectableBox',{attrs:{\"selected\":model.selected,\"width\":272,\"height\":202,\"disabled\":_vm.disabled},on:{\"preview\":function($event){return _vm.handlePreview(model.id)},\"change\":function (e) { return _vm.changeModel(i, e); }}},[_c('el-image',{attrs:{\"src\":model.cover,\"fit\":\"contain\"}})],1),_c('p',{staticClass:\"model-demo-name\"},[_vm._v(\"Model \"+_vm._s(i + 1))])],1)}),0),(_vm.currentId)?_c('ModelPurePreviewer',{ref:\"modelPreviewer\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"-1\",\"opacity\":\"0\"},attrs:{\"mode\":\"modelMaterial\",\"modelId\":_vm.currentId,\"materialId\":_vm.materialId,\"initModelStatus\":false}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"model-demo\">\n    <h2 class=\"model-demo-title\" :style=\"titleStyle\"\n    >{{ $t('material.info.attachment_models_caption') }}</h2>\n    <ul class=\"model-demo-list\">\n      <li\n        v-for=\"(model, i) in models\"\n        :key=\"i\"\n        class=\"model-demo-item\"\n      >\n        <SelectableBox\n          :selected=\"model.selected\"\n          :width=\"272\" :height=\"202\"\n          :disabled=\"disabled\"\n          @preview=\"handlePreview(model.id)\"\n          @change=\"e => changeModel(i, e)\"\n        >\n          <el-image :src=\"model.cover\" fit=\"contain\" />\n        </SelectableBox>\n        <p class=\"model-demo-name\">Model {{ i + 1 }}</p>\n      </li>\n    </ul>\n\n    <!-- 截图使用 -->\n    <ModelPurePreviewer\n      v-if=\"currentId\"\n      mode=\"modelMaterial\"\n      :modelId=\"currentId\"\n      :materialId=\"materialId\"\n      :initModelStatus=\"false\"\n      style=\"position: absolute; z-index: -1;opacity:0;\"\n      ref=\"modelPreviewer\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from '@/utils/axios';\nimport delay from '_/delay';\n\nimport SelectableBox from '@/components/layout/SelectableBox';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer';\n\nconst getMaterialDemoModels = () => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/modelSearch/getDisplayModelIds',\n  });\n};\n\nexport default {\n  components: {\n    SelectableBox,\n    ModelPurePreviewer,\n  },\n  props: ['assetsInfo', 'materialId', 'titleStyle', 'disabled'],\n  mounted() {\n    this._generateModelData();\n    localStorage.setItem('modelCovers', JSON.stringify({}));\n  },\n  data() {\n    return {\n      models: [],\n      modelIds: [],\n      currentId: '',\n    };\n  },\n  methods: {\n    // 获取选择框的选择项（外部调用）\n    async getSelectResult() {\n      // 第一，判断是否有选中的模型\n      const selectedModels = this.models.filter(model => model.selected);\n      if (!selectedModels.length) return [];\n\n      // 先判断接口返回的数据是否已存在 cover\n      selectedModels.forEach(model => {\n        if (model.modelCover.includes('http')) {\n          model.modelCover = model.modelCover.split('?')[0].split('/').slice(-2).join('/');\n        }\n      });\n      const missModels = selectedModels.filter(model => model.modelCover === '');\n      if (missModels.length === 0) return selectedModels;\n\n      // 再判断缓存是否有已存在（模型预览默认截取）\n      const coverObj = JSON.parse(localStorage.getItem('modelCovers'));\n      selectedModels.forEach(model => {\n        if (!model.modelCover) {\n          model.modelCover = coverObj[model.id];\n        }\n      });\n      if (missModels.length === 0) return selectedModels;\n\n      // 最后再调用D4加载模型,获取对应的截图\n      for (let i = 0; i < selectedModels.length; i++) {\n        const model = selectedModels[i];\n        if (!model.modelCover) {\n          this.currentId = model.id;\n          // await this.$nextTick();\n          await delay(500);\n          model.modelCover = await this.$refs.modelPreviewer.reloadModel(model.id);\n        }\n      }\n\n      return selectedModels;\n    },\n    // 打开鞋模型弹框\n    async handlePreview(id) {\n      await this.$Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: this.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          flex: 'column',\n          width: '580px',\n          height: '500px',\n        },\n      });\n    },\n    // 获取默认展示三个模型ids,并调整数据结果\n    async _generateModelData() {\n      this.modelIds = (await getMaterialDemoModels()).data;\n      this.models = this.modelIds.map((model) => {\n        return {\n          id: model.id,\n          selected: false,\n          cover: model.curtailImg,\n          modelCover: '',\n        };\n      });\n\n      // 通过筛选面料信息中选择模型的数据，同步选中的状态\n      if (this.assetsInfo && this.assetsInfo?.models) {\n        this.assetsInfo.models.forEach(item => {\n          this.models.forEach(model => {\n            if (item.id === model.id) {\n              model.selected = true;\n              model.modelCover = item.cover;\n            }\n          });\n        });\n      }\n    },\n\n    changeModel(i, e) {\n      this.models[i].selected = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-image {\n  width: 100%;\n  height: 100%;\n}\n\n.model-demo {\n  .model-demo-title {\n    margin-bottom: 10px;\n    line-height: 20px;\n    font-size: 14px;\n    font-weight: 400;\n    color: #606060;\n  }\n  .model-demo-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\n    .model-demo-name {\n      margin: 10px 0;\n      text-align: center;\n      font-size: 14px;\n      color: #333;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModelsSelector.vue?vue&type=template&id=1048a648&scoped=true&\"\nimport script from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModelsSelector.vue?vue&type=style&index=0&id=1048a648&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1048a648\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_images_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip3'))+\" \")])],1)],1),_c('UploadWithPreviewer',{ref:\"uploadWithPreviewer\",attrs:{\"urls\":_vm.paths,\"maxSize\":18 * 1024 * 1024,\"width\":130,\"height\":130,\"accept\":\".png, .jpeg, .jpg\",\"multiple\":\"\",\"disabled\":_vm.disabled},on:{\"change\":_vm.changeImage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_images_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_images_tip') }}<br>\n          <!-- {{ $t('material.info.attachment_images_tip2') }} -->\n          {{ $t('material.info.attachment_images_tip3') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadWithPreviewer\n      ref=\"uploadWithPreviewer\"\n      :urls=\"paths\"\n      :maxSize=\"18 * 1024 * 1024\"\n      :width=\"130\" :height=\"130\"\n      accept=\".png, .jpeg, .jpg\"\n      multiple\n      :disabled=\"disabled\"\n      @change=\"changeImage\" />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadWithPreviewer from '@/components/upload/UploadWithPreviewer';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadWithPreviewer,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.images) {\n          this.paths = obj?.images;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getImageOssPaths() {\n      const result = this.$refs.uploadWithPreviewer.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n\n    changeImage(e) {\n      this.files = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin-bottom: 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentImage.vue?vue&type=template&id=d9f63f58&scoped=true&\"\nimport script from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentImage.vue?vue&type=style&index=0&id=d9f63f58&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9f63f58\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_videos_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip2'))+\" \")])],1)],1),_c('UploadVideo',{ref:\"UploadVideo\",attrs:{\"urls\":_vm.paths,\"disabled\":_vm.disabled,\"maxSize\":30 * 1024 * 1024,\"width\":130,\"height\":130,\"accept\":\".mp4\"},on:{\"change\":_vm.changeVideo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_videos_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_videos_tip') }}<br>\n          {{ $t('material.info.attachment_videos_tip2') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadVideo\n      ref=\"UploadVideo\"\n      :urls=\"paths\"\n      :disabled=\"disabled\"\n      :maxSize=\"30 * 1024 * 1024\"\n      :width=\"130\" :height=\"130\"\n      accept=\".mp4\"\n      @change=\"changeVideo\"\n    />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadVideo from '@/components/upload/UploadVideo';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadVideo,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.videos) {\n          this.paths = obj?.videos;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getVideoOssPaths() {\n      const result = this.$refs.UploadVideo.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n\n    changeVideo(e) {\n      this.files = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin: 15px 0 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentVideo.vue?vue&type=template&id=305df05d&scoped=true&\"\nimport script from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentVideo.vue?vue&type=style&index=0&id=305df05d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"305df05d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(\" 材质图 \")]),_c('div',{staticClass:\"flex\"},_vm._l((['thumbnail', 'flat', 'texture']),function(item){return _c('div',{key:item,staticClass:\"upload-item\"},[_c('figure',{staticClass:\"item-image\",class:(\"item-image-\" + item)},[(_vm.imgJson[item])?_c('base-image',{staticStyle:{\"border\":\"1px solid #dbdce0\"},attrs:{\"src\":_vm.imgJson[item]}}):_c('div',{staticClass:\"item-add\",style:({ cursor: _vm.disabled ? 'not-allowed': 'pointer' }),on:{\"click\":function($event){return _vm.$act(_vm.choseImg, [item])}}},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('span',[_vm._v(_vm._s(_vm.$t('up-meeting.detail.upload')))])]),(_vm.imgJson[item])?_c('i',{staticClass:\"i-file-delete\",on:{\"click\":function($event){return _vm.remove(item)}}}):_vm._e(),(_vm.imgJson[item])?_c('i',{staticClass:\"i-zoom\",on:{\"click\":function($event){return _vm.$act(_vm.previewImage, [item])}}}):_vm._e()],1),_c('span',{staticStyle:{\"padding-top\":\"6px\"}},[_vm._v(_vm._s(_vm.key2Name[item]))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport selectFiles from '@/utils/select-files';\nimport { validFiles } from '@/utils/validators/valid-file';\nimport { defineComponent, ref } from '@vue/composition-api';\n\nconst key2Name = {\n  thumbnail: '垂悬图',\n  flat: '平铺图',\n  texture: '纹理图',\n} as const;\n\nconst UploadImgJson = defineComponent({\n  name: 'UploadImgJson',\n  props: {\n    imgJson: {\n      type: Object as () => { thumbnail: string, flat: string, texture: string },\n      default: () => ({}),\n      // type: Object,\n      // required: true,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  model: {\n    prop: 'imgJson',\n    event: 'change',\n  },\n  setup(props, { emit, root }) {\n    // 已选择的file文件\n    const selectedFils = ref<{ [key: string]: File | null }>({\n      thumbnail: null,\n      flat: null,\n      texture: null,\n    });\n\n    const choseImg = async (type: 'thumbnail' | 'flat' | 'texture') => {\n      if (props.disabled) return;\n      const files = await selectFiles(['png', 'jpg'], 5000);\n      validFiles(files);\n      [selectedFils.value[type]] = files;\n      emit('change', { ...props.imgJson, [type]: URL.createObjectURL(files[0]) });\n      // debugger;\n      // root.$set(props.imgJson, type, URL.createObjectURL(files[0]));\n    };\n\n\n    const remove = (type: 'thumbnail' | 'flat' | 'texture') => {\n      selectedFils.value[type] = null;\n      emit('change', { ...props.imgJson, [type]: '' });\n      // root.$set(props.imgJson, type, null);\n    };\n\n    async function previewImage(type: 'thumbnail' | 'flat' | 'texture') {\n      // const imgList = Object.values(props.imgJson).filter(i => !!i);\n      const imgList = [props.imgJson[type]];\n      await root.$ImageViewer.show(imgList as string[], {\n        srcList: imgList,\n        targetElems: `.item-image-${type}`,\n      });\n    }\n\n\n    // 外面调用\n    const uploadImgJson = async () => {\n      const bucketList = {\n        thumbnail: 'FUR',\n        flat: 'FLAT',\n        texture: 'FLAT',\n      };\n      const newImgJson = JSON.parse(JSON.stringify(props.imgJson));\n      await Promise.all(Object.entries(selectedFils.value).map(async ([key, item]) => {\n        if (!item) return;\n        newImgJson[key] = await uploadToOSS(item, bucketList[key]);\n      }));\n\n      return newImgJson;\n    };\n\n    return {\n      choseImg,\n      remove,\n      previewImage,\n      uploadImgJson,\n      key2Name,\n    };\n  },\n});\n\nexport default UploadImgJson;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UploadImgJson.vue?vue&type=template&id=10f2f0aa&scoped=true&\"\nimport script from \"./UploadImgJson.vue?vue&type=script&lang=ts&\"\nexport * from \"./UploadImgJson.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UploadImgJson.vue?vue&type=style&index=0&id=10f2f0aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10f2f0aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed, onMounted, provide, toRefs,\n} from '@vue/composition-api';\n\nimport axios from '@/utils/axios';\nimport { blockDragEffect } from '@/utils/public';\nimport { getContextUser } from '@/loaders/context';\n// import { getCurrentCompany } from '@/loaders/company';\nimport { getRelativePathFromUrl } from '@/utils/normalize-component';\n\nimport useLoader from '_/composables/use-loader';\nimport extract from '_/extract';\n\nimport Form from './Form.vue';\nimport ModelsSelector from './ModelsSelector.vue';\nimport AttachmentImage from './AttachmentImage.vue';\nimport AttachmentVideo from './AttachmentVideo.vue';\nimport UploadImgJson from './UploadImgJson.vue';\n\n/**\n * 更新材质详情信息（标签更新在其他接口）\n * @param {String} data { id: string, propName: any }\n * @see {Promise}\n */\nexport const updateMaterialInfo = (data: any) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/updateNewMaterialInfo',\n    data,\n  });\n};\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailForm',\n  components: {\n    UploadImgJson,\n    Form,\n    ModelsSelector,\n    AttachmentImage,\n    AttachmentVideo,\n  },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n      default: () => ({}),\n    },\n    entryAppType: {\n      type: Number,\n    },\n    groupAppId: {\n      type: String,\n    },\n    // middleCategoryId: {\n    //   type: String,\n    //   required: true,\n    // },\n  },\n\n  setup(props, {\n    // @ts-ignore\n    emit, refs, root: { $errHandler, $message },\n  }) {\n    // 创建者\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n\n    const emptyImgJson = computed(() => {\n      return ['thumbnail', 'flat', 'texture'].some(item => !props.material.imgJson?.[item]);\n    });\n\n    provide('getIsCreator', isCreator);\n\n    // 中类ID\n    const middleCategoryId = useLoader(async ({ material: { extraProperty: { category } } }) => {\n      // eslint-disable-next-line prefer-rest-params\n      console.info(category);\n      if (!category) return '';\n      return fetchMiddleCategoryId(category);\n    }, extract(toRefs(props), ['material']), {\n      initialValue: null,\n      loadingValue: () => null,\n    });\n\n    provide('getMiddleCategoryId', middleCategoryId);\n\n    const materialCopy = ref({ imgJson: {}, fileInfo: '' });\n\n    const newMaterial = ref({} as { [key: string]: any });\n\n    onMounted(async () => {\n      // 禁止浏览器拖拽的默认行为\n      blockDragEffect(refs.uploadArea);\n\n      // 防止修改未保存时影响详情的数据\n      materialCopy.value = JSON.parse(JSON.stringify(props.material));\n      if (!materialCopy.value.imgJson) {\n        materialCopy.value.imgJson = {};\n      }\n      // console.info(props.material);\n      // console.info(JSON.parse(JSON.stringify(props.material)));\n      // console.info(materialCopy.value);\n    });\n\n    // 保存\n    async function save() {\n      emit('loading', true);\n      try {\n        newMaterial.value = await refs.refsForm.getFormData();\n\n        console.info(newMaterial.value);\n        if (!newMaterial.value) return;\n\n\n        // console.info(updateObj.value);\n        newMaterial.value.id = props.material.id;\n        newMaterial.value.assetsInfo = {}; // 初始assetsInfo接口有时返回null，访问 models, images, videos会报错\n\n        // 获取模型选择的结果\n        const models = refs.modelsSelector ? await refs.modelsSelector.getSelectResult() : [];\n        newMaterial.value.assetsInfo.models = models.map((model: any) => {\n          return { id: model.id, cover: model.modelCover };\n        });\n\n        // 获取材质图片的结果\n        const images = await refs.attachmentImage.getImageOssPaths();\n        newMaterial.value.assetsInfo.images = images;\n\n        // 获取模型选择的结果\n        const videos = await refs.attachmentVideo.getVideoOssPaths();\n        newMaterial.value.assetsInfo.videos = videos;\n        newMaterial.value.businessType = 1;\n\n        // const newImgJson = await refs.uploadImgJson.uploadImgJson();\n        if (!materialCopy.value.fileInfo) {\n          const newImgJson = refs.uploadImgJson ? await refs.uploadImgJson.uploadImgJson() : {};\n          newMaterial.value.imgJson = { ...materialCopy.value.imgJson, ...newImgJson };\n          Object.keys(newMaterial.value.imgJson).forEach(key => {\n            if (newMaterial.value.imgJson[key].includes('http')) {\n              newMaterial.value.imgJson[key] = getRelativePathFromUrl(newMaterial.value.imgJson[key]);\n            }\n          });\n        }\n        await updateMaterialInfo(newMaterial.value);\n        await refs.refsForm.addOperateToRecord(props.groupAppId);\n\n        newMaterial.value = {};\n        emit('switch-component', 'ComponentPreviewDetail');\n        // emit('update:saveDisabled', true);\n        emit('refresh');\n      } catch (err) {\n        $errHandler(err);\n      } finally {\n        emit('loading', false);\n      }\n    }\n\n    return {\n      save,\n      isCreator,\n      materialCopy,\n      middleCategoryId,\n      emptyImgJson,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentEditDetail.vue?vue&type=template&id=15080de4&scoped=true&\"\nimport script from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentEditDetail.vue?vue&type=style&index=0&id=15080de4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15080de4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-carousel',{ref:\"carousel\",class:_vm.size,attrs:{\"indicator-position\":\"none\",\"initial-index\":_vm.initialIndex,\"autoplay\":false},on:{\"change\":function (newIndex) {_vm.$emit('change', newIndex)}}},_vm._l((_vm.swiperList),function(item,i){return _c('el-carousel-item',{key:i},[(item.type === 'image')?[_c('base-image',{staticClass:\"material-img\",attrs:{\"fit\":\"contain\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.imageType && item.imageType === 'texture'),expression:\"item.imageType && item.imageType === 'texture'\"}],staticClass:\"img-scale\"},[_c('img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":require('@/assets/img/material/scale.png')}})]),_c('IconMagnify',{staticClass:\"icon-magnify__image\",on:{\"magnify\":function (e) { return _vm.$act(_vm.previewImage, [e]); }}})]:(item.type === 'video')?[_c('div',{staticClass:\"material-video\"},[_c('VideoPlayer',{attrs:{\"sourceURL\":item.url,\"autoplay\":\"\"}}),_c('i',{staticClass:\"iconfont iconshipin\"})],1)]:(item.type === 'model')?[_c('div',{staticClass:\"material-model\"},[_c('base-image',{attrs:{\"fit\":\"cover\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('i',{staticClass:\"iconfont iconmoxing\"}),_c('IconMagnify',{staticClass:\"icon-magnify__model\",on:{\"magnify\":function () { return _vm.$act(_vm.previewModel, [item.id]); }}})],1)]:_vm._e()],2)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\n\nimport VideoPlayer from '@/components/video/index.vue';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer.vue';\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'CarouselMaterialImages',\n  components: {\n    IconMagnify,\n    VideoPlayer,\n  },\n  props: {\n    swiperList: {\n      type: Array,\n      required: true,\n    },\n    materialId: {\n      type: String,\n      default: '',\n    },\n    size: {\n      tyep: String,\n      default: '',\n    },\n    initialIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  // @ts-ignore\n  setup(props, { root: { $ImageViewer, $Dialog } }) {\n    const carousel = ref(null);\n\n    async function previewImage() {\n      const imgList = props.swiperList.reduce((acc, cur) => {\n        // @ts-ignore\n        if (cur.type === 'image') acc.push(cur);\n        return acc;\n      }, []).map(item => {\n        const res = {\n          src: item.url,\n        };\n        if (item.imageType === 'flat') {\n          res.rulerSetting = {\n            rulerHeight: 100,\n            dpi: 520.2,\n          };\n        }\n        return res;\n      });\n      await $ImageViewer.show(imgList, {\n        index: ((carousel.value) as any).activeIndex,\n        targetElems: '.material-img',\n      });\n    }\n\n    async function previewVideo(sourceUrl: string) {\n      await $Dialog.dialogify({\n        is: VideoPlayer,\n        props: {\n          sourceURL: sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          center: true,\n        },\n      });\n    }\n\n    async function previewModel(id: string) {\n      await $Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: props.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    }\n\n    // 设置轮播图的滚动的index(外部调用)\n    function carouselSetActiveItem(index: number) {\n      ((carousel.value) as any).setActiveItem(index);\n    }\n\n    return {\n      carousel, previewImage, previewVideo, previewModel, carouselSetActiveItem,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialCarousel.vue?vue&type=template&id=7d61fe97&scoped=true&\"\nimport script from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialCarousel.vue?vue&type=style&index=0&id=7d61fe97&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d61fe97\",\n  null\n  \n)\n\nexport default component.exports","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',{staticClass:\"detail-time-fragment\",style:(_vm.data.staticStyle)},[_c('div',{staticClass:\"grid-text\"},[_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconren\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.creator'))+\"：\")])]),_c('span',[_vm._v(_vm._s(_vm.props.creator))])]),_c('p',[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.props.modifier))])])]),_c('div',{staticClass:\"grid-text\"},[_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconshangchuan\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.uploaded'))+\" ：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.uploaded,'MM/DD/YYYY HH:mm')))])]),_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconshijian\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.updated'))+\"：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.updated,'MM/DD/YYYY HH:mm')))])])])])}\nvar staticRenderFns = [function (_h,_vm) {var _c=_vm._c;return _c('label',[_c('i',{staticClass:\"iconfont iconren\"}),_c('span',[_vm._v(\"修改者：\")])])}]\n\nexport { render, staticRenderFns }","<template functional>\n  <div class=\"detail-time-fragment\" :style=\"data.staticStyle\">\n    <div class=\"grid-text\">\n      <p>\n        <label>\n          <i class=\"iconfont iconren\" />\n          <span>{{ parent.$t('material.info.creator') }}：</span>\n        </label>\n        <span>{{ props.creator }}</span>\n      </p>\n      <p>\n        <label>\n          <i class=\"iconfont iconren\" />\n          <span>修改者：</span>\n        </label>\n        <span>{{ props.modifier }}</span>\n      </p>\n    </div>\n    <div class=\"grid-text\">\n      <p>\n        <label>\n          <i class=\"iconfont iconshangchuan\" />\n          <span>{{ parent.$t('material.info.uploaded') }} ：</span>\n        </label>\n        <time>{{ +props.uploaded | date('MM/DD/YYYY HH:mm') }}</time>\n      </p>\n      <p>\n        <label>\n          <i class=\"iconfont iconshijian\" />\n          <span>{{ parent.$t('material.info.updated') }}：</span>\n        </label>\n        <time>{{ +props.updated | date('MM/DD/YYYY HH:mm') }}</time>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-time-fragment {\n  font-size: 12px;\n  height: 24px;\n  line-height: 18px;\n  gap: 10px;\n  display: grid;\n  grid-template-rows: auto auto;\n  color: #999;\n  .grid-text {\n    display: grid;\n    grid-template-columns: 0.3fr 0.3fr;\n    gap: 96px;\n  }\n  .iconfont {\n    margin-right: 5px;\n    font-size: 18px;\n    font-weight: 500;\n    color: #66748a;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeInfo.vue?vue&type=template&id=24588fb5&scoped=true&functional=true&\"\nimport script from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeInfo.vue?vue&type=style&index=0&id=24588fb5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"24588fb5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-operate-history\"},[(_vm.dayOperateList.length)?[_c('ul',_vm._l((_vm.dayOperateList),function(ref){\nvar day = ref.day;\nvar operateList = ref.operateList;\nreturn _c('li',{key:day,staticClass:\"history-item\"},[_c('h4',{staticClass:\"history-item-day\"},[_vm._v(_vm._s(day))]),_c('ul',{staticClass:\"history-item-main\"},_vm._l((operateList),function(ref){\nvar id = ref.id;\nvar user = ref.user;\nvar gmtCreateTime = ref.gmtCreateTime;\nvar params = ref.params;\nreturn _c('li',{key:id,staticClass:\"history-item-list\"},[_c('div',{staticClass:\"history-item-user\"},[_c('BaseUser',{attrs:{\"user\":user,\"size\":\"mini\"}}),_c('p',{staticClass:\"history-item-time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"date\")(gmtCreateTime,'YYYY/MM/DD HH:mm'))+\" \")])],1),_c('div',{staticClass:\"history-item-changelog\"},[_c('changelog',{attrs:{\"form\":params}})],1)])}),0)])}),0),(_vm.showLoadMore)?_c('Intersect',{on:{\"enter\":_vm.loadMore}},[_c('div',{staticClass:\"load-more\"},[(_vm.pageLoading)?[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" \"+_vm._s(_vm.$t('material-mall.loading'))+\" \")]:[_vm._v(_vm._s(_vm.$t('material-mall.scroll_to_load')))]],2)]):_c('el-divider',{staticClass:\"history-no-more\"},[_vm._v(\" \"+_vm._s(_vm.$t('material-mall.no_more'))+\" \")])]:_c('empty',{staticStyle:{\"height\":\"100%\"},attrs:{\"img\":require('@/assets/img/public/records-empty.png'),\"error\":{message:'暂无记录'}}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent,\n  reactive,\n  computed,\n  toRefs,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\nimport { getUsersInfoByIds } from '@/api/account';\nimport dayjs from 'dayjs';\n// import AppError from '@/utils/error';\n// @ts-ignore\nimport Intersect from 'vue-intersect';\nimport BaseUser from '@/components/base/User.vue';\nimport changelog from '@/components/changelog/index.vue';\nimport empty from '@/components/error/index.vue';\nimport {\n  OperateList, DayOperateList, User, Obj,\n} from './type';\n\nexport const getOperateList = (params: {\n  relateId: string;\n  pageNumber: number;\n  pageSize: number;\n}) => {\n  return axios({\n    method: 'get',\n    url: '/msgcenter/operate/list',\n    params,\n  });\n};\n\nconst getUsersObj = async (records: OperateList) => {\n  const ids = [...new Set(records.map((item) => item.creator))];\n  const users: User[] = (await getUsersInfoByIds(ids))?.data || [];\n  const usersObj = users.reduce((obj: Obj, cur: User) => {\n    obj[cur.id] = cur;\n    return obj;\n  }, {});\n  return usersObj;\n};\n\nconst handleOperateList = async (\n  operateList: OperateList,\n  dayOperateList: DayOperateList = [],\n) => {\n  const usersObj = await getUsersObj(operateList);\n  operateList.forEach((operate) => {\n    operate.user = usersObj[operate.creator] || {\n      id: operate.creator,\n      icon: '',\n      name: '',\n    };\n    const day = dayjs(operate.gmtCreateTime).format('YYYY/MM/DD');\n    const dayOperate = dayOperateList.find((item) => item.day === day);\n    if (dayOperate) {\n      dayOperate.operateList.push(operate);\n    } else {\n      dayOperateList.push({\n        day,\n        operateList: [operate],\n      });\n    }\n  });\n  return dayOperateList;\n};\n\nexport default defineComponent({\n  name: 'MaterialOperateHistory',\n  inheritAttrs: false,\n  components: {\n    Intersect,\n    BaseUser,\n    changelog,\n    empty,\n  },\n  props: {\n    originalId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const pageSize = 10;\n\n    const defaultState = {\n      dayOperateList: [] as DayOperateList,\n      loading: false,\n      pageLoading: false,\n      pageNumber: 1,\n      hasMore: false,\n    };\n\n    const state = reactive(defaultState);\n\n    const showLoadMore = computed(() => state.hasMore && state.pageNumber > 1);\n\n    const resetLoading = () => {\n      state.loading = false;\n      state.pageLoading = false;\n    };\n\n    const setDayOperateList = async (isLoadMore: boolean = false) => {\n      try {\n        if (!isLoadMore) state.loading = true;\n        if (isLoadMore) state.pageLoading = true;\n        const { data } = await getOperateList({\n          relateId: props.originalId,\n          pageNumber: state.pageNumber,\n          pageSize,\n        });\n        const records = data?.records || [];\n\n        state.dayOperateList = await handleOperateList(\n          records,\n          state.dayOperateList,\n        );\n        if (records.length === pageSize) {\n          state.hasMore = true;\n          state.pageNumber++;\n        } else {\n          state.hasMore = false;\n        }\n      } catch (error) {\n        // throw new AppError(error);\n      } finally {\n        resetLoading();\n      }\n    };\n\n    const loadMore = async () => {\n      if (!showLoadMore) return;\n      setDayOperateList(true);\n    };\n\n    setDayOperateList();\n\n    return {\n      ...toRefs(state),\n      loadMore,\n      showLoadMore,\n    };\n  },\n});\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6d552865&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6d552865&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d552865\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed,\n} from '@vue/composition-api';\nimport i18n from 'i18next';\nimport axios from '@/utils/axios';\n// import tryParseJson from '@/utils/try-parse-json';\nimport { getUsersInfoByIds } from '@/api/account';\n// import { fetchSupplierAll } from '@/loaders/supplier';\nimport useLoader from '_/composables/use-loader';\nimport isQt from '@/utils/is-qt';\nimport { getHost } from '@/utils/exec/index';\nimport { getContextUser } from '@/loaders/context';\nimport envs from '@/utils/envs';\n\nimport { handleUploadMaterial4ddat } from '@/utils/catalog/utils';\nimport ComponentPreviewDetail from './components/ComponentPreviewDetail.vue';\nimport ComponentEditDetail from './components/ComponentEditDetail.vue';\nimport MaterialCarousel from './components/MaterialCarousel.vue';\nimport TimeInfo from './components/TimeInfo.vue';\nimport MaterialOperateHistory from './components/MaterialOperateHistory/index.vue';\nimport DeclineRecord from './components/DeclineRecord.vue';\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId: string, language = 'cn', groupAppId?: string) => {\n  return axios({\n    method: 'get',\n    url: '/anta-material/material/management/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n      groupAppId,\n    },\n    params: { materialId },\n  });\n};\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\n\nexport default defineComponent({\n  name: 'MaterialInfo',\n  dialogify: {\n    props: {\n      top: '5vh',\n      width: '900px',\n      noPadding: true,\n      closeOnClickModal: false,\n      // compact: true,\n    },\n    closeWith: 'material',\n  },\n  components: {\n    ComponentPreviewDetail,\n    ComponentEditDetail,\n    MaterialCarousel,\n    TimeInfo,\n    MaterialOperateHistory,\n    DeclineRecord,\n  },\n  props: {\n    groupAppId: {\n      type: String,\n    },\n    id: {\n      type: String,\n      required: true,\n    },\n    entryAppType: {\n      type: Number,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n    thumbIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props, { root }) {\n    const { $errHandler } = root;\n    const currentComponent = ref('ComponentPreviewDetail');\n    const saveBtnDisabled = ref(true);\n    const loading = ref(false);\n    const material = ref<any>({\n      imgJson: '',\n      creatorName: '',\n      gmtCreateTime: '',\n      gmtModifyTime: '',\n      creator: '',\n      extraProperty: {\n        category: '',\n        season: {},\n      },\n    });\n    const isCreator = computed(() => getContextUser()?.id === material.value.creator);\n\n    // 中类ID\n    const middleCategoryId = useLoader(async ({ value: { extraProperty: { category } } }) => {\n      // eslint-disable-next-line prefer-rest-params\n      if (!category) return '';\n      return fetchMiddleCategoryId(category);\n    }, material, {\n      initialValue: null,\n      loadingValue: () => null,\n    });\n\n    const materialDynamicComp = ref<InstanceType<typeof ComponentEditDetail>>();\n\n    const swipers = ref<any>([]);\n    const title = ref(i18n.t('file-list.catalog.material_info'));\n    const isHistoryComponent = computed(() => currentComponent.value === 'MaterialOperateHistory');\n    // const isHistoryComponent = computed(() => false);\n    const contentStyle = computed(() => (isHistoryComponent.value ? 'is-higher' : ''));\n    // const contentStyle = computed(() => ({\n    //   // 切换到操作记录时，隐藏了按钮行，为保证高度一样，增加按钮行的高度\n    //   height: isHistoryComponent.value ? '612px' : '550px',\n    // }));\n\n    async function updateMaterial() {\n      await materialDynamicComp.value!.save();\n    }\n\n    // 获取轮播的需要的数据结构\n    function _getSwiperObj(mat: any) {\n      if (!mat.imgJson) return [];\n      swipers.value = [];\n      // 获取三张合成图\n      // ['thumbnail', 'flat', 'toeThumbnail'].forEach(item => {\n      ['thumbnail', 'flat', 'texture'].forEach(item => {\n        // @ts-ignore\n        const img = mat.imgJson[item];\n        if (img) swipers.value.push({ type: 'image', url: img, imageType: item });\n      });\n\n      if (!mat.assetsInfo) return swipers.value;\n      // 获取附件的材质图片\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.images.map(item => {\n        return { type: 'image', url: item };\n      }));\n\n      // 获取附件的视频\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.videos.map(item => {\n        return { type: 'video', url: item };\n      }));\n\n      //  获取附件的模型\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.models.map(item => {\n        return { type: 'model', url: item.cover, id: item.id };\n      }));\n      return swipers.value;\n    }\n\n    // 获取模型信息及捕获异常操作\n    async function getMaterialInfoById(id: string) {\n      try {\n        const materialOrigin = (\n          await getMaterialInfo(id, i18n.language, props.groupAppId)\n        ).data;\n        // 处理单位类型的数据类型 number 转为 string; (否则编辑页面的表单校验会提示转为字符串类型)\n        Object.keys(materialOrigin).forEach(key => {\n          if (key === 'imgJson') return;\n          if (materialOrigin[key] === null) materialOrigin[key] = '';\n          else if (typeof materialOrigin[key] === 'number') materialOrigin[key] = materialOrigin[key].toString();\n        });\n\n        // 根据用户id，获取用户信息\n        if (materialOrigin.modifier === materialOrigin.creator) {\n          const userName = (await getUsersInfoByIds([materialOrigin?.creator])).data[0]?.name;\n          materialOrigin.creatorName = userName;\n          materialOrigin.modifierName = userName;\n        } else {\n          const userNames = (await getUsersInfoByIds([materialOrigin?.creator, materialOrigin?.modifier])).data;\n          materialOrigin.creatorName = userNames[0].name;\n          materialOrigin.modifierName = userNames[1].name;\n        }\n        material.value = materialOrigin;\n\n        _getSwiperObj(material.value);\n      } catch (err) {\n        $errHandler(err);\n      }\n    }\n\n    // 跳转到变更记录\n    function toOperateHistory() {\n      currentComponent.value = 'MaterialOperateHistory';\n      title.value = material.value.materialName;\n    }\n\n    // 返回面料详情\n    function backOperate() {\n      currentComponent.value = 'ComponentPreviewDetail';\n      title.value = i18n.t('file-list.catalog.material_info');\n    }\n\n    // 弹出驳回记录\n    async function showDeclineRecord(materialId: string) {\n      await root.$injectDialog({\n        is: DeclineRecord,\n        props: {\n          materialId,\n        },\n      });\n    }\n    async function printAsPDF() {\n      const routeUrl = root.$router.resolve({\n        path: '/material-info',\n        query: {\n          groupAppId: props.groupAppId,\n          id: props.id,\n          entryAppType: props.entryAppType?.toString(),\n          editable: 'false',\n        },\n      });\n      if (isQt()) {\n        const nativeHost = await getHost();\n        nativeHost.openWin({\n          url: routeUrl.href,\n        });\n      } else {\n        window.open(routeUrl.href, '_blank');\n      }\n    }\n\n    async function handleUpload4ddat() {\n      await handleUploadMaterial4ddat({\n        workspaceId: props.groupAppId,\n        relateId: props.id,\n      });\n      console.info('执行刷新');\n      await getMaterialInfoById(props.id);\n    }\n\n    getMaterialInfoById(props.id);\n\n    return {\n      material,\n      materialDynamicComp,\n      updateMaterial,\n      swipers,\n      currentComponent,\n      saveBtnDisabled,\n      loading,\n      getMaterialInfoById,\n      title,\n      toOperateHistory,\n      backOperate,\n      showDeclineRecord,\n      printAsPDF,\n      contentStyle,\n      isHistoryComponent,\n      middleCategoryId,\n      isQt,\n      handleUpload4ddat,\n      isCreator,\n      envs,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=759b404a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=759b404a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"759b404a\",\n  null\n  \n)\n\nexport default component.exports","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',{staticClass:\"detail-time-fragment\",style:(_vm.data.staticStyle)},[_c('p',{staticClass:\"text-one-line\"},[_c('label',[_c('i',{staticClass:\"iconfont iconren\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.creator'))+\"：\")])]),_c('span',[_vm._v(_vm._s(_vm.props.creator))])]),_c('ul',{staticClass:\"flex-space-between\"},[_c('li',{staticClass:\"time\"},[_c('label',[_c('i',{staticClass:\"iconfont iconshangchuan\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.uploaded'))+\" ：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.uploaded,'MM/DD/YYYY HH:mm')))])]),_c('li',{staticClass:\"time\"},[_c('label',[_c('i',{staticClass:\"iconfont iconshijian\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.updated'))+\"：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.updated,'MM/DD/YYYY HH:mm')))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\n  <div class=\"detail-time-fragment\" :style=\"data.staticStyle\">\n    <p class=\"text-one-line\">\n      <label>\n        <i class=\"iconfont iconren\" />\n        <span>{{ parent.$t('material.info.creator') }}：</span>\n      </label>\n      <span>{{ props.creator }}</span>\n    </p>\n\n    <ul class=\"flex-space-between\">\n      <li class=\"time\">\n        <label>\n          <i class=\"iconfont iconshangchuan\" />\n          <span>{{ parent.$t('material.info.uploaded') }} ：</span>\n        </label>\n        <time>{{ +props.uploaded | date('MM/DD/YYYY HH:mm') }}</time>\n      </li>\n      <li class=\"time\">\n        <label>\n          <i class=\"iconfont iconshijian\" />\n          <span>{{ parent.$t('material.info.updated') }}：</span>\n        </label>\n        <time>{{ +props.updated | date('MM/DD/YYYY HH:mm') }}</time>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-time-fragment {\n  color: #999;\n  .time {\n    width: 220px;\n    margin-top: 15px;\n  }\n  .iconfont {\n    margin-right: 5px;\n    font-size: 18px;\n    font-weight: 500;\n    color: #66748a;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeInfo.vue?vue&type=template&id=16b0fe39&scoped=true&functional=true&\"\nimport script from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeInfo.vue?vue&type=style&index=0&id=16b0fe39&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"16b0fe39\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtmItem.vue?vue&type=style&index=0&id=5835654c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"clothes-detail\"},[_c('aside',{staticClass:\"aside-bar\"},[_c('el-menu',{staticClass:\"el-menu-vertical-demo\",attrs:{\"default-active\":_vm.activeMenu},on:{\"select\":_vm.handleToggleMenu}},[_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"info\"}},[_c('i',{staticClass:\"menu-icon iconfont iconjianjie-normal\"}),_c('span',{staticClass:\"menu-name\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"简介\")])]),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"material\"}},[_c('i',{staticClass:\"menu-icon iconfont iconmianliao\"}),_c('span',{staticClass:\"menu-name\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"面料\")])]),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"pattern\"}},[_c('i',{staticClass:\"menu-icon iconfont icontuan\"}),_c('span',{staticClass:\"menu-name\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"图案\")])]),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"subMaterial\"}},[_c('i',{staticClass:\"menu-icon iconfont iconfuliao\"}),_c('span',{staticClass:\"menu-name\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"辅料\")])])],1)],1),_c('section',{staticClass:\"renderer-container\"},[_c('Renderer',{ref:\"renderer\",attrs:{\"category\":_vm.rendererCategory}})],1),_c('section',{staticClass:\"right-part\"},[(_vm.activeMenu === 'info')?_c('Info',{attrs:{\"modelId\":_vm.modelId}}):(_vm.activeMenu === 'material')?_c('Material'):(_vm.activeMenu === 'pattern')?_c('Patterns'):(_vm.activeMenu === 'subMaterial')?_c('SubMaterial'):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from '@/utils/axios';\nimport Vue from 'vue';\nimport { normalizeComponent } from '@/utils/normalize-component';\nimport { AxiosPromise } from 'axios';\nimport { i18n } from '@/i18n';\n\nexport interface ModelSaveApiData {\n  modelCtmRequestList: object []\n  modelFileRequestList?: object []\n  modelId: string\n  curtailImg: string\n  catalogId: string\n  modifyContent?: string\n  newModelName?: string\n}\nexport interface CtmItem {\n  additionalJson: any,\n  additionalJsonExt: null | { material?: Object, decalInfo?: Array<{\n    angle: number,\n    map: string,\n    position: number[],\n    rotation: number[],\n    scale: number,\n  }> },\n  ctmId: string\n  ctmName: string\n  ctmPath: string\n  material: any\n  materialId: string\n  modelComponentId: string\n  modelFileId: string\n  modelId: string\n}\n\n\n/**\n * 获取模型部件列表\n * @param {String} modelId 模型ID\n * @returns {Promise}\n */\nconst getModelCTMList = (modelId: string, groupAppId: string) => {\n  return axios({\n    method: 'get',\n    url: 'show/application/model/ctms',\n    params: {\n      modelId,\n    },\n    headers: {\n      groupAppId,\n      'Resource-Checkout': true,\n      'requester-type': 'web',\n      'model-type': 'CLOTHES',\n    },\n  }) as AxiosPromise<CtmItem[]>;\n};\n\nexport const modelSave = (data: ModelSaveApiData, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    // url: '/catalogue/appInteraction/model/save',\n    url: '/show/application/model/save',\n    headers: {\n      groupAppId,\n      'requester-type': 'web',\n      'model-type': 'CLOTHES',\n    },\n    data,\n  });\n};\n\nexport const modelSaveAs = (data: ModelSaveApiData, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/show/application/model/saveAs',\n    headers: {\n      groupAppId,\n      'requester-type': 'web',\n      'model-type': 'CLOTHES',\n    },\n    data,\n  });\n};\n\n\n/**\n * 获取模型信息详情\n * @param {String} clothingId 模型ID\n * @returns {Promise}\n */\nexport const getModelInfo = (clothingId: string) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/clothingInfoSearch/getClothingInfoAndTags',\n    params: {\n      clothingId,\n    },\n    headers: {\n      language: i18n.language,\n    },\n  });\n};\n\nconst getVersionList = (catalogId: string) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/cloud-disk/file/list/getRevisions',\n    params: {\n      catalogId,\n    },\n  });\n};\n\n\nconst _state = {\n  modelId: '',\n  workspaceId: '',\n  catalogId: '',\n\n  ctmList: [],\n  materialCache: {},\n  modelInfo: {},\n  partSelected: null, // 渲染器中选中的部件\n  isYarnEnabled: false, // 是否启用纱向设置\n  partSelectedYarn: undefined as ({\n    rotation: number;\n    offset: { x: number; y: number; };\n    scale: { x: number; y: number; };\n    color: string,\n  } | undefined), // 选中部件的纱向设置\n  // 渲染器中选中的图案\n  patternSelected: null as ({\n    pattern: string,\n    rotation: number,\n    scale: number,\n    offsetX: number,\n    offsetY: number,\n  } | null),\n};\n\nconst state = Vue.observable(_state);\n\nexport async function init() {\n  const { data } = await getModelCTMList(state.modelId, state.workspaceId);\n  // console.log('data======', JSON.parse(JSON.stringify(data)));\n  state.ctmList = await Promise.all(data.map((item) => normalizeComponent(item, {\n    width: 1024,\n    height: 1024,\n    maxRatio: 1,\n  })));\n  state.ctmList.forEach(item => {\n    if (item.materialId === '1' && state.materialCache['1']) {\n      return;\n    }\n    state.materialCache[item.materialId] = item.material;\n  });\n  state.modelInfo = (await getModelInfo(state.modelId)).data;\n  // console.log('modelNumber======', state.modelInfo);\n}\n\nexport default state;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info-index\"},[_c('ClothesDetail',{attrs:{\"clothingId\":_vm.modelId}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\nimport ClothesDetail from '@/views/test/ClothesDetail.vue';\nimport { defineComponent } from '@vue/composition-api';\n\nconst InfoIndex = defineComponent({\n  name: 'InfoIndex',\n  components: {\n    ClothesDetail,\n  },\n  props: {\n    modelId: {\n      type: String,\n    },\n    workspaceId: {\n      type: String,\n    },\n    catalogId: {\n      type: String,\n    },\n  },\n});\n\nexport default InfoIndex;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=63cee7fb&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=63cee7fb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63cee7fb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-index\"},[_c('CollapseContainer',{attrs:{\"data\":{\n      material: { title: '我的面料' },\n      current: { title: '当前面料' },\n      property: { title: '属性栏', flex: false },\n    }},scopedSlots:_vm._u([{key:\"material\",fn:function(){return [_c('MaterialPanel',{staticClass:\"material-panel\"})]},proxy:true},{key:\"current\",fn:function(){return [_c('CurrentMaterial')]},proxy:true},{key:\"property\",fn:function(){return [_c('MaterialProperty',{staticClass:\"material-property\"})]},proxy:true}]),model:{value:(_vm.activePanels),callback:function ($$v) {_vm.activePanels=$$v},expression:\"activePanels\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"collapse-container\"},[_c('el-collapse',{staticClass:\"collapse-wrap\",on:{\"change\":function (activeNames) { return _vm.$emit('input', activeNames); }},model:{value:(_vm._value),callback:function ($$v) {_vm._value=$$v},expression:\"_value\"}},[_vm._l((_vm.$slots),function(slot,name){return [_c('el-collapse-item',{key:name,class:_vm.data && _vm.data[name] && _vm.data[name].flex === false ? '' : 'is-flex',attrs:{\"title\":_vm.titles[name],\"name\":name}},[_vm._t(name)],2)]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, computed } from '@vue/composition-api';\n\nconst CollapseContainer = defineComponent({\n  name: 'CollapseContainer',\n  components: {\n  },\n  props: {\n    data: {\n      type: Object as () => {\n        [slotName: string]: {\n          title: string;\n          flex: Boolean;\n        };\n      },\n    },\n    value: {\n      type: [String, Array],\n    },\n  },\n  setup(props, { slots }) {\n    const titles = computed(() => {\n      const map: { [key: string]: string } = {};\n      Object.keys(slots).forEach(name => {\n        map[name] = props.data?.[name]?.title || name;\n      });\n      return map;\n    });\n    const _value = ref(props.value);\n    return {\n      titles,\n      _value,\n    };\n  },\n});\n\nexport default CollapseContainer;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollapseContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CollapseContainer.vue?vue&type=template&id=256bc588&scoped=true&\"\nimport script from \"./CollapseContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./CollapseContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CollapseContainer.vue?vue&type=style&index=0&id=256bc588&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"256bc588\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-panel\"},[(_vm.materialRootCatalogRef)?_c('CatalogAndSearch',{attrs:{\"catalog\":_vm.materialRootCatalogRef,\"searchParams\":_vm.materialSearchOptionsRef,\"rootName\":\"我的面料\"},on:{\"select\":_vm.handleSelect,\"search\":_vm.handleSearch}}):_vm._e(),_c('MaterialList',{ref:\"materialList\",staticClass:\"material-list\",attrs:{\"rootCatalog\":_vm.materialCurrentCatalogRef,\"catalog\":_vm.materialCurrentCatalogRef,\"searchParams\":_vm.materialSearchOptionsRef,\"fetchMethod\":_vm.fetchNotMatChildrenWithPaging,\"display-mode\":_vm.displayMode},on:{\"drag\":function (e, data) { return _vm.handleMaterialDrag(e, data); },\"pick\":_vm.updateMaterial,\"update:displayMode\":_vm.updateDisplayMode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"catalog-search-wrapper\"},[_c('el-popover',{attrs:{\"placement\":\"bottom-start\"},model:{value:(_vm.catalogVisible),callback:function ($$v) {_vm.catalogVisible=$$v},expression:\"catalogVisible\"}},[_c('el-button',{staticClass:\"catalog-button flex-center drop-down-trigger\",attrs:{\"slot\":\"reference\",\"size\":\"medium\"},slot:\"reference\"},[_c('span',{staticClass:\"catalog-label text-one-line\",attrs:{\"title\":_vm.currentCatalogName}},[_vm._v(_vm._s(_vm.currentCatalogName))]),_c('i',{staticClass:\"catalog-arrow-icon el-icon-arrow-down\"})]),_c('div',{staticClass:\"tree-wrap\"},[_c('CatalogTree',{staticClass:\"catalog-tree\",attrs:{\"catalog\":_vm.catalog},on:{\"select\":_vm.handleSelect}})],1)],1),_c('SearchAndSelect',{ref:\"searchbar\",staticClass:\"search-bar\",attrs:{\"options\":[],\"value\":_vm.searchParams},on:{\"change\":function (event) { return _vm.$emit('search', event); }}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(!_vm.catalog || _vm.catalog.children === undefined),expression:\"!catalog || catalog.children === undefined\"}],staticClass:\"tree-wrapper\"},[_c('tree',{key:_vm.catalog.time,attrs:{\"expandable\":_vm.isCatalogExpandable,\"show-other\":true,\"data\":_vm.catalog,\"load\":_vm.getChildren},scopedSlots:_vm._u([{key:\"other\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('div',{staticClass:\"tree-other\",class:{\n          selected: _vm.currentCatalog === data.other,\n        },on:{\"click\":function($event){return _vm.selectCatalog(data.other)}}},[_c('i',{staticClass:\"iconfont icon-unclassified\"}),_c('span',{staticClass:\"tree-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.board.unclassified'))+\" \")])])]}},{key:\"default\",fn:function(ref){\n        var data = ref.data;\n        var isOpened = ref.isOpened;\nreturn [_c('div',{staticClass:\"tree-item\",class:{\n          selected: _vm.currentCatalog === data,\n        },attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.handleClick(data)}}},[_c('i',{staticClass:\"iconfont\",class:isOpened ? 'icon-folder-open' : 'icon-folder-close'}),_c('span',{staticClass:\"tree-title\"},[_vm._v(\" \"+_vm._s(_vm.appType2Name[data.appType] || data.name)+\" \")]),_c('div',{staticClass:\"tree-icons\"})])]}}])},[_c('div',{staticClass:\"tree-empty\",attrs:{\"slot\":\"empty\"},slot:\"empty\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.board.no_folder'))+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tree-wrapper\" v-loading=\"!catalog || catalog.children === undefined\">\n    <tree\n      :expandable=\"isCatalogExpandable\"\n      :show-other=\"true\"\n      :data=\"catalog\"\n      :key=\"catalog.time\"\n      :load=\"getChildren\">\n      <div class=\"tree-empty\" slot=\"empty\">\n        {{ $t('model.detail.board.no_folder') }}\n      </div>\n      <template v-slot:other=\"{data}\">\n        <div\n          class=\"tree-other\"\n          :class=\"{\n            selected: currentCatalog === data.other,\n          }\"\n          @click=\"selectCatalog(data.other)\">\n          <i class=\"iconfont icon-unclassified\" />\n          <span class=\"tree-title\">\n            {{ $t('model.detail.board.unclassified') }}\n          </span>\n          <!-- <span class=\"tree-count\"\n            v-if=\"data.fileCount\" style=\"margin-left: .5em\">{{\n              data.fileCount > 100 ? 99 : data.fileCount\n            }}</span> -->\n        </div>\n      </template>\n      <template v-slot=\"{ data, isOpened }\">\n        <div class=\"tree-item\"\n          @click=\"handleClick(data)\"\n          :class=\"{\n            selected: currentCatalog === data,\n          }\"\n          tabindex=\"0\">\n          <i class=\"iconfont\"\n            :class=\"isOpened ? 'icon-folder-open' : 'icon-folder-close'\" />\n          <span class=\"tree-title\">\n            {{ appType2Name[data.appType] || data.name }}\n          </span>\n          <!-- <span class=\"tree-count\" v-if=\"data.allFileCount\">{{\n            data.allFileCount > 100 ? 99 : data.allFileCount\n          }}</span> -->\n          <div class=\"tree-icons\">\n          </div>\n        </div>\n\n      </template>\n    </tree>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { defineComponent, ref } from '@vue/composition-api';\nimport Tree from '@/components/Tree.vue';\nimport { appType2Name } from '@/views/file-list/components/catalog/app-type-to-name';\nimport axios from '@/utils/axios';\n\nconst CatalogTree = defineComponent({\n  name: 'CatalogTree',\n  components: {\n    Tree,\n  },\n  props: {\n    catalog: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props, { emit }) {\n    const _cacheCatalogs = {};\n    const currentCatalog = ref();\n\n    function addOther(_item) {\n      const toJSON = () => {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { other, item: _i, ...json } = _item;\n        return json;\n      };\n      Vue.set(_item, 'other', { ..._item, item: _item, toJSON });\n      _item.toJSON = toJSON;\n    }\n    function cache(map, _item) {\n      let _cache = map[_item.id];\n      if (_cache) {\n        Object.assign(_cache, _item);\n      } else {\n        map[_item.id] = _item;\n        _cache = _item;\n      }\n      return _cache;\n    }\n\n    async function selectCatalog(item) {\n      currentCatalog.value = item;\n      console.log('selectCatalog other======', item);\n      emit('select', item);\n    }\n\n    function handleClick(item) {\n      selectCatalog(item);\n      console.log('handleClick=======', item);\n    }\n\n    async function fetchChildCatalog(item) {\n      let children = (await axios.get('bff-center/cloud-disk/list/getRenderMaterialChildCatalogBy', {\n        params: {\n          catalogId: item.id,\n        },\n        headers: {\n          groupAppId: item.workspaceId ?? '',\n        },\n      })).data;\n      if (children) {\n        children = children.map((_item) => {\n          _item.entryAppType = item.entryAppType;\n          _item.parentFolderId = _item.parentFolderId || item.id;\n          _item.workspaceId = item.workspaceId;\n          addOther(item);\n          return cache(_cacheCatalogs, _item);\n        });\n\n        if (item.children) {\n          item.children.splice(0, item.children.length, ...children);\n          // eslint-disable-next-line prefer-destructuring\n          children = item.children;\n        }\n        item.folderCount = children.length;\n      }\n      Vue.set(item, 'children', children);\n      return item.children;\n    }\n\n    function isCatalogExpandable(item) {\n      return item.folderCount;\n    }\n\n    async function getChildren(item) {\n      item.folderCount = Infinity;\n      let { children } = item;\n      // console.log('getChildren=====', children, isCatalogExpandable(item));\n      if (!children) {\n        if (isCatalogExpandable(item)) {\n          children = await fetchChildCatalog(item);\n          // console.log('getChildren2======', children);\n        } else {\n          children = [];\n          // console.log('getChildren3======', children);\n          Vue.set(item, 'children', children);\n        }\n      }\n      return children;\n    }\n\n\n    return {\n      isCatalogExpandable,\n      getChildren,\n      currentCatalog,\n      selectCatalog,\n      handleClick,\n      appType2Name,\n    };\n  },\n});\n\nexport default CatalogTree;\n</script>\n\n<style lang=\"scss\" scoped>\n.tree-wrapper {\n  /deep/ .arrow {\n    height: 24px;\n    line-height: 24px;\n  }\n  /deep/ .indent {\n    width: 24px;\n    .indent-line::before {\n      left: 11px;\n    }\n  }\n  /deep/ .sublist {\n    padding-bottom: 0;\n  }\n  /deep/ .other {\n    margin-top: 0;\n  }\n\n  .tree-other,\n  .tree-item {\n    $hoverColor: #d7e4fb;\n    $borderColor: #eee;\n\n    white-space: nowrap;\n    // line-height: 1.8;\n    // cursor: pointer;\n    // &.selected, &:hover {\n    //   background-color: #f5f7fa;\n    // }\n    // &:active, &:focus {\n    //   outline: none;\n    // }\n\n    color: #777;\n    align-content: center;\n    align-items: center;\n    display: flex;\n    line-height: 24px;\n    cursor: pointer;\n    padding-left: 5px;\n    padding-right: 5px;\n    overflow: hidden;\n    position: relative;\n    border-radius: 4px;\n\n    .iconfont {\n      margin-right: 2px;\n    }\n\n    &:hover,\n    &:focus {\n      outline: none;\n      background-color: $hoverColor;\n      color: $color-primary;\n      border-color: darken($hoverColor, 10%);\n    }\n    &.selected {\n      color: white;\n      background-color: $color-primary;\n      border-color: $color-primary;\n      .dragover > .content > .item-wrapper > & {\n        color: white;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CatalogTree.vue?vue&type=template&id=218c3ba6&scoped=true&\"\nimport script from \"./CatalogTree.vue?vue&type=script&lang=js&\"\nexport * from \"./CatalogTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CatalogTree.vue?vue&type=style&index=0&id=218c3ba6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"218c3ba6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"catalog-search-wrapper\">\n    <el-popover\n      placement=\"bottom-start\"\n      v-model=\"catalogVisible\">\n      <el-button\n          slot=\"reference\"\n          size='medium'\n          class='catalog-button flex-center drop-down-trigger'\n        >\n        <span class=\"catalog-label text-one-line\" :title=\"currentCatalogName\">{{ currentCatalogName }}</span>\n        <i class='catalog-arrow-icon el-icon-arrow-down'></i>\n      </el-button>\n      <div class=\"tree-wrap\">\n        <CatalogTree\n          class=\"catalog-tree\"\n          :catalog=\"catalog\"\n          @select=\"handleSelect\"\n        />\n      </div>\n    </el-popover>\n    <SearchAndSelect ref='searchbar'\n      class=\"search-bar\"\n      :options=\"[]\"\n      :value=\"searchParams\"\n      @change=\"event => $emit('search', event)\"/>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport {\n  defineComponent, ref, computed, onMounted,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\nimport SearchAndSelect from '@/views/file-list/components/catalog/Search&Select.vue';\nimport { appType2Name } from '@/views/file-list/components/catalog/app-type-to-name';\nimport CatalogTree from './CatalogTree.vue';\n\nconst CatalogAndSearch = defineComponent({\n  name: 'CatalogAndSearch',\n  components: {\n    CatalogTree,\n    SearchAndSelect,\n  },\n  props: {\n    catalog: {\n      type: Object,\n      required: true,\n    },\n    searchParams: {\n      type: Object,\n      default() {\n        return {\n          filters: {},\n          keyword: '',\n        };\n      },\n    },\n    rootName: {\n      type: String,\n      default: '我的材料',\n    },\n  },\n  setup(props, { emit }) {\n    const catalogVisible = ref(false);\n    const currentCatalog = ref();\n    const currentCatalogName = computed(() => {\n      if (currentCatalog.value) {\n        return appType2Name[currentCatalog.value.appType] || currentCatalog.value.name || props.rootName;\n      }\n      return props.rootName;\n    });\n    function handleSelect(catalog) {\n      currentCatalog.value = catalog;\n      catalogVisible.value = false;\n      emit('select', catalog);\n    }\n    return {\n      catalogVisible,\n      handleSelect,\n      currentCatalog,\n      currentCatalogName,\n    };\n  },\n});\n\nexport default CatalogAndSearch;\n</script>\n\n<style lang=\"scss\" scoped>\n.tree-wrap {\n  width: 294px;\n  overflow: auto;\n}\n.catalog-search-wrapper {\n  display: flex;\n}\n.catalog-button {\n  height: 32px;\n  padding: 8px 6px;\n  width: 85px;\n  margin-right: 8px;\n  .catalog-label {\n    display: inline-block;\n    vertical-align: middle;\n    width: 60px;\n    font-size: 12px;\n  }\n  .catalog-arrow-icon {\n    margin-left: 0;\n    padding-right: 0;\n    font-size: 12px;\n    vertical-align: middle;\n  }\n}\n.search-bar {\n\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogAndSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CatalogAndSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CatalogAndSearch.vue?vue&type=template&id=23c16655&scoped=true&\"\nimport script from \"./CatalogAndSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./CatalogAndSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CatalogAndSearch.vue?vue&type=style&index=0&id=23c16655&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23c16655\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, computed } from '@vue/composition-api';\n// import {\n//   getPanelBoardList,\n// } from '@/api/catalogue';\nimport useLoader from '_/composables/use-loader';\nimport axios from '@/utils/axios';\nimport { getSetting, setSetting } from '@/loaders/setting';\nimport {\n  fetchChildrenWithPaging, fetchMatChildrenWithPaging, fetchNotMatChildrenWithPaging,\n} from '@/loaders/catalog';\nimport MaterialList from '@/views/model/detail/board/MaterialList.vue';\nimport draggingData from '@/utils/dragging-data';\nimport useClosest from '_/composables/use-closest';\n// import store from '@/views/clothes/store';\nimport CatalogAndSearch from '../components/CatalogAndSearch.vue';\n\nconst MaterialPanel = defineComponent({\n  name: 'MaterialPanel',\n  components: {\n    MaterialList,\n    CatalogAndSearch,\n  },\n  props: {\n  },\n  setup(props, context) {\n    const clothesDetail = useClosest('ClothesDetail');\n    // console.log('clothesDetail=======', clothesDetail, store.workspaceId);\n\n    const materialCurrentCatalogRef = ref();\n    const materialRootCatalogRef = useLoader(async () => {\n      const { 12: patternCatalogId } = (await axios.get('/bff-center/cloud-disk/list/getCatalogIdByAppType', {\n        params: {\n          appTypeCodeList: '12',\n        },\n      })).data;\n\n      const result = {\n        id: patternCatalogId,\n        relateType: 1,\n      };\n      materialCurrentCatalogRef.value = result;\n      return result;\n    }, {}, {\n      initialValue: null,\n    });\n    // console.log('materialRootCatalogRef=======', materialRootCatalogRef);\n\n    // const createBoardCatalogRef = useLoader(async () => {\n    //   const { createBoardCatalog } = (await getPanelBoardList(store.workspaceId)).data;\n    //   return createBoardCatalog;\n    // }, {}, {\n    //   initialValue: null,\n    // });\n\n    // console.log('createBoardCatalog========', createBoardCatalogRef);\n\n    const materialSearchOptionsRef = ref({\n      filters: {},\n      keyword: '',\n    });\n\n    const displayMode = computed(() => {\n      return getSetting('modelDetailViewType', 'flat');\n    });\n    function updateDisplayMode(v) {\n      setSetting('modelDetailViewType', v);\n    }\n\n    function handleSelect(catalog) {\n      // console.log('handleSelect=======', catalog);\n      materialCurrentCatalogRef.value = catalog;\n    }\n\n    function handleSearch(v) {\n      // console.log('handleSearch=======', v);\n      const searchParams = {\n        filters: {},\n        keyword: v.keyword,\n      };\n      materialSearchOptionsRef.value = searchParams;\n    }\n\n\n    function handleMaterialDrag(e, data) {\n      // console.log('handle drag========', data);\n      if (data.length) {\n        draggingData.set({\n          type: 'catalog',\n          command: 'cut',\n          parent: materialCurrentCatalogRef.value,\n          data,\n        });\n      }\n    }\n\n    function updateMaterial(catalog) {\n      // console.log('updateMaterial catalog========', catalog.fileInfo);\n      clothesDetail.value.updateMaterial(catalog.fileInfo);\n    }\n\n    return {\n      materialCurrentCatalogRef,\n      materialRootCatalogRef,\n      handleSelect,\n      handleSearch,\n      materialSearchOptionsRef,\n      displayMode,\n      updateDisplayMode,\n      handleMaterialDrag,\n      updateMaterial,\n      fetchNotMatChildrenWithPaging,\n    };\n  },\n});\n\nexport default MaterialPanel;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialPanel.vue?vue&type=template&id=6c381d66&scoped=true&\"\nimport script from \"./MaterialPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialPanel.vue?vue&type=style&index=0&id=6c381d66&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c381d66\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Scrollable',{staticClass:\"list-wrapper\",staticStyle:{\"height\":\"100%\"},attrs:{\"y\":\"\"}},[_c('div',{staticClass:\"current-material\"},[_c('transition-group',{staticClass:\"material-item-list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.materialList),function(item){return _c('li',{key:item.material.id,staticClass:\"item\"},[_c('MaterialItem',{attrs:{\"material\":item.material,\"count\":item.count},on:{\"replace\":_vm.handleReplace,\"delete\":_vm.handleDelete}})],1)}),0)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-item\",on:{\"dragover\":function($event){$event.preventDefault();},\"drop\":_vm.handleDrop}},[_c('figure',{staticClass:\"img-wrapper\"},_vm._l((_vm.imgs),function(_,index){return _c('img',{key:index,staticClass:\"material-img\",style:({width: _vm.imgSize+'px', height: _vm.imgSize+'px', transform: (\"translate(\" + (index*10) + \"px, \" + ((_vm.count-1-index)*10) + \"px)\"), zIndex: (\"\" + (100-index))}),attrs:{\"src\":_vm.material.imgJson.flat}})}),0),_c('span',{staticClass:\"material-name\"},[_vm._v(_vm._s(_vm.material.name || _vm.material.materialName))]),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":_vm.handleDelete}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"material-item\" @dragover.prevent @drop=\"handleDrop\">\n    <figure class=\"img-wrapper\">\n      <img v-for=\"(_, index) of imgs\" :key=\"index\" class=\"material-img\" :src=\"material.imgJson.flat\"\n        :style=\"{width: imgSize+'px', height: imgSize+'px', transform: `translate(${index*10}px, ${(count-1-index)*10}px)`, zIndex: `${100-index}`}\"\n      >\n    </figure>\n    <span class=\"material-name\">{{material.name || material.materialName}}</span>\n    <i class=\"el-icon-delete\" @click=\"handleDelete\"></i>\n  </div>\n</template>\n\n<script>\nimport draggingData from '@/utils/dragging-data';\n\nexport default {\n  name: 'MaterialItem',\n  props: {\n    material: {\n      type: Object,\n      required: true,\n    },\n    count: {\n      type: Number,\n      default: 2,\n    },\n  },\n  computed: {\n    /** @return {object} */\n    renderer() {\n      const model = this.$closest('model');\n      if (model) {\n        return model.renderer;\n      }\n      return null;\n    },\n    /** @return {[]} */\n    imgs() {\n      if (this.count >= 4) return Array(4);\n      return Array(this.count);\n    },\n    /** @return {number} */\n    imgSize() {\n      return 42 - (this.count - 1) * 10;\n    },\n  },\n  methods: {\n    handleDrop() {\n      const targetMaterial = draggingData.datum;\n      // console.log('targetMaterial====', targetMaterial, draggingData);\n      if (this.material && targetMaterial) {\n        if (this.renderer) {\n          this.renderer.replaceMaterial(this.material, targetMaterial);\n        } else {\n          this.$emit('replace', this.material, targetMaterial);\n        }\n      }\n    },\n    handleDelete() {\n      if (this.renderer) {\n        this.renderer.deleteMaterial(this.material);\n      } else {\n        this.$emit('delete', this.material);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.material-item {\n  position: relative;\n  display: flex;\n  height: 62px;\n  border: 1px solid #d8d8d8;\n  margin-bottom: 8px;\n  padding: 10px 0 10px 10px;\n  .img-wrapper {\n    position: relative;\n    width: 42px;\n    height: 42px;\n  }\n  .material-img {\n    position: absolute;\n  }\n  .material-name {\n    margin-left: 10px;\n    line-height: 16px;\n    font-size: 12px;\n    font-weight: 400;\n  }\n  .el-icon-delete {\n    position: absolute;\n    right: 17px;\n    bottom: 8px;\n    font-size: 14px;\n    opacity: 0;\n    cursor: pointer;\n    &:hover{\n      &::before {\n        color: #2878ff;\n      }\n    }\n  }\n  &:hover {\n    border-color: #2878ff;\n    .el-icon-delete {\n      opacity: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialItem.vue?vue&type=template&id=a05eff14&scoped=true&\"\nimport script from \"./MaterialItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialItem.vue?vue&type=style&index=0&id=a05eff14&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a05eff14\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Scrollable class=\"list-wrapper\" y style=\"height: 100%\">\n    <div class=\"current-material\">\n      <transition-group class=\"material-item-list\" name=\"list\" tag=\"ul\">\n        <li class=\"item\" v-for=\"(item) of materialList\" :key=\"item.material.id\">\n          <MaterialItem :material=\"item.material\" :count=\"item.count\"\n            @replace=\"handleReplace\"\n            @delete=\"handleDelete\"/>\n        </li>\n      </transition-group>\n    </div>\n  </Scrollable>\n</template>\n\n<script>\n// import Collapse from '@/components/collapse/Collapse';\nimport Scrollable from '@/components/Scrollable';\n// import MaterialItem from './MaterialItem';\nimport MaterialItem from '@/views/model/detail/board/MaterialItem.vue';\nimport store from '@/views/clothes/store';\n\nexport default {\n  name: 'CurrentMaterial',\n  props: {\n  },\n  components: {\n    MaterialItem,\n    // Collapse,\n    Scrollable,\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    /** @return {[]} */\n    ctmList() {\n      // return this.$closest('model').renderer.ctmList;\n      return store.ctmList;\n    },\n    materialList() {\n      const hash = {};\n      const res = [];\n      const subMaterialNames = ['附件', 'Stitch'];\n      // 统计面料使用次数\n      this.ctmList.forEach(item => {\n        if (!item.materialId) {\n          return;\n        }\n        if (subMaterialNames.includes(item.ctmName)) {\n          return;\n        }\n        if (hash[item.materialId]) {\n          res.find(mt => {\n            if (mt.material.id === item.materialId) {\n              if (mt.count < 3) mt.count++;\n              return true;\n            }\n            return false;\n          });\n        } else {\n          hash[item.materialId] = true;\n          res.push({\n            material: item.material,\n            count: 1,\n          });\n        }\n      });\n      // 过滤原始面料\n      return res.filter(item => {\n        return item.material.id !== '1';\n      });\n    },\n  },\n  methods: {\n    handleDelete(material) {\n      this.$closest('ClothesDetail').deleteMaterial(material);\n    },\n    handleReplace(originMaterial, targetMaterial) {\n      this.$closest('ClothesDetail').replaceMaterial(originMaterial, targetMaterial);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.list-wrapper {\n  min-height: 192px;\n  .current-material {\n    .list-enter-active, .list-leave-active {\n      transition: all .3s;\n    }\n    .list-enter, .list-leave-to {\n      opacity: 0;\n      transform: translateX(-50px);\n    }\n    .list-move {\n      transition: all .3s;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentMaterial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurrentMaterial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurrentMaterial.vue?vue&type=template&id=4312e4a9&scoped=true&\"\nimport script from \"./CurrentMaterial.vue?vue&type=script&lang=js&\"\nexport * from \"./CurrentMaterial.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CurrentMaterial.vue?vue&type=style&index=0&id=4312e4a9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4312e4a9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-property\"},[_c('el-form',{attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"disabled\":!_vm.isYarnEnabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('section',[_c('h5',[_vm._v(\"角度\")]),_c('el-form-item',{staticClass:\"form-item-rotation\",attrs:{\"prop\":\"rotation\"}},[_c('AngleSelector',{staticClass:\"rotation-selector\",attrs:{\"disabled\":!_vm.isYarnEnabled,\"rotation\":_vm.form.rotation},on:{\"rotate\":_vm.handleRotateChange}}),_c('el-input',{staticClass:\"rotation-input\",attrs:{\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.rotation),callback:function ($$v) {_vm.$set(_vm.form, \"rotation\", _vm._n($$v))},expression:\"form.rotation\"}},[_c('span',{attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"度\")])])],1)],1),_c('section',{staticClass:\"section-offset\"},[_c('h5',[_vm._v(\"坐标偏移\")]),_c('el-form-item',{staticClass:\"form-item-offset\",attrs:{\"prop\":\"offsetX\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"step\":0.01,\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.offsetX),callback:function ($$v) {_vm.$set(_vm.form, \"offsetX\", $$v)},expression:\"form.offsetX\"}}),_c('span',{staticClass:\"input-suffix\"},[_vm._v(\"X\")])],1),_c('el-form-item',{staticClass:\"form-item-offset\",attrs:{\"prop\":\"offsetY\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"step\":0.01,\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.offsetY),callback:function ($$v) {_vm.$set(_vm.form, \"offsetY\", $$v)},expression:\"form.offsetY\"}}),_c('span',{staticClass:\"input-suffix\"},[_vm._v(\"Y\")])],1)],1)]),_c('div',{staticClass:\"bottom-bar\"},[_c('el-checkbox',{staticClass:\"yarn-check-box\",on:{\"change\":_vm.handleYarnEnableChange},model:{value:(_vm.isYarnEnabled),callback:function ($$v) {_vm.isYarnEnabled=$$v},expression:\"isYarnEnabled\"}},[_c('span',{staticClass:\"check-label\"},[_vm._v(\"纱向设置\")])]),_c('span',{staticClass:\"yarn-reset-btn\",class:!_vm.isYarnEnabled ? 'is-disabled': '',on:{\"click\":function($event){return _vm.resetYarn()}}},[_c('i',{staticClass:\"el-icon-refresh-right\"}),_vm._v(\"还原 \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"angle-wrapper\"},[_c('div',{staticClass:\"angle-content\"},[_c('div',{ref:\"disc\",staticClass:\"angle-disc\",on:{\"mousemove\":_vm.offsetComputer,\"click\":_vm.throttleRotate}},[_c('div',{staticClass:\"disc-center\"},[_c('span',{staticClass:\"angle-pointer\",style:({transform: (\"rotate(\" + _vm.rotation + \"deg) translate(-50%)\")})})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"angle-wrapper\">\n    <div class=\"angle-content\">\n      <div class=\"angle-disc\" ref=\"disc\" @mousemove=\"offsetComputer\" @click=\"throttleRotate\">\n        <div class=\"disc-center\">\n          <span class=\"angle-pointer\" :style=\"{transform: `rotate(${rotation}deg) translate(-50%)`}\"\n          ></span>\n        </div>\n      </div>\n\n      <!-- <el-input size=\"mini\" class=\"angle-input\" :value=\"rotation\" @input=\"(v) => $emit('rotate', v)\" @blur=\"handleBlur\">\n        <span slot=\"suffix\">{{ unit }}</span>\n      </el-input> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport { throttle } from 'throttle-debounce';\n\nconst INVALID_DEG = 'invalid rotation';\n\nexport default {\n  name: 'AngleSelector',\n  props: {\n    unit: {\n      type: String,\n      default: '度',\n    },\n    rotation: {\n      default: '0',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      angle: '0',\n      offsetX: 0,\n      offsetY: 0,\n      isRotating: false,\n    };\n  },\n  computed: {\n    /** @return { any } */\n    throttleRotate() {\n      return throttle(1000, this.rotate);\n    },\n  },\n  methods: {\n    offsetComputer(e) {\n      this.offsetX = e.offsetX;\n      this.offsetY = e.offsetY;\n    },\n    rotate() {\n      if (this.disabled) {\n        return;\n      }\n      this.updateRotation();\n    },\n    // 更新角度\n    updateRotation() {\n      const deg = this.getRotation(this.offsetX, this.offsetY);\n      if (deg === INVALID_DEG) return;\n      const formattedRotation = this.formatRotation(Number(deg));\n      this.$emit('rotate', this.formatDeg(formattedRotation));\n    },\n    getRotation(offsetX, offsetY) {\n      // 防止初始闪烁\n      if (offsetX === 0 || offsetX === 1) return INVALID_DEG;\n      let deg = 0;\n      let x = Number(offsetX) - 19.5;\n      let y = 19.5 - Number(offsetY);\n      if (x > 0 && y > 0) {\n        deg = (Math.atan(x / y) / Math.PI * 180).toFixed(0);\n      } else if (x > 0 && y < 0) {\n        y = Math.abs(y);\n        deg = (90 + Math.atan(y / x) / Math.PI * 180).toFixed(0);\n      } else if (x < 0 && y < 0) {\n        x = Math.abs(x);\n        y = Math.abs(y);\n        deg = (180 + Math.atan(x / y) / Math.PI * 180).toFixed(0);\n      } else {\n        x = Math.abs(x);\n        deg = (270 + Math.atan(y / x) / Math.PI * 180).toFixed(0);\n      }\n      return deg;\n    },\n    // 以45度为步长跳转到指定区域\n    formatRotation(deg) {\n      let targetRotation = 0;\n      let min = 1000;\n      for (let rot = 0; rot <= 360; rot += 45) {\n        if (deg < rot) {\n          if (Math.abs(deg - rot) < min) {\n            targetRotation = rot;\n          }\n          break;\n        }\n        targetRotation = rot;\n        min = deg - rot;\n      }\n      return targetRotation;\n    },\n    getOffset(deg) {\n      const positive = this.formatDeg(deg + 45);\n      const negative = this.formatDeg(deg - 45);\n      return Math.abs(positive - this.rotation) < Math.abs(negative - this.rotation)\n        ? -45 : 45;\n    },\n    formatDeg(deg) {\n      return (deg + 360) % 360;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.angle-wrapper {\n  font-weight: 400;\n  color: #222;\n  .angle-content {\n    display: flex;\n    align-items: center;\n    height: 39px;\n    .angle-disc {\n      display: flex;\n      flex-shrink: 0;\n      justify-content: center;\n      align-items: center;\n      width: 39px;\n      height: 39px;\n      box-sizing: border-box;\n      border: 1px solid #868686;\n      border-radius: 50%;\n      .disc-center {\n        position: relative;\n        display: inline-block;\n        width: 5px;\n        height: 5px;\n        border-radius: 50%;\n        background: #868686;\n      }\n      .angle-pointer {\n        position: absolute;\n        left: 50%;\n        top: -12.5px;\n        display: inline-block;\n        height: 15px;\n        width: 1px;\n        background: #868686;\n        transform-origin: center bottom;\n      }\n    }\n\n    .angle-input {\n      margin-left: 8px;\n      height: 24px;\n      width: 64px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AngleSelector.vue?vue&type=template&id=dcbaee98&scoped=true&\"\nimport script from \"./AngleSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./AngleSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AngleSelector.vue?vue&type=style&index=0&id=dcbaee98&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dcbaee98\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed, reactive, watch,\n} from '@vue/composition-api';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport AngleSelector from '@/components/base/AngleSelector.vue';\nimport store from '@/views/clothes/store';\nimport useClosest from '_/composables/use-closest';\nimport ClothesDetail from '@/views/clothes/detail/index.vue';\n\nexport type YarnForm = {\n  rotation: number,\n  offsetX: number,\n  offsetY: number,\n};\n\nfunction transYarn2Form(yarn: {\n  rotation: number,\n  offset: {\n    x: number,\n    y: number,\n  }\n}): YarnForm {\n  return {\n    rotation: yarn.rotation,\n    offsetX: yarn.offset.x,\n    offsetY: yarn.offset.y,\n  };\n}\n\nconst MaterialProperty = defineComponent({\n  name: 'MaterialProperty',\n  components: {\n    AngleSelector,\n  },\n  props: {\n    // data: {\n    //   type: Object as () => YarnForm,\n    //   default: () => ({\n    //     rotation: 0,\n    //     offsetX: 0,\n    //     offsetY: 0,\n    //   }),\n    // },\n  },\n  setup(props, { root }) {\n    const form = ref<YarnForm>({\n      rotation: 0,\n      offsetX: 0,\n      offsetY: 0,\n    });\n\n    function resetFormData() {\n      form.value = {\n        rotation: 0,\n        offsetX: 0,\n        offsetY: 0,\n      };\n    }\n\n    const offsetUnits = [\n      { label: 'mm', _value: 0 },\n      { label: 'cm', _value: 1 },\n    ];\n    const offsetUnitSelected = ref(1);\n\n    const rules = {\n      rotation: [\n        validator2ElemRule((value: number | string) => {\n          if (Number(value) < 0 || Number(value) > 360) {\n            throw new Error('请输入0~360的数值');\n          }\n        }),\n        // { type: 'number', message: '必须为数字' },\n      ],\n      offsetX: [\n        validator2ElemRule((value: number | string) => {\n          if (Number(value) < -1 || Number(value) > 1) {\n            throw new Error('请输入-1~1的数值');\n          }\n        }),\n        // validator2ElemRule(isFilled, { message: i18n.t('order_management.form.err_not_empty') }),\n        // { type: 'number', message: '必须为数字' },\n      ],\n      offsetY: [\n        validator2ElemRule((value: number | string) => {\n          if (Number(value) < -1 || Number(value) > 1) {\n            throw new Error('请输入-1~1的数值');\n          }\n        }),\n        // { type: 'number', message: '必须为数字' },\n\n      ],\n    };\n\n    // function yarnEnableChange(value) {\n    //   console.log('yarnEnableChange======', value);\n    // }\n    const clothesDetail = useClosest<typeof ClothesDetail>('ClothesDetail');\n    const renderer = computed(() => {\n      return clothesDetail.value?.renderer;\n    });\n\n    // watch(() => form.value, (formData) => {\n    //   console.log('form change======', formData, renderer.value);\n    //   emit('yarn-change', formData);\n    //   if (JSON.stringify(formData) !== JSON.stringify(store.partSelectedYarn)) {\n    //     renderer.value.updateYarn(formData);\n    //   }\n    // }, {\n    //   deep: true,\n    // });\n    function formChange() {\n      renderer.value?.updateYarn(form.value);\n    }\n\n    const isYarnEnabled = ref(false);\n    // const disabled = computed(() => {\n    //   return store.partSelected === null;\n    // });\n    function resetYarn() {\n      if (isYarnEnabled.value) {\n        resetFormData();\n        renderer.value?.updateYarn(form.value);\n      }\n    }\n    watch(() => store.partSelected, part => {\n      if (!part) {\n        isYarnEnabled.value = false;\n        store.isYarnEnabled = false;\n      }\n    });\n    watch(() => store.partSelectedYarn, yarnData => {\n      if (yarnData) {\n        form.value = transYarn2Form(yarnData);\n      } else {\n        resetFormData();\n      }\n    });\n    function handleYarnEnableChange(value: boolean) {\n      // console.log('handleYarnEnableChange=====', value, isYarnEnabled.value, store.partSelected);\n      if (value && store.partSelected === null) {\n        root.$message.warning('请先选中服装部件');\n        root.$nextTick(() => {\n          isYarnEnabled.value = false;\n        });\n        return;\n      }\n      store.isYarnEnabled = value;\n      if (value) {\n        root.$nextTick(() => {\n          if (store.partSelectedYarn) {\n            form.value = transYarn2Form(store.partSelectedYarn);\n          }\n        });\n      } else {\n        resetFormData();\n      }\n    }\n\n    function handleRotateChange(angle: number) {\n      form.value.rotation = angle;\n      formChange();\n    }\n\n    return {\n      form,\n      rules,\n      isYarnEnabled,\n      handleRotateChange,\n      offsetUnits,\n      offsetUnitSelected,\n      handleYarnEnableChange,\n      formChange,\n      resetYarn,\n    };\n  },\n});\n\nexport default MaterialProperty;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialProperty.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialProperty.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialProperty.vue?vue&type=template&id=2178d70e&scoped=true&\"\nimport script from \"./MaterialProperty.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialProperty.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialProperty.vue?vue&type=style&index=0&id=2178d70e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2178d70e\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, watch } from '@vue/composition-api';\nimport store from '@/views/clothes/store';\nimport CollapseContainer from '../components/CollapseContainer.vue';\nimport MaterialPanel from './MaterialPanel.vue';\nimport CurrentMaterial from './CurrentMaterial.vue';\nimport MaterialProperty from './MaterialProperty.vue';\n\nconst MaterialIndex = defineComponent({\n  name: 'MaterialIndex',\n  components: {\n    CollapseContainer,\n    MaterialPanel,\n    CurrentMaterial,\n    MaterialProperty,\n  },\n  props: {\n  },\n  setup(props, context) {\n    const activePanels = ref(['material']);\n    watch(() => store.partSelected, part => {\n      if (part) {\n        if (activePanels.value.indexOf('property') === -1) {\n          activePanels.value.push('property');\n        }\n      }\n    });\n\n    return {\n      activePanels,\n    };\n  },\n});\n\nexport default MaterialIndex;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fb2835f4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=fb2835f4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb2835f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pattern-index\"},[_c('CollapseContainer',{attrs:{\"data\":{\n      pattern: { title: '图案工艺' },\n      property: { title: '属性栏', flex: false },\n    }},scopedSlots:_vm._u([{key:\"pattern\",fn:function(){return [_c('PatternPanel',{staticClass:\"pattern-panel\"})]},proxy:true},{key:\"property\",fn:function(){return [_c('PatternProperty',{staticClass:\"material-property\"})]},proxy:true}]),model:{value:(_vm.activePanels),callback:function ($$v) {_vm.activePanels=$$v},expression:\"activePanels\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pattern-panel\"},[_c('SearchAndSelect',{ref:\"searchbar\",staticClass:\"search-bar\",attrs:{\"options\":[]},on:{\"change\":_vm.handleSearch}}),_c('OperationBar',{on:{\"upload\":_vm.handleUpload,\"delete\":_vm.handleDelete}}),_c('PatternList',{ref:\"patternListRef\",staticClass:\"pattern-list\",attrs:{\"rootCatalog\":_vm.patternCatalogRef,\"catalog\":_vm.patternCatalogRef,\"searchParams\":_vm.searchOptionsRef},on:{\"drag\":function (e, data) { return _vm.handleMaterialDrag(e, data); }}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"operation-bar\"},[_c('i',{staticClass:\"opt-btn iconfont icon-upload\",on:{\"click\":function($event){return _vm.$emit('upload')}}}),_c('i',{staticClass:\"opt-btn iconfont iconshanchu\",on:{\"click\":function($event){return _vm.$emit('delete')}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { defineComponent, computed, ref } from '@vue/composition-api';\n\nconst OperationBar = defineComponent({\n  name: 'OperationBar',\n  components: {},\n  props: {},\n  setup(props) {\n    return {\n    };\n  },\n});\nexport default OperationBar;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OperationBar.vue?vue&type=template&id=184134dc&scoped=true&\"\nimport script from \"./OperationBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./OperationBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OperationBar.vue?vue&type=style&index=0&id=184134dc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"184134dc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-list\"},[(_vm.loadingPage === 1)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticClass:\"loading\"}):(!_vm.materialCatalogs || !_vm.materialCatalogs.length)?_c('div',{staticClass:\"empty\"},[_vm._t(\"empty\",[_c('el-divider',{key:\"divider\"},[_vm._v(_vm._s(_vm.$t(\"material-mall.no_more\")))])])],2):_c('Scrollable',{staticClass:\"list-wrapper\",attrs:{\"y\":\"\",\"outsideScrollbar\":\"\"}},[_c('transition-group',{staticClass:\"list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"},on:{\"click\":function($event){$event.stopPropagation();}}},_vm._l((_vm.materialCatalogs),function(catalog,idx){return _c('li',{key:catalog.id,staticClass:\"item\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){return _vm.handleListDragStart($event)}}},[_c('PatternItem',_vm._g({attrs:{\"selected\":_vm.selected.includes(catalog),\"display-mode\":_vm.displayMode,\"material\":catalog},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('update:selected', !_vm.selected)},\"pick\":function () { return _vm.$emit('pick', catalog); },\"drag\":function($event){return _vm.clearAndSelect(catalog)},\"show-info\":_vm.handleShoWDialogInfo,\"magnify\":function($event){return _vm.showMagnifyMode(idx)}}},{\n            'update:selected': function (selected) {\n              _vm.toggleSelected(catalog, selected);\n            }\n          }))],1)}),0),(_vm.canLoadMore)?_c('Intersect',{on:{\"enter\":_vm.loadMore}},[_c('div',{staticClass:\"load-more\"},[(_vm.loadingPage && _vm.loadingPage > 1)?[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"material-mall.loading\"))+\" \")]:[_vm._v(\" \"+_vm._s(_vm.$t(\"material-mall.scroll_to_load\"))+\" \")]],2)]):_c('el-divider',[_vm._v(_vm._s(_vm.$t(\"material-mall.no_more\")))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('figure',{staticClass:\"material-item\",class:{\n      selected: _vm.selected,\n      copying: _vm.isCopying,\n      moving: _vm.isMoving\n    },attrs:{\"tabindex\":\"0\",\"draggable\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.pick($event)},\"dragstart\":function($event){return _vm.handleDragStartMaterial(_vm.material, $event)},\"dragover\":function($event){$event.preventDefault();}}},[_c('BaseImage',{style:({\n        width: '96px',\n        height: '96px'\n      }),attrs:{\"lazy\":true,\"data-img-type\":\"material-list\",\"data-src\":_vm.imgSrc,\"fit\":\"contain\",\"src\":_vm.imgSrc}}),_c('i',{staticClass:\"iconfont icon-help\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('show-info', _vm.material)}}}),(_vm.selectable)?_c('i',{staticClass:\"iconfont icon-tick-circle\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('update:selected', !_vm.selected)}}}):_vm._e(),_c('i',{staticClass:\"iconfont icon-zoom\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('magnify', _vm.displayMode)}}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"placement\":\"bottom\"}},[_c('span',{staticClass:\"text-one-line\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(_vm._s(_vm.material.name))]),_c('span',{staticClass:\"material-item-name text-one-line\"},[_vm._v(\" \"+_vm._s(_vm.material.name)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <figure\n      class=\"material-item\"\n      :class=\"{\n        selected: selected,\n        copying: isCopying,\n        moving: isMoving\n      }\"\n      tabindex=\"0\"\n      @click.stop=\"pick\"\n      @dragstart=\"handleDragStartMaterial(material, $event)\"\n      @dragover.prevent\n      draggable\n    >\n      <BaseImage\n        :lazy=\"true\"\n        data-img-type=\"material-list\"\n        :data-src=\"imgSrc\"\n        fit=\"contain\"\n        :style=\"{\n          width: '96px',\n          height: '96px'\n        }\"\n        :src=\"imgSrc\"\n      />\n\n      <!-- 小功能按钮 -->\n      <i class=\"iconfont icon-help\" @click.stop=\"$emit('show-info', material)\" />\n      <i class=\"iconfont icon-tick-circle\" v-if=\"selectable\" @click.stop=\"$emit('update:selected', !selected)\" />\n      <i class=\"iconfont icon-zoom\" @click.stop=\"$emit('magnify', displayMode)\" />\n    </figure>\n    <el-tooltip class=\"item\" effect=\"dark\" placement=\"bottom\">\n      <span slot=\"content\" class=\"text-one-line\">{{ material.name }}</span>\n      <span class=\"material-item-name text-one-line\">\n        {{ material.name }}\n      </span>\n    </el-tooltip>\n  </div>\n</template>\n\n<script>\n\nimport BaseImage from '@/components/base/Image';\nimport clipboard from '@/utils/clipboard';\n\nimport i18n from 'i18next';\n\nexport default {\n  components: {\n    BaseImage,\n  },\n  props: {\n    selected: {\n      type: Boolean,\n    },\n    material: {\n      type: Object,\n      required: true,\n    },\n    // 面料的现实模式 flat/drape\n    displayMode: {\n      type: String,\n      default: 'drape',\n    },\n  },\n  computed: {\n    selectable() {\n      return this.$listeners['update:selected'];\n    },\n    imgSrc() {\n      return this.material?.fileInfo?.thumbnail;\n    },\n    inClipboard() {\n      return clipboard.type === 'catalog'\n        && clipboard.dataArr.some(catalog => catalog.fileInfo === this.material);\n    },\n    isCopying() {\n      return clipboard.command === 'copy'\n        && this.inClipboard;\n    },\n    isMoving() {\n      return clipboard.command === 'move'\n        && this.inClipboard;\n    },\n  },\n  methods: {\n    handleDragStartMaterial(data, e) {\n      this.$emit('drag', data, e);\n    },\n    pick() {\n      this.$emit('pick', this.material);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@keyframes blink {\n  50% {\n    border-color: $color-primary;\n  }\n}\n\n.material-item {\n  border: 1px solid transparent;\n  position: relative;\n  outline: none;\n  width: 96px;\n  height: 96px;\n  cursor: pointer;\n  overflow: hidden;\n  border-radius: 6px;\n  &:hover {\n    filter: drop-shadow(0 0 5px rgba(136, 149, 172, 0.4));\n  }\n  &.selected {\n    border-color: $color-primary;\n    .icon-tick-circle {\n      display: block;\n      color: $color-primary;\n    }\n  }\n\n  &.copying,\n  &.moving {\n    border-style: dashed;\n    animation: blink 2s infinite;\n  }\n  &.moving {\n    > * {\n      opacity: 0.5;\n    }\n  }\n  &:hover .iconfont,\n  &:hover .icon-zoom {\n    display: block;\n  }\n\n  .iconfont {\n    display: none;\n    position: absolute;\n    z-index: 2;\n    color: #848b97;\n  }\n\n  .icon-help {\n    left: 6px;\n    top: 6px;\n  }\n  .icon-help:hover {\n    color: #2878ff;\n  }\n  .icon-tick-circle {\n    right: 6px;\n    top: 6px;\n  }\n  .icon-zoom {\n    display: none;\n    text-align: center;\n    line-height: 18px;\n    right: 6px;\n    bottom: 6px;\n    width: 18px;\n    height: 18px;\n    background-color: rgba(132, 139, 151, 0.4);\n    border-radius: 2px;\n    color: #fff;\n    &:hover {\n      background-color: rgba(0, 0, 0, 0.6);\n    }\n  }\n}\n.material-item-name {\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 24px;\n  line-height: 24px;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  color: #333;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PatternItem.vue?vue&type=template&id=633b2d9a&scoped=true&\"\nimport script from \"./PatternItem.vue?vue&type=script&lang=js&\"\nexport * from \"./PatternItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PatternItem.vue?vue&type=style&index=0&id=633b2d9a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"633b2d9a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pattern-info\"},[(_vm.currentComp === 'PatternInfoView')?_c('PatternInfoView',{attrs:{\"pattern\":_vm.pattern}}):_vm._e(),(_vm.currentComp === 'PatternInfoEdit')?_c('PatternInfoEdit',{ref:\"patternFormRef\",attrs:{\"pattern\":_vm.pattern}}):_vm._e(),(_vm.currentComp === 'PatternInfoEdit')?[_c('div',{staticClass:\"btn-wrapper\"},[_c('el-button',{on:{\"click\":function($event){_vm.currentComp = 'PatternInfoView'}}},[_vm._v(_vm._s(_vm.$t('public.dialog.cancel')))]),_c('el-button',{staticClass:\"edit\",on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(_vm.$t('public.dialog.confirm')))])],1)]:[_c('div',{staticClass:\"btn-wrapper\"},[_c('el-button',{staticClass:\"edit\",on:{\"click\":function($event){_vm.currentComp = 'PatternInfoEdit'}}},[_vm._v(_vm._s(_vm.$t('public.form.edit')))])],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"图案名称\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('section',{staticClass:\"form-section\"},[_c('h5',{staticClass:\"form-title\"},[_vm._v(\"标签\")]),_c('TagsEditor',{attrs:{\"tags\":_vm.form.tagsInfo,\"shareId\":_vm.form.id,\"type\":5,\"relateType\":5}})],1),_c('section',{staticClass:\"form-section\"},[_c('h5',{staticClass:\"form-title\"},[_c('span',{staticClass:\"form-title-label\"},[_vm._v(\"图案上传\")]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip2'))+\" \")])],1)],1),_c('upload-area',{staticClass:\"upload-logo-area\",attrs:{\"accept\":\".gif, .jpg, .jpeg, .png\",\"max-size\":3*1024*1024},on:{\"upload\":_vm.handleUploadFile}},[_c('upload-style',{attrs:{\"url\":_vm.url}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport { defineComponent, computed, ref } from '@vue/composition-api';\nimport TagsEditor from '@/components/base/TagsEditor.vue';\nimport UploadWithPreviewer from '@/components/upload/UploadWithPreviewer.vue';\nimport IconQuestion from '@/components/icon/IconQuestion.vue';\nimport UploadArea from '@/components/upload';\nimport UploadStyle from '@/components/upload/styles/UploadStyle1';\nimport { PatternItem } from './index.vue';\n\ntype FileType = {\n  file: File,\n  url: string,\n};\n\n/* type PatternInfo = {\n  id: string,\n  name: string,\n  curtailImg: string,\n  filePath: string,\n}; */\n\nfunction uploadCurtailImg(file: File | string) {\n  return uploadToOSS(file, 'CRAFT_PATTERN');\n}\n\nconst PatternInfoEdit = defineComponent({\n  name: 'PatternInfoEdit',\n  components: {\n    TagsEditor,\n    IconQuestion,\n    UploadArea,\n    UploadStyle,\n  },\n  props: {\n    pattern: {\n      type: Object as () => PatternItem,\n    },\n  },\n  setup(props, { root: { $message } }) {\n    const form = ref<PatternItem>({\n      id: '',\n      name: '',\n      curtailImg: '',\n      filePath: '',\n      tagsInfo: [],\n    });\n\n    const paths = ref<string[]>([]);\n    const url = ref<string>('');\n\n    if (props.pattern) {\n      form.value = { ...props.pattern };\n      /* eslint no-unused-expressions: \"off\" */\n      if (props.pattern.curtailImg) {\n        url.value = props.pattern.curtailImg;\n      }\n    }\n\n    const uploadedFile = ref<File>();\n\n    const uploadWithPreviewerRef = ref<InstanceType<typeof UploadWithPreviewer>>();\n\n    const rules = {\n      name: [\n        { required: true, message: '名称不能为空', trigger: 'blur' },\n      ],\n    };\n\n    function handleUploadFile(file: File) {\n      uploadedFile.value = file;\n      url.value = window.URL.createObjectURL(file);\n    }\n\n    async function uploadPatternImg() {\n      if (!uploadedFile.value && !url.value) {\n        $message.warning('上传图片不能为空');\n        return false;\n      }\n      if (uploadedFile.value) {\n        form.value.curtailImg = await uploadCurtailImg(uploadedFile.value);\n      } else {\n        form.value.curtailImg = '';\n      }\n\n      return true;\n    }\n\n    return {\n      form,\n      paths,\n      url,\n      rules,\n      handleUploadFile,\n      uploadedFile,\n      uploadPatternImg,\n      uploadWithPreviewerRef,\n    };\n  },\n});\nexport default PatternInfoEdit;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PatternInfoEdit.vue?vue&type=template&id=30d5e630&scoped=true&\"\nimport script from \"./PatternInfoEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./PatternInfoEdit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PatternInfoEdit.vue?vue&type=style&index=0&id=30d5e630&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30d5e630\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pattern-info-view\"},[_c('section',{staticClass:\"item-container\"},[_c('div',{staticClass:\"item-title\"},[_vm._v(\"图案名称\")]),_c('div',{staticClass:\"item-content\"},[_vm._v(_vm._s(_vm.pattern.name))])]),_c('section',{staticClass:\"item-container\"},[_c('div',{staticClass:\"item-title tag-title\"},[_vm._v(\"标签\")]),_c('div',{staticClass:\"item-content\"},[_c('TagsEditor',{attrs:{\"editable\":false,\"tags\":_vm.pattern.tagsInfo,\"shareId\":_vm.pattern.id,\"type\":5,\"relateType\":5}})],1)]),_c('section',{staticClass:\"item-container pattern-container\"},[_c('div',{staticClass:\"item-title pattern-title\"},[_vm._v(\"图案\")]),_c('div',{staticClass:\"pattern-wrapper\"},[_c('BaseImage',{attrs:{\"src\":_vm.imgSrc,\"fit\":\"contain\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed } from '@vue/composition-api';\nimport BaseImage from '@/components/base/Image.vue';\nimport TagsEditor from '@/components/base/TagsEditor.vue';\nimport { PatternItem } from './index.vue';\n\nconst PatternInfoView = defineComponent({\n  name: 'PatternInfoView',\n  components: {\n    BaseImage,\n    TagsEditor,\n  },\n  props: {\n    pattern: {\n      type: Object as () => PatternItem,\n      required: true,\n    },\n  },\n  setup(props) {\n    const imgSrc = computed(() => {\n      return props.pattern.curtailImg;\n    });\n\n    return {\n      imgSrc,\n    };\n  },\n});\nexport default PatternInfoView;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PatternInfoView.vue?vue&type=template&id=438266f1&scoped=true&\"\nimport script from \"./PatternInfoView.vue?vue&type=script&lang=ts&\"\nexport * from \"./PatternInfoView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PatternInfoView.vue?vue&type=style&index=0&id=438266f1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"438266f1\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from '@/api/axios';\nimport {\n  defineComponent, computed, ref, onMounted, watch,\n} from '@vue/composition-api';\nimport PatternList from '../PatternList.vue';\nimport PatternInfoEdit from './PatternInfoEdit.vue';\nimport PatternInfoView from './PatternInfoView.vue';\n\ntype TagInfo = {\n  id: string,\n  tag: string,\n};\n\nexport interface PatternItem {\n  id: string,\n  name: string,\n  curtailImg?: string,\n  filePath?: string,\n  tagsInfo: TagInfo[]\n}\n\nconst getPatternInfo = (id: string) => {\n  return axios.get('/show/craftPattern/getCraftPatternInfoAndTags', {\n    params: {\n      craftPatternId: id,\n    },\n  });\n};\n\nfunction updatePattern(pattern: PatternItem) {\n  return axios({\n    method: 'post',\n    url: '/show/craftPattern/updateCraftPatternInfo',\n    data: pattern,\n  });\n}\n\nconst PatternInfo = defineComponent({\n  name: 'PatternInfo',\n  components: {\n    PatternInfoEdit,\n    PatternInfoView,\n  },\n  dialogify: {\n    props: {\n      title: '图案详情',\n      width: '440px',\n      loading: true,\n    },\n  },\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    mode: {\n      type: String as () => 'view' | 'edit' | 'upload',\n      default: 'view',\n    },\n    catalogId: {\n      type: String,\n      required: true,\n    },\n    patternListRef: {\n      type: Object as () => InstanceType<typeof PatternList>,\n    },\n  },\n  setup(props, { root: { $errHandler } }) {\n    const pattern = ref<PatternItem>({\n      id: '',\n      name: '',\n      curtailImg: '',\n      filePath: '',\n      tagsInfo: [],\n    });\n\n    const currentComp = ref<'PatternInfoEdit' | 'PatternInfoView'>(props.mode === 'edit' || props.mode === 'upload'\n      ? 'PatternInfoEdit' : 'PatternInfoView');\n\n    const patternFormRef = ref<InstanceType<typeof PatternInfoEdit>>();\n\n    watch(() => props.id, async (id) => {\n      pattern.value = (await getPatternInfo(id)).data as PatternItem;\n    }, {\n      immediate: true,\n    });\n\n    async function updatePatternInfo(form: PatternItem | undefined) {\n      try {\n        if (!form) return;\n        const isUploadImg = await patternFormRef.value?.uploadPatternImg();\n        if (!isUploadImg) return;\n        const uploadForm: PatternItem = {\n          name: form.name,\n          tagsInfo: form.tagsInfo,\n          id: props.id,\n        };\n        if (form.curtailImg) {\n          uploadForm.curtailImg = form.curtailImg;\n          uploadForm.filePath = form.curtailImg;\n        }\n        await updatePattern(uploadForm);\n      } catch (e) {\n        $errHandler(e);\n      }\n    }\n\n    async function handleSubmit() {\n      await updatePatternInfo(patternFormRef.value?.form);\n      // if (!patternFormRef.value!.uploadedFile) return;\n      // 重新获取图案信息，更新Pattern\n      pattern.value = (await getPatternInfo(props.id)).data as PatternItem;\n      currentComp.value = 'PatternInfoView';\n      /* eslint no-unused-expressions: \"off\" */\n      props.patternListRef?.updatePage();\n    }\n\n    return {\n      pattern,\n      patternFormRef,\n      currentComp,\n      handleSubmit,\n    };\n  },\n});\nexport default PatternInfo;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2879bb3d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2879bb3d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2879bb3d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"material-list\">\n    <div class=\"loading\" v-loading=\"true\" v-if=\"loadingPage === 1\"></div>\n    <div class=\"empty\" v-else-if=\"!materialCatalogs || !materialCatalogs.length\">\n      <slot name=\"empty\">\n        <el-divider key=\"divider\">{{ $t(\"material-mall.no_more\") }}</el-divider>\n      </slot>\n    </div>\n\n    <Scrollable y v-else class=\"list-wrapper\" outsideScrollbar>\n      <transition-group name=\"list\" tag=\"ul\" class=\"list\" @click.stop>\n        <li\n          v-for=\"(catalog, idx) in materialCatalogs\"\n          :key=\"catalog.id\"\n          class=\"item\"\n          draggable=\"true\"\n          @dragstart=\"handleListDragStart($event)\"\n        >\n          <PatternItem\n            @click.stop=\"$emit('update:selected', !selected)\"\n            @pick=\"() => $emit('pick', catalog)\"\n            :selected=\"selected.includes(catalog)\"\n            v-on=\"{\n              'update:selected': selected => {\n                toggleSelected(catalog, selected);\n              }\n            }\"\n            @drag=\"clearAndSelect(catalog)\"\n            :display-mode=\"displayMode\"\n            :material=\"catalog\"\n            @show-info=\"handleShoWDialogInfo\"\n            @magnify=\"showMagnifyMode(idx)\"\n          />\n        </li>\n      </transition-group>\n      <Intersect @enter=\"loadMore\" v-if=\"canLoadMore\">\n        <div class=\"load-more\">\n          <template v-if=\"loadingPage && loadingPage > 1\">\n            <i class=\"el-icon-loading\" /> {{ $t(\"material-mall.loading\") }}\n          </template>\n          <template v-else>\n            {{ $t(\"material-mall.scroll_to_load\") }}\n          </template>\n        </div>\n      </Intersect>\n      <el-divider v-else>{{ $t(\"material-mall.no_more\") }}</el-divider>\n    </Scrollable>\n  </div>\n</template>\n\n<script>\n\nimport { openSingleton } from '@/utils/open-window';\n\nimport Scrollable from '@/components/Scrollable';\nimport Intersect from 'vue-intersect';\nimport {\n  fetchChildrenWithPaging, isSearch,\n} from '@/loaders/catalog';\nimport remove from '_/remove';\nimport toggleFrom from '_/toggle-from';\nimport PatternItem from './PatternItem.vue';\nimport PatternInfo from './info/index.vue';\n// import { getMaterialInfo } from '@/api/material';\nconst pageSize = 30;\n\nexport default {\n  components: {\n    PatternItem,\n    Scrollable,\n    Intersect,\n  },\n  props: {\n    catalog: {\n      // required: true,\n    },\n    rootCatalog: {},\n    displayMode: {\n      type: String,\n      default: 'drape',\n    },\n    selected: {\n      type: Array,\n      default: () => [],\n    },\n    searchParams: {},\n  },\n  data() {\n    return {\n      timestamp: Date.now(),\n      /** @type {any} */\n      materialCatalogs: null,\n      loadingPage: undefined,\n      catalogPaging: undefined,\n    };\n  },\n  computed: {\n    /** @return { any } */\n    params() {\n      return {\n        timestamp: this.timestamp,\n        catalog: this.catalog,\n        rootCatalog: this.rootCatalog,\n        searchParams: this.searchParams,\n      };\n    },\n    /** @return { boolean } */\n    selectable() {\n      return !!this.$listeners.contextmenu;\n    },\n    /** @return { boolean } */\n    canLoadMore() {\n      const { catalogPaging } = this;\n      if (!catalogPaging) {\n        return false;\n      }\n      return catalogPaging.pages > catalogPaging.current;\n    },\n    /** @return { any } */\n    // materials() {\n    //   if (this.materialCatalogs === this.$loadingState) return this.$loadingState;\n    //   if (!this.materialCatalogs) return this.materialCatalogs;\n    //   return this.materialCatalogs.map(item => (item.fileInfo));\n    // },\n  },\n  created() {\n    this.$watch(() => {\n      return JSON.stringify(this.params);\n    }, async (p) => {\n      const _params = JSON.parse(p);\n      this.loadPage(_params, 1);\n    });\n    this.$watch('catalogPaging', (paging) => {\n      if (paging) {\n        if (paging.current === 1) {\n          this.materialCatalogs = paging.records;\n        } else {\n          this.materialCatalogs.splice(this.materialCatalogs.length, 0, ...paging.records);\n        }\n      } else {\n        this.materialCatalogs = null;\n      }\n    });\n  },\n  methods: {\n    loadMore() {\n      if (!this.loadingPage && this.catalogPaging) {\n        this.loadPage(this.params, this.catalogPaging.current + 1);\n      }\n    },\n    updatePage() {\n      this.loadPage(this.params, 1);\n    },\n    async loadPage(p, page) {\n      if (!p.catalog?.id\n        && !isSearch(p)\n      ) {\n        this.catalogPaging = null;\n        return;\n      }\n\n      const root = p.rootCatalog;\n      this.loadingPage = page;\n      this.catalogPaging = await fetchChildrenWithPaging(\n        {\n          ...(p.catalog || {}),\n          relateType: p.catalog?.relateType || 1,\n          root,\n          searchParams: p.searchParams,\n        },\n        { cursor: page, limit: pageSize },\n      );\n      this.loadingPage = undefined;\n    },\n    async remove(data) {\n      const find = _item => _item.id === data.id;\n      remove(this.materialCatalogs, find);\n    },\n    async refresh() {\n      this.timestamp = Date.now();\n    },\n    toggleSelected(material, selected) {\n      toggleFrom(this.selected, material, selected);\n    },\n    clearAndSelect(catalog) {\n      this.clearSelected();\n      this.toggleSelected(catalog, true);\n    },\n    clearSelected() {\n      this.selected.splice(0, this.selected.length);\n    },\n    handleListDragStart(e) {\n      this.$emit('drag', e, this.selected);\n    },\n    // 显示面料信息弹框，将当前面料对象存储\n    async handleShoWDialogInfo(material) {\n      try {\n        await this.$Dialog.dialogify({\n          is: PatternInfo,\n          props: {\n            mode: 'view',\n            catalogId: material.parentId,\n            id: material.fileInfo.id,\n            patternListRef: this,\n          },\n        });\n      } catch (err) {\n        this.$errHandler(err);\n      }\n    },\n\n    // 显示放大镜效果，通过点击小按钮触发\n    showMagnifyMode(index) {\n      const srcList = this.materialCatalogs.map(e => {\n        const imgSrc = e.fileInfo?.thumbnail;\n        if (imgSrc) {\n          return {\n            src: imgSrc,\n          };\n        }\n        return undefined;\n      }).filter(e => !!e);\n\n      srcList.length > 0 && this.$ImageViewer.show(srcList, {\n        index,\n        targetElems: '[data-img-type=\\'material-list\\']',\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.load-more {\n  padding-top: 10px;\n  padding-bottom: 20px;\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #999;\n}\n.material-list {\n  display: flex;\n  flex-direction: column;\n  min-height: 300px;\n}\nmark {\n  margin-left: 5px;\n  margin-right: 5px;\n  font-weight: bold;\n  background-color: transparent;\n  color: $color-primary;\n}\n.list-enter-active,\n.list-leave-active {\n  transition: all 0.2s;\n}\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateY(-15%);\n}\n.list-move {\n  transition: transform 0.2s;\n}\n$minWidth: 136px;\n.empty {\n  letter-spacing: 1px;\n  font-size: 14px;\n  color: $color-font-darkest;\n  text-align: center;\n  line-height: 24px;\n  padding: (($minWidth - 24px)/2) 18px;\n}\n\n.loading {\n  min-height: $minWidth;\n}\n.list-wrapper {\n  // padding: 5px;\n  flex: 1;\n}\n.list {\n  // margin-right: -10px;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n}\n.item {\n  width: 96px;\n  height: 118px;\n  margin: 4px;\n  // padding: 0 10px 40px 0;\n}\n\n.el-divider {\n  margin: 20px auto 30px;\n  width: 90%;\n}\n.el-divider__text {\n  // background: #f7f7f7;\n  color: #999;\n  font-weight: 400;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PatternList.vue?vue&type=template&id=64aa35e3&scoped=true&\"\nimport script from \"./PatternList.vue?vue&type=script&lang=js&\"\nexport * from \"./PatternList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PatternList.vue?vue&type=style&index=0&id=64aa35e3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64aa35e3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pattern-upload\"},[_c('PatternInfoEdit',{ref:\"patternFormRef\",attrs:{\"catalogId\":_vm.catalogId}}),_c('div',{staticClass:\"btn-wrapper\"},[_c('el-button',{staticClass:\"edit\",on:{\"click\":_vm.handleUpload}},[_vm._v(_vm._s(_vm.$t('public.dialog.confirm')))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport axios from '@/api/axios';\nimport { i18n } from '@/i18n';\nimport {\n  defineComponent, ref,\n} from '@vue/composition-api';\nimport PatternList from '../PatternList.vue';\nimport PatternInfoEdit from './PatternInfoEdit.vue';\nimport PatternInfo from './index.vue';\n\ninterface UploadPatternForm {\n  name: string,\n  curtailImg: string,\n  filePath: string,\n  parentFolderId: string,\n  tags: string[],\n}\n\nconst uploadPattern = (patternForm: UploadPatternForm) => {\n  return axios.post('/show/craftPattern/uploadInfo', {\n    ...patternForm,\n  });\n};\n\nconst UploadPattern = defineComponent({\n  name: 'UploadPattern',\n  components: {\n    PatternInfoEdit,\n  },\n  dialogify: {\n    props: {\n      title: '上传图案',\n      closeOnClickModal: false,\n      width: '440px',\n    },\n  },\n  props: {\n    catalogId: {\n      type: String,\n      required: true,\n    },\n    patternListRef: {\n      type: Object as () => InstanceType<typeof PatternList>,\n    },\n  },\n  setup(props, { root, emit }) {\n    const patternFormRef = ref<InstanceType<typeof PatternInfoEdit>>();\n\n    function formatTags(tags: any[]): string[] {\n      return tags.map(tag => {\n        return tag.tag;\n      });\n    }\n\n    async function handleUpload() {\n      try {\n        const form = patternFormRef.value?.form;\n        if (!form) return;\n        const isUploadImg = await patternFormRef.value?.uploadPatternImg();\n        if (!isUploadImg) return;\n        await uploadPattern({\n          name: form.name,\n          curtailImg: form.curtailImg,\n          filePath: form.curtailImg,\n          tags: formatTags(form.tagsInfo),\n          parentFolderId: props.catalogId,\n        });\n        // 关闭弹窗，刷新list\n        root.$message.success(i18n.t('model.offline.submit_success'));\n        emit('confirm');\n        /* eslint no-unused-expressions: \"off\" */\n        props.patternListRef?.updatePage();\n      } catch (e) {\n        root.$errHandler(e);\n      }\n    }\n\n    return {\n      patternFormRef,\n      handleUpload,\n    };\n  },\n});\n\nexport default UploadPattern;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoUpload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternInfoUpload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PatternInfoUpload.vue?vue&type=template&id=ad2bb65c&scoped=true&\"\nimport script from \"./PatternInfoUpload.vue?vue&type=script&lang=ts&\"\nexport * from \"./PatternInfoUpload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PatternInfoUpload.vue?vue&type=style&index=0&id=ad2bb65c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad2bb65c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, computed, ref, onMounted,\n} from '@vue/composition-api';\nimport useLoader from '_/composables/use-loader';\nimport { removeCatalog } from '@/loaders/catalog';\nimport SearchAndSelect from '@/views/file-list/components/catalog/Search&Select.vue';\nimport draggingData from '@/utils/dragging-data';\nimport axios from '@/utils/axios';\nimport { i18n } from '@/i18n';\nimport { confirm } from '@/components/index';\nimport OperationBar from './OperationBar.vue';\nimport PatternList from './PatternList.vue';\nimport PatternInfoUpload from './info/PatternInfoUpload.vue';\n\nconst PatternPanel = defineComponent({\n  name: 'PatternPanel',\n  components: {\n    SearchAndSelect,\n    OperationBar,\n    PatternList,\n  },\n  props: {},\n  setup(props, { root }) {\n    const patternListRef = ref<InstanceType<typeof PatternList>>();\n    const searchOptionsRef = ref(null);\n    const patternCatalogRef = useLoader(async () => {\n      // const upload = (await axios.post('/show/craftPattern/uploadInfo', {\n      //   name: '工艺图案222',\n      //   curtailImg: '111.png',\n      //   filePath: '111.png',\n      //   parentFolderId: '1298113449854263297',\n      //   tags: ['123', '456'],\n      // }));\n      // console.log('upload=======', upload);\n\n      const { 11001: patternCatalogId } = (await axios.get('/bff-center/cloud-disk/list/getCatalogIdByAppType', {\n        params: {\n          appTypeCodeList: '11001',\n        },\n      })).data;\n      // const res = (await axios.get('/bff-center/cloud-disk/list/getChildCatalogByPage', {\n      //   params: {\n      //     catalogId: patternCatalogId,\n      //     relateType: 5,\n      //     cursor: 1,\n      //     limit: 30,\n      //   },\n      // })).data;\n      // const res = (await axios.post('/bff-center/cloud-disk/list/getChildCatalogByAppType', {\n      //   catalogId: patternCatalogId,\n      //   appTypeCodeList: ['11001'],\n      // })).data;\n\n      return {\n        id: patternCatalogId,\n        relateType: 5,\n      };\n    }, {}, {\n      initialValue: null,\n    });\n\n    function handleSearch(v) {\n      // console.log('handleSearch=======', v);\n      console.log(v);\n\n      // const processKeyword = (keyword) => {\n      //   const keys = Object.keys(v.filters);\n      //   const res = keys.map(key => {\n      //     if (v.filters[key][0] === keyword) {\n      //       return v.filters[key][1];\n      //     }\n      //     return null;\n      //   }).filter(e => e);\n      //   return res;\n      // };\n      const searchParams = {\n        // materialTypes: processKeyword('MaterialTypes'),\n        // colorFamilys: processKeyword('ColorFamilys'),\n        filters: {},\n        keyword: v.keyword,\n      };\n      searchOptionsRef.value = searchParams;\n    }\n\n    async function handleDelete() {\n      console.log('patternListRef====', patternListRef.value?.selected);\n      const dataArr = patternListRef.value?.selected;\n      if (!dataArr || dataArr.length === 0) {\n        root.$message.warning('请先选择要删除的图案');\n        return;\n      }\n      await confirm(i18n.t('public.dialog.sure_delete'), i18n.t('public.dialog.prompt'));\n      await removeCatalog({\n        ids: dataArr.map(item => item.id),\n        workspaceId: dataArr[0].workspaceId!,\n      });\n      patternListRef.value?.refresh();\n    }\n    async function handleUpload() {\n      //   root.$Dialog.dialogify({\n      //     is: PatternInfo,\n      //   });\n      try {\n        await root.$Dialog.dialogify({\n          is: PatternInfoUpload,\n          props: {\n            catalogId: patternCatalogRef.value?.id,\n            patternListRef: patternListRef.value,\n          },\n        });\n      } catch (err) {\n      }\n    }\n\n    function handleMaterialDrag(e, data) {\n      console.log('handle drag========', data);\n      if (data.length) {\n        draggingData.set({\n          type: 'pattern',\n          command: 'cut',\n          parent: patternCatalogRef.value,\n          data,\n        });\n      }\n    }\n\n    return {\n      patternListRef,\n      patternCatalogRef,\n      searchOptionsRef,\n      handleSearch,\n      handleDelete,\n      handleUpload,\n      handleMaterialDrag,\n    };\n  },\n});\nexport default PatternPanel;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PatternPanel.vue?vue&type=template&id=2f6e5dd0&scoped=true&\"\nimport script from \"./PatternPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./PatternPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PatternPanel.vue?vue&type=style&index=0&id=2f6e5dd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f6e5dd0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pattern-property\"},[_c('el-form',{attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"disabled\":!_vm.isEnabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('section',[_c('h5',[_vm._v(\"图案样式\")]),_c('ul',{staticClass:\"pattern-list\"},_vm._l((_vm.patterns),function(pattern){return _c('li',{key:pattern.name,staticClass:\"pattern-item\"},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":pattern.name,\"placement\":\"bottom\"}},[_c('div',{staticClass:\"pattern-item-figure\",class:{current: pattern.selected, disabled: !_vm.isEnabled},on:{\"click\":function($event){return _vm.selectPattern(pattern)}}},[_c('span',{staticClass:\"pattern-name\"},[_vm._v(_vm._s(pattern.name))])])])],1)}),0)]),_c('section',[_c('h5',[_vm._v(\"角度\")]),_c('el-form-item',{staticClass:\"form-item-rotation\",attrs:{\"prop\":\"rotation\"}},[_c('AngleSelector',{staticClass:\"rotation-selector\",attrs:{\"disabled\":!_vm.isEnabled,\"rotation\":_vm.form.rotation},on:{\"rotate\":_vm.handleRotateChange}}),_c('el-input',{staticClass:\"rotation-input\",attrs:{\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.rotation),callback:function ($$v) {_vm.$set(_vm.form, \"rotation\", _vm._n($$v))},expression:\"form.rotation\"}},[_c('span',{attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"度\")])])],1)],1),_c('section',[_c('h5',[_vm._v(\"缩放\")]),_c('el-slider',{attrs:{\"min\":0.1,\"max\":5,\"step\":0.01},on:{\"change\":_vm.formChange},model:{value:(_vm.form.scale),callback:function ($$v) {_vm.$set(_vm.form, \"scale\", $$v)},expression:\"form.scale\"}})],1),_c('section',{staticClass:\"section-offset\"},[_c('h5',[_vm._v(\"坐标偏移\")]),_c('el-form-item',{staticClass:\"form-item-offset\",attrs:{\"prop\":\"offsetX\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"step\":1,\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.offsetX),callback:function ($$v) {_vm.$set(_vm.form, \"offsetX\", $$v)},expression:\"form.offsetX\"}}),_c('span',{staticClass:\"input-suffix\"},[_vm._v(\"X\")])],1),_c('el-form-item',{staticClass:\"form-item-offset\",attrs:{\"prop\":\"offsetY\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"step\":1,\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.offsetY),callback:function ($$v) {_vm.$set(_vm.form, \"offsetY\", $$v)},expression:\"form.offsetY\"}}),_c('span',{staticClass:\"input-suffix\"},[_vm._v(\"Y\")])],1)],1),_c('section',[_c('el-button',{on:{\"click\":_vm.removePattern}},[_vm._v(\"移除图案\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed, watch,\n} from '@vue/composition-api';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport AngleSelector from '@/components/base/AngleSelector.vue';\nimport store from '@/views/clothes/store';\nimport useClosest from '_/composables/use-closest';\nimport ClothesDetail from '@/views/clothes/detail/index.vue';\n// import BaseImage from '@/components/base/Image.vue';\nimport { debounce } from 'throttle-debounce';\n\nexport type PatternForm = {\n  pattern: string,\n  rotation: number,\n  scale: number,\n  offsetX: number,\n  offsetY: number,\n};\n\ntype Pattern = {\n  name: string,\n  value: string,\n  image: string,\n  selected: boolean,\n};\n\nconst patternsList: Pattern[] = [\n  {\n    name: '默认',\n    image: '',\n    value: 'default',\n    selected: true,\n  },\n  /* {\n    name: '数码印花',\n    image: '',\n    value: '',\n    selected: false,\n  }, */\n  {\n    name: '镂空胶印',\n    image: '',\n    value: 'loukongjiaoyin',\n    selected: false,\n  },\n  /* {\n    name: '植绒刻字',\n    image: '',\n    value: '',\n    selected: false,\n  }, */\n  {\n    name: '网眼绣花',\n    image: '',\n    value: 'wangyanxiuhua',\n    selected: false,\n  },\n  /* {\n    name: '斜纹贴',\n    image: '',\n    value: '',\n    selected: false,\n  },\n  {\n    name: '烫贴',\n    image: '',\n    value: '',\n    selected: false,\n  }, */\n  {\n    name: '蕾丝',\n    image: '',\n    value: 'leisi',\n    selected: false,\n  },\n];\n\nconst PatternProperty = defineComponent({\n  name: 'PatternProperty',\n  components: {\n    AngleSelector,\n  },\n  props: {\n  },\n  setup(props) {\n    const form = ref<PatternForm>({\n      pattern: 'default',\n      rotation: 0,\n      scale: 1,\n      offsetX: 0,\n      offsetY: 0,\n    });\n    const patterns = ref<Pattern[]>(patternsList);\n    const isLocked = ref(true);\n    const isEnabled = ref(false);\n\n    const rules = {\n      rotation: [\n        validator2ElemRule((value: number | string) => {\n          if (Number(value) < 0 || Number(value) > 360) {\n            throw new Error('请输入0~360的数值');\n          }\n        }),\n      ],\n    };\n\n    function resetFormData() {\n      form.value = {\n        pattern: 'default',\n        rotation: 0,\n        scale: 1,\n        offsetX: 0,\n        offsetY: 0,\n      };\n    }\n    function transPattern2Form(pattern): PatternForm {\n      return {\n        pattern: pattern.tecName || 'default',\n        rotation: pattern.angle,\n        scale: pattern.scale,\n        offsetX: pattern.offset[0],\n        offsetY: pattern.offset[1],\n      };\n    }\n\n    const clothesDetail = useClosest<typeof ClothesDetail>('ClothesDetail');\n    const renderer = computed(() => {\n      return clothesDetail.value?.renderer;\n    });\n\n    watch(() => store.patternSelected, pattern => {\n      if (pattern) {\n        isEnabled.value = true;\n        // console.log('PatternProperty watch patternSelected=======', pattern);\n        form.value = transPattern2Form(pattern);\n      } else {\n        resetFormData();\n      }\n    });\n    watch(() => form.value.pattern, (newPattern, oldPattern) => {\n      if (oldPattern === newPattern) {\n        return;\n      }\n      patterns.value.forEach(pattern => {\n        pattern.selected = pattern.value === newPattern;\n      });\n    });\n\n    const formChange = debounce(500, () => {\n      /* eslint no-unused-expressions: \"off\" */\n      setTimeout(() => {\n        renderer.value?.updatePatternProperty(form.value);\n      });\n    });\n\n    function handleRotateChange(rotation: number) {\n      form.value.rotation = rotation;\n      formChange();\n    }\n\n    function selectPattern(pattern: Pattern) {\n      if (isEnabled.value) {\n        patterns.value.forEach(_pattern => {\n          if (_pattern.name === pattern.name) {\n            _pattern.selected = true;\n            form.value.pattern = pattern.value;\n          } else {\n            _pattern.selected = false;\n          }\n        });\n        formChange();\n      }\n    }\n\n    function removePattern() {\n      renderer.value?.removePattern();\n    }\n\n    return {\n      form,\n      patterns,\n      isLocked,\n      isEnabled,\n      rules,\n      formChange,\n      selectPattern,\n      handleRotateChange,\n      removePattern,\n    };\n  },\n});\n\nexport default PatternProperty;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternProperty.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatternProperty.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PatternProperty.vue?vue&type=template&id=4e54450b&scoped=true&\"\nimport script from \"./PatternProperty.vue?vue&type=script&lang=ts&\"\nexport * from \"./PatternProperty.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PatternProperty.vue?vue&type=style&index=0&id=4e54450b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e54450b\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, watch } from '@vue/composition-api';\nimport store from '@/views/clothes/store';\nimport CollapseContainer from '../components/CollapseContainer.vue';\nimport PatternPanel from './PatternPanel.vue';\nimport PatternProperty from './PatternProperty.vue';\n\nconst PatternIndex = defineComponent({\n  name: 'PatternIndex',\n  components: {\n    CollapseContainer,\n    PatternPanel,\n    PatternProperty,\n  },\n  props: {},\n  setup(props, context) {\n    const activePanels = ref(['pattern']);\n    watch(() => store.patternSelected, pattern => {\n      if (pattern) {\n        if (activePanels.value.indexOf('property') === -1) {\n          activePanels.value.push('property');\n        }\n      }\n    });\n\n    return {\n      activePanels,\n    };\n  },\n});\n\nexport default PatternIndex;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=21179beb&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=21179beb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21179beb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-index\"},[_c('CollapseContainer',{attrs:{\"data\":{\n      ctmList: { title: '辅料' },\n      subMaterial: { title: '辅料资源' },\n      property: { title: '属性栏', flex: false },\n    }},scopedSlots:_vm._u([{key:\"ctmList\",fn:function(){return [_c('CtmList',{staticClass:\"material-panel\",attrs:{\"ctmList\":_vm.ctmList,\"selectedId\":_vm.selectedId},on:{\"click\":_vm.handleCtmClick,\"clear\":_vm.handleCtmClear}})]},proxy:true},{key:\"subMaterial\",fn:function(){return [_c('SubMaterialPanel')]},proxy:true},{key:\"property\",fn:function(){return [_c('SubMaterialProperty',{staticClass:\"material-property\"})]},proxy:true}]),model:{value:(_vm.activePanels),callback:function ($$v) {_vm.activePanels=$$v},expression:\"activePanels\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Scrollable',{staticClass:\"list-wrapper\",staticStyle:{\"height\":\"100%\"},attrs:{\"y\":\"\"}},[(!_vm.ctmList || _vm.ctmList.length === 0)?_c('div',{staticClass:\"empty-placeholder\"},[_c('p',[_vm._v(\"暂无辅料\")])]):_c('div',{staticClass:\"ctm-list\"},[_c('transition-group',{staticClass:\"ctm-item-list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.ctmList),function(item){return _c('li',{key:item.ctmId,staticClass:\"item\"},[_c('CtmItem',{attrs:{\"ctm\":item,\"selected\":_vm.ctmSelected === item.ctmId},on:{\"clear\":_vm.handleCtmClear,\"click\":_vm.handleCtmClick}})],1)}),0)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ctm-item\",class:_vm.selected ? 'is-selected' : '',on:{\"click\":function($event){return _vm.$emit('click', _vm.ctm)}}},[_c('BaseImage',{staticClass:\"ctm-material-img\",style:({\n      width: '20px',\n      height: '20px',\n    }),attrs:{\"src\":_vm.materialFlat},scopedSlots:_vm._u([(!_vm.ctm.material || _vm.ctm.material.id === '1')?{key:\"placeholder\",fn:function(){return [_c('div',{staticClass:\"ctm-material-default\"})]},proxy:true}:null],null,true)}),_c('span',[_vm._v(_vm._s(_vm.ctm.ctmName))]),_c('i',{staticClass:\"delete-btn el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('clear', _vm.ctm)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed } from '@vue/composition-api';\nimport BaseImage from '@/components/base/Image.vue';\n\nexport default defineComponent({\n  name: 'CtmItem',\n  components: {\n    BaseImage,\n  },\n  props: {\n    ctm: {\n      type: Object,\n      required: true,\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, { emit }) {\n    const materialFlat = computed(() => {\n      return props.ctm?.material?.imgJson?.flat;\n    });\n    return {\n      materialFlat,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtmItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtmItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CtmItem.vue?vue&type=template&id=5835654c&scoped=true&\"\nimport script from \"./CtmItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./CtmItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CtmItem.vue?vue&type=style&index=0&id=5835654c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5835654c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <Scrollable class=\"list-wrapper\" y style=\"height: 100%\">\n    <div v-if=\"!ctmList || ctmList.length === 0\" class=\"empty-placeholder\">\n      <p>暂无辅料</p>\n    </div>\n    <div v-else class=\"ctm-list\">\n      <transition-group class=\"ctm-item-list\" name=\"list\" tag=\"ul\">\n        <li class=\"item\" v-for=\"(item) of ctmList\" :key=\"item.ctmId\">\n          <!-- <MaterialItem :material=\"item.material\" :count=\"item.count\"\n            @replace=\"handleReplace\"\n            @delete=\"handleDelete\"/> -->\n          <CtmItem :ctm=\"item\"\n            :selected=\"ctmSelected === item.ctmId\"\n            @clear=\"handleCtmClear\"\n            @click=\"handleCtmClick\"/>\n        </li>\n      </transition-group>\n    </div>\n  </Scrollable>\n</template>\n\n<script type=\"ts\">\nimport { defineComponent, ref, watch } from '@vue/composition-api';\n// import Collapse from '@/components/collapse/Collapse';\nimport Scrollable from '@/components/Scrollable';\n// import MaterialItem from '@/views/model/detail/board/MaterialItem.vue';\nimport CtmItem from '@/views/clothes/components/CtmItem.vue';\n\nexport default defineComponent({\n  name: 'CtmList',\n  props: {\n    ctmList: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    selectedId: {\n      type: String,\n      default() {\n        '';\n      },\n    },\n  },\n  components: {\n    // MaterialItem,\n    // Collapse,\n    CtmItem,\n    Scrollable,\n  },\n  setup(props, { emit }) {\n    const ctmSelected = ref('');\n    watch(() => props.selectedId, (value) => {\n      ctmSelected.value = value;\n    });\n    function handleCtmClick(ctm) {\n      ctmSelected.value = ctm.ctmId;\n      emit('click', ctm);\n    }\n    function handleCtmClear(ctm) {\n      emit('clear', ctm);\n    }\n    return {\n      handleCtmClick,\n      handleCtmClear,\n      ctmSelected,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.list-wrapper {\n  min-height: 192px;\n  .ctm-list {\n    .list-enter-active, .list-leave-active {\n      transition: all .3s;\n    }\n    .list-enter, .list-leave-to {\n      opacity: 0;\n      transform: translateX(-50px);\n    }\n    .list-move {\n      transition: all .3s;\n    }\n  }\n\n  .empty-placeholder{\n    padding-top: 80px;\n    text-align: center;\n    p {\n      padding-top:  20px;\n      color: #999;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtmList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtmList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CtmList.vue?vue&type=template&id=24ffba04&scoped=true&\"\nimport script from \"./CtmList.vue?vue&type=script&lang=js&\"\nexport * from \"./CtmList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CtmList.vue?vue&type=style&index=0&id=24ffba04&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24ffba04\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-panel\"},[(_vm.materialRootCatalogRef)?_c('CatalogAndSearch',{attrs:{\"catalog\":_vm.materialRootCatalogRef,\"searchParams\":_vm.materialSearchOptionsRef,\"rootName\":\"我的辅料\"},on:{\"select\":_vm.handleSelect,\"search\":_vm.handleSearch}}):_vm._e(),_c('MaterialList',{ref:\"materialList\",staticClass:\"material-list\",attrs:{\"rootCatalog\":_vm.materialCurrentCatalogRef,\"catalog\":_vm.materialCurrentCatalogRef,\"searchParams\":_vm.materialSearchOptionsRef,\"fetchMethod\":_vm.fetchMatChildrenWithPaging,\"display-mode\":_vm.displayMode},on:{\"drag\":function (e, data) { return _vm.handleMaterialDrag(e, data); },\"pick\":_vm.updateMaterial,\"update:displayMode\":_vm.updateDisplayMode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, computed } from '@vue/composition-api';\n// import {\n//   getPanelBoardList,\n// } from '@/api/catalogue';\nimport useLoader from '_/composables/use-loader';\nimport axios from '@/utils/axios';\nimport { getSetting, setSetting } from '@/loaders/setting';\nimport {\n  fetchChildrenWithPaging, fetchMatChildrenWithPaging, fetchNotMatChildrenWithPaging,\n} from '@/loaders/catalog';\nimport MaterialList from '@/views/model/detail/board/MaterialList.vue';\nimport draggingData from '@/utils/dragging-data';\nimport useClosest from '_/composables/use-closest';\n// import store from '@/views/clothes/store';\nimport CatalogAndSearch from '../components/CatalogAndSearch.vue';\n\nconst SubMaterialPanel = defineComponent({\n  name: 'SubMaterialPanel',\n  components: {\n    MaterialList,\n    CatalogAndSearch,\n  },\n  props: {\n  },\n  setup(props, context) {\n    const clothesDetail = useClosest('ClothesDetail');\n    // console.log('clothesDetail=======', clothesDetail, store.workspaceId);\n\n    const materialCurrentCatalogRef = ref();\n    const materialRootCatalogRef = useLoader(async () => {\n      const { 12: patternCatalogId } = (await axios.get('/bff-center/cloud-disk/list/getCatalogIdByAppType', {\n        params: {\n          appTypeCodeList: '12',\n        },\n      })).data;\n\n      const result = {\n        id: patternCatalogId,\n        relateType: 1,\n      };\n      materialCurrentCatalogRef.value = result;\n      return result;\n    }, {}, {\n      initialValue: null,\n    });\n    // console.log('materialRootCatalogRef=======', materialRootCatalogRef);\n\n    // const createBoardCatalogRef = useLoader(async () => {\n    //   const { createBoardCatalog } = (await getPanelBoardList(store.workspaceId)).data;\n    //   return createBoardCatalog;\n    // }, {}, {\n    //   initialValue: null,\n    // });\n\n    // console.log('createBoardCatalog========', createBoardCatalogRef);\n\n    const materialSearchOptionsRef = ref({\n      filters: {},\n      keyword: '',\n    });\n\n    const displayMode = computed(() => {\n      return getSetting('modelDetailViewType', 'flat');\n    });\n    function updateDisplayMode(v) {\n      setSetting('modelDetailViewType', v);\n    }\n\n    function handleSelect(catalog) {\n      // console.log('handleSelect=======', catalog);\n      materialCurrentCatalogRef.value = catalog;\n    }\n\n    function handleSearch(v) {\n      console.log('handleSearch=======', v);\n      const searchParams = {\n        filters: {},\n        keyword: v.keyword,\n      };\n      materialSearchOptionsRef.value = searchParams;\n    }\n\n\n    function handleMaterialDrag(e, data) {\n      // console.log('handle drag========', data);\n      if (data.length) {\n        draggingData.set({\n          type: 'catalog',\n          command: 'cut',\n          parent: materialCurrentCatalogRef.value,\n          data,\n        });\n      }\n    }\n\n    function updateMaterial(catalog) {\n      // console.log('updateMaterial catalog========', catalog.fileInfo);\n      clothesDetail.value.updateMaterial(catalog.fileInfo);\n    }\n\n    return {\n      materialCurrentCatalogRef,\n      materialRootCatalogRef,\n      handleSelect,\n      handleSearch,\n      materialSearchOptionsRef,\n      displayMode,\n      updateDisplayMode,\n      handleMaterialDrag,\n      updateMaterial,\n      fetchMatChildrenWithPaging,\n    };\n  },\n});\n\nexport default SubMaterialPanel;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubMaterialPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubMaterialPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SubMaterialPanel.vue?vue&type=template&id=1d67aa36&scoped=true&\"\nimport script from \"./SubMaterialPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./SubMaterialPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SubMaterialPanel.vue?vue&type=style&index=0&id=1d67aa36&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d67aa36\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-property\"},[_c('el-form',{attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"disabled\":!_vm.isEnabled},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('section',{staticClass:\"color-rotation\"},[_c('div',{staticClass:\"color-part\"},[_c('h5',[_vm._v(\"颜色\")]),_c('div',{staticClass:\"flex-vertical-center color-wrap\"},[_c('el-color-picker',{attrs:{\"disabled\":!_vm.isAccessory,\"size\":\"mini\",\"color-format\":\"hex\",\"predefine\":_vm.predefineColors},on:{\"change\":_vm.handleColorChange},model:{value:(_vm.form.color),callback:function ($$v) {_vm.$set(_vm.form, \"color\", $$v)},expression:\"form.color\"}}),_c('el-input',{staticClass:\"color-value\",attrs:{\"value\":_vm.form.color,\"readonly\":\"\"}})],1)]),_c('div',{staticClass:\"rotation-part\"},[_c('h5',[_vm._v(\"角度\")]),_c('el-form-item',{staticClass:\"form-item-rotation\",attrs:{\"prop\":\"rotation\"}},[_c('AngleSelector',{staticClass:\"rotation-selector\",attrs:{\"disabled\":!_vm.isEnabled,\"rotation\":_vm.form.rotation},on:{\"rotate\":_vm.handleRotateChange}}),_c('el-input',{staticClass:\"rotation-input\",attrs:{\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.rotation),callback:function ($$v) {_vm.$set(_vm.form, \"rotation\", _vm._n($$v))},expression:\"form.rotation\"}},[_c('span',{attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"度\")])])],1)],1)]),_c('section',[_c('h5',[_vm._v(\"缩放\")]),_c('div',{staticClass:\"slider-wrap\"},[_c('el-slider',{attrs:{\"disabled\":!_vm.isAccessory,\"min\":0.1,\"max\":5,\"step\":0.01},on:{\"change\":_vm.formChange},model:{value:(_vm.form.scaleX),callback:function ($$v) {_vm.$set(_vm.form, \"scaleX\", $$v)},expression:\"form.scaleX\"}})],1)]),_c('section',{staticClass:\"section-offset\"},[_c('h5',[_vm._v(\"坐标偏移\")]),_c('el-form-item',{staticClass:\"form-item-offset\",attrs:{\"prop\":\"offsetX\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"step\":0.01,\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.offsetX),callback:function ($$v) {_vm.$set(_vm.form, \"offsetX\", $$v)},expression:\"form.offsetX\"}}),_c('span',{staticClass:\"input-suffix\"},[_vm._v(\"X\")])],1),_c('el-form-item',{staticClass:\"form-item-offset\",attrs:{\"prop\":\"offsetY\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"step\":0.01,\"size\":\"mini\"},on:{\"change\":_vm.formChange},model:{value:(_vm.form.offsetY),callback:function ($$v) {_vm.$set(_vm.form, \"offsetY\", $$v)},expression:\"form.offsetY\"}}),_c('span',{staticClass:\"input-suffix\"},[_vm._v(\"Y\")])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed, reactive, watch,\n} from '@vue/composition-api';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport AngleSelector from '@/components/base/AngleSelector.vue';\nimport store from '@/views/clothes/store';\nimport useClosest from '_/composables/use-closest';\nimport ClothesDetail from '@/views/clothes/detail/index.vue';\n\nexport type YarnForm = {\n  rotation: number,\n  offsetX: number,\n  offsetY: number,\n  scaleX: number,\n  scaleY: number,\n  color: string,\n};\n\nfunction transYarn2Form(yarn: {\n  rotation: number,\n  offset: {\n    x: number,\n    y: number,\n  },\n  scale: {\n    x: number,\n    y: number,\n  },\n  color: string,\n}): YarnForm {\n  return {\n    rotation: yarn.rotation,\n    offsetX: yarn.offset.x,\n    offsetY: yarn.offset.y,\n    scaleX: yarn.scale.x,\n    scaleY: yarn.scale.y,\n    color: yarn.color,\n  };\n}\n\nconst predefineColors = [\n  '#ff4500',\n  '#ff8c00',\n  '#ffd700',\n  '#90ee90',\n  '#00ced1',\n  '#1e90ff',\n  '#c71585',\n];\nconst SubMaterialProperty = defineComponent({\n  name: 'SubMaterialProperty',\n  components: {\n    AngleSelector,\n  },\n  props: {\n    // data: {\n    //   type: Object as () => YarnForm,\n    //   default: () => ({\n    //     rotation: 0,\n    //     offsetX: 0,\n    //     offsetY: 0,\n    //   }),\n    // },\n  },\n  setup(props, { root }) {\n    const form = ref<YarnForm>({\n      rotation: 0,\n      offsetX: 0,\n      offsetY: 0,\n      scaleX: 1,\n      scaleY: 1,\n      color: '',\n    });\n\n    function resetFormData() {\n      form.value = {\n        rotation: 0,\n        offsetX: 0,\n        offsetY: 0,\n        scaleX: 1,\n        scaleY: 1,\n        color: '',\n      };\n    }\n\n    const offsetUnits = [\n      { label: 'mm', _value: 0 },\n      { label: 'cm', _value: 1 },\n    ];\n    const offsetUnitSelected = ref(1);\n\n    const rules = {\n      rotation: [\n        validator2ElemRule((value: number | string) => {\n          if (Number(value) < 0 || Number(value) > 360) {\n            throw new Error('请输入0~360的数值');\n          }\n        }),\n        // { type: 'number', message: '必须为数字' },\n      ],\n      offsetX: [\n        validator2ElemRule((value: number | string) => {\n          if (Number(value) < -1 || Number(value) > 1) {\n            throw new Error('请输入-1~1的数值');\n          }\n        }),\n        // validator2ElemRule(isFilled, { message: i18n.t('order_management.form.err_not_empty') }),\n        // { type: 'number', message: '必须为数字' },\n      ],\n      offsetY: [\n        validator2ElemRule((value: number | string) => {\n          if (Number(value) < -1 || Number(value) > 1) {\n            throw new Error('请输入-1~1的数值');\n          }\n        }),\n        // { type: 'number', message: '必须为数字' },\n\n      ],\n    };\n\n    // function yarnEnableChange(value) {\n    //   console.log('yarnEnableChange======', value);\n    // }\n    const clothesDetail = useClosest<typeof ClothesDetail>('ClothesDetail');\n    const renderer = computed(() => {\n      return clothesDetail.value?.renderer;\n    });\n    const subMaterialNames = ['附件', 'Stitch'];\n    const isAccessory = computed(() => {\n      return subMaterialNames.includes(store.partSelected?.name);\n    });\n\n    // watch(() => form.value, (formData) => {\n    //   console.log('form change======', formData, renderer.value);\n    //   emit('yarn-change', formData);\n    //   if (JSON.stringify(formData) !== JSON.stringify(store.partSelectedYarn)) {\n    //     renderer.value.updateYarn(formData);\n    //   }\n    // }, {\n    //   deep: true,\n    // });\n    function formChange() {\n      renderer.value?.updateYarn(form.value);\n    }\n\n    const isEnabled = ref(false);\n    // const disabled = computed(() => {\n    //   return store.partSelected === null;\n    // });\n    watch(() => store.partSelectedYarn, yarnData => {\n      if (yarnData) {\n        isEnabled.value = true;\n        form.value = transYarn2Form(yarnData);\n      } else {\n        resetFormData();\n      }\n    });\n\n    function handleRotateChange(angle: number) {\n      form.value.rotation = angle;\n      formChange();\n    }\n\n    function handleColorChange(color: string) {\n      form.value.color = color;\n      formChange();\n    }\n\n    return {\n      form,\n      rules,\n      isEnabled,\n      isAccessory,\n      handleRotateChange,\n      offsetUnits,\n      offsetUnitSelected,\n      formChange,\n      predefineColors,\n      handleColorChange,\n    };\n  },\n});\n\nexport default SubMaterialProperty;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubMaterialProperty.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubMaterialProperty.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SubMaterialProperty.vue?vue&type=template&id=3392e7c6&scoped=true&\"\nimport script from \"./SubMaterialProperty.vue?vue&type=script&lang=ts&\"\nexport * from \"./SubMaterialProperty.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SubMaterialProperty.vue?vue&type=style&index=0&id=3392e7c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3392e7c6\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, watch, computed,\n} from '@vue/composition-api';\nimport store from '@/views/clothes/store';\nimport CtmList from '@/views/clothes/components/CtmList.vue';\nimport useClosest from '_/composables/use-closest';\nimport CollapseContainer from '../components/CollapseContainer.vue';\nimport SubMaterialPanel from './SubMaterialPanel.vue';\nimport SubMaterialProperty from './SubMaterialProperty.vue';\n\nconst MaterialIndex = defineComponent({\n  name: 'SubMaterialIndex',\n  components: {\n    CollapseContainer,\n    CtmList,\n    SubMaterialPanel,\n    SubMaterialProperty,\n  },\n  props: {\n  },\n  setup(props, context) {\n    const clothesDetail = useClosest('ClothesDetail');\n    const activePanels = ref(['ctmList']);\n    const ctmList = computed(() => {\n      const subMaterialNames = ['附件', 'Stitch'];\n      return store.ctmList.filter(ctm => {\n        return subMaterialNames.includes(ctm.ctmName);\n      });\n    });\n    const selectedId = computed(() => {\n      try {\n        clothesDetail.value?.selectCtmById(store.partSelected?.id);\n      } catch (e) {\n      }\n      return store.partSelected?.id;\n    });\n    watch(() => store.partSelected, part => {\n      if (part) {\n        if (activePanels.value.indexOf('property') === -1) {\n          activePanels.value.push('property');\n        }\n      }\n    });\n    function handleCtmClick(ctm) {\n      clothesDetail.value?.selectCtmById(ctm.ctmId);\n    }\n    function handleCtmClear(ctm) {\n      clothesDetail.value?.clearCtmMaterial(ctm);\n    }\n\n    return {\n      activePanels,\n      ctmList,\n      selectedId,\n      handleCtmClick,\n      handleCtmClear,\n    };\n  },\n});\n\nexport default MaterialIndex;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e06589c8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e06589c8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e06589c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"renderer-index\",on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('ToolBar',{staticClass:\"tool-bar\",on:{\"backward-operation\":_vm.handleBackward,\"forward-operation\":_vm.handleForward,\"reset-controls\":function($event){return _vm.rendererd4.resetControls()},\"save-model\":function($event){return _vm.rendererd4.save('save')},\"save-model-as\":function (modelNumber) { return _vm.rendererd4.save('save as', modelNumber); },\"show-version\":_vm.handleShowVersion}}),_c('RendererD4',{key:_vm.modelId,ref:\"rendererd4\",staticClass:\"renderer\",attrs:{\"modelData\":_vm.modelData,\"isYarnEnabled\":_vm.isYarnEnabled,\"category\":_vm.category},on:{\"selected-change\":_vm.handleSelectedChange,\"pattern-selected-change\":_vm.handlePatternSelectedChange,\"yarn-change\":_vm.handleYarnChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"renderer-d4\"},[_c('canvas',_vm._g({ref:\"renderCanvas\",on:{\"dragover\":function($event){$event.preventDefault();}}},_vm.canvasEvent)),(_vm.loadingStatus)?_c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"progress\"},[_c('span',{style:((\"width: \" + (_vm.loadingStatus.percentage) + \"%\"))})]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.$t('model.detail.rendering_model_percentage', {\n          loadingStatus: _vm.loadingStatus,\n        }))}})])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, onMounted, onUnmounted, watch,\n} from '@vue/composition-api';\nimport AppError from '@/utils/error';\nimport errHandler from '@/utils/error-handler';\nimport { loadD4 } from '@/utils/load-d4';\n\nimport axios from '@/utils/axios';\nimport originAxios from 'axios';\nimport {\n  getItem,\n} from '@/utils/oss/utils';\nimport { getMaterialDetail } from '@/api/material-mall';\nimport {\n  normalizeRendererImgUrl, getRelativePathFromUrl, normalizeMaterial,\n} from '@/utils/normalize-component';\nimport store, { modelSave, modelSaveAs } from '@/views/clothes/store';\nimport draggingData from '@/utils/dragging-data';\nimport { OSSUploader } from '@/utils/oss/uploader';\nimport { dataUrl2Blob } from '_/blob-utils';\nimport { debounce } from 'throttle-debounce';\nimport { i18n } from '@/i18n';\n// import mixinRenderer from '@/views/model/mixin-renderer';\n\n/**\n * 获取单个模型部件的信息\n * @param {String} ctmId 模型ID\n */\n// export const getModelComponentItemInfo = (ctmId) => {\n//   return axios({\n//     method: 'get',\n//     // url: '/bff-center/showCommon/modelComponentSearch/getComponentInfoByComponentId',\n//     url: '/show/application/model/ctm',\n//     headers: {\n//       'requester-type': 'web',\n//       'model-type': 'SHOE',\n//     },\n//     params: {\n//       ctmId,\n//     },\n//   });\n// };\n\ntype LoadingStatus = ({\n  percentage: number,\n});\nexport type ModelDataItem = ({\n  shoeId: number,\n  material: ({\n    name: string,\n  }),\n  componentID: number,\n  componentName: string,\n  url: string,\n});\n\nconst RendererD4 = defineComponent({\n  name: 'RendererD4',\n  props: {\n    modelData: {\n      type: Array as () => ModelDataItem[],\n    },\n    isYarnEnabled: {\n      type: Boolean,\n      default: false,\n    },\n    category: {\n      type: String as () => 'material' | 'decal' | 'accessory',\n      default: 'material',\n    },\n  },\n  setup(props, { root, emit }) {\n    let d4: any;\n    const loadingStatus = ref<LoadingStatus | null>({\n      percentage: 0,\n    });\n    const renderCanvas = ref<HTMLCanvasElement>(null);\n    const canvasEvent = ref<{\n      [eventType: string]: Function\n    }>({});\n\n    let parentWidth = 0;\n    let parentHeight = 0;\n\n    const partSelected = ref<null | { id: string, name: string }>(null);\n\n    const getDefaultMaterialPromise = axios.get('/bff-center/showCommon/getMaterialBasicInfoAndTags', {\n      params: {\n        materialId: '1',\n        language: i18n.language,\n      },\n    });\n\n\n    const resize = debounce(500, () => {\n      if (d4) {\n        const canvasDom = renderCanvas.value!!;\n\n        const params = {\n          canvas: canvasDom,\n          width: renderCanvas.value!!.parentElement!!.clientWidth,\n          height: renderCanvas.value!!.parentElement!!.clientHeight,\n          resolution: window.devicePixelRatio,\n        };\n        canvasDom.width = params.width;\n        canvasDom.height = params.height;\n        d4.resizeRenderer(params.width, params.height, params.resolution);\n      }\n    });\n\n    // 格式化从D4中获取的鞋模型实时部件的数据，转为提交api的格式\n    async function _formatShoeComponents(components) {\n      // return console.info(components.map(it => it.mapSec));\n      const result = [];\n      // 设置promise数组\n      const promiseArr = components.map(async item => {\n        // let mapSec = '';\n        // // 判断是否base64\n        // if (/^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*?)\\s*$/i.test(item.mapSec)) {\n        //   mapSec = await uploadBase64ToOSS(item.mapSec, 'MATERIALPRINTING');\n        // } else {\n        //   [mapSec] = item.mapSec.split('?')[0].split('/').reverse();\n        // }\n        // let { edgeArrPath } = store.ctmList.find(octm => item.componentID === octm.ctmId);\n        // [edgeArrPath] = edgeArrPath.split('?')[0].split('/').reverse();\n        // const originCtm = store.ctmList.find(octm => item.componentID === octm.ctmId) || {};\n        // if (originCtm.edgeArr) {\n        //   // 将edgeArr上传到OSS获取edgeArrPath\n        //   const uploader = new OSSUploader({ sourceType: 'COMPONENT' });\n        //   try {\n        //     // 上传到oss\n        //     edgeArrPath = (await uploader.send({\n        //       body: new Blob([originCtm.edgeArr], { type: 'application/json' }),\n        //     })).path;\n        //     edgeArrPath = `${edgeArrPath}.json`;\n        //     console.info(edgeArrPath);\n        //   } catch (err) {\n        //     errHandler(err);\n        //   }\n        // }\n        if (item.additionalJsonExt) {\n          const { decalInfo } = item.additionalJsonExt;\n          if (decalInfo) {\n            decalInfo.forEach(decal => {\n              decal.map = getRelativePathFromUrl(decal.map);\n            });\n          } else {\n            item.additionalJsonExt.decalInfo = undefined;\n          }\n        }\n        // console.log('item========', item, item.componentName, item.scale);\n\n        result.push({\n          ctmId: item.componentID,\n          materialId: item.materialID,\n          // mapSec,\n          // edgeArrPath,\n          // uvTrans: item.uvTrans,\n          additionalJsonExt: item.additionalJsonExt,\n        });\n      });\n      await Promise.all(promiseArr);\n      return result;\n    }\n\n    async function save(type, modelNumber) {\n      // 格式化要上传的数据\n      d4.hideSigns();\n      const shoeID = store.modelId;\n      console.log('d4 output======', d4.outputDatas());\n\n      const modelCtmRequestList = await _formatShoeComponents(\n        d4.outputDatas(),\n      );\n      console.log('save modelCtmRequestList======', modelCtmRequestList);\n\n      // 上传截图\n      let curtailImg = '';\n      const uploader = new OSSUploader({ sourceType: 'SHOE', sendAs: 'arrayBuffer' });\n      try {\n        const file = dataUrl2Blob(d4.getModelSnapshot(512, 512));\n        const { key, path } = await getItem(file, { sourceType: 'SHOE' });\n        curtailImg = path;\n        // 上传到oss\n        await uploader.send({\n          params: { key },\n          body: file,\n          headers: {\n            'Content-Type': 'image/png',\n          },\n        });\n      } catch (err) {\n        errHandler(err);\n      }\n\n      const data = {\n        modelId: shoeID,\n        modelCtmRequestList,\n        curtailImg,\n        catalogId: store.catalogId,\n      };\n\n      // 根据不同的保存类型，发送不同的请求\n      if (type === 'save') {\n        const modifiedRecord = d4.getRecord();\n        data.modifyContent = JSON.stringify(modifiedRecord);\n        d4.resetOriginRecord(); // 清空修改记录\n\n        // 如果没有进行修改，提示不能保存\n        // if (!modifiedRecord.length) {\n        //   const err = new AppError(i18n.t('model.detail.cannot_save_tip'), { level: -1 });\n        //   errHandler(err);\n        //   throw err;\n        // }\n\n        const newRelateId = (await modelSave(data, store.workspaceId)).data;\n        store.modelId = newRelateId;\n        // this.saveButtonStatus = true;\n\n        // 替换路由\n        await root.$router.replace({\n          name: 'ClothesItem',\n          params: { modelId: newRelateId },\n          query: { workspaceId: root.$route.query.workspaceId || undefined, catalogId: root.$route.query.catalogId },\n        });\n\n        // this.modefiedRecordLength = modifiedRecord.length;\n        root.$message.success(i18n.t('model.renderer.saved_suc'));\n      }\n\n      if (type === 'save as') {\n        Object.assign(data, { newModelName: modelNumber });\n        const { newRelateId, newCatalogId } = (await modelSaveAs(data, store.workspaceId)).data;\n        store.modelId = newRelateId;\n\n        // 替换路由\n        root.$router.replace({\n          name: 'ClothesItem',\n          params: { modelId: newRelateId },\n          query: { workspaceId: root.$route.query.workspaceId || undefined, catalogId: newCatalogId },\n        });\n\n        // this.modelId = res.data; // 另存为不需要修改modelId\n        // this.saveButtonStatus = false;\n        // this.showShoeInfo();\n        root.$message.success(i18n.t('model.renderer.saved_as_suc'));\n      }\n    }\n\n    async function updateMaterial(material, part = partSelected.value) {\n      console.log('renderer updateMaterial=======', material, material.goodId, part);\n      if (part && material.goodId) {\n        try {\n          await getMaterialDetail(material.goodId);\n          // console.log('renderer materialGoodData====', materialGoodData, materialGoodData.publishStatus);\n        } catch (err) {\n          if (err.code === 100403) {\n            root.$message.warning(i18n.t('model.detail.board.material_no_longer_available'));\n            return;\n          }\n        }\n      }\n      try {\n        if (part) {\n          if (material.id || material.originalId) {\n            const goodId = material.goodId || '';\n            const id = material.id ? material.id : material.originalId;\n            material = (await axios.get('/bff-center/showCommon/getMaterialBasicInfoAndTags', {\n              params: {\n                materialId: id,\n                language: i18n.language,\n              },\n            })).data;\n            material.goodId = goodId;\n          }\n          const ctm = store.ctmList.find(_ctm => {\n            return _ctm.ctmId === part.id;\n          });\n          if (ctm && material.id) {\n            ctm.material = material;\n            ctm.materialId = material.id;\n            store.materialCache[material.id] = material;\n          }\n          const d4Material = await normalizeMaterial({\n            ...material,\n            id: material.id ?? material.originalId,\n            name: material.name ?? material.materialName,\n          });\n          await d4.beforeChangeMaterial(d4Material);\n        }\n      } catch (err) {\n        errHandler(err);\n      }\n    }\n\n    async function updatePattern(pattern, eventParam) {\n      let imgUrl = getRelativePathFromUrl(pattern.filePath);\n      imgUrl = await normalizeRendererImgUrl(imgUrl);\n      await d4.addDecalByIntersect(eventParam, imgUrl);\n      // await d4.addDecalByIntersect(eventParam, pattern.filePath);\n    }\n    async function removePattern() {\n      d4.deleteDecal();\n      emit('pattern-selected-change', {\n        pattern: undefined,\n      });\n    }\n\n    function selectCtmById(id: string) {\n      partSelected.value = d4.getTargetFromId(id);\n      emit('selected-change', {\n        part: partSelected.value,\n      });\n\n      const yarnMat = d4.getDesignMaterial();\n      // console.log('selectCtmById =======', id, yarnMat, yarnMat.scale.x, yarnMat.color);\n      if (yarnMat) {\n        emit('yarn-change', {\n          yarn: {\n            offset: { x: yarnMat.offset.x, y: yarnMat.offset.y },\n            rotation: yarnMat.rotation,\n            scale: yarnMat.scale,\n            color: yarnMat.color,\n          },\n        });\n      }\n      return partSelected.value;\n    }\n\n\n    /* 服装线需求 */\n    async function updateMaterialByPartIdAndName(partId, partName, material) {\n      const d4Material = await normalizeMaterial({\n        ...material,\n        name: material.name ?? material.materialName,\n      });\n      await d4.beforeChangeMaterial(d4Material, `${partId}/${partName}`);\n    }\n    async function deleteMaterial(material) {\n      try {\n        const defaultMaterial = (await getDefaultMaterialPromise).data;\n        store.ctmList.forEach(async _ctm => {\n          // 将被删除面料对应部分切换为原始面料\n          if (_ctm.materialId === material.id) {\n            _ctm.materialId = '1';\n            _ctm.material = defaultMaterial;\n            await updateMaterialByPartIdAndName(_ctm.ctmId, _ctm.ctmName, defaultMaterial);\n          }\n        });\n      } catch (err) {\n        errHandler(err);\n      }\n    }\n    async function clearCtmMaterial(ctm) {\n      try {\n        const defaultMaterial = (await getDefaultMaterialPromise).data;\n        ctm.materialId = '1';\n        ctm.material = defaultMaterial;\n        await updateMaterialByPartIdAndName(ctm.ctmId, ctm.ctmName, defaultMaterial);\n      } catch (err) {\n        errHandler(err);\n      }\n    }\n    async function replaceMaterial(oldMaterial, newMaterial) {\n      try {\n        newMaterial = (await axios.get('/bff-center/showCommon/getMaterialBasicInfoAndTags', {\n          params: {\n            materialId: newMaterial.relateId, // newMaterial.id,\n            language: i18n.language,\n          },\n        })).data;\n        for (let i = 0; i < store.ctmList.length; i++) {\n          const _ctm = store.ctmList[i];\n          if (_ctm.materialId === oldMaterial.id) {\n            _ctm.materialId = newMaterial.id;\n            _ctm.material = newMaterial;\n            store.materialCache[newMaterial.id] = newMaterial;\n            await updateMaterialByPartIdAndName(_ctm.ctmId, _ctm.ctmName, newMaterial);\n          }\n        }\n      } catch (err) {\n        errHandler(err);\n      }\n    }\n\n    async function updateYarn(yarnData, part = partSelected.value) {\n      const yarnMat = d4.getDesignMaterial();\n      console.log('updateYarn===========', yarnData, yarnMat.scale.x);\n      const ctmSelected = store.ctmList.find(_ctm => _ctm.componentID === part.id);\n      // console.log('ctmSelected==========', ctmSelected);\n      const defaultColor = ctmSelected?.material?.id === '1' ? '#878787' : '#FFFFFF';\n      if (yarnMat) {\n        yarnData.offsetX !== undefined && (yarnMat.offset.x = Number(yarnData.offsetX));\n        yarnData.offsetY !== undefined && (yarnMat.offset.y = Number(yarnData.offsetY));\n        yarnData.rotation !== undefined && (yarnMat.rotation = Number(yarnData.rotation));\n        yarnData.scaleX !== undefined && (yarnMat.scale.x = Number(yarnData.scaleX));\n        yarnData.scaleX !== undefined && (yarnMat.scale.y = Number(yarnData.scaleX));\n        yarnData.color !== undefined && (yarnMat.color = yarnData.color || defaultColor);\n        yarnMat.update();\n        d4.updateModelsData(d4.outputDatas());\n        d4.render();\n\n        emit('yarn-change', {\n          yarn: {\n            offset: { x: yarnMat.offset.x, y: yarnMat.offset.y },\n            rotation: yarnMat.rotation,\n            scale: yarnMat.scale,\n            color: yarnMat.color,\n          },\n        });\n      }\n    }\n\n    async function updatePatternProperty(patternData) {\n      try {\n        d4.updateDecalAngle(patternData.rotation);\n        d4.updateDecalScale(patternData.scale);\n        d4.changeDecalTec(patternData.pattern);\n        d4.updateDecalPosOffsetX(patternData.offsetX);\n        d4.updateDecalPosOffsetY(patternData.offsetY);\n        // console.log('RendererD4 updatePatternProperty=====', patternData, d4.getCurrentDecalInfo());\n      } catch (e) {\n        root.$errHandler(e);\n      }\n    }\n\n    async function bindD4() {\n      const getTarget = (event: MouseEvent) => {\n        const canvasDom = renderCanvas.value!!;\n        const param = {\n          left: canvasDom.getBoundingClientRect().left,\n          top: canvasDom.getBoundingClientRect().top,\n          clickX: event.clientX,\n          clickY: event.clientY,\n          eventType: event.type,\n          category: props.category,\n        };\n        const result = d4.getTargetFromScreen(param);\n        // 处理放回是null的情况\n        return result || { id: '', name: '' };\n      };\n      const getEventParam = (event: MouseEvent) => {\n        const canvasDom = renderCanvas.value!!;\n        const param = {\n          left: canvasDom.getBoundingClientRect().left,\n          top: canvasDom.getBoundingClientRect().top,\n          clickX: event.clientX,\n          clickY: event.clientY,\n        };\n        return param;\n      };\n\n      canvasEvent.value = {\n        // click: async (e: MouseEvent) => {\n        //   const d4Sign = d4.getSign(e.offsetX, e.offsetY);\n\n        //   if (d4Sign) {\n        //     const ann = this.annotations.find(_ann => _ann.id === d4Sign.id);\n        //     if (ann) {\n        //       this.showAnnotation(ann);\n        //     }\n        //   }\n        // },\n        dblclick: async (e: MouseEvent) => {\n          partSelected.value = getTarget(e);\n          if (partSelected.value?.id) {\n            emit('selected-change', {\n              part: partSelected.value,\n            });\n            if (props.isYarnEnabled) {\n              const yarnMat = d4.getDesignMaterial();\n              if (yarnMat) {\n                emit('yarn-change', {\n                  yarn: {\n                    offset: { x: yarnMat.offset.x, y: yarnMat.offset.y },\n                    rotation: yarnMat.rotation,\n                    scale: yarnMat.scale,\n                    color: yarnMat.color,\n                  },\n                });\n              }\n            }\n          } else {\n            emit('selected-change', {\n              part: null,\n            });\n            emit('yarn-change', {\n              yarn: undefined,\n            });\n          }\n        },\n        mousedown: (event: MouseEvent) => {\n          const controlsMouseMove = (e: MouseEvent) => {\n            // this.unfocusAnnotation();\n            d4.controlsMouseMove(e);\n            d4.mouseMoveRender(e);\n          };\n\n          function controlsMouseUp() {\n            d4.controlsMouseUp();\n            d4.render();\n            document.removeEventListener('mousemove', controlsMouseMove, false);\n            document.removeEventListener('mouseup', controlsMouseUp, false);\n          }\n\n          const isStart = d4.controlsMouseDown(event);\n\n          if (isStart) {\n            document.addEventListener('mousemove', controlsMouseMove, false);\n            document.addEventListener('mouseup', controlsMouseUp, false);\n          }\n\n          if (props.category === 'decal') {\n            getTarget(event);\n            const pattern = d4.selectDecalByIntersect(getEventParam(event));\n            if (pattern) {\n              emit('pattern-selected-change', {\n                pattern,\n              });\n            }\n          }\n        },\n        mousemove: (event: MouseEvent) => {\n          d4.throttleMoveDecal(getEventParam(event));\n        },\n        mouseup: (event: MouseEvent) => {\n          d4.endSelectedDecal(getEventParam(event));\n          const pattern = d4.getCurrentDecalInfo();\n          // console.log('decal end=======', pattern);\n          if (pattern) {\n            emit('pattern-selected-change', {\n              pattern,\n            });\n          }\n        },\n        // mouseout: (event: MouseEvent) => {\n        //   d4.endSelectedDecal(getEventParam(event));\n        // },\n        wheel: (event: MouseEvent) => {\n          // this.unfocusAnnotation();\n          event.preventDefault();\n          event.stopPropagation();\n\n          d4.controlsMouseWheel(event);\n          d4.render();\n        },\n        drop: (e: MouseEvent) => {\n          let dropData;\n          if (draggingData.type === 'catalog') {\n            dropData = draggingData.datum.fileInfo;\n          } else if (draggingData.type === 'material') {\n            dropData = draggingData.datum;\n          } else if (draggingData.type === 'pattern') {\n            dropData = draggingData.datum.fileInfo;\n          }\n          if (dropData) {\n            if (draggingData.type === 'pattern') {\n              console.log('updatePattern=======', dropData, getEventParam(e));\n              updatePattern(dropData, getEventParam(e));\n            } else {\n              const part = getTarget(e);\n              updateMaterial(dropData, part);\n            }\n            draggingData.clear();\n          }\n        },\n        touchstart: () => {\n          const controlsTouchMove = (e: TouchEvent) => {\n            // this.unfocusAnnotation();\n            d4.controlsTouchMove(e);\n          };\n\n          function controlsTouchEnd(e: TouchEvent) {\n            d4.controlsTouchEnd(e);\n\n            document.removeEventListener('touchmove', controlsTouchMove, false);\n            document.removeEventListener('touchend', controlsTouchEnd, false);\n          }\n\n          document.addEventListener('touchmove', controlsTouchMove, false);\n          document.addEventListener('touchend', controlsTouchEnd, false);\n        },\n      };\n    }\n\n    async function initD4() {\n      // const getModelData = async () => {\n      //   const { data } = await getModelCTMList(this.$route.params.modelId, this.workspaceId);\n      //   return Promise.all(data.map((item) => normalizeComponent(item)));\n      // };\n\n      const [D4] = await Promise.all([\n        loadD4(),\n      ]);\n\n      // this.ctmList = data;\n\n      if (!props.modelData) {\n        throw new AppError(i18n.t('model.detail.load_component_error'));\n      }\n\n      if (!props.modelData.length) {\n        throw new AppError(i18n.t('model.detail.client_not_support'));\n      }\n\n      const canvasDom = renderCanvas.value!!;\n\n      canvasDom.width = canvasDom.parentElement!!.clientWidth;\n      canvasDom.height = canvasDom.parentElement!!.clientHeight;\n\n\n      const params = {\n        canvas: canvasDom,\n        width: parentWidth,\n        height: parentHeight,\n        resolution: window.devicePixelRatio,\n      };\n\n      const _d4 = new D4(params);\n      _d4.changeBackgroundTexture(require('@/assets/img/renderer/clothes-renderer-bg.jpg'));\n      _d4.enableGround();\n\n      const onProgress = (_loadingStatus: LoadingStatus) => {\n        loadingStatus.value = {\n          ...loadingStatus,\n          percentage: parseInt(`${_loadingStatus.percentage}`, 10),\n        };\n        if (loadingStatus.value.percentage === 100) {\n          // console.log('per======', loadingStatus.value.percentage);\n          // eventBus.$emit('renderer-loaded');\n          loadingStatus.value = null;\n          resize();\n        }\n      };\n      // const onProgress = progressTween(_onProgress, 3 / 1000, 30, {\n      //   percentage: 0,\n      // }, 30 / 1000);\n\n\n      const loadModel = async () => {\n        // 调整数据结构，按D4.js要求的数据结构作为参数传入\n        // data.forEach((item) => {\n        //   item.shoeId = item.modelId;\n        //   item.material.name = item.material.materialName;\n        //   item.componentID = item.ctmId;\n        //   item.componentName = item.ctmName;\n        //   item.url = item.ctmPath;\n        // });\n\n        await _d4.loadModel(props.modelData, (loadingStatus_) => {\n          onProgress({\n            ...loadingStatus_,\n            percentage: loadingStatus_.loaded / loadingStatus_.total * 100,\n          });\n        });\n        onProgress({ percentage: 100 });\n      };\n\n      // const makeWaterMask = async () => {\n      //   // 水印功能（workspace权限相关）\n      //   if (this.$route.query.from !== '0'\n      //     && this.$can(this.$route.query.from, 47)) {\n      //     const res = await getWorkpaceCompnayInfo(this.$route.query.from);\n      //     await _d4.updateWatermask(_d2.getWatermask(res.data.name));\n      //   }\n      // };\n      await Promise.all([loadModel()]);\n      return {\n        d4: _d4,\n      };\n    }\n\n    async function init() {\n      loadingStatus.value = {\n        percentage: 0,\n      };\n      try {\n        ({ d4 } = await initD4());\n        bindD4();\n      } catch (e) {\n        loadingStatus.value = null;\n        throw e;\n      }\n      return () => {\n        // this.d4 = null;\n      };\n    }\n\n\n    function previousOperation() {\n      d4.backwardAlter();\n    }\n    function nextOparation() {\n      d4.forwardAlter();\n    }\n    function resetControls() {\n      d4.resetControls();\n    }\n    function getCtmData() {\n      // _formatShoeComponents(d4.outputDatas()).then(data => {\n      //   console.log('ctm data=============', data);\n      // });\n      return d4.outputDatas();\n    }\n\n    onMounted(() => {\n      parentWidth = renderCanvas.value!!.parentElement!!.clientWidth;\n      parentHeight = renderCanvas.value!!.parentElement!!.clientHeight;\n      const unwatch = watch(() => props.modelData, (data) => {\n        if (data && data.length > 0) {\n          init();\n          unwatch();\n        }\n      });\n      watch(() => props.isYarnEnabled, (isEnabled) => {\n        if (isEnabled) {\n          const yarnMat = d4.getDesignMaterial();\n          console.log('watch props.isYarnEnabled yarnMat=======', yarnMat);\n          if (yarnMat) {\n            emit('yarn-change', {\n              yarn: {\n                offset: { x: yarnMat.offset.x, y: yarnMat.offset.y },\n                rotation: yarnMat.rotation,\n                scale: yarnMat.scale,\n                color: yarnMat.color,\n              },\n            });\n          }\n        }\n      });\n\n      // 窗口大小发生改变时调用resize\n      window.onresize = resize;\n\n      // setTimeout(() => {\n      //   const yarnMat = d4.enableYarn();\n      //   console.log('yarnMat=======', yarnMat);\n      //   yarnMat.panX(0.2);\n      //   yarnMat.panY(0.5);\n      //   yarnMat.rotate(90);\n      //   d4.updateModelsData(d4.outputDatas());\n      // }, 10000);\n    });\n\n    onUnmounted(() => {\n      window.onresize = null;\n    });\n\n    return {\n      renderCanvas,\n      canvasEvent,\n      loadingStatus,\n      updateMaterial,\n      previousOperation,\n      nextOparation,\n      resetControls,\n      deleteMaterial,\n      clearCtmMaterial,\n      replaceMaterial,\n      updateYarn,\n      updatePatternProperty,\n      save,\n      getCtmData,\n      removePattern,\n      selectCtmById,\n    };\n  },\n});\nexport default RendererD4;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RendererD4.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RendererD4.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RendererD4.vue?vue&type=template&id=2a8c0887&scoped=true&\"\nimport script from \"./RendererD4.vue?vue&type=script&lang=ts&\"\nexport * from \"./RendererD4.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RendererD4.vue?vue&type=style&index=0&id=2a8c0887&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a8c0887\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"dialog-wrapper\"},[_c('aside',{staticClass:\"dialog-aside scrollable-y\"},[_c('version-list',{attrs:{\"versions\":_vm.list},on:{\"change-status\":_vm.handleToggleActiveVersion}})],1),_c('main',{staticClass:\"dialog-content\"},[_c('h2',{staticClass:\"content-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.design_version'))+\" \")]),_c('div',{staticClass:\"preview-box\"},[_c('base-image',{staticClass:\"shoe-preview\",attrs:{\"fit\":\"contain\",\"src\":_vm.version.contentThumbnail}}),(_vm.list.length)?_c('el-button',{attrs:{\"disabled\":_vm.list[0].activeStatus,\"type\":_vm.list[0].activeStatus ? 'normal' : 'primary',\"size\":\"small\"},on:{\"click\":_vm.viewHistoryModel}},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.view_version'))+\" \")]):_vm._e()],1),_c('operation-record-list',{staticStyle:{\"margin-bottom\":\"30px\"},attrs:{\"version\":_vm.version}}),(_vm.list.length)?_c('button',{staticClass:\"recover-version premission-wrapper\",class:{ disabled: _vm.list[0].activeStatus || !_vm.$can('workspace', 'OP0055') },attrs:{\"disabled\":!_vm.$can('workspace', 'OP0055') || _vm.list[0].activeStatus},on:{\"click\":function($event){return _vm.$act(_vm.openDialogRestore)}}},[_c('i',{staticClass:\"iconfont icon-restore\"}),_vm._v(\" \"+_vm._s(_vm.$t('model.detail.restore'))+\" \")]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record-container scrollable-y\"},[(_vm.version.sourceCode)?_c('div',[_c('h2',{staticClass:\"operation-type\"},[_c('i',{staticClass:\"iconfont icon-restore\"}),_vm._v(\" \"+_vm._s(_vm.$t('model.detail.revert_to_original'))+\" \")]),_c('p',{staticClass:\"operation-detail\",domProps:{\"innerHTML\":_vm._s(_vm.$t('model.detail.version_restore_info', { version: _vm.version }))}})]):_vm._e(),_c('ul',{staticStyle:{\"line-height\":\"2\"}},_vm._l((_vm.version.records),function(item,i){return _c('li',{key:i},[(item.records.length)?_c('h2',{staticClass:\"operation-type\"},[_c('i',{staticClass:\"iconfont\",class:_vm.generateIconByIndex(i)}),_vm._v(\" \"+_vm._s(item.operationName)+\" \")]):_vm._e(),_vm._l((item.records),function(operation,j){return _c('ul',{key:j},[_c('li',{staticClass:\"operation-detail\",domProps:{\"innerHTML\":_vm._s(operation)}})])})],2)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"record-container scrollable-y\">\n    <!-- 版本回复文字 -->\n    <div v-if=\"version.sourceCode\">\n      <h2 class=\"operation-type\"><i class=\"iconfont icon-restore\" />\n        {{ $t('model.detail.revert_to_original') }}\n      </h2>\n      <p class=\"operation-detail\" v-html=\"$t('model.detail.version_restore_info', { version })\">\n      </p>\n    </div>\n    <!-- 版本变化的文字 -->\n    <ul style=\"line-height: 2;\">\n        <li v-for=\"(item, i) in version.records\"  :key=\"i\">\n          <h2 v-if=\"item.records.length\" class=\"operation-type\">\n            <i class=\"iconfont\" :class=\"generateIconByIndex(i)\" />\n            {{ item.operationName }}\n          </h2>\n          <ul v-for=\"(operation, j) in item.records\" :key=\"j\">\n            <li v-html=\"operation\" class=\"operation-detail\" />\n          </ul>\n        </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    version: {\n      type: Object,\n      required: true,\n    },\n  },\n  methods: {\n    generateIconByIndex(idx) {\n      if (idx === 0) return 'icon-material-print';\n      if (idx === 1) return 'icon-material-o';\n      if (idx === 2) return 'icon-material-change';\n      return 'icon-material-print';\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.record-container {\n  height: 260px;\n  overflow: auto;\n\n  .operation-type {\n    display: flex;\n    align-items: center;\n    // margin-bottom: 10px;\n    font-size: 16px;\n    font-weight: 600;\n    color: #333;\n  }\n  .operation-detail {\n    margin-left: 25px;\n    color: #636363;\n    line-height: 30px;\n    word-break: normal;\n    &::before {\n      content: \"\";\n      display: inline-block;\n      position: relative;\n      top: -1px;\n      width: 8px;\n      height: 8px;\n      margin-right: 5px;\n      vertical-align: middle;\n      background-color: #848b97;\n      border-radius: 50%;\n    }\n    > strong {\n      color: #333;\n    }\n  }\n  .iconfont {\n    margin-right: 3px;\n    font-size: 20px;\n    font-weight: 400;\n    color: $color-primary;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationRecordList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationRecordList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OperationRecordList.vue?vue&type=template&id=79b57bf4&scoped=true&lang=html&\"\nimport script from \"./OperationRecordList.vue?vue&type=script&lang=js&\"\nexport * from \"./OperationRecordList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OperationRecordList.vue?vue&type=style&index=0&id=79b57bf4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79b57bf4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',_vm._l((_vm.versions),function(item){return _c('li',{key:item.id,staticClass:\"version-item\",class:{ current: item.activeStatus },on:{\"click\":function($event){return _vm.$emit('change-status',item)}}},[_c('h2',{staticClass:\"version-name\"},[_vm._v(_vm._s(item.vCode ? _vm.$t('model.detail.version_name', { vCode: item.vCode }) : item.name))]),(_vm.$route.query.from !== '0')?_c('p',{staticClass:\"version-user\"},[(item.userInfo)?[_c('base-image',{staticClass:\"user-avatar\",attrs:{\"defaultImage\":_vm.defaultAvatar,\"src\":item.userInfo.icon,\"lazy\":false}}),_c('span',{staticClass:\"user-name text-one-line\"},[_vm._v(_vm._s(item.userInfo.name))])]:[_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":require('@/assets/img/public/default-image.png')}}),_c('span',{staticClass:\"user-name text-one-line\"},[_vm._v(_vm._s(_vm.$t('model.detail.unknown_user')))])]],2):_vm._e(),_c('time',{staticClass:\"version-time\"},[_vm._v(_vm._s(_vm._f(\"date\")(item.gmtCreateTime,'MM/DD/YYYY HH:mm')))])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul>\n    <li\n      v-for=\"item in versions\"\n      :key=\"item.id\"\n      class=\"version-item\"\n      :class=\"{ current: item.activeStatus }\"\n      @click=\"$emit('change-status',item)\">\n\n      <h2 class=\"version-name\">{{ item.vCode ? $t('model.detail.version_name', { vCode: item.vCode }) : item.name}}</h2>\n\n      <p v-if=\"$route.query.from !== '0'\" class=\"version-user\">\n        <template v-if=\"item.userInfo\">\n          <base-image :defaultImage=\"defaultAvatar\"\n            :src=\"item.userInfo.icon\" class=\"user-avatar\" :lazy=\"false\"/>\n          <span class=\"user-name text-one-line\">{{ item.userInfo.name }}</span>\n        </template>\n        <template v-else>\n          <img class=\"user-avatar\" :src=\"require('@/assets/img/public/default-image.png')\"/>\n          <span class=\"user-name text-one-line\">{{ $t('model.detail.unknown_user') }}</span>\n        </template>\n      </p>\n\n      <time class=\"version-time\">{{ item.gmtCreateTime | date('MM/DD/YYYY HH:mm') }}</time>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport BaseImage from '@/components/base/Image';\nimport defaultAvatar from '@/assets/img/header/default_avatar.png';\n\nexport default {\n  props: {\n    versions: {\n      type: Array,\n      required: true,\n    },\n  },\n  components: { BaseImage },\n  data() {\n    return {\n      defaultAvatar,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.version-item {\n  padding: 10px 18px;\n  padding-bottom: 8px;\n  margin: 6px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all linear 150ms;\n\n  &.current {\n    background-color: $color-primary;\n  }\n  &.current .version-name,\n  &.current .version-user .user-name,\n  &.current .version-time {\n    color: #fff;\n  }\n\n  .version-name {\n    font-size: 18px;\n    font-weight: 500;\n    color: #333;\n  }\n  .version-user {\n    display: flex;\n    align-items: center;\n    padding: 5px 0;\n\n    .user-avatar {\n      width: 25px;\n      height: 25px;\n      border-radius: 50%;\n    }\n    .user-name {\n      flex: 1;\n      margin-left: 5px;\n      font-weight: 200;\n      color: #7f7f7f;\n    }\n  }\n  .version-time {\n    font-size: 12px;\n    font-weight: 200;\n    color: #7f7f7f;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VersionList.vue?vue&type=template&id=10da4ea4&scoped=true&\"\nimport script from \"./VersionList.vue?vue&type=script&lang=js&\"\nexport * from \"./VersionList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VersionList.vue?vue&type=style&index=0&id=10da4ea4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10da4ea4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"dialog-wrapper\">\n      <!-- 侧边栏版本列表 -->\n      <aside class=\"dialog-aside scrollable-y\">\n        <version-list :versions=\"list\" @change-status=\"handleToggleActiveVersion\" />\n      </aside>\n\n      <!-- 右侧显示版本详情 -->\n      <main class=\"dialog-content\">\n        <h2 class=\"content-title\">\n          {{ $t('model.detail.design_version') }}\n        </h2>\n\n        <!-- 版本模型预览图 -->\n        <div class=\"preview-box\">\n          <base-image fit=\"contain\" :src=\"version.contentThumbnail\" class=\"shoe-preview\" />\n          <el-button\n            v-if=\"list.length\"\n            :disabled=\"list[0].activeStatus\"\n            :type=\"list[0].activeStatus ? 'normal' : 'primary'\"\n            size=\"small\"\n            @click=\"viewHistoryModel\">\n            {{ $t('model.detail.view_version') }}\n          </el-button>\n        </div>\n\n        <!-- 操作记录 -->\n        <operation-record-list :version=\"version\" style=\"margin-bottom: 30px\" />\n\n        <!-- 回复按钮 -->\n        <button\n          v-if=\"list.length\"\n          class=\"recover-version premission-wrapper\"\n          :class=\"{ disabled: list[0].activeStatus || !$can('workspace', 'OP0055') }\"\n          :disabled=\"!$can('workspace', 'OP0055') || list[0].activeStatus\"\n          @click=\"$act(openDialogRestore)\">\n          <i class=\"iconfont icon-restore\" />\n          {{ $t('model.detail.restore') }}\n        </button>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport BaseImage from '@/components/base/Image';\n\nimport { openSingleton } from '@/utils/open-window';\nimport { getHost } from '@/utils/exec';\n\nimport {\n  getVersionList,\n  getVersionDetail,\n  applyVersionToNewest,\n} from '@/api/shoe';\nimport { getUsersInfoByIds } from '@/api/account';\nimport OperationRecordList from './OperationRecordList';\nimport VersionList from './VersionList';\n\nexport default {\n  dialogify: {\n    props: {\n      compact: true,\n      // showClose: false,\n      modal: false,\n      width: '700px',\n    },\n  },\n  components: {\n    BaseImage,\n    VersionList,\n    OperationRecordList,\n  },\n  async created() {\n    this._initialData();\n\n    this.host = await getHost();\n  },\n  data() {\n    return {\n      list: [],\n      version: {\n        name: '',\n        contentThumbnail: '',\n        modifiedContentBrief: [],\n        modifier: {\n          name: '',\n        },\n        sourceCode: '',\n        host: null,\n      },\n    };\n  },\n  computed: {\n    /** @return { string | (string | null)[] } */\n    workspaceId() {\n      return this.$route.query.from !== '0' ? this.$route.query.from : '';\n    },\n    /** @return { string | (string | null)[] } */\n    catalogId() {\n      return this.$route.query.catalogId;\n    },\n  },\n  methods: {\n    // 切换不同的版本\n    async handleToggleActiveVersion(versionObj) {\n      // 点击当前活跃的版本，不做任何操作\n      if (!versionObj.activeStatus) {\n        // 切换活跃状态\n        this.list.forEach(item => {\n          item.activeStatus = false;\n        });\n        versionObj.activeStatus = true;\n\n        // 请求切换的版本的数据\n        this.version = await this._getVersionDetailInfo('', versionObj.id);\n\n        // 将更改的信息保存为可读性的文字\n        // eslint\n        this.version.records = this._generateOperationsRecords(this.version.modifiedContentBrief);\n      }\n    },\n    // 浏览历史版本\n    async viewHistoryModel() {\n      if (this.host) {\n        // 查看历史版本\n        this.$emit('confirm', {\n          catalogId: this.catalogId, workspaceId: this.workspaceId, ...this.version, history: true,\n        });\n        return;\n      }\n      await openSingleton({\n        name: 'ModelPreview',\n        params: {\n          modelId: this.version.relateId,\n        },\n        query: {\n          workspaceId: this.workspaceId,\n          catalogId: this.catalogId,\n        },\n      }, true, 'ModelPreview');\n    },\n    // 初始化历史版本的数据\n    async _initialData() {\n      const { catalogId } = this.$route.query;\n\n      // 获取版本列表\n      const result = await getVersionList(catalogId);\n      // 为 active 状态，每个数据添加一个属性\n      result.data.forEach((item, i) => {\n        item.activeStatus = i <= 0;\n      });\n\n      // 分别去获取用户信息\n      const usersInfo = (await getUsersInfoByIds(result.data.map(item => item.modifierId))).data;\n      // 将用户信息放入对应的userId中\n      result.data.forEach((item, idx) => {\n        item.userInfo = usersInfo[idx];\n      });\n\n      this.list = result.data;\n\n      this.version = await this._getVersionDetailInfo(catalogId);\n      // 将更改的信息保存为可读性的文字\n      this.version.records = this._generateOperationsRecords(this.version.modifiedContentBrief);\n    },\n    // 回复旧版本到最新的版本\n    async openDialogRestore() {\n      // eslint-disable-next-line\n      await this.$confirm(i18n.t('model.detail.restore_caution', { vCode: this.version.vCode || this.version.name }), i18n.t('model.detail.process_of_recovery'), {\n        confirmButtonText: i18n.t('public.dialog.confirm'),\n        cancelButtonText: i18n.t('public.dialog.cancel'),\n      });\n      const { data: newVersion } = await applyVersionToNewest(this.version.id, this.workspaceId);\n      this.$emit('confirm', { catalogId: this.catalogId, workspaceId: this.workspaceId, ...newVersion });\n    },\n    // 根据不同版本修改的信息，生成对应的字段\n    _generateOperationsRecords(arr) {\n      const newArr = [\n        { operationName: i18n.t('model.detail.material_print_modifications'), records: [] },\n        { operationName: i18n.t('model.detail.base_material_modifications'), records: [] },\n        { operationName: i18n.t('model.detail.material_modifications'), records: [] },\n      ];\n      arr.forEach(item => {\n        const type = item.property;\n        const { component } = item;\n\n        // 材质修改\n        if (type === 'material_name') {\n          // eslint-disable-next-line\n          newArr[2].records.push(i18n.t('model.detail.material_name_change', {\n            component,\n            item,\n          }));\n        }\n\n        // 材质操作\n        if (type === 'material_pan') {\n          // eslint-disable-next-line\n          newArr[1].records.push(i18n.t('model.detail.material_pan_change', {\n            component,\n          }));\n        }\n        if (type === 'material_rotate') {\n          // eslint-disable-next-line\n          newArr[1].records.push(i18n.t('model.detail.material_rotate_change', {\n            component,\n          }));\n        }\n\n        // 印花操作\n        if (type === 'print_map') {\n          if (item.oldValue && !item.newValue) {\n            // eslint-disable-next-line\n            newArr[0].records.push(i18n.t('model.detail.print_map_remove', { component }));\n          } else if (item.oldValue) {\n            // eslint-disable-next-line\n            newArr[0].records.push(i18n.t('model.detail.print_map_replace', { component }))\n          } else {\n            // eslint-disable-next-line\n            newArr[0].records.push(i18n.t('model.detail.print_map_add', { component }));\n          }\n        }\n        // eslint-disable-next-line\n        if (type === 'print_pan') newArr[0].records.push(i18n.t('model.detail.print_pan_change', {\n          component,\n        }));\n\n\n        // eslint-disable-next-line\n        if (type === 'print_rotate') newArr[0].records.push(i18n.t('model.detail.print_rotate', { component }));\n        // eslint-disable-next-line\n        if (type === 'print_scale') newArr[0].records.push(i18n.t('model.detail.print_scale', { component }));\n\n        // eslint-disable-next-line\n        if (type === 'print_wrap') newArr[0].records.push(i18n.t('model.detail.print_wrap', { component }));\n        // eslint-disable-next-line\n        if (type === 'print_mirrorH') newArr[0].records.push(i18n.t('model.detail.print_mirrorH', { component }));\n        // eslint-disable-next-line\n        if (type === 'print_mirrorV') newArr[0].records.push(i18n.t('model.detail.print_mirrorV', { component }));\n\n        // newArr[0].records.push('unkonw changed.');\n      });\n\n      return newArr;\n    },\n    async _getVersionDetailInfo(...args) {\n      const version = (await getVersionDetail(...args)).data;\n      // 分别去获取用户信息\n      const usersInfo = (await getUsersInfoByIds([version.modifierId])).data[0];\n      // 将用户信息放入对应的userId中\n      version.userInfo = usersInfo;\n      return version;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-wrapper {\n  display: flex;\n  position: relative;\n\n  .dialog-aside {\n    width: 180px;\n    max-height: 600px;\n    background-color: #f7f7f7;\n  }\n  .dialog-content {\n    flex: 1;\n    max-height: 600px;\n    padding: 20px 30px;\n  }\n}\n\n.content-title {\n  font-size: 18px;\n  color: #333;\n}\n.preview-box {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  margin: 20px 0;\n\n  .shoe-preview {\n    width: 300px;\n    height: 200px;\n  }\n}\n\n.premission-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 20px;\n  right: 30px;\n  z-index: 2;\n  width: 110px;\n  height: 40px;\n  font-size: 14px;\n  color: #848b97;\n  border: none;\n  border-radius: 4px;\n  outline: none;\n  overflow: hidden;\n  cursor: pointer;\n  background-color: transparent;\n\n  &.disabled {\n    cursor: not-allowed;\n    color: #ddd;\n    background-color: transparent;\n  }\n  &:hover {\n    background-color: #eee;\n  }\n  &.disabled:hover {\n    background-color: transparent;\n  }\n\n  .iconfont {\n    margin-right: 5px;\n    font-size: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4fd64367&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4fd64367&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fd64367\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tool-bar\"},[_c('el-tooltip',{attrs:{\"content\":_vm.$t('model.detail.operation.undo')}},[_c('i',{staticClass:\"tool-btn iconfont iconchexiao\",on:{\"click\":function($event){return _vm.$emit('backward-operation')}}})]),_c('el-tooltip',{attrs:{\"content\":_vm.$t('model.detail.operation.redo')}},[_c('i',{staticClass:\"tool-btn iconfont iconhuifu\",on:{\"click\":function($event){return _vm.$emit('forward-operation')}}})]),_c('el-tooltip',{attrs:{\"content\":'复位'}},[_c('i',{staticClass:\"tool-btn iconfont iconhuichushiwei\",on:{\"click\":function($event){return _vm.$emit('reset-controls')}}})]),_c('el-tooltip',{attrs:{\"content\":_vm.$t('model.detail.operation.save')}},[_c('i',{staticClass:\"tool-btn iconfont iconbaocun\",on:{\"click\":function($event){return _vm.$emit('save-model')}}})]),_c('el-tooltip',{attrs:{\"content\":_vm.$t('model.detail.operation.save_as')}},[_c('i',{staticClass:\"tool-btn iconfont iconlingcunwei\",on:{\"click\":_vm.handleSaveAs}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\nimport SaveAsConfirm from '@/views/model/detail/renderer/SaveAsConfirm.vue';\nimport store from '@/views/clothes/store';\n\nconst ToolBar = defineComponent({\n  name: 'ToolBar',\n  props: {},\n\n  setup(props, { root, emit }) {\n    async function handleSaveAs() {\n      try {\n        const modelNumber = await root.$injectDialog({\n          is: SaveAsConfirm,\n          props: {\n            modelNumber: store.modelInfo.modelNumber,\n          },\n        });\n        if (modelNumber) emit('save-model-as', modelNumber);\n      } catch (err) {\n      }\n    }\n\n    return {\n      handleSaveAs,\n    };\n  },\n});\n\nexport default ToolBar;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ToolBar.vue?vue&type=template&id=03217a25&scoped=true&\"\nimport script from \"./ToolBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ToolBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ToolBar.vue?vue&type=style&index=0&id=03217a25&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03217a25\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, Ref, onMounted, computed, watch,\n} from '@vue/composition-api';\nimport useLoader from '_/composables/use-loader';\nimport useClosest from '_/composables/use-closest';\n// import ClothesDetail from '@/views/clothes/detail/index.vue';\nimport store from '@/views/clothes/store';\nimport RendererD4, { ModelDataItem } from '../components/RendererD4.vue';\nimport Version from '../version/index.vue';\nimport ToolBar from './ToolBar.vue';\n\nconst RendererIndex = defineComponent({\n  name: 'RendererIndex',\n  components: {\n    ToolBar,\n    RendererD4,\n  },\n  props: {\n    category: {\n      type: String as () => 'material' | 'decal' | 'accessory',\n      default: 'material',\n    },\n  },\n  setup(props, { root }) {\n    const rendererd4 = ref<InstanceType<typeof RendererD4>>(null);\n    const subMaterialNames = ['附件', 'Stitch'];\n    const modelData = computed(() => {\n      // 调整数据结构，按D4.js要求的数据结构作为参数传入\n      const data = store.ctmList.map(origin => {\n        const item = { ...origin };\n        if (!item.additionalJsonExt) {\n          item.additionalJsonExt = {};\n        }\n        // let uvTrans = '';\n        // if (item.additionalJson.material || item.additionalJson.print) {\n        //   uvTrans = JSON.stringify({\n        //     material: item.additionalJson.material,\n        //     print: item.additionalJson.print,\n        //   });\n        // }\n        item.shoeId = item.modelId;\n        item.material && (item.material.name = item.material.materialName);\n        item.componentID = item.ctmId;\n        item.componentName = item.ctmName;\n        item.componentType = subMaterialNames.includes(item.ctmName) ? 1 : 0;\n        item.url = item.ctmPath;\n        // item.additionalJsonExt = item.additionalJsonExt;\n        // item.uvTrans = uvTrans;\n        // item.decalInfo = item.additionalJson.decalInfo;\n        return item;\n      });\n      return data;\n    });\n    const modelId = computed(() => {\n      return store.modelId;\n    });\n\n    function updateMaterial(...args: any[]) {\n      return rendererd4.value?.updateMaterial(...args);\n    }\n    function selectCtmById(id: string) {\n      return rendererd4.value?.selectCtmById(id);\n    }\n\n    function handleSelectedChange(event) {\n      store.partSelected = event.part;\n      if (!event.part) {\n        store.isYarnEnabled = false;\n      }\n    }\n    function handleYarnChange(event) {\n      store.partSelectedYarn = event.yarn;\n    }\n    function handlePatternSelectedChange(event) {\n      store.patternSelected = event.pattern;\n    }\n\n    // 撤销或恢复操作时，需要从D4的outputData()中获取当前的渲染数据，反向更新store中的ctmList\n    function syncStoreFromD4() {\n      const ctmData = rendererd4.value.getCtmData();\n      store.ctmList.forEach(ctm => {\n        const comp = ctmData.find(item => item.componentID === ctm.ctmId);\n        // 面料未发生变化时，不需要更新\n        if (ctm.materialId === comp.materialID) {\n          return;\n        }\n        // 由于D4中没有保存面料的完整信息，需要借助materialCache拿到原来的material信息对象\n        const material = store.materialCache[comp.materialID];\n        if (material) {\n          // ctm.additionalJson = {\n          //   ...JSON.parse(comp.uvTrans),\n          //   decalInfo: comp.decalInfo,\n          // };\n          ctm.additionalJsonExt = comp.additionalJsonExt;\n          ctm.materialId = comp.materialID;\n          ctm.material = material;\n        }\n      });\n      if (store.isYarnEnabled) {\n        const selectedId = store.partSelected.id;\n        const selectedCtm = ctmData.find(item => item.componentID === selectedId);\n        const uvTrans = JSON.parse(selectedCtm.uvTrans);\n        store.partSelectedYarn = {\n          rotation: uvTrans.material.rotation,\n          offset: {\n            x: uvTrans.material.offset.x,\n            y: uvTrans.material.offset.y,\n          },\n        };\n      }\n    }\n\n    function handleBackward() {\n      rendererd4.value.previousOperation();\n      syncStoreFromD4();\n    }\n    function handleForward() {\n      rendererd4.value.nextOparation();\n      syncStoreFromD4();\n    }\n\n    // 显示历史版本弹框\n    async function handleShowVersion() {\n      const targetVersion = await root.$Dialog.dialogify({\n        is: Version,\n      });\n      const reg = /(.+clothes\\/)(\\d+)(.+)/;\n      const newFullPath = root.$route.fullPath.replace(reg, `$1${targetVersion.relateId}$3`);\n      root.$router.replace(newFullPath);\n    }\n\n    function updateYarn(...args: any[]) {\n      return rendererd4.value?.updateYarn(...args);\n    }\n    function updatePatternProperty(...args: any[]) {\n      return rendererd4.value?.updatePatternProperty(...args);\n    }\n    async function removePattern(...args: any) {\n      await rendererd4.value?.removePattern(...args);\n    }\n    const isYarnEnabled = computed(() => {\n      return store.isYarnEnabled;\n    });\n\n    return {\n      store,\n      modelData,\n      modelId,\n      rendererd4,\n      handleBackward,\n      handleForward,\n      updateMaterial,\n      updateYarn,\n      handleSelectedChange,\n      handleShowVersion,\n      handleYarnChange,\n      isYarnEnabled,\n      updatePatternProperty,\n      handlePatternSelectedChange,\n      removePattern,\n      selectCtmById,\n    };\n  },\n});\n\nexport default RendererIndex;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=71a72956&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=71a72956&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71a72956\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, onMounted, computed, watch,\n} from '@vue/composition-api';\nimport store, { init as initStore } from '@/views/clothes/store';\nimport Info from '../info/index.vue';\nimport Material from '../material/index.vue';\nimport Patterns from '../pattern/index.vue';\nimport SubMaterial from '../sub-material/index.vue';\nimport Renderer from '../renderer/index.vue';\n\ntype MenuItem = 'info' | 'material' | 'pattern' | 'subMaterial';\n\nconst ClothesDetail = defineComponent({\n  name: 'ClothesDetail',\n  components: {\n    Info,\n    Material,\n    Patterns,\n    SubMaterial,\n    Renderer,\n  },\n  props: {\n    modelId: {\n      type: String,\n      default: '',\n    },\n    workspaceId: {\n      type: String,\n      default: '',\n    },\n    catalogId: {\n      type: String,\n      default: '',\n    },\n  },\n  setup(props, context) {\n    const activeMenu = ref<MenuItem>('material');\n    // console.log('clothes detail index props=====', props.modelId, props.workspaceId, props.catalogId);\n    const rendererCategory = computed(() => {\n      if (activeMenu.value === 'pattern') {\n        return 'decal';\n      }\n      // if (activeMenu.value === 'subMaterial') {\n      //   return 'accessory';\n      // }\n      return 'material';\n    });\n\n    function handleToggleMenu(index: MenuItem) {\n      activeMenu.value = index;\n    }\n\n    const renderer = ref<InstanceType<typeof Renderer>>();\n    function updateMaterial(...args: any[]) {\n      return renderer.value?.updateMaterial(...args);\n    }\n    function selectCtmById(id: string) {\n      return renderer.value?.selectCtmById(id);\n    }\n\n    store.modelId = props.modelId;\n    store.workspaceId = props.workspaceId;\n    store.catalogId = props.catalogId;\n    initStore();\n\n    watch(() => store.modelId, () => {\n      initStore();\n    });\n\n\n    /* 服装线需求 */\n    async function deleteMaterial(...args: any) {\n      await renderer.value?.rendererd4.deleteMaterial(...args);\n    }\n    async function replaceMaterial(...args: any) {\n      await renderer.value?.rendererd4.replaceMaterial(...args);\n    }\n    async function clearCtmMaterial(...args: any) {\n      await renderer.value?.rendererd4.clearCtmMaterial(...args);\n    }\n\n    return {\n      activeMenu,\n      handleToggleMenu,\n      updateMaterial,\n      renderer,\n      deleteMaterial,\n      replaceMaterial,\n      clearCtmMaterial,\n      rendererCategory,\n      selectCtmById,\n    };\n  },\n});\n\nexport default ClothesDetail;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=24b34a41&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=24b34a41&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24b34a41\",\n  null\n  \n)\n\nexport default component.exports","import { getDictByType as _getDictByType } from '@/loaders/dictionary';\nimport axios from './axios';\n\n/**\n * 根据类型获取该字典数据\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const getDictByType = async (type) => {\n  return {\n    data: await _getDictByType({ type }),\n  };\n};\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} countryId 国家ID\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCityList = (countryId, keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCity',\n    params: { countryId, keyword },\n  });\n};\n\n\nexport const getOSSAuth = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSAuth',\n  });\n};\n\nexport const getOSSUrl = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSUrl',\n  });\n};\n\n// 获取国家下的城市\n\n\n/* ==================== 标签相关 ================== */\n/**\n * 新增标签\n * @param {Object} data { shareId: string, tags: string[], type: string }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6116\n */\nexport const addTags = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/addTags',\n    data,\n  });\n};\n\n/**\n * 删除标签\n * @param {Array} tagIds { string[] }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6128\n */\nexport const removeTags = (tagIds) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/deleteTag',\n    data: tagIds,\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialList.vue?vue&type=style&index=0&id=4707379c&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=style&index=0&id=d9f63f58&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-list\",on:{\"contextmenu\":function($event){$event.stopPropagation();return (function (e) { return _vm.handleContextmenu(e, undefined, true); })($event)}}},[_c('header',{staticClass:\"header\"},[_c('div',{staticClass:\"brief\"},[_vm._t(\"brief\")],2),_c('div',{staticClass:\"view-tools\"},[_c('DisplayModeSwitcher',{attrs:{\"value\":_vm.displayMode},on:{\"input\":function (v) { return _vm.$emit('update:displayMode', v); }}})],1)]),(_vm.loadingPage === 1)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticClass:\"loading\"}):(!_vm.materialCatalogs || !_vm.materialCatalogs.length)?_c('div',{staticClass:\"empty\"},[_vm._t(\"empty\",[_c('el-divider',{key:\"divider\"},[_vm._v(_vm._s(_vm.$t(\"material-mall.no_more\")))])])],2):_c('Scrollable',{staticClass:\"list-wrapper\",attrs:{\"y\":\"\",\"outsideScrollbar\":\"\"}},[_c('transition-group',{staticClass:\"list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"},on:{\"click\":function($event){$event.stopPropagation();}}},_vm._l((_vm.materialCatalogs),function(catalog,idx){return _c('li',{key:catalog.id,staticClass:\"item\",attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){return _vm.handleListDragStart($event)}}},[_c('material-card',_vm._g({attrs:{\"selected\":_vm.selected.includes(catalog),\"display-mode\":_vm.displayMode,\"material\":catalog.fileInfo},on:{\"pick\":function () { return _vm.$emit('pick', catalog); },\"contextmenu\":_vm.handleContextmenu,\"drag\":function($event){return _vm.clearAndSelect(catalog)},\"show-info\":_vm.handleShoWDialogInfo,\"magnify\":function($event){return _vm.showMagnifyMode(idx)}}},\n            _vm.selectable\n              ? {\n                  'update:selected': function (selected) {\n                    _vm.toggleSelected(catalog, selected);\n                  },\n                }\n              : {}\n          ))],1)}),0),(_vm.canLoadMore)?_c('Intersect',{on:{\"enter\":_vm.loadMore}},[_c('div',{staticClass:\"load-more\"},[(_vm.loadingPage && _vm.loadingPage > 1)?[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"material-mall.loading\"))+\" \")]:[_vm._v(\" \"+_vm._s(_vm.$t(\"material-mall.scroll_to_load\"))+\" \")]],2)]):_c('el-divider',[_vm._v(_vm._s(_vm.$t(\"material-mall.no_more\")))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"material-list\" @contextmenu.stop=\"(e) => handleContextmenu(e, undefined, true)\">\n    <header class=\"header\">\n      <div class=\"brief\">\n        <slot name=\"brief\"></slot>\n      </div>\n      <div class=\"view-tools\">\n        <DisplayModeSwitcher :value=\"displayMode\" @input=\"(v) => $emit('update:displayMode', v)\" />\n      </div>\n    </header>\n    <div class=\"loading\" v-loading=\"true\" v-if=\"loadingPage === 1\"></div>\n    <div class=\"empty\" v-else-if=\"!materialCatalogs || !materialCatalogs.length\">\n      <slot name=\"empty\">\n        <el-divider key=\"divider\">{{ $t(\"material-mall.no_more\") }}</el-divider>\n      </slot>\n    </div>\n\n    <Scrollable y v-else class=\"list-wrapper\" outsideScrollbar>\n      <transition-group name=\"list\" tag=\"ul\" class=\"list\" @click.stop>\n        <li\n          v-for=\"(catalog, idx) in materialCatalogs\"\n          :key=\"catalog.id\"\n          class=\"item\"\n          draggable=\"true\"\n          @dragstart=\"handleListDragStart($event)\"\n        >\n          <material-card\n            @pick=\"() => $emit('pick', catalog)\"\n            @contextmenu=\"handleContextmenu\"\n            :selected=\"selected.includes(catalog)\"\n            v-on=\"\n              selectable\n                ? {\n                    'update:selected': (selected) => {\n                      toggleSelected(catalog, selected);\n                    },\n                  }\n                : {}\n            \"\n            @drag=\"clearAndSelect(catalog)\"\n            :display-mode=\"displayMode\"\n            :material=\"catalog.fileInfo\"\n            @show-info=\"handleShoWDialogInfo\"\n            @magnify=\"showMagnifyMode(idx)\"\n          />\n        </li>\n      </transition-group>\n      <Intersect @enter=\"loadMore\" v-if=\"canLoadMore\">\n        <div class=\"load-more\">\n          <template v-if=\"loadingPage && loadingPage > 1\">\n            <i class=\"el-icon-loading\" /> {{ $t(\"material-mall.loading\") }}\n          </template>\n          <template v-else>\n            {{ $t(\"material-mall.scroll_to_load\") }}\n          </template>\n        </div>\n      </Intersect>\n      <el-divider v-else>{{ $t(\"material-mall.no_more\") }}</el-divider>\n    </Scrollable>\n  </div>\n</template>\n\n<script>\nimport { openSingleton } from '@/utils/open-window';\n\nimport MaterialInfo from '@/views/material/info';\nimport AntaMaterialInfo from '@/views/material/info-anta/index.vue';\n\nimport Scrollable from '@/components/Scrollable';\nimport Intersect from 'vue-intersect';\nimport {\n  fetchChildrenWithPaging,\n} from '@/loaders/catalog';\nimport remove from '_/remove';\nimport toggleFrom from '_/toggle-from';\nimport MaterialCard from './MaterialCard';\nimport DisplayModeSwitcher from './DisplayModeSwitcher';\n// import { getMaterialInfo } from '@/api/material';\nconst pageSize = 30;\n\nexport default {\n  components: {\n    MaterialCard,\n    Scrollable,\n    Intersect,\n    DisplayModeSwitcher,\n  },\n  props: {\n    catalog: {\n    },\n    rootCatalog: {},\n    displayMode: {\n      type: String,\n      default: 'drape',\n    },\n    selected: {\n      type: Array,\n      default: () => [],\n    },\n    searchParams: {},\n    fetchMethod: {\n      type: Function,\n      default: fetchChildrenWithPaging,\n    },\n  },\n  data() {\n    return {\n      timestamp: Date.now(),\n      /** @type {any} */\n      materialCatalogs: null,\n      loadingPage: undefined,\n      catalogPaging: undefined,\n    };\n  },\n  computed: {\n    /** @return { any } */\n    params() {\n      return {\n        timestamp: this.timestamp,\n        catalog: this.catalog,\n        rootCatalog: this.rootCatalog,\n        searchParams: this.searchParams,\n      };\n    },\n    /** @return { boolean } */\n    selectable() {\n      return !!this.$listeners.contextmenu;\n    },\n    /** @return { boolean } */\n    canLoadMore() {\n      const { catalogPaging } = this;\n      if (!catalogPaging) {\n        return false;\n      }\n      return catalogPaging.pages > catalogPaging.current;\n    },\n    /** @return { any } */\n    materials() {\n      if (this.materialCatalogs === this.$loadingState) return this.$loadingState;\n      if (!this.materialCatalogs) return this.materialCatalogs;\n      return this.materialCatalogs.map(item => (item.fileInfo));\n    },\n  },\n  created() {\n    this.$watch(() => {\n      return JSON.stringify(this.params);\n    }, async (p) => {\n      const _params = JSON.parse(p);\n      this.loadPage(_params, 1);\n    });\n    this.$watch('catalogPaging', (paging) => {\n      if (paging) {\n        if (paging.current === 1) {\n          this.materialCatalogs = paging.records;\n        } else {\n          this.materialCatalogs.splice(this.materialCatalogs.length, 0, ...paging.records);\n        }\n      } else {\n        this.materialCatalogs = null;\n      }\n    });\n  },\n  methods: {\n    loadMore() {\n      if (!this.loadingPage && this.catalogPaging) {\n        this.loadPage(this.params, this.catalogPaging.current + 1);\n      }\n    },\n    async loadPage(p, page) {\n      const isSearch = p.searchParams;\n      const { catalog } = p;\n      const root = p.rootCatalog;\n      const id = isSearch ? root.id : catalog?.id;\n      if (!id) {\n        this.catalogPaging = null;\n        return;\n      }\n\n      this.loadingPage = page;\n      const catalogOptions = {\n        id,\n        relateType: [1],\n        searchParams: p.searchParams,\n      };\n      const pagingOptions = { cursor: page, limit: pageSize };\n      this.catalogPaging = await this.fetchMethod(\n        catalogOptions,\n        pagingOptions,\n      );\n      this.loadingPage = undefined;\n    },\n    async remove(data) {\n      const find = _item => _item.id === data.id;\n      remove(this.materialCatalogs, find);\n    },\n    async refresh() {\n      this.timestamp = Date.now();\n    },\n    toggleSelected(material, selected) {\n      toggleFrom(this.selected, material, selected);\n    },\n    clearAndSelect(catalog) {\n      this.clearSelected();\n      this.toggleSelected(catalog, true);\n    },\n    handleContextmenu(e, catalog, background) {\n      e.preventDefault();\n      if (!catalog || (catalog && !this.selected.includes(catalog))) {\n        this.clearSelected();\n      }\n      if (catalog) {\n        this.toggleSelected(catalog, true);\n      }\n      this.$emit('contextmenu', e, this.selected.length ? this.selected : undefined, background);\n    },\n    clearSelected() {\n      this.selected.splice(0, this.selected.length);\n    },\n    handleListDragStart(e) {\n      this.$emit('drag', e, this.selected);\n    },\n    // 显示面料信息弹框，将当前面料对象存储\n    async handleShoWDialogInfo(material) {\n      try {\n        if (material.goodId) {\n          openSingleton({\n            path: '/material-mall/goods-detail',\n            query: {\n              id: material.goodId,\n              materialId: material.materialId,\n              fromLibrary: true,\n            },\n          }, true, 'GoodsDetail');\n          return;\n        }\n        const businessType = material.businessType ?? 0;\n\n        await this.$Dialog.dialogify({\n          is: businessType === 1 ? AntaMaterialInfo : MaterialInfo,\n          props: {\n            id: material.id,\n            groupAppId: this.rootCatalog.workspaceId,\n            // 渲染页，不允许编辑面料详情\n            editable: false,\n          },\n        }, {\n          props: {\n            top: 'auto',\n            bottom: 'auto',\n          },\n        });\n      } catch (err) {\n        this.$errHandler(err);\n      }\n    },\n\n    // 显示放大镜效果，通过点击小按钮触发\n    showMagnifyMode(index) {\n      const target = this.displayMode === 'drape' ? 'contentThumbnail' : 'flat';\n      const srcList = this.materials.map(e => {\n        return {\n          src: e[target] || e.thumbnail,\n        };\n      });\n\n      this.$ImageViewer.show(srcList, {\n        index,\n        targetElems: '[data-img-type=\\'material-list\\']',\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.load-more {\n  padding-top: 10px;\n  padding-bottom: 20px;\n  font-size: 14px;\n  line-height: 22px;\n  text-align: center;\n  color: #999;\n}\n.material-list {\n  display: flex;\n  flex-direction: column;\n}\nmark {\n  margin-left: 5px;\n  margin-right: 5px;\n  font-weight: bold;\n  background-color: transparent;\n  color: $color-primary;\n}\n.list-enter-active,\n.list-leave-active {\n  transition: all 0.2s;\n}\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateY(-15%);\n}\n.list-move {\n  transition: transform 0.2s;\n}\n$minWidth: 136px;\n.empty {\n  letter-spacing: 1px;\n  font-size: 14px;\n  color: $color-font-darkest;\n  text-align: center;\n  line-height: 24px;\n  padding: (($minWidth - 24px)/2) 18px;\n}\n.view-tools {\n  font-size: 18px;\n  color: #c5c7cb;\n  text-align: right;\n  padding-bottom: 10px;\n  padding-top: 16px;\n  line-height: 24px;\n  // > i,\n  // .el-dropdown {\n  //   &,\n  //   i {\n  //     font-size: 18px;\n  //     cursor: pointer;\n  //     margin-left: 15px;\n  //     color: #c5c7cb;\n  //   }\n  // }\n  i {\n    font-size: 18px;\n  }\n}\n\n.view-tools-items {\n  display: inline-block;\n  background-color: #e9eaec;\n  border-radius: 4px;\n}\n// /deep/ .view-tool-icon {\n//   margin-right: 0;\n// }\n\n.view-tools-default {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  text-align: center;\n  cursor: pointer;\n}\n\n.view-tools-select {\n  cursor: pointer;\n  text-align: center;\n  display: inline-block;\n  background-color: #fff;\n  border-radius: 4px;\n  width: 26px;\n  height: 26px;\n  color: #2878ff;\n  border: 1px solid #e9eaec;\n}\n// /deep/ .view-tool-icon {\n//   margin-right: 0;\n// }\n\n.loading {\n  min-height: $minWidth;\n}\n.list-wrapper {\n  // padding: 5px;\n  flex: 1;\n}\n.list {\n  // margin-right: -10px;\n  display: flex;\n  flex-wrap: wrap;\n  align-content: flex-start;\n}\n.item {\n  width: 96px;\n  margin: 4px;\n  // padding: 0 10px 40px 0;\n}\n\n.el-divider {\n  margin: 20px auto 30px;\n  width: 90%;\n}\n.el-divider__text {\n  // background: #f7f7f7;\n  color: #999;\n  font-weight: 400;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialList.vue?vue&type=template&id=4707379c&scoped=true&\"\nimport script from \"./MaterialList.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialList.vue?vue&type=style&index=0&id=4707379c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4707379c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCard.vue?vue&type=style&index=1&id=1a06ab60&lang=scss&scoped=true&\"","import axios from '@/utils/axios';\n\nexport async function fetchSupplierList() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {\n      status: '1',\n    },\n  })).data;\n  return res;\n}\n\nexport async function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nexport async function fetchSupplierNotBound() {\n  const res = (await axios({\n    method: 'get',\n    url: '/anta-material/supplier/searchOriginalSupplierNameByNotBound',\n  })).data;\n  return res;\n}\n\nexport default fetchSupplierNotBound;\n","import Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\n\nconst list : Jsonschema[] = [{\n  prop: 'materialName',\n  title: '材料名称',\n  type: 'string',\n  required: true,\n}, {\n  prop: 'season',\n  type: 'string',\n  title: '季节',\n  builder: 'SeasonSelect',\n  required: [],\n}, {\n  prop: 'material_number',\n  type: 'string',\n  disabled: true,\n  title: '材料编码',\n}, {\n  prop: 'category',\n  type: 'string',\n  title: '选择分类',\n  builder: 'MaterialTypeCascade',\n  required: [],\n  attrs: {\n    strictMode: true,\n  },\n}, {\n  prop: 'supplier_name',\n  type: 'string',\n  title: '供应商名称',\n  builder: 'SupplierSelect',\n  // required: [],\n}, {\n  prop: 'reference_price',\n  type: 'object',\n  title: '参考单价',\n  // required: ['value'],\n  // builder: 'PriceFormItem',\n  // attrs: {\n  //   toFixed: 3,\n  // },\n  sort: ['value', 'unit'],\n  class: 'price-item',\n  properties: {\n    value: {\n      type: 'number',\n      prop: 'value',\n      // builder: 'PriceFormItem',\n      // required: [],\n      toFixed: 3,\n    },\n    unit: {\n      type: 'string',\n      prop: 'unit',\n      oneOf: [\n        {\n          type: 'integer',\n          const: {\n            label: '人民币',\n            value: 1,\n          },\n        }, {\n          type: 'integer',\n          const: {\n            label: '美元',\n            value: 2,\n          },\n        },\n      ],\n    },\n  },\n}, {\n  prop: 'cost',\n  type: 'string',\n  title: '成本单价',\n}, {\n  prop: 'color_limit_type',\n  type: 'string',\n  title: '颜色限制类别',\n  clearable: true,\n  oneOf: [\n    {\n      type: 'integer',\n      const: {\n        label: '全部颜色',\n        value: 1,\n      },\n    }, {\n      type: 'integer',\n      const: {\n        label: '仅部分颜色',\n        value: 2,\n      },\n    }, {\n      type: 'integer',\n      const: {\n        label: '荧光色除外',\n        value: 3,\n      },\n    },\n  ],\n}, {\n  prop: 'evergreen',\n  type: 'string',\n  title: '常青材料',\n  builder: 'el-checkbox',\n  attrs: {\n    'true-label': 1,\n    'false-label': 2,\n    label: 'TRUE',\n  },\n}];\n\nexport default list;\n","import Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\nimport axios from '@/utils/axios';\nimport { fetchAntaPropertyById } from '@/loaders/dictionary';\nimport difference from '@4dst-saas/public-utils/dist/difference';\nimport customJsonschemaList from './customJsonschema';\n\n\n// 获取大中小类组合的类名\nasync function getCategoryName(id: string) {\n  return ((await axios({\n    method: 'post',\n    url: '/anta-material/category/name',\n    data: {\n      ids: [id],\n    },\n  })).data)[id];\n}\n\n// 获取供应商名称\nasync function fetchSupplierName(id: string) {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: { ids: [id] },\n  })).data;\n  return res?.[0]?.originalSupplierName || '';\n}\n\nexport type IAttribute = {\n  id?: string,\n  title: string,\n  required: boolean | 0 | 1,\n  values?: IOption[] | undefined,\n  key: string,\n  isSystem?: boolean,\n  component: 1 | 2 | 3 /** 小数、整数、文本是1，下拉类型是2 */,\n  params?: Partial<Jsonschema>,\n};\n\nexport type IOption = {\n  id?: string,\n  label: string,\n  sort: number,\n};\n\nexport function attributeValueExtractFEId(list: IAttribute['values']) {\n  if (!list) return list;\n  return list.map((item) => {\n    const { id, label, sort } = item;\n    if (id?.startsWith('@FE')) {\n      return {\n        label, sort,\n      };\n    }\n    return { id, label, sort };\n  });\n}\n\nexport function attribute2JSONschema(itemOrList: IAttribute | IAttribute[] | {isSystem: true, key: string, title: string}) {\n  const list = (\n    Object.prototype.toString.call(itemOrList) === '[object Array]' ? itemOrList : [itemOrList]\n  ) as IAttribute[];\n  const JSONschemaList = list.map(attr => {\n    if (attr.isSystem) {\n      const obj = {\n        ...customJsonschemaList.find(item => {\n          return item.prop === attr.key;\n        }),\n      };\n\n      obj.required = obj.type === 'object' ? (\n        attr.required ? Object.keys(obj.properties) : []\n      ) : !!attr.required;\n\n      if (Array.isArray(obj.required) && !obj.required.length) {\n        delete obj.required;\n      }\n      return obj;\n    }\n    if (!attr.params) {\n      attr.params = new Jsonschema({ type: 'string' });\n    }\n    // 增加title\n    attr.params = {\n      ...attr.params,\n      title: attr.title,\n    };\n    if (attr.key) {\n      attr.params.prop = attr.key;\n    }\n    if (attr.required) attr.params.required = [];\n    switch (attr.component) {\n      case 1: return { ...attr.params! } as Jsonschema;\n      case 2: {\n        const oneOf = attr.values!.map(av => new Jsonschema({\n          type: 'string',\n          const: {\n            label: av.label,\n            value: av.id!,\n          } as unknown as 'object',\n          $id: av.id!,\n        }));\n        attr.params = {\n          ...attr.params,\n          oneOf,\n          valueKey: 'value',\n          labelKey: 'label',\n          validator: [attr.title],\n        };\n        return ({ ...attr.params!, oneOf }) as Jsonschema;\n      }\n      case 3: {\n        const anyOf = attr.values!.map(av => new Jsonschema({\n          type: 'string',\n          const: {\n            label: av.label,\n            value: av.id!,\n          } as unknown as 'object',\n          $id: av.id!,\n        }));\n        attr.params = {\n          ...attr.params,\n          // oneOf,\n          valueKey: 'value',\n          labelKey: 'label',\n          validator: [attr.title],\n          type: 'array',\n          anyOf,\n        };\n        return ({ ...attr.params! }) as Jsonschema;\n      }\n      default: return new Jsonschema({ type: 'string' });\n    }\n  });\n  return list.length > 1 ? JSONschemaList : JSONschemaList[0];\n}\n\n/** 将输入的JSONschema数组包成一个JSONschema (弃用) */\nexport function JSONschemaList2JSONschema(list: Jsonschema[], useSort = true): Jsonschema {\n  const wrapper = new Jsonschema({ type: 'object', properties: {} });\n  wrapper.properties = {\n    ...list.reduce((pre, cur) => ({\n      ...pre,\n      [cur.title!]: cur,\n    }), {}),\n  };\n  wrapper.required = [...(list.filter(item => item.required).map(item => item.title) as string[])];\n  if (useSort) {\n    wrapper.sort = list.map(item => item.title!);\n  }\n  return wrapper;\n}\n\n/**\n * 用于面料详情显示\n * 输入中类id和formData，返回转换好的formData\n *\n * @param extractList 根据权限需要去掉的属性\n */\nexport async function antaMiddleClassIdAndFormData2TransformedFormDataList(\n  middleClassId: string,\n  formData: {[key: string]: string | number| object},\n  extractList: string[] = [],\n) {\n  const properties = (await axios({\n    url: '/anta-material/template/middle',\n    params: { id: middleClassId },\n    method: 'GET',\n  })).data as { propertyId?: string, sort: number, isSystem: boolean, title: string, key: string }[];\n\n  if (!properties.length) return formData;\n\n  // 排序\n  const propertiesSortList = properties.sort(\n    (a, b) => Math.abs(a.sort) - Math.abs(b.sort),\n  );\n\n  // 处理一下\n  const list = (await Promise.all(propertiesSortList.map(async (propertyItem) => {\n    if (propertyItem.isSystem) {\n      return propertyItem;\n    }\n    return (await axios({\n      url: `/anta-material/dynamics/property/detail?id=${propertyItem.propertyId}`, method: 'GET',\n    })).data as IAttribute;\n  }))).filter(i => extractList.indexOf(i.title) === -1);\n\n\n  function setColorLimitType(colorLimitType : 1 | 2 | 3 | undefined) {\n    switch (colorLimitType) {\n      case 1: return '全部颜色';\n      case 2: return '仅部分颜色';\n      case 3: return '荧光色除外';\n      default: return '--';\n    }\n  }\n\n  // 将值转为对应显示的东西\n  const l = await Promise.all(list.map(async (item) => {\n    if (item.isSystem) {\n      switch (item.key) {\n        case 'category': return { label: item.title, value: await getCategoryName(formData[item.key] as string) };\n        case 'season': return {\n          label: item.title,\n          value: formData[item.key]\n            ? `${formData[item.key].year || ''}${formData[item.key].season || ''}${await fetchAntaPropertyById(formData[item.key]['品牌'])}`\n            : '--',\n        };\n        case 'reference_price': {\n          const referenceUnit = formData.reference_price.unit === 1 ? '人民币' : '美元';\n          return { label: item.title, value: formData[item.key].value ? `${formData[item.key].value}${referenceUnit}` : '--' };\n        }\n        case 'cost': {\n          const costUnit = formData.cost.unit === 1 ? '人民币' : '美元';\n          return { label: item.title, value: formData[item.key].value ? `${formData[item.key].value}${costUnit}` : '--' };\n        }\n        case 'color_limit_type': return { label: item.title, value: setColorLimitType(formData[item.key] as 1 | 2 | 3) };\n        case 'evergreen': return { label: item.title, value: formData[item.key] === 1 ? 'TRUE' : 'FALSE' };\n        case 'supplier_name': return { label: item.title, value: await fetchSupplierName(formData[item.key] as string) };\n        case 'materialName':\n        case 'material_number': return { label: item.title, value: formData[item.key] };\n        // default: throw new Error(`数据转换出错。当前key为${item.key}`);\n        default: throw new Error(`数据转换出错。当前title为${item.title}`);\n      }\n    }\n\n    // 非系统属性\n    switch (item.component) {\n      case 1: return { label: item.title, value: formData[item.title] };\n      // case 3: return { label: item.title, value: formData[item.id!] };\n      case 2: {\n        // 先判断是否在可选值中。如果在可选值中，直接获取可选值，否则还要根据id调接口获得\n        const wait4FetchValue = formData[item.title] as string;\n        const target = item.values!.find(i => i.id === wait4FetchValue);\n        if (target) return { label: item.title, value: target.label };\n        const label = (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id: wait4FetchValue },\n        })).data as string;\n        return { label: item.title, value: label };\n      }\n      case 3: {\n        const wait4FetchValue = formData[item.title] as string[] || [];\n        const notFounds = wait4FetchValue.filter(v => !item.values!.find(i => i.id === v));\n        // if (!notFounds.length) return { label: item.title, value: targets.join(',') };\n        const labels = await Promise.all(notFounds.map(async (id) => (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id },\n        })).data as string));\n        const res = labels.concat(\n          difference(wait4FetchValue, notFounds).map(\n            v => item.values.find(i => i.id === v)?.label,\n          ),\n        ).join(',');\n        // return res;\n        return { label: item.title, value: res };\n      }\n      default: throw new Error(`数据转换出错。当前component为${item.component}`);\n    }\n  }));\n  return l;\n}\n\n/** 输入中类id和formData，返回转换好的formData(弃用) */\nexport async function antaMiddleClassIdAndFormData2TransformedFormData(\n  middleClassId: string,\n  formData: {[key: string]: string | number},\n) {\n  const properties = (await axios({\n    url: '/anta-material/template/middle',\n    params: { id: middleClassId },\n    method: 'GET',\n  })).data as { propertyId: string }[];\n  if (!properties.length) return formData;\n  const pIds = properties.map(property => property.propertyId);\n\n  const list = await Promise.all(pIds.map(async (id) => {\n    return (await axios({\n      url: `/anta-material/dynamics/property/detail?id=${id}`, method: 'GET',\n    })).data as IAttribute;\n  }));\n  const res = { ...formData };\n  const filterList = list.filter(attr => attr.component === 2);\n  const shouldFetchList:{key: string, id: string}[] = [];\n  filterList.forEach(item => {\n    const key = item.title;\n    const wait4FetchValue = formData[key] as string;\n    const target = item.values!.find(i => i.id === wait4FetchValue);\n    // 找到了\n    if (target) res[key] = target.label;\n    else shouldFetchList.push({ key, id: wait4FetchValue });\n  });\n  if (shouldFetchList.length) {\n    await Promise.all(shouldFetchList.map(async ({ id, key }) => {\n      const value = (await axios({\n        url: '/anta-material/dynamics/property/value/id',\n        method: 'GET',\n        params: { id },\n      })).data as string;\n      console.log(value);\n      res[key] = value;\n    }));\n  }\n  return res;\n}\n\n/** 输入jsonschema，返回包含检验下拉框值的validator函数组成的对象 */\nexport function jsonschema2FormItemValidatorObject(jss: Jsonschema) {\n  if (jss.type !== 'object') throw new Error('输入的jsonschema不是object类型');\n  if (!jss.properties) throw new Error('输入的jsonschema没有properties');\n  const validatorObject:{[key: string]: Function} = {};\n  const validatorKeys = Object.keys(jss.properties!).filter(key => jss.properties![key].oneOf);\n  validatorKeys.forEach(key => {\n    if (jss.properties![key].type === 'array') return;\n    if (jss.required?.includes(key) || jss.properties![key].required\n    || (typeof (jss.properties![key].disabled) === 'boolean' && !jss.properties![key].disabled)) {\n      validatorObject[key] = (value: string) => {\n        const valueList = (jss.properties![key].oneOf!.map(item => item.const! as unknown as {\n          label: string, value: string,\n        })).map(({ value: _v }) => _v);\n        console.log(valueList);\n        if (!valueList.includes(value)) throw new Error('此值已被删除');\n      };\n    }\n  });\n  return validatorObject;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_images_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip2'))+\" \")])],1)],1),_c('UploadWithPreviewer',{ref:\"uploadWithPreviewer\",attrs:{\"urls\":_vm.paths,\"maxSize\":3 * 1024 * 1024,\"width\":78,\"height\":78,\"accept\":\".png, .jpeg, .jpg\",\"multiple\":\"\",\"disabled\":_vm.disabled},on:{\"change\":_vm.changeImage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_images_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_images_tip') }}<br>\n          {{ $t('material.info.attachment_images_tip2') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadWithPreviewer\n      ref=\"uploadWithPreviewer\"\n      :urls=\"paths\"\n      :maxSize=\"3 * 1024 * 1024\"\n      :width=\"78\" :height=\"78\"\n      accept=\".png, .jpeg, .jpg\"\n      multiple\n      :disabled=\"disabled\"\n      @change=\"changeImage\" />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadWithPreviewer from '@/components/upload/UploadWithPreviewer';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadWithPreviewer,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.images) {\n          this.paths = obj?.images;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getImageOssPaths() {\n      const result = this.$refs.uploadWithPreviewer.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n\n    changeImage(e) {\n      this.files = e;\n      this.$closest('MaterialInfo') && (this.$closest('MaterialInfo').saveBtnDisabled = false);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin-bottom: 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentImage.vue?vue&type=template&id=481ae34a&scoped=true&\"\nimport script from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentImage.vue?vue&type=style&index=0&id=481ae34a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"481ae34a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=style&index=0&id=481ae34a&lang=scss&scoped=true&\"","/**\n * \\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\n * 请不要再在这个文件添加并且使用element-ui的校验器\n * 为了确保大家都已读，请在该备注尾部署名\n * /\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\n *\n * 校验器（validator）在后续的版本的定义将更改为\n * “一个不返回任何东西，只抛出错误的函数或异步函数”\n * 当前文件会被按情况废弃\n *\n * 【validator是什么】\n * 比如下面的一个校验器：\n * @example\n * // 第一个参数必须是校验的对象，第二参数是一个对象，用于校验的其他判断条件\n * function required(value) {\n *    // 如果已经填了，则return;\n *    if (value) return;\n *    // 否则抛出错误\n *    throw new Error('此值必填')\n * }\n *\n * 【在element-ui使用校验器】\n * 使用validator2ElemValidator、validator2ElemRule\n * @see {./index}\n * @example\n *\n * rules: {\n *    name: validator2ElemRule(required)\n * }\n *\n * 注意的是，由于validate.js的bug，rule并不能存在由两个validator2ElemRule转换的rule\n * 如需使用两个校验器\n *\n * rules: {\n *    name: validator2ElemRule([required, required2])\n * }\n *\n * 【校验器写在哪？】\n * 写在当前你正在看的文件所在文件夹底下，并在index.js import并export，\n * 尽量以一个完整归类的校验器集合或者单个校验器作为一个文件\n *\n * 【署名】\n * 浩锋 黄月成\n */\n\nimport i18n from 'i18next';\nimport strLength from './str-length';\nimport validateForm from './validate-form';\nimport validator2ElemRule from './utils/validator-to-elem-validator';\n/**\n * 校验form表单（校验不通过会返回校验不同的fields);\n * @param {DOM} form\n * @returns {Promise}\n */\nexport const validateFormFields = validateForm;\n\n\nexport const validator = {\n  // 校验字符串长度\n  strLength,\n  // 校验两次密码是否相同\n  passwordConfirm(passwordConfirm, {\n    password,\n  }) {\n    if (password === '') {\n      throw new Error(i18n.t('validator.not_empty'));\n    }\n    if (password !== passwordConfirm) {\n      throw new Error(i18n.t('validator.same_as_prev'));\n    }\n  },\n};\n\nconst roleGenerator = {\n\n  /**\n   * 用于多个条件规则校验，校验的顺序按传入参数的顺序\n   * @param {validations}\n   * @returns {Array} rules 规则的数组集合\n   */\n  rules(...validations) {\n    if (!validations.length) throw new Error('require at lest one parameter');\n\n    return validations.map(prop => this[prop]());\n  },\n\n  /* ============================= 字符相关 =============================== */\n\n  // 开头和结尾不能为空校验\n  spaceTrim: () => ({\n    pattern: /(^\\S.*\\S$)|^\\S$/,\n    message: i18n.t('validator.space_not_start_end'),\n  }),\n\n  // 内容不能为空\n  requirement(trigger) {\n    return {\n      trigger,\n      required: true,\n      message: i18n.t('validator.not_empty'),\n    };\n  },\n  // 至少选择其中一个\n  selection() {\n    return {\n      required: true,\n      message: i18n.t('validator.at_least_one_option'),\n    };\n  },\n\n  // 验证邮箱\n  email(trigger) {\n    return {\n      trigger,\n      type: 'email',\n      message: i18n.t('validator.invalid_email'),\n    };\n  },\n\n\n  // 正数、负数、和小数\n  number() {\n    return {\n      pattern: /^(-|\\+)?\\d+(\\.\\d+)?$/,\n      message: i18n.t('validator.must_be_num'),\n    };\n  },\n  // 正整数\n  numberPositive() {\n    return {\n      pattern: /^((0\\.\\d+)|([1-9]\\d*\\.\\d+)|([1-9]+\\d*))$/,\n      message: i18n.t('validator.num_positive'),\n    };\n  },\n  // 非零的正整数\n  numberNatural() {\n    return {\n      pattern: /^[1-9]+$/,\n      message: i18n.t('validator.num_natural'),\n    };\n  },\n  // 正整数\n  integerPositive() {\n    return {\n      pattern: /^[0-9]+$/,\n      message: i18n.t('validator.integer_positive'),\n    };\n  },\n\n\n  // 不能包含特殊字符（除字母和数字外）\n  charTypeWithNormal(message = i18n.t('validator.not_special_char')) {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_]+$/,\n      message,\n    };\n  },\n\n  // 不能包含特殊字符（除字母和数字@外）\n  charTypeWithoutEmail() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_@.]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n\n\n  //\n  numberAndAlphabet() {\n    return {\n      pattern: /^(?![^a-zA-Z]+$)(?![^_]+$)|^(?![^a-zA-Z]+$)(?!\\D+$)/,\n      message: i18n.t('validator.num_and_alpha'),\n    };\n  },\n\n  numAlphabetUnderscore() {\n    return {\n      pattern: /(?:\\d.*_)|(?:_.*\\d)|(?:[A-Za-z].*_)|(?:_.*[A-Za-z])|(?:[A-Za-z].*\\d)|(?:\\d.*[A-Za-z])/,\n      message: i18n.t('validator.num_alpha_underscore'),\n    };\n  },\n\n  // 字符长度在一定区间内\n  charLength(min = 0, max = 0) {\n    return validator2ElemRule(validator.strLength, {\n      min,\n      max,\n    });\n  },\n\n  // 检验两次密码是否相同\n  passwordConfirm(password) {\n    return validator2ElemRule(validator.checkPasswordRepeat, {\n      password,\n    });\n  },\n\n\n  phone: () => ({\n    pattern: /^[0-9-\\s]{6,30}$/,\n    message: i18n.t('validator.invalid_phone'),\n  }),\n\n  mobilePhoneChina: () => ({\n    pattern: /^1(3|4|5|6|7|8|9)\\d{9}$/,\n    message: i18n.t('validator.invalid_phone'),\n  }),\n\n\n  // 字符长度在一定区间内\n  charLengthRange: (min = 1, max = 2) => {\n    return [\n\n      {\n        min,\n        message: i18n.t('validator.under_min_char_count', { min }),\n      },\n      {\n        max,\n        message: i18n.t('validator.exceeds_char_limit', { len: max }),\n      },\n    ];\n  },\n  // 字符最少长度\n  charLengthMini: (min) => ({\n    min,\n    message: i18n.t('validator.under_min_char_count', { min }),\n  }),\n  // 字符最少长度\n  charLengthMax: (max) => ({\n    max,\n    message: i18n.t('validator.exceeds_char_limit', { len: max }),\n  }),\n\n  // 包含中文、大小字母、数字、下划线、空格\n  charTypeNormal() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_\\s]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n  // 包含中文、大小字母、数字、空格\n  charTypeNormal1() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9\\s]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n  // 由任意字符组成，不能为纯数字或纯字母\n  charTypeNotOnlyDigitOrLatin() {\n    return {\n      pattern: /^(?![0-9]+$)(?![a-zA-Z]+$).+$/,\n      message: i18n.t('validator.not_only_digit_letter'),\n    };\n  },\n  // 由数字和字母组成，并且要同时含有数字和字母\n  charTypeDigitAndLatin() {\n    return {\n      pattern: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]+$/,\n      message: i18n.t('validator.must_digit_letter'),\n    };\n  },\n  // 由数字和字母组成，并且要同时含有数字和字母\n  charTypeDigitOrLatin() {\n    return {\n      pattern: /^[a-zA-Z0-9]+$/,\n      message: i18n.t('validator.only_digit_letter'),\n    };\n  },\n  // 由数字和-组成\n  charTypeDigitAndHyphen() {\n    return {\n      pattern: /^[0-9-]+$/,\n      message: i18n.t('validator.only_digit_hyphen'),\n    };\n  },\n};\n\nObject.keys(roleGenerator).forEach(key => {\n  roleGenerator[`validate${key.charAt(0).toUpperCase()}${key.substr(1)}`] = roleGenerator[key];\n});\n\nexport default roleGenerator;\n","module.exports = __webpack_public_path__ + \"img/records-empty.13f2a8f6.png\";","// import tryParseJson from '@4dst-saas/public-utils/dist/try-parse-json';\nimport getInstance from './plugins/vue-data-collector';\n\nconst storageKey = 'dragging-data';\nconst storage = localStorage;\n\nconst instance = getInstance(() => {\n  const d = storage.getItem(storageKey);\n  if (!d) {\n    return null;\n  }\n  return JSON.parse(d);\n}, ({ data, command, type }) => {\n  storage.setItem(storageKey, JSON.stringify({ data, command, type }));\n}, () => {\n  storage.removeItem(storageKey);\n});\n\n// window.addEventListener('storage', (e) => {\n//   if (\n//     e.key === storageKey\n//   ) {\n//     instance.set(tryParseJson(e.newValue));\n//   }\n// });\n\nexport default instance;\n","\nimport {\n  defineComponent, ref, set, computed,\n} from '@vue/composition-api';\nimport useLoader from '_/composables/use-loader';\nimport axios from '@/api/axios';\nimport NumberType from '@/components/dynamic-form/jsonschema2form/NumberType';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport { validateForm } from '@/utils/validators/validate-form';\nimport { isFilled } from '@/utils/validators/is-filled';\nimport strLength from '@/utils/validators/str-length';\nimport {\n  normalizeRendererImgUrl, getRelativePathFromUrl,\n} from '@/utils/normalize-component';\n\nimport { DictItem } from '@/models/Dictionary';\nimport { ElForm } from 'element-ui/types/form';\nimport BaseImage from '@/components/base/Image.vue';\nimport TagsEditor from './TagsEditor';\n\ntype IClothesDetail = {\n  creator: string;\n  curtailImg: string;\n  gmtCreateTime: number;\n  gmtModifyTime: number;\n  id: string;\n  modelNumber: string;\n  modifier: string;\n  price: number;\n  priceUnit: string;\n  priceUnitObject: any;\n  stylistic: string;\n  synopsis: string;\n  tagsInfo: { id: string, tag: string }[];\n  type: number | string;\n  typeObject: any;\n};\n\ninterface IMaterialItem {\n  id: string,\n  materialName: string,\n  materialID: string,\n  renderArguments: string,\n  color: string,\n  supplierArticleName: string,\n  samplePrice: number,\n  samplePriceUnit: number,\n  supplierName: string,\n  imgJson: { [key: string]: string },\n}\n\ninterface CtmItem {\n  additionalJson: any,\n  additionalJsonExt: null | {\n    material?: Object, decalInfo?: Array<{\n      angle: number,\n      map: string,\n      position: number[],\n      rotation: number[],\n      scale: number,\n    }>\n  },\n  ctmId: string\n  ctmName: string\n  ctmPath: string\n  material: any\n  materialId: string\n  modelComponentId: string\n  modelFileId: string\n  modelId: string\n}\n\ninterface Hash {\n  [key: string]: any\n}\n\n// eslint-disable-next-line no-shadow\nenum IMode {\n  view,\n  edit\n}\n\nfunction preProcess(target: IClothesDetail) {\n  if (target.type === 0) {\n    target.type = '';\n  }\n  if (!target.price) {\n    set(target, 'price', '');\n  } else {\n    set(target, 'price', `${target.price}`);\n  }\n}\n\nasync function getClothesDetailInfo(clothingId: string) {\n  const res = (await axios({\n    method: 'GET',\n    url: '/bff-center/showCommon/clothingInfoSearch/getClothingInfoAndTags',\n    params: { clothingId },\n  })).data;\n  if (res) preProcess(res);\n  return res as IClothesDetail || null;\n}\n\nasync function getMaterialsInfo(modelId: string) {\n  const res = (await axios({\n    method: 'GET',\n    url: '/show/application/model/materials',\n    params: { modelId },\n    headers: {\n      'requester-type': 'web',\n      'model-type': 'CLOTHES',\n    },\n  })).data;\n  return res as IMaterialItem[] || null;\n}\n\nasync function getPatternsInfo(modelId: string) {\n  const res = (await axios({\n    method: 'GET',\n    url: '/show/application/model/ctms',\n    params: { modelId },\n    headers: {\n      'requester-type': 'web',\n      'model-type': 'CLOTHES',\n    },\n  })).data as CtmItem[];\n  let patterns: string[] = [];\n  res.forEach(item => {\n    const decals = item.additionalJsonExt?.decalInfo || item.additionalJson?.decalInfo;\n    if (decals) {\n      patterns.push(...(decals.map(decal => decal.map)));\n    }\n  });\n  patterns = Array.from(new Set(patterns));\n  const patternUrls = await Promise.all(patterns.map(async pattern => {\n    // let imgUrl = getRelativePathFromUrl(pattern);\n    const imgUrl = await normalizeRendererImgUrl(pattern);\n    return imgUrl;\n  }));\n  return patternUrls;\n}\n\nconst rules = {\n  modelNumber: validator2ElemRule((val: string) => {\n    isFilled(val);\n    strLength(val, {\n      min: 1, max: 32,\n    });\n  }),\n  type: validator2ElemRule(isFilled),\n  synopsis: validator2ElemRule((val: string) => {\n    if (val && val.length > 300) {\n      throw new Error('简介长度要小于300个字符');\n    }\n  }),\n  price: validator2ElemRule((val: string | number) => {\n    if (val && String(val).length > 8) {\n      throw new Error('请输入8位数以下的数字');\n    }\n  }),\n};\n\nconst cDetail = defineComponent({\n  dialogify: {\n    props: {\n      width: '600px',\n      title: '简介',\n    },\n    closeWith: 'detailInfo',\n  },\n  components: {\n    BaseImage,\n  },\n  props: {\n    clothingId: {\n      type: String,\n      required: true,\n    },\n    isDialog: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render() {\n    const s = this as InstanceType<typeof cDetail>;\n    const { detailInfo } = s;\n\n    let viewMode = null;\n    let editMode = null;\n    if (detailInfo) {\n      viewMode = <div class='view-mode-container'>\n        <section class='item-container'>\n          <div class=\"item-title margin-bottom-8\">标签</div>\n\n          <div class='tags-container'>\n            {\n              detailInfo?.tagsInfo?.length > 0\n                ? <TagsEditor tags={s.detailInfo?.tagsInfo || []} type='4' relateType='4'\n                  key='view' shareId={s.clothingId} editable={false} />\n                : '- -'\n            }\n          </div>\n        </section>\n\n        <section class=\"item-container flex-column\">\n          <div class=\"item-title margin-bottom-8\">款式名称</div>\n\n          <div class=\"item-content\">{detailInfo!.modelNumber}</div>\n        </section>\n\n        <section class=\"item-container flex-column\">\n          <div class=\"item-title margin-bottom-8\">款式类型</div>\n\n          <div class=\"item-content\">{\n            s.selectOptions\n              ? s.selectOptions.find(i => i.itemValue === detailInfo?.type)?.label\n              : null\n          }</div>\n        </section>\n\n        <section class=\"item-container flex-column\">\n          <div class=\"item-title margin-bottom-8\">价格</div>\n\n          <div class=\"item-content\">{detailInfo!.price} {\n            s.priceOptions\n              ? s.priceOptions.find(i => i.itemValue === detailInfo?.priceUnit)?.label\n              : null\n          }</div>\n        </section>\n\n        <section class=\"item-container\">\n          <div class=\"item-title margin-bottom-8\">简介</div>\n\n          <div class=\"item-content item-info\" style={{\n            wordBreak: 'break-word',\n          }}>{detailInfo?.synopsis || '- -'}</div>\n        </section>\n\n        <section class=\"item-container\">\n          <div class=\"item-title margin-bottom-8\">面料</div>\n\n          {\n            s.filteredMaterialInfo\n              ? <ul class=\"materials\">\n                {\n                  s.filteredMaterialInfo.map(item => {\n                    return (\n                      <el-tooltip effect=\"dark\" content={item.materialName} placement=\"bottom\">\n                        <li class=\"material\">\n                          <img class=\"material-img\" src={item.imgJson.flat} />\n                        </li>\n                      </el-tooltip>\n                    );\n                  })\n                }\n              </ul>\n              : <div class=\"item-content\">- -</div>\n          }\n        </section>\n\n        <section class=\"item-container\">\n          <div class=\"item-title margin-bottom-8\">工艺图案</div>\n\n          {\n            s.patternsInfo\n              ? <ul class=\"materials\">\n                {\n                  s.patternsInfo.map(item => {\n                    return (\n                      <li class=\"material\">\n                        <BaseImage class=\"material-img\" src={item} fit=\"contain\" />\n                      </li>\n                    );\n                  })\n                }\n              </ul>\n              : <div class=\"item-content\">- -</div>\n          }\n        </section>\n\n        <footer\n          class={['flex-justify-flex-end', s.isDialog ? '' : 'detail-footer']}>\n          <el-button class=\"button-type\" type='primary' onclick={() => {\n            s.oldInfo = JSON.parse(JSON.stringify(s.detailInfo));\n            s.mode = IMode.edit;\n          }}>编辑</el-button>\n        </footer>\n      </div>;\n\n      editMode = <div class='edit-mode-container'>\n        <section class='item-container'>\n          <div class=\"item-title\">标签</div>\n\n          <div class='tags-container'>\n            {\n              <TagsEditor tags={s.detailInfo?.tagsInfo || []} type='4' relateType='4'\n                key='view' shareId={s.clothingId} editable={true} />\n            }\n          </div>\n        </section>\n\n        <el-form ref='detailForm' props={{ model: detailInfo }} rules={rules}>\n          <el-form-item class=\"item-title\" prop='modelNumber' label='款式名称'>\n            <el-input vModel={detailInfo!.modelNumber}></el-input>\n          </el-form-item>\n\n          <el-form-item class=\"flex-column\" prop='type' label='款式类型' style={{\n            alignItems: 'start',\n          }}>\n            <el-select vModel={detailInfo!.type}>\n              {\n                s.selectOptions.map(option => <el-option\n                  key={option.itemCode} value={option.itemValue}\n                  label={option.label}></el-option>)\n              }\n            </el-select>\n          </el-form-item>\n\n          {\n            <el-form-item class=\"flex-column content-width-100\" prop='price' label='价格' style={{\n              alignItems: 'start',\n            }}>\n              <div class=\"flex\">\n                <NumberType builder='el-input' style={{\n                  width: '70%',\n                }} max={99999999} vModel={detailInfo!.price}></NumberType>\n\n                <el-select style={{\n                  flex: 1,\n                }} vModel={detailInfo!.priceUnit}>\n                  {\n                    s.priceOptions.map(option => <el-option\n                      key={option.itemCode} value={option.itemValue}\n                      label={option.label}></el-option>)\n                  }\n                </el-select>\n              </div>\n            </el-form-item>\n          }\n\n          <el-form-item class=\"item-title\" prop='synopsis' label='简介'>\n            <el-input rows='5' type='textarea' maxlength='300'\n              vModel={detailInfo!.synopsis}></el-input>\n          </el-form-item>\n\n        </el-form>\n\n        <section class=\"item-container\">\n          <div class=\"item-title margin-bottom-8\">面料</div>\n          {\n            s.filteredMaterialInfo\n              ? <ul class=\"materials\">\n                {\n                  s.filteredMaterialInfo.map(item => {\n                    return (\n                      <el-tooltip effect=\"dark\" content={item.materialName} placement=\"bottom\">\n                        <li class=\"material\">\n                          <img class=\"material-img\" src={item.imgJson.flat} />\n                        </li>\n                      </el-tooltip>\n                    );\n                  })\n                }\n              </ul>\n              : <div class=\"item-content\">- -</div>\n          }\n        </section>\n\n        <section class=\"item-container\">\n          <div class=\"item-title margin-bottom-8\">工艺图案</div>\n\n          {\n            s.patternsInfo\n              ? <ul class=\"materials\">\n                {\n                  s.patternsInfo.map(item => {\n                    return (\n                      <li class=\"material\">\n                        <BaseImage class=\"material-img\" src={item} fit=\"contain\" />\n                      </li>\n                    );\n                  })\n                }\n              </ul>\n              : <div class=\"item-content\">- -</div>\n          }\n        </section>\n\n        <footer\n          class={['flex-justify-flex-end', s.isDialog ? '' : 'detail-footer']}>\n          <el-button class=\"button-type\" onclick={() => {\n            s.detailInfo = s.oldInfo!;\n            s.mode = IMode.view;\n          }}>取消</el-button>\n\n          <el-button class=\"button-type\" type='primary'\n            onclick={() => s.handleAfterEdit.call(s)}>确定</el-button>\n        </footer>\n      </div>;\n    }\n    return <section vLoading={!s.detailInfo}\n      class={['clothing-detail-container flex-column scrollable-y', s.isDialog ? '' : 'padding-20']}\n    >\n      {\n        <h3 class=\"clothing-detail-title\">简介</h3>\n      }\n      {\n        // eslint-disable-next-line\n        !detailInfo\n          // eslint-disable-next-line\n          ? null :\n          s.mode === IMode.view\n            ? viewMode\n            : editMode\n      }\n    </section>;\n  },\n  setup(props) {\n    const mode = ref(IMode.view);\n    const detailInfo = useLoader(async ({ clothingId }) => {\n      if (!clothingId) return null;\n      return getClothesDetailInfo(clothingId);\n    }, props, {\n      initialValue: null,\n    });\n    const oldInfo = ref<IClothesDetail>();\n\n\n    const materialInfo = useLoader(async ({ clothingId }) => {\n      if (!clothingId) return null;\n      return getMaterialsInfo(clothingId);\n    }, props, {\n      initialValue: null,\n    });\n\n    const patternsInfo = useLoader(async ({ clothingId }) => {\n      if (!clothingId) return null;\n      return getPatternsInfo(clothingId);\n    }, props, {\n      initialValue: null,\n    });\n\n    // 重复面料去重\n    const filteredMaterialInfo = computed(() => {\n      if (!materialInfo.value || materialInfo.value.length === 0) return [];\n      const hash: Hash = {};\n      return materialInfo.value!.filter(item => {\n        if (!hash[item.id]) {\n          hash[item.id] = item;\n          return true;\n        }\n        return false;\n      });\n    });\n\n    const selectOptions = useLoader(async () => {\n      const res = (await axios({\n        url: '/bff-center/showCommon/getDictionaryTypeItem',\n        headers: {\n          language: 'cn',\n        },\n        params: {\n          typeCode: 'clothingType',\n        },\n      })).data;\n      return res as DictItem[];\n    }, {}, {\n      initialValue: [],\n    });\n\n    // 去除不必变更的字段\n    function getEditableProperties(t = detailInfo.value) {\n      return {\n        ...t,\n        curtailImg: undefined,\n      };\n    }\n\n    const detailForm = ref<ElForm>();\n    async function handleAfterEdit() {\n      if (detailForm.value) {\n        await validateForm(detailForm.value);\n        await axios({\n          url: '/bff-center/showCommon/clothingInfoOperation/updateClothingInfo',\n          method: 'POST',\n          data: {\n            ...getEditableProperties(),\n          },\n        });\n        mode.value = IMode.view;\n      }\n      // emit('confirm', detailInfo.value);\n    }\n\n    const priceOptions = useLoader(async () => {\n      const res = (await axios({\n        url: '/bff-center/showCommon/getDictionaryTypeItem',\n        headers: {\n          language: 'cn',\n        },\n        params: {\n          typeCode: 'priceUnit',\n        },\n      })).data;\n      return res as DictItem[];\n    }, {}, {\n      initialValue: [],\n    });\n\n    return {\n      oldInfo,\n      detailForm,\n      mode,\n      selectOptions,\n      priceOptions,\n      detailInfo,\n      filteredMaterialInfo,\n      patternsInfo,\n\n      handleAfterEdit,\n    };\n  },\n});\nexport default cDetail;\n","import {\n  computed, defineComponent, ref, watch,\n} from '@vue/composition-api';\n\nconst numberType = defineComponent({\n  props: {\n    builder: {\n      type: String,\n      default: 'el-input',\n    },\n    val: {\n      type: [String, Number],\n      default: '',\n    },\n    toFixed: {\n      type: Number,\n      default: 2,\n    },\n    max: {\n      type: Number,\n      default: Infinity,\n    },\n    min: {\n      type: Number,\n      default: -Infinity,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  model: {\n    prop: 'val',\n    event: 'change',\n  },\n  render() {\n    const s = this as InstanceType<typeof numberType>;\n    const { builder, disabled } = s;\n    return <builder value={s.parsedValue} oninput={s.handleUpdateValue}\n    disabled={ disabled }\n    onfocus={(e: Event) => s.$emit('focus', e)}\n    onblur={(e: Event) => s.$emit('blur', e)}/>;\n  },\n  setup(props, { emit }) {\n    const hasDot = computed(() => String(props.val).includes('.'));\n    const parsedValue = ref('');\n    watch(() => props.val, () => {\n      if (+props.val === 0 || globalThis.isNaN(+props.val)) parsedValue.value = '';\n      else parsedValue.value = String(props.val);\n    }, {\n      immediate: true,\n    });\n    function updateParsedValue(value: string) {\n      parsedValue.value = value;\n    }\n    function handleUpdateValue(newStr: string) {\n      // 禁止多个小数点，最多一位\n      if (newStr.indexOf('.') !== newStr.lastIndexOf('.')) return;\n      let leng;\n      let short;\n      if (newStr.length > parsedValue.value.length) {\n        leng = newStr;\n        short = parsedValue.value;\n      } else {\n        short = newStr;\n        leng = parsedValue.value;\n      }\n      // 有一个小数点时，这个小数点无论是新增的还是要删掉的都合法\n      if (leng[leng.length - 1] === '.') {\n        updateParsedValue(newStr);\n        return;\n      }\n\n      // 允许1.0 1.00 1.000\n      if (/\\.[0-9]?[0-9]?0$/.test(leng)) {\n        updateParsedValue(newStr);\n        return;\n      }\n\n      // 允许第一位是减号\n      if (leng.includes('-')) {\n        if (leng.lastIndexOf('-') !== 0) return;\n        if (short === '-' || leng === '-') {\n          updateParsedValue(newStr);\n          return;\n        }\n      }\n      // 限制小数位长度\n      if (hasDot.value && newStr.length - 1 - newStr.indexOf('.') > props.toFixed) return;\n      if (newStr && globalThis.isNaN(+newStr)) return;\n      // 验证成功，已是数字\n      if (+newStr > props.max) return;\n      if (+newStr < props.min) return;\n      // 验证成功，已是合法数字\n      emit('change', +newStr);\n      emit('input', +newStr);\n    }\n    return {\n      parsedValue,\n\n      handleUpdateValue,\n    };\n  },\n});\n\n\nexport default numberType;\n","var render, staticRenderFns\nimport script from \"./ClothesDetail.vue?vue&type=script&lang=tsx&\"\nexport * from \"./ClothesDetail.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./ClothesDetail.vue?vue&type=style&index=0&id=6597be48&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6597be48\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClothesDetail.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClothesDetail.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=style&index=1&id=2a47bbd8&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/clothes-renderer-bg.159a93b3.jpg\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=style&index=0&id=305df05d&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=style&index=0&id=77c96a62&lang=scss&scoped=true&\""],"sourceRoot":""}