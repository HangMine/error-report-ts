{"version":3,"sources":["webpack:///./src/components/vue-input-tag.vue?2825","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./src/components/dynamic-form/OrderSamples.vue?d86c","webpack:///./src/components/dynamic-form/OrderSamples.vue?50b2","webpack:///./src/components/dynamic-form/OrderSamples.vue","webpack:///./src/components/dynamic-form/OrderSamples.vue?1c00","webpack:///./src/components/vue-input-tag.vue?1dd5","webpack:///src/components/vue-input-tag.vue","webpack:///./src/components/vue-input-tag.vue?11f3","webpack:///./src/components/vue-input-tag.vue"],"names":["DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","f","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","setInternalState","set","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","RegExp","RegExpPrototype","prototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","flags","sticky","thisIsRegExp","this","patternIsRegExp","flagsAreUndefined","undefined","constructor","source","call","indexOf","replace","result","proxy","key","configurable","get","it","keys","index","length","inputLabel","i18n","t","inputValue","colorName","colorNumber","styleName","status","percentage","page","count","size","id","Date","target","name","isCustom","files","Math","floor","random","withDetail","styleNumber","lastName","lastNumber","soleName","soleNumber","vampName","vampNumber","colorType","modifyDesc","dataReceiviedTime","deadline","shoeType","sampleSize","sampleQuantity","season","gender","series","bindOrderNo","shoeTag","customInputs","labels","attachment","requirement","did","hasUpdated","detail","checkDuplicateStyleName","val","materials","console","log","filter","i","Error","staticRenderFns","orderSamples","props","samples","type","Array","default","disable","Boolean","hideUpload","disableUpload","disableEdit","Number","render","s","map","item","position","model","rules","flexWrap","display","flexDirection","alignItems","width","value","height","marginTop","textAlign","marginRight","justifyContent","color","cursor","isAbleToDelete","$act","deleteItem","push","copySample","bottom","marginBottom","zIndex","handleDetailPage","marginLeft","openSampleForm","setup","$confirm","root","res","r","originLength","min","max","close","window","splice","validateForms","Promise","all","_","reject","$refs","then","level","clearValidateForms","clearValidate","Object","assign","disableUploadFlag","disableEditFlag","open","location","origin","oldObj","JSON","parse","stringify","newObj","forEach","sample","setStatus","component","_vm","_h","$createElement","_c","_self","staticClass","class","readOnly","isInputActive","on","$event","focusNewTag","_l","tag","_v","_s","_e","preventDefault","stopPropagation","removeFilterTags","_t","innerTags","showSearchIcon","style","padding","index2","pipeLimitLength","removeInnerTags","isLimit","directives","rawName","expression","ref","attrs","placeholder","domProps","_k","keyCode","removeLastTag","addNew","handleInputBlur","handleInputFocus","composing","newTag","email","url","text","digits","isodate","filterTags","String","validate","Function","addTagOnKeys","addTagOnBlur","limit","allowDuplicates","beforeAdding","data","computed","methods","$el","querySelector","focus","e","validateIfNeeded","tagValue","validators","test","tagChange","$emit","pop"],"mappings":"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","file":"js/chunk-0650afb3.9ee69831.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-input-tag.vue?vue&type=style&index=0&lang=css&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderSamples.vue?vue&type=style&index=0&id=6c2f4b16&scoped=true&lang=scss&\"","\n/* eslint-disable no-nested-ternary */\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport validateForm from '@/utils/validators/validate-form';\nimport isFilled from '@/utils/validators/is-filled';\nimport strLength from '@/utils/validators/str-length';\nimport { Form, Notification } from 'element-ui';\nimport {\n  defineComponent, watch, onMounted, ref, reactive, computed,\n} from '@vue/composition-api';\nimport AppError from '@/utils/error';\nimport i18n, { i18next } from '@/i18n';\nimport VueInputTag from '../vue-input-tag.vue';\nimport { UploadedFile } from './Uploader.vue';\n\nexport class CustomInput {\n  public inputLabel = i18next.t('order_management.material_dynamic_form.customeize');\n  public inputValue = '';\n}\n\nexport class ColorType {\n  public colorName: string | undefined = '';\n  public colorNumber: string | undefined = '';;\n}\n\nexport class SampleDetail {\n  styleName = '';\n  status = 0;\n  percentage = 0;\n  id: number;\n  page: Window | null = null;\n  count = 0;\n  size = '0';\n  constructor() {\n    this.id = +new Date();\n  }\n  static setStatus(target: SampleDetail, status: number) {\n    if (target) {\n      target.status = status;\n    }\n  }\n  static setPercentage(target: SampleDetail, percentage: number) {\n    if (target) {\n      target.percentage = percentage;\n    }\n  }\n}\n\nexport class SampleFolder {\n  files = [] as UploadedFile[];\n  name: string;\n  id: string;\n  isCustom = false;\n  constructor(name: string, isCustom = false) {\n    this.name = name;\n    this.id = `${+new Date()}${Math.floor(Math.random() * 1000)}`;\n    if (isCustom) this.isCustom = isCustom;\n  }\n}\n\nexport class Sample {\n  public styleName = '';\n  public styleNumber = '';\n  public lastName = ''; // 鞋楦名称\n  public lastNumber: number | string = ''; // 鞋楦编码\n  public soleName: string = ''; // 大体名称\n  public soleNumber: string = ''; // 大体编码\n  public vampName: string = ''; // 面部名称\n  public vampNumber: string = ''; // 面部编码\n  public colorType: ColorType[] = [new ColorType()];\n  public modifyDesc: string[] = ['']; // 修改说明, 长度至少为1\n  public dataReceiviedTime: number | undefined = undefined; // 资料收到日期\n  public deadline: number | undefined = undefined; // 单款交期\n  public shoeType: string = ''; // 鞋款类型\n  public sampleSize: string = ''; // 样品尺码\n  public sampleQuantity: string = ''; // 样品双数\n  public season: string = ''; // 季度\n  public gender: string = ''; // 性别\n  public series: string = ''; // 系列\n  public bindOrderNo: string = ''; // 客户单号,\n  public shoeTag: string = ''; // 鞋款标签,\n  public customInputs: CustomInput[] = [new CustomInput(), new CustomInput(), new CustomInput(), new CustomInput(), new CustomInput()];\n  labels = [] as string[];\n  detail?: SampleDetail;\n  // lastModifiedTime: number;\n  attachment = [] as SampleFolder[];\n  requirement = '';\n  did = `${+new Date()}${Math.floor(Math.random() * 1000)}`;\n  hasUpdated = false;\n  constructor(withDetail = true) {\n    // this.lastModifiedTime = +new Date();\n    if (withDetail) {\n      this.detail = new SampleDetail();\n    }\n  }\n}\n\n// const rules = {\n//   styleName: validator2ElemRule((value: string) => {\n//     try {\n//       isFilled(value);\n//     } catch (e) {\n//       throw new Error('不能为空');\n//     }\n//     try {\n//       strLength(value, { min: 1, max: 17 });\n//     } catch (e) {\n//       throw new Error('要在1到17个字符之间');\n//     }\n//   }),\n//   lastNumber: validator2ElemRule((value: string) => {\n//     try {\n//       isFilled(value);\n//     } catch (e) {\n//       throw new Error('不能为空');\n//     }\n//     try {\n//       strLength(value, { min: 1, max: 17 });\n//     } catch (e) {\n//       throw new Error('要在1到17个字符之间');\n//     }\n//   }),\n// };\nfunction checkDuplicateStyleName(val: string, materials: Sample[]) {\n  console.log(val, materials);\n  const length = materials.filter(i => i.styleName === val && val !== '')?.length || 0;\n  if (length >= 2) throw new Error('型体名称不能重复');\n}\n\nconst orderSamples = defineComponent({\n  props: {\n    samples: {\n      type: Array as unknown as () => Sample[],\n      default: () => {\n        return [new Sample()];\n      },\n    },\n    disable: {\n      type: Boolean,\n      default: false,\n    },\n    hideUpload: {\n      type: Boolean,\n      default: false,\n    },\n    disableUpload: {\n      type: Boolean,\n      default: false,\n    },\n    disableEdit: {\n      type: Boolean,\n      default: false,\n    },\n    status: {\n      type: Number,\n      default: null,\n    },\n  },\n  render() {\n    const s = this as InstanceType<typeof orderSamples>;\n    return (\n      <div class=''>\n        {\n          (s.samples).map((item, index) => {\n            return (\n              <div class='flex-column' style={{ position: 'relative' }}>\n                <el-form key={item.did} ref={`item-${index}`} props={{ model: item }}\n                  rules={this.rules} inline={true} class='flex' style={{\n                    position: 'relative',\n                    flexWrap: 'wrap',\n                  }}>\n\n                  <el-form-item style={{\n                    display: 'flex!important',\n                    flexDirection: 'column',\n                    alignItems: 'end',\n                  }} label={`${i18next.t('order_management.sample_dynamic_form.style_name_short')}${index + 1}`} required prop=\"styleName\">\n                    <el-input disabled={s.disable} size='small' style={{ width: '366px' }}\n                      placeholder='' value={item.styleName} oninput={(value: string) => { item.styleName = value; }} />\n                  </el-form-item>\n\n                  <el-form-item style={{\n                    display: 'flex!important',\n                    flexDirection: 'column',\n                    alignItems: 'end',\n                  }} label={`${i18next.t('order_management.sample_dynamic_form.shoe_name_short')}${index + 1}`} required prop=\"lastName\">\n                    <el-input disabled={s.disable} size='small' style={{ width: '366px' }}\n                      placeholder='' value={item.lastName} oninput={(value: string) => { item.lastName = value; }} />\n                  </el-form-item>\n\n                  <el-form-item style={{\n                    display: 'flex!important',\n                    flexDirection: 'column',\n                    alignItems: 'end',\n                  }} label={i18next.t('order_management.sample_dynamic_form.keyword_tags')}>\n                    <div class=\"flex-center\" style={{\n                      height: '37px',\n                    }}>\n                      <VueInputTag limit={1} readOnly={s.disable} placeholder=\"\"\n                        style={{ height: '32px', width: '366px' }} innerTags={item.labels} />\n                    </div>\n                  </el-form-item>\n\n                  <el-form-item style={{\n                    display: 'flex!important',\n                    flexDirection: 'column',\n                    alignItems: 'end',\n                  }} label={`${i18next.t('order_management.sample_dynamic_form.outsole_name_short')}${index + 1}`} prop=\"soleName\">\n                    <el-input disabled={s.disable} size='small' style={{ width: '366px' }}\n                      placeholder='' value={item.soleName} oninput={(value: string) => { item.soleName = value; }} />\n                  </el-form-item>\n\n                  <el-form-item style={{\n                    display: 'flex!important',\n                    flexDirection: 'column',\n                    alignItems: 'end',\n                  }} label={`${i18next.t('order_management.sample_dynamic_form.upper_name')}${index + 1}`} prop=\"vampName\">\n                    <el-input disabled={s.disable} size='small' style={{ width: '366px' }}\n                      placeholder='' value={item.vampName} oninput={(value: string) => { item.vampName = value; }} />\n                  </el-form-item>\n                  {\n                    // 增删按钮\n                  }\n                  <div vShow={!s.disable} class='flex-vertical-center' style={{\n                    height: '32px',\n                    marginTop: '25px',\n                    textAlign: 'right',\n                    width: '366px',\n                    display: 'flex',\n                    marginRight: '10px',\n                    justifyContent: 'flex-end',\n                  }}>\n                    <div class=\"iconfont iconshanchu1\" style={{\n                      color: '#666',\n                      cursor: 'pointer',\n                      marginRight: '12px',\n                    }} vShow={this.isAbleToDelete(index)}\n                      onclick={() => s.$act(s.deleteItem, [index])}></div>\n\n                    <div class=\"iconfont icontianjia\" style={{\n                      marginRight: '12px',\n                      cursor: 'pointer',\n                      color: '#666',\n                    }} vShow={s.samples.length - 1 === index}\n                      onclick={() => s.samples.push(new Sample())}></div>\n                    <div class=\"iconfont iconfuzhi\" style={{\n                      cursor: 'pointer',\n                      color: '#666',\n                    }}\n                      onclick={() => s.samples.push(this.copySample(item))}></div>\n                  </div>\n                </el-form>\n\n                <div style={{\n                  bottom: '18px',\n                  width: '100%',\n                  marginBottom: index === s.samples.length - 1 ? 0 : '20px',\n                  marginTop: '-14px',\n                  zIndex: '1',\n                }} class='flex-vertical-center flex-space-between'>\n                  <div class='flex-vertical-center'>\n                    {\n                      item.detail.status === 1\n                        ? <div class=\"text-link\">\n                          <i class=\"iconfont iconfujian1\" style={{ marginRight: '2px' }} />\n                          <span class='color-999'>{i18next.t('order_management.sample_dynamic_form.style_attachment')}</span>\n                        </div>\n                        : <div class=\"text-link\">\n                          <i class=\"iconfont iconfujian1\" style={{ marginRight: '2px' }} />\n                          <span style={{ color: '#2878ff', cursor: 'pointer' }}\n                            onclick={() => s.handleDetailPage(index)}>\n                            {i18next.t('order_management.sample_dynamic_form.style_attachment')}\n                          </span>\n                        </div>\n                    }\n                    <div class=\"text-link\" style={{ marginLeft: '10px' }} >\n                      <i class=\"iconfont icondankuanxiangqing-24px\" style={{ marginRight: '2px' }} />\n                      <span class=\"text-link\" onclick={() => { this.openSampleForm(index); }}>\n                        {i18next.t('order_management.sample_dynamic_form.style_detail')}</span>\n                    </div>\n                  </div>\n                  <div class=\"flex-vertical-center\"\n                    vShow={item.detail?.count !== 0}>\n                    {\n                      item.detail?.status\n                        ? item.detail?.status === 1 // 上传中\n                          ? <div style={{ color: '#2878ff', marginRight: '12px' }}>\n                            <i class=\"iconfont iconshangchuanzhong\"></i>&nbsp;\n                            <span>{i18next.t('order_management.uploader.upload_process')}</span>\n                            <span>{item.detail.percentage}%</span>\n                          </div>\n                          : item.detail?.status === 2\n                            ? <div style={{ color: '#27C21D', marginRight: '12px' }}>\n                              <i class=\"iconfont icon-tick-circle\"></i>&nbsp;\n                              <span>{i18next.t('order_management.uploader.upload_success')}</span>\n                            </div>\n                            : item.detail?.status === 3\n                              ? <div style={{ color: '#F54747', marginRight: '12px' }}>\n                                <i class=\"iconfont iconfangong-loukong\"></i>&nbsp;\n                                <span>{i18next.t('order_management.uploader.upload_fail')}</span>\n                              </div>\n                              : null\n                        : null\n                    }\n                    <span class='color-999'>\n                      <i18n path=\"order_management.attachments.file_number\">\n                        <span class='color-333' place=\"count\">&nbsp;{item.detail!.count}</span>\n                      </i18n>\n                    </span>\n                    <span class='color-999'>\n                      <i18n path=\"order_management.attachments.file_size\">\n                        <span class='color-333' place=\"size\">&nbsp;{item.detail!.size}</span>&nbsp;\n                      </i18n>\n                    </span>\n                  </div>\n                  {\n\n                    // <div class=\"flex-vertical-center\" vShow={item.detail?.count !== 0}>\n                    // </div>\n                  }\n                </div>\n              </div>\n            );\n          })\n        }\n        {\n          // <el-button onclick={() => s.validateForms.call(s)}>validate</el-button>\n        }\n      </div>\n    );\n  },\n  setup(props, { root: { $confirm } }) {\n    const hasUpdated = computed(() => {\n      const res = !!props.samples.filter(r => !!r.hasUpdated).filter(r => r).length;\n      return res;\n    });\n    const originLength = props.samples.length;\n\n    const rules = {\n      styleName: validator2ElemRule((value: string) => {\n        isFilled(value);\n        strLength(value, { min: 1, max: 17 });\n        checkDuplicateStyleName(value, props.samples);\n      }),\n      lastName: validator2ElemRule((value: string) => {\n        isFilled(value);\n        strLength(value, { min: 1, max: 17 });\n      }),\n    };\n\n    // watch(() => hasUpdated.value, async newv => {\n    //   if (newv) {\n    //     console.log(newv);\n    //     const notification = Notification({\n    //       position: 'bottom-left',\n    //       duration: 0,\n    //       title: '提示',\n    //       message: '单款有新的上传文件，请点击下方的“更新”按钮进行更新',\n    //     });\n    //     $alert('单款有新的上传文件，请点击下方的“更新”按钮进行更新', '提示');\n    //     notification.$forceUpdate();\n    //     await delay(3000);\n    //     notification.close();\n    //   }\n    // });\n    onMounted(() => {\n      if (!props.samples.length) {\n        props.samples.push(new Sample());\n      } else {\n        // 若以前创建过，则把状态设为默认状态（否则会显示上传成功）\n        props.samples.forEach(sample => {\n          SampleDetail.setStatus(sample.detail, 0);\n          sample.hasUpdated = false;\n        });\n        console.log(props.samples);\n      }\n    });\n    async function deleteItem(this: InstanceType<typeof orderSamples>, index: number) {\n      const target = this.samples[index];\n      if (\n        target.detail\n        && target.detail.page\n        && await $confirm('该型体有上传文件的页面，是否关闭页面？', '确认')\n      ) {\n        target.detail.page.close();\n        const { id } = target.detail;\n        delete (window as Window & typeof globalThis & {\n          [k: string]: Sample\n        })[`sample_${id}`];\n      }\n      this.samples.splice(index, 1);\n    }\n    function validateForms(this: InstanceType<typeof orderSamples>) {\n      return Promise.all(this.samples.map(async (_, i) => {\n        return new Promise((res, reject) => {\n          validateForm(this.$refs[`item-${i}`] as Form)\n            .then(() => {\n              if (props.samples[i].detail?.status === 1) {\n                reject(new AppError('正在上传文件，请稍后...', {\n                  level: 0,\n                }));\n              }\n              res();\n            });\n        });\n      }));\n    }\n    function clearValidateForms(this: InstanceType<typeof orderSamples>) {\n      return Promise.all(this.samples.map(async (_, i) => {\n        const f = (this.$refs[`item-${i}`] as Form);\n        f.clearValidate('styleName');\n        f.clearValidate('lastNumber');\n      }));\n    }\n    function handleDetailPage(index: number) {\n      const target = props.samples[index];\n      const { detail } = target;\n      Object.assign(window, {\n        [`sample_${detail.id}`]: target,\n      });\n      const disableUploadFlag = `${props.disable ? '&f=1' : ''}`;\n      const disableEditFlag = `${props.disable ? '&f2=1' : ''}`;\n      detail.page = window.open(\n        `${window.location.origin}/t/demand-order-detail?id=${detail.id}${disableUploadFlag}${disableEditFlag}`,\n      );\n    }\n    function openSampleForm(index: number) {\n      const target = props.samples[index];\n      const { detail } = target;\n      console.log(detail);\n      Object.assign(window, {\n        [`sample_${detail.id}`]: target,\n      });\n      const disableUploadFlag = `${props.disable ? '&f=1' : ''}`;\n      const disableEditFlag = `${props.disable ? '&f2=1' : ''}`;\n      detail.page = window.open(\n        `${window.location.origin}/t/sample-order-form?id=${detail.id}${disableUploadFlag}${disableEditFlag}`,\n      );\n      // console.log('open sample form');\n    }\n    function copySample(item: Sample) {\n      const oldObj = JSON.parse(JSON.stringify(item, (key, value) => {\n        if (key === 'detail') {\n          return null;\n        }\n        if (key === 'did') {\n          return null;\n        }\n        if (key === 'styleName') {\n          return null;\n        }\n        return value;\n      }));\n      const newObj = new Sample(false);\n      Object.assign(newObj, oldObj, {\n        detail: new SampleDetail(),\n        did: `${+new Date()}${Math.floor(Math.random() * 1000)}`,\n      });\n      return newObj;\n    }\n    function isAbleToDelete(index: number) {\n      if (props.status !== null) {\n        return index > originLength - 1 && props.samples.length !== 1;\n      }\n      return props.samples.length !== 1;\n    }\n    return {\n      hasUpdated,\n      deleteItem,\n      validateForms,\n      clearValidateForms,\n      handleDetailPage,\n      openSampleForm,\n      isAbleToDelete,\n      copySample,\n      rules,\n    };\n  },\n});\nexport default orderSamples;\n","var render, staticRenderFns\nimport script from \"./OrderSamples.vue?vue&type=script&lang=tsx&\"\nexport * from \"./OrderSamples.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./OrderSamples.vue?vue&type=style&index=0&id=6c2f4b16&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c2f4b16\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderSamples.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderSamples.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-input-tag-wrapper flex-vertical-center\",class:{\n    'read-only': _vm.readOnly,\n    'vue-input-tag-wrapper--active': _vm.isInputActive,\n  },on:{\"click\":function($event){return _vm.focusNewTag()}}},[_vm._l((_vm.filterTags),function(tag,index){return _c('span',{key:tag,staticClass:\"input-tag flex-center\"},[_c('span',{staticClass:\"white-space-no-wrap\"},[_vm._v(_vm._s(tag))]),(!_vm.readOnly)?_c('a',{staticClass:\"remove iconfont icon-delete\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.removeFilterTags(index)}}},[_vm._t(\"remove-icon\")],2):_vm._e()])}),(!_vm.innerTags.length && _vm.showSearchIcon)?_c('span',[_c('i',{staticClass:\"iconfont icon-search\",style:({\n      padding: '0 6px 0 3px'\n    })})]):_vm._e(),_vm._l((_vm.innerTags),function(tag,index2){return _c('span',{key:index2,staticClass:\"input-tag flex-center\"},[_c('span',{staticClass:\"white-space-no-wrap\"},[_vm._v(_vm._s(_vm.pipeLimitLength(tag)))]),(!_vm.readOnly)?_c('a',{staticClass:\"remove iconfont icon-delete\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.removeInnerTags(index2)}}},[_vm._t(\"remove-icon\")],2):_vm._e()])}),(!_vm.readOnly && !_vm.isLimit)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newTag),expression:\"newTag\"}],ref:\"inputtag\",staticClass:\"new-tag\",attrs:{\"placeholder\":_vm.placeholder,\"type\":\"text\"},domProps:{\"value\":(_vm.newTag)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"])){ return null; }$event.stopPropagation();return _vm.removeLastTag($event)},_vm.addNew],\"blur\":_vm.handleInputBlur,\"focus\":_vm.handleInputFocus,\"input\":function($event){if($event.target.composing){ return; }_vm.newTag=$event.target.value}}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport i18n from 'i18next';\n/* eslint-disable */\nconst validators = {\n  email: new RegExp(\n    /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  ),\n  url: new RegExp(\n    /^(https?|ftp|rmtp|mms):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+)(:(\\d+))?\\/?/i\n  ),\n  text: new RegExp(/^[a-zA-Z]+$/),\n  digits: new RegExp(/^[\\d() \\.\\:\\-\\+#]+$/),\n  isodate: new RegExp(\n    /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/\n  )\n};\n/* eslint-enable */\n\nexport default {\n  name: 'InputTag',\n\n  props: {\n    filterTags: {\n      type: Array,\n      default: () => [],\n    },\n    innerTags: {\n      type: Array,\n      default: () => [],\n    },\n    placeholder: {\n      type: String,\n      default: i18n.t('workspace.search'),\n    },\n    showSearchIcon: {\n      type: Boolean,\n      default: false,\n    },\n    readOnly: {\n      type: Boolean,\n      default: false,\n    },\n    validate: {\n      // eslint-disable-next-line\n      type: String | Function | Object,\n      default: '',\n    },\n    addTagOnKeys: {\n      type: Array,\n      default() {\n        return [\n          13, // Return\n          188, // Comma ','\n          9, // Tab\n        ];\n      },\n    },\n    addTagOnBlur: {\n      type: Boolean,\n      default: false,\n    },\n    limit: {\n      type: Number,\n      default: -1,\n    },\n    allowDuplicates: {\n      type: Boolean,\n      default: false,\n    },\n    beforeAdding: {\n      type: Function,\n    },\n  },\n\n  data() {\n    return {\n      newTag: '',\n      isInputActive: false,\n    };\n  },\n\n  computed: {\n    isLimit() {\n      return this.limit > 0 && Number(this.limit) === this.innerTags.length;\n    },\n  },\n\n  methods: {\n    focusNewTag() {\n      if (this.readOnly || !this.$el.querySelector('.new-tag')) {\n        return;\n      }\n      this.$el.querySelector('.new-tag').focus();\n    },\n\n    handleInputFocus() {\n      this.isInputActive = true;\n    },\n\n    handleInputBlur(e) {\n      this.isInputActive = false;\n      this.addNew(e);\n    },\n\n    async addNew(e) {\n      const keyShouldAddTag = e\n        ? this.addTagOnKeys.indexOf(e.keyCode) !== -1\n        : true;\n\n      const typeIsNotBlur = e && e.type !== 'blur';\n\n      if (\n        (!keyShouldAddTag && (typeIsNotBlur || !this.addTagOnBlur))\n        || this.isLimit\n      ) {\n        return;\n      }\n\n      const tag = this.beforeAdding\n        ? await this.beforeAdding(this.newTag)\n        : this.newTag;\n\n      const isValid = await this.validateIfNeeded(tag);\n\n      if (\n        tag\n        && isValid\n        && (this.allowDuplicates || this.innerTags.indexOf(tag) === -1)\n      ) {\n        this.innerTags.push(tag);\n        this.newTag = '';\n        this.tagChange();\n\n        e && e.preventDefault();\n      }\n    },\n\n    validateIfNeeded(tagValue) {\n      if (this.validate === '' || this.validate === undefined) {\n        return true;\n      }\n\n      if (typeof this.validate === 'function') {\n        return this.validate(tagValue);\n      }\n\n      if (\n        typeof this.validate === 'string'\n        && Object.keys(validators).indexOf(this.validate) > -1\n      ) {\n        return validators[this.validate].test(tagValue);\n      }\n\n      if (\n        typeof this.validate === 'object'\n        && this.validate.test !== undefined\n      ) {\n        return this.validate.test(tagValue);\n      }\n\n      return true;\n    },\n\n    removeInnerTags(index) {\n      this.innerTags.splice(index, 1);\n      this.tagChange();\n    },\n\n    removeFilterTags(index) {\n      this.$emit('removefiltertags', this.filterTags[index]);\n      // console.log('file', this.filterTags[index]);\n    },\n\n    removeLastTag() {\n      if (this.newTag) {\n        return;\n      }\n      if (this.innerTags.length) {\n        this.innerTags.pop();\n        this.tagChange();\n      } else if (this.filterTags.length) {\n        const target = this.filterTags.splice(this.filterTags.length - 1, 1);\n        this.$emit('removefiltertags', target[0]);\n      }\n    },\n\n    tagChange() {\n      this.$emit('update:tags', this.innerTags);\n      this.$emit('input', [...this.innerTags]);\n    },\n\n    pipeLimitLength(text) {\n      if (text.length > 30) {\n        return `${text.substring(0, 27)}...`;\n      }\n      return text;\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    @click=\"focusNewTag()\"\n    :class=\"{\n      'read-only': readOnly,\n      'vue-input-tag-wrapper--active': isInputActive,\n    }\"\n    class=\"vue-input-tag-wrapper flex-vertical-center\"\n  >\n    <span v-for=\"(tag, index) of filterTags\" :key=\"tag\" class=\"input-tag flex-center\">\n      <span class='white-space-no-wrap'>{{ tag }}</span>\n      <a v-if=\"!readOnly\" @click.prevent.stop=\"removeFilterTags(index)\"\n      class=\"remove iconfont icon-delete\">\n        <slot name=\"remove-icon\" />\n      </a>\n    </span>\n    <span v-if=\"!innerTags.length && showSearchIcon\">\n      <i class=\"iconfont icon-search\" :style=\"{\n        padding: '0 6px 0 3px'\n      }\"></i>\n    </span>\n    <span v-for=\"(tag, index2) of innerTags\" :key=\"index2\" class=\"input-tag flex-center\">\n      <span class='white-space-no-wrap'>{{ pipeLimitLength(tag) }}</span>\n      <a v-if=\"!readOnly\" @click.prevent.stop=\"removeInnerTags(index2)\"\n      class=\"remove iconfont icon-delete\">\n        <slot name=\"remove-icon\" />\n      </a>\n    </span>\n    <input\n      v-if=\"!readOnly && !isLimit\"\n      ref=\"inputtag\"\n      :placeholder=\"placeholder\"\n      type=\"text\"\n      v-model=\"newTag\"\n      v-on:keydown.delete.stop=\"removeLastTag\"\n      v-on:keydown=\"addNew\"\n      v-on:blur=\"handleInputBlur\"\n      v-on:focus=\"handleInputFocus\"\n      class=\"new-tag\"\n    />\n  </div>\n</template>\n\n<style>\n.white-space-no-wrap {\n  white-space: nowrap;\n}\n.vue-input-tag-wrapper {\n  background-color: #fff;\n  border: 1px solid #ccc;\n  overflow: hidden;\n  padding-left: 4px;\n  vertical-align: middle;\n  cursor: text;\n  text-align: left;\n  -webkit-appearance: textfield;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.vue-input-tag-wrapper .input-tag {\n  background-color: #cde69c;\n  border-radius: 2px;\n  border: 1px solid #a5d24a;\n  color: #638421;\n  display: inline-block;\n  font-size: 13px;\n  font-weight: 400;\n  margin-right: 4px;\n  /* padding: 4px 3px 0px; */\n}\n\n.vue-input-tag-wrapper .input-tag .remove {\n  cursor: pointer;\n  /* font-weight: bold; */\n  color: #fff!important;\n  padding-right: 6px;\n  font-size: 14px;\n}\n\n.vue-input-tag-wrapper .input-tag .remove:hover {\n  text-decoration: none;\n}\n\n.vue-input-tag-wrapper .input-tag .remove:empty::before {\n  /* content: \" x\"; */\n}\n\n.vue-input-tag-wrapper .new-tag {\n  background: transparent;\n  border: 0;\n  color: #777;\n  font-size: 13px;\n  font-weight: 400;\n  margin-top: 1px;\n  outline: none;\n  padding: 4px;\n  padding-left: 0;\n  flex-grow: 1;\n}\n\n.vue-input-tag-wrapper.read-only {\n  cursor: default;\n}\n.vue-input-tag-wrapper > .new-tag::placeholder {\n  padding-left: 0px;\n  /* color: #ccc; */\n  /* font-weight: 400; */\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-input-tag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-input-tag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vue-input-tag.vue?vue&type=template&id=162226dd&\"\nimport script from \"./vue-input-tag.vue?vue&type=script&lang=js&\"\nexport * from \"./vue-input-tag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vue-input-tag.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}