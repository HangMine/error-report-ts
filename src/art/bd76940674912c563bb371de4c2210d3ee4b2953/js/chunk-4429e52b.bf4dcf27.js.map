{"version":3,"sources":["webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/components/icon/IconQuestion.vue?212e","webpack:///src/components/icon/IconQuestion.vue","webpack:///./src/components/icon/IconQuestion.vue?116e","webpack:///./src/components/icon/IconQuestion.vue","webpack:///./src/api/material.js","webpack:///./src/components/icon/IconQuestion.vue?5172","webpack:///./src/components/MaterialTypeCascade.vue?cd35","webpack:///./src/components/MaterialTypeCascade.vue?16f2","webpack:///./src/components/MaterialTypeCascade.vue?3409","webpack:///./src/components/MaterialTypeCascade.vue","webpack:///./src/views/supplier-backend/goods-manager/goods-edit/components/GoodsInfo.vue?b94e","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?96ae","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?7e93","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?60d8","webpack:///./src/components/dictionary/DictionarySelectorNew.vue","webpack:///./src/utils/i18n-material-type.ts","webpack:///./src/api/dictionary.js","webpack:///./src/views/supplier-backend/goods-manager/goods-edit/components/GoodsInfo.vue?f896","webpack:///./src/views/supplier-backend/goods-manager/goods-edit/components/GoodsInfo.vue?b722","webpack:///./src/views/supplier-backend/goods-manager/goods-edit/components/GoodsInfo.vue?627b","webpack:///./src/views/supplier-backend/goods-manager/goods-edit/components/GoodsInfo.vue"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","default","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defaultOptions","initialValue","undefined","loadingValue","oldValue","useLoader","loader","oldWatcher","params","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","ref","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","watch","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","this","immediate","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","_default","render","_vm","_h","$createElement","_c","_self","_g","staticClass","class","activeStatus","on","$event","$listeners","staticRenderFns","name","data","component","uploadMaterialInfo","axios","method","url","headers","groupAppId","workspaceId","getMaterialInfo","materialId","language","fetchMaterialTypes","id","businessTypes","attrs","list","showClearable","disabled","$t","cascaderProps","handleChange","scopedSlots","_u","fn","_v","_s","label","model","prop","event","props","strictMode","type","Boolean","maxLevel","Number","Array","required","checkStrictly","expandTrigger","String","businessType","setup","emit","selected","cascader","getChildren","level","map","leaf","subCount","initOptionList","children","result","item","find","j","checkedNodes","nodes","getCheckedNodes","pathNodes","n","lazy","lazyLoad","node","resolve","res","defaultList","ids","v","placeholder","callback","$$v","selectedValue","expression","_l","itemValue","valueType","options","created","o","toString","$errHandler","handler","val","methods","selectedOptions","$emit","translateCategoryName","categoryName","t","getDictionaryByTypeCode","typeCode","getCountryList","keyword","materialGoods","rules","$set","checkFormValidation","staticStyle","samplePriceUnit","e","samplePriceNumber","trim","slot","categoryArr","parentIds","_t","fetchMaterialDetail","materialFromRules","materialName","requirement","charLengthMax","samplePrice","numberPositive","materialsTechnology","applicableProductLine","designContent","surfaceTechnics","components","DictionarySelectorNew","VueInputTag","IconQuestion","MaterialTypeCascade","material","root","typeCascade","materialsTechnologyList","surfaceTechnicsList","designContentList","applicableProductLineList","tags","tag","category","split","slice","refsForm","validateForm","formData","JSON","parse","stringify","pickedKeys","k","console","info","join","$errorHandler","oldV","arrayTranslate"],"mappings":"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","file":"js/chunk-4429e52b.bf4dcf27.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',_vm._g({staticClass:\"iconfont\",class:_vm.activeStatus ? 'icon-help-circle' : 'iconhelp_nol',on:{\"mouseenter\":function($event){_vm.activeStatus = true},\"mouseleave\":function($event){_vm.activeStatus = false}}},_vm.$listeners))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <i\n    class=\"iconfont\"\n    :class=\"activeStatus ? 'icon-help-circle' : 'iconhelp_nol'\"\n    v-on=\"$listeners\"\n    @mouseenter=\"activeStatus = true\"\n    @mouseleave=\"activeStatus = false\" />\n</template>\n\n<script>\nexport default {\n  name: 'IconQuestion',\n  data() {\n    return {\n      activeStatus: false,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 标签填写示例\n.iconfont {\n  margin-left: 5px;\n  font-size: 17px;\n  color: #848b97;\n  cursor: pointer;\n}\n.icon-help-circle {\n  color: $color-primary;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconQuestion.vue?vue&type=template&id=b67bf064&scoped=true&\"\nimport script from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nexport * from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b67bf064\",\n  null\n  \n)\n\nexport default component.exports","import axios from './axios';\n\n/**\n * 上传材质信息(deprecated)\n * @param {Object} data 模型信息对象（具体数据结构看API接口文档）\n * @param {String} groupAppId workspaceId,默认为空\n * @returns {Promise}\n */\nexport const uploadMaterial = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/show/material/upload',\n    headers: {\n      groupAppId,\n    },\n    data,\n  });\n};\n\n/**\n * 上传材质信息\n * @param {Object} data 模型信息对象（具体数据结构看API接口文档）\n * @param {String} groupAppId workspaceId,默认为空\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6110\n */\nexport const uploadMaterialInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/upload',\n    headers: {\n      groupAppId: data.workspaceId || '',\n    },\n    data,\n  });\n};\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId, language, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n      groupAppId,\n    },\n    params: { materialId },\n  });\n};\n\n/**\n * 获取材质详情信息，用于拖拽到鞋模型渲染时使用(deprecated)\n * @param {String} relateId 材质Id\n * @returns {Promise}\n */\nexport const getMaterialInfoForDrag = (relateId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/getMaterialDetailInfo',\n    params: {\n      relateId,\n    },\n  });\n};\n\n/**\n * 更新材质详情信息（标签更新在其他接口）\n * @param {String} data { id: string, propName: any }\n * @see {Promise}\n */\nexport const updateMaterialInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/updateNewMaterialInfo',\n    data,\n  });\n};\n\n/* ============================ 材质标签相关 ======================= */\n/**\n * 新增材质标签\n * @param {String} id 材质ID\n * @param {Array} tags 新添加的标签数组\n * @param {String} groupAppId workspaceId,默认为空\n * @returns {Promise}\n */\nexport const createNewTagForMaterial = (id, tags, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/show/tag/addMaterialTag',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      id,\n      tags,\n    },\n  });\n};\n\n/**\n * 删除材质标签\n * @param {String} id 材质ID\n * @param {Array} tags 新添加的标签数组\n * @param {String} groupAppId workspaceId,默认为空\n * @returns {Promise}\n */\nexport const deleteTagsOfMaterial = (id, tags, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/show/tag/deleteMaterialTag',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      id,\n      tags,\n    },\n  });\n};\n\n// ==============================================================\n\n// 查询类目列表(无分页)\nexport const fetchMaterialTypes = async (id = '-1', businessTypes = 1) => {\n  let data = null;\n  switch (businessTypes) {\n    case 1: {\n      data = (await axios({\n        method: 'get',\n        url: `/anta-material/category/list?parentId=${id}`,\n      })).data;\n      break;\n    }\n    case 0: {\n      data = (await axios({\n        method: 'get',\n        url: `/show/category/list?parentId=${id}`,\n      })).data;\n      break;\n    }\n    default:\n  }\n  return data;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-cascader',{ref:\"cascader\",staticClass:\"fixed-width anta\",attrs:{\"options\":_vm.list,\"value\":_vm.value,\"clearable\":_vm.showClearable,\"disabled\":_vm.disabled,\"placeholder\":_vm.$t('material.others.select_type'),\"props\":_vm.cascaderProps,\"size\":\"small\"},on:{\"change\":_vm.handleChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('span',[_vm._v(_vm._s(data.label))])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, watch, toRefs, computed,\n} from '@vue/composition-api';\nimport { fetchMaterialTypes } from '@/api/material';\nimport useLoader from '_/composables/use-loader';\nimport { ElCascader } from 'element-ui/types/cascader';\nimport translateCategoryName from '@/utils/i18n-material-type';\n\ntype MaterialSelectItem = {\n  id: string,\n  name: string,\n  label: string,\n  subCount?: number,\n  children?: MaterialSelectItem[]\n  parentIds?: string[]\n  leaf?: boolean,\n  disabled?: boolean,\n};\n\nexport default defineComponent({\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n  props: {\n    strictMode: {\n      type: Boolean,\n      default: false,\n    },\n    maxLevel: {\n      type: Number,\n      default: 2,\n    },\n    value: {\n      type: Array as () => string[],\n      required: true,\n      default: () => [],\n    },\n    checkStrictly: {\n      type: Boolean,\n      default: false,\n    },\n    expandTrigger: {\n      type: String,\n      default: 'click',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    showClearable: {\n      type: Boolean,\n      default: true,\n    },\n\n    businessType: {\n      // 1安踏 0普通\n      type: Number,\n      default: 1,\n    },\n  },\n  setup(props, { emit }) {\n    const selected = ref<MaterialSelectItem[]>([]);\n\n    const cascader = ref<ElCascader>();\n\n    async function getChildren(id: string, level: number) {\n      const list = (await fetchMaterialTypes(id, props.businessType)) as MaterialSelectItem[];\n      return list.map(i => {\n        i.leaf = !(i.subCount && i.subCount > 0 && level < props.maxLevel);\n        i.disabled = props.maxLevel !== level && !i.subCount && props.strictMode;\n        if (props.businessType === 0) {\n          i.label = translateCategoryName(i.name);\n        } else {\n          i.label = i.name;\n        }\n        return i;\n      });\n    }\n\n    async function initOptionList(children: MaterialSelectItem[], list: string[]) {\n      const result = [];\n      while (children && children.length) {\n        // eslint-disable-next-line no-loop-func\n        const item = children.find(j => j.id === list[result.length]);\n        if (item && result.length < props.maxLevel) {\n          result.push(item);\n          item.children = item.children || await getChildren(item.id, result.length);\n          ({ children } = item);\n        } else {\n          children = [];\n        }\n      }\n      return result;\n    }\n\n    const checkedNodes = computed(() => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    });\n\n    const getCheckedNodes = () => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    };\n\n    const cascaderProps = {\n      lazy: true,\n      label: 'label',\n      value: 'id',\n      children: 'children',\n      checkStrictly: props.checkStrictly,\n      expandTrigger: props.expandTrigger,\n      lazyLoad: async (node, resolve) => {\n        if (node.level && node.level < props.maxLevel + 1 && !node.leaf && node.children?.length === 0) {\n          const res = await getChildren(node.value, node.level);\n          resolve(res);\n        } else {\n          resolve();\n        }\n      },\n    };\n\n    const list = useLoader(async ({ value }) => {\n      const defaultList = await getChildren('-1', 0);\n      if (value.length) {\n        if (defaultList) {\n          selected.value = await initOptionList(defaultList, value);\n        }\n      }\n      return defaultList;\n    }, {\n      ...toRefs(props),\n    }, {\n      initialValue: [],\n    });\n\n    async function handleChange(ids: string[]) {\n      if (!cascader.value?.getCheckedNodes()[0]) {\n        emit('change', ids, []);\n      } else {\n        const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n          return n.data;\n        }) || [];\n        emit('change', ids, nodes);\n      }\n    }\n\n    watch(() => checkedNodes.value, (v) => {\n      if (v.length > 0) handleChange(props.value);\n    });\n    // watch(() => {\n    //   return props.value;\n    // }, (v, ov) => {\n    //   if (JSON.stringify(v) !== JSON.stringify(ov)) {\n    //     if (v.length > 0) {\n    //\n    //       initOptionList(list.value, v);\n    //     } else {\n    //\n    //\n    //     }\n    //   }\n    // });\n\n    return {\n      cascaderProps,\n      handleChange,\n      list,\n      cascader,\n      getCheckedNodes,\n      checkedNodes,\n    };\n  },\n\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialTypeCascade.vue?vue&type=template&id=bb4c346e&\"\nimport script from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsInfo.vue?vue&type=style&index=0&id=e05a100c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.itemValue,attrs:{\"label\":item.label,\"value\":item.itemValue}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { getDictionaryByTypeCode } from '@/api/dictionary';\n// import * as DictionaryCache from '@/views/material/cache-dictionary';\n\ntype dictionaryUnit = {\n  itemValue: number| string,\n  label: string,\n};\n\nexport default {\n  name: 'DictionarySelector',\n  model: {\n    event: 'change',\n    prop: 'value',\n  },\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: 1,\n    },\n    // 字典类型\n    type: {\n      type: String,\n      required: true,\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    valueType: {\n      type: String as () => 'number'| 'string',\n      default: 'number',\n    },\n  },\n  data() {\n    return {\n      selectedValue: '',\n      options: [] as dictionaryUnit[],\n    };\n  },\n  async created() {\n    try {\n      this.options = (await getDictionaryByTypeCode(\n        this.type,\n        i18n.language,\n      )).data;\n\n      if (this.valueType === 'string') {\n        this.options.forEach(o => { o.itemValue = o.itemValue.toString(); });\n      }\n      // this.options = await DictionaryCache.default.getDictionaryByType(this.type);\n    } catch (err) {\n      this.$errHandler(err);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleChange() {\n      const selectedOptions = this.options.find(item => item.value === this.selectedValue);\n      this.$emit('change', this.selectedValue, selectedOptions);\n    },\n  },\n\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DictionarySelectorNew.vue?vue&type=template&id=1708da2e&\"\nimport script from \"./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"\nexport * from \"./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import i18n from 'i18next';\n\nexport default function translateCategoryName(categoryName: string) {\n  return i18n.t(`material.material-category.${categoryName}`);\n}\n","import { getDictByType as _getDictByType } from '@/loaders/dictionary';\nimport axios from './axios';\n\n/**\n * 根据类型获取该字典数据\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const getDictByType = async (type) => {\n  return {\n    data: await _getDictByType({ type }),\n  };\n};\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} countryId 国家ID\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCityList = (countryId, keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCity',\n    params: { countryId, keyword },\n  });\n};\n\n\nexport const getOSSAuth = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSAuth',\n  });\n};\n\nexport const getOSSUrl = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSUrl',\n  });\n};\n\n// 获取国家下的城市\n\n\n/* ==================== 标签相关 ================== */\n/**\n * 新增标签\n * @param {Object} data { shareId: string, tags: string[], type: string }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6116\n */\nexport const addTags = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/addTags',\n    data,\n  });\n};\n\n/**\n * 删除标签\n * @param {Array} tagIds { string[] }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6128\n */\nexport const removeTags = (tagIds) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/deleteTag',\n    data: tagIds,\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"goods-info\"},[_c('section',[_c('h4',{staticClass:\"section-title\"},[_vm._v(_vm._s(_vm.$t(\"supplier-backend.goods-edit.product_info\")))]),_c('el-form',{ref:\"refsForm\",attrs:{\"model\":_vm.materialGoods,\"label-width\":\"200px\",\"rules\":_vm.rules,\"size\":\"medium\"}},[_c('el-form-item',{attrs:{\"prop\":\"materialName\",\"label\":_vm.$t('supplier-backend.goods-edit.product_name')}},[_c('el-input',{model:{value:(_vm.materialGoods.materialName),callback:function ($$v) {_vm.$set(_vm.materialGoods, \"materialName\", $$v)},expression:\"materialGoods.materialName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"samplePrice\",\"label\":_vm.$t('material.info.sample_price')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"type\":\"number\"},on:{\"input\":_vm.checkFormValidation},model:{value:(_vm.materialGoods.samplePrice),callback:function ($$v) {_vm.$set(_vm.materialGoods, \"samplePrice\", $$v)},expression:\"materialGoods.samplePrice\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"180px\",\"margin-left\":\"12px\"},attrs:{\"value\":_vm.materialGoods.samplePriceUnit,\"type\":\"priceUnit\",\"valueType\":\"string\"},on:{\"change\":function (e) { return (_vm.materialGoods.samplePriceUnit = e); }}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"180px\",\"margin-left\":\"12px\"},attrs:{\"value\":_vm.materialGoods.samplePriceNumber,\"type\":\"sizeNumber\",\"valueType\":\"string\"},on:{\"change\":function (e) { return (_vm.materialGoods.samplePriceNumber = e); }}})],1)]),_c('el-form-item',{attrs:{\"label\":_vm.$t('supplier-backend.goods-edit.tags')}},[_c('VueInputTag',{attrs:{\"beforeAdding\":function (e) { return e.trim(); },\"placeholder\":_vm.$t('material.upload.add_tag'),\"add-tag-on-blur\":\"\"},model:{value:(_vm.materialGoods.tags),callback:function ($$v) {_vm.$set(_vm.materialGoods, \"tags\", $$v)},expression:\"materialGoods.tags\"}}),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\",\"content\":_vm.$t('supplier-backend.goods-edit.add_tags_tip')}},[_c('IconQuestion',{staticClass:\"question\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})],1)],1),_c('el-form-item',{attrs:{\"required\":\"\",\"label\":_vm.$t('material.info.material_type')}},[_c('MaterialTypeCascade',{ref:\"typeCascade\",staticClass:\"fixed-width\",staticStyle:{\"width\":\"100%\"},attrs:{\"businessType\":0,\"strictMode\":true,\"showClearable\":false},on:{\"change\":function (ids, nodes) {\n              _vm.materialGoods['category'] = ids[ids.length - 1];\n              _vm.categoryArr = nodes;\n            }},model:{value:(_vm.parentIds),callback:function ($$v) {_vm.parentIds=$$v},expression:\"parentIds\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"materialsTechnology\",\"label\":_vm.$t('material.info.materialsTechnology')}},[_c('el-select',{staticClass:\"width-100\",attrs:{\"multiple\":\"\"},model:{value:(_vm.materialGoods.materialsTechnology),callback:function ($$v) {_vm.$set(_vm.materialGoods, \"materialsTechnology\", $$v)},expression:\"materialGoods.materialsTechnology\"}},_vm._l((_vm.materialsTechnologyList),function(item){return _c('el-option',{key:item,attrs:{\"label\":_vm.$t((\"material.materialsTechnology.\" + item)),\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"prop\":\"surfaceTechnics\",\"label\":_vm.$t('material.info.surfaceTechnics')}},[_c('el-select',{staticClass:\"width-100\",attrs:{\"multiple\":\"\"},model:{value:(_vm.materialGoods.surfaceTechnics),callback:function ($$v) {_vm.$set(_vm.materialGoods, \"surfaceTechnics\", $$v)},expression:\"materialGoods.surfaceTechnics\"}},_vm._l((_vm.surfaceTechnicsList),function(item){return _c('el-option',{key:item,attrs:{\"label\":_vm.$t((\"material.surfaceTechnics.\" + item)),\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"prop\":\"designContent\",\"label\":_vm.$t('material.info.designContent')}},[_c('el-select',{staticClass:\"width-100\",attrs:{\"multiple\":\"\"},model:{value:(_vm.materialGoods.designContent),callback:function ($$v) {_vm.$set(_vm.materialGoods, \"designContent\", $$v)},expression:\"materialGoods.designContent\"}},_vm._l((_vm.designContentList),function(item){return _c('el-option',{key:item,attrs:{\"label\":_vm.$t((\"material.designContent.\" + item)),\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"prop\":\"applicableProductLine\",\"label\":_vm.$t('material.info.applicableProductLine')}},[_c('el-select',{staticClass:\"width-100\",attrs:{\"multiple\":\"\"},model:{value:(_vm.materialGoods.applicableProductLine),callback:function ($$v) {_vm.$set(_vm.materialGoods, \"applicableProductLine\", $$v)},expression:\"materialGoods.applicableProductLine\"}},_vm._l((_vm.applicableProductLineList),function(item){return _c('el-option',{key:item,attrs:{\"label\":_vm.$t((\"material.applicableProductLine.\" + item)),\"value\":item}})}),1)],1)],1)],1),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, onMounted, ref, watch,\n} from '@vue/composition-api';\nimport VueInputTag from 'vue-input-tag';\nimport { arrayTranslate } from '@/i18n';\nimport { ElForm } from 'element-ui/types/form';\n\nimport validator, { validateFormFields } from '@/utils/validators/rules-validation';\nimport DictionarySelectorNew from '@/components/dictionary/DictionarySelectorNew.vue';\nimport {\n  categoryName2surfaceTechnics, categoryName2MaterialsTechnology, designContent, applicableProductLine,\n  MaterialsTechnology, SurfaceTechnics,\n} from '@/models/Material';\n\nimport IconQuestion from '@/components/icon/IconQuestion.vue';\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport { axios } from '@/utils/axios';\n\n// 类目详情\nexport const fetchMaterialDetail = async (id: string) => {\n  return (await axios({\n    method: 'get',\n    url: `/show/category/detail?id=${id}`,\n  })).data;\n};\n\n\nconst materialFromRules = {\n  materialName: [\n    validator.requirement(),\n    validator.charLengthMax(512),\n  ],\n  samplePrice: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  materialsTechnology: validator.requirement(),\n  applicableProductLine: validator.requirement(),\n  designContent: validator.requirement(),\n  surfaceTechnics: validator.requirement(),\n};\n\n\nexport default defineComponent({\n  components: {\n    DictionarySelectorNew,\n    VueInputTag,\n    IconQuestion,\n    MaterialTypeCascade,\n  },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n    },\n  },\n  setup(props, { root }) {\n    const materialGoods = ref<any>({\n      materialsTechnology: [],\n      applicableProductLine: [],\n      designContent: [],\n      surfaceTechnics: [],\n    });\n\n    // 类别节点数组\n    const categoryArr = ref<any[]>([]);\n    // 获取分类信息\n    const parentIds = ref<string[]>([]);\n\n    const typeCascade = ref(null);\n\n    // 材料种类\n    const materialsTechnologyList = ref<MaterialsTechnology[]>([]);\n    // 表面工艺\n    const surfaceTechnicsList = ref<SurfaceTechnics[]>([]);\n\n    // 图案内容\n    const designContentList = designContent;\n    // 适用产品线\n    const applicableProductLineList = applicableProductLine;\n\n    watch(() => props.material, async (v) => {\n      materialGoods.value = {\n        materialName: v.materialName,\n        samplePrice: v.samplePrice,\n        samplePriceUnit: v.samplePriceUnit,\n        samplePriceNumber: v.samplePriceNumber,\n        tags: v.tags.map(tag => tag.tag),\n        category: v.category || '',\n        materialsTechnology: v.materialsTechnology ? v.materialsTechnology.split(',') : [],\n        applicableProductLine: v.applicableProductLine ? v.applicableProductLine.split(',') : [],\n        designContent: v.designContent ? v.designContent.split(',') : [],\n        surfaceTechnics: v.surfaceTechnics ? v.surfaceTechnics.split(',') : [],\n      };\n\n      if (props.material.category) {\n        const res = await fetchMaterialDetail(props.material.category);\n        parentIds.value = [...res.parentIds.slice(), props.material.category];\n      }\n    });\n    const refsForm = ref<ElForm>(null);\n    // 检测表单是否通过校验\n    function checkFormValidation() {\n      // if (typeof (refsForm.value as any).validate === 'function') {\n      //   (refsForm.value as any).validate((valid: boolean) => {\n      //     emit('update:saveDisabled', !valid);\n      //   });\n      // }\n    }\n\n    // 提交表单（外部调用）\n    async function validateForm() {\n      Object.keys(materialGoods.value).forEach((prop) => {\n        if (typeof materialGoods.value[prop] === 'string') {\n          materialGoods.value[prop] = materialGoods.value[prop].trim();\n        }\n      });\n      const formData = JSON.parse(JSON.stringify(materialGoods.value));\n      const pickedKeys = ['designContent', 'applicableProductLine', 'surfaceTechnics', 'materialsTechnology'] as const;\n\n      pickedKeys.forEach(k => {\n        console.info(k);\n        console.info(materialGoods.value[k]);\n        formData[k] = materialGoods.value[k].join();\n      });\n      try {\n        if (refsForm.value) {\n          await validateFormFields(refsForm.value);\n          // emit('validate', materialGoods.value);\n        }\n        return formData;\n      } catch (err) {\n        // console.warn(err);\n        root.$errorHandler(err);\n        return undefined;\n      }\n    }\n\n    watch(() => categoryArr.value, async (v: any[], oldV) => {\n      if (v[1].name === oldV[1]?.name) return;\n      materialsTechnologyList.value = categoryName2MaterialsTechnology[v[1].name as '织物' | '人造革' | '真皮'];\n      surfaceTechnicsList.value = categoryName2surfaceTechnics[v[1].name as '织物' | '人造革' | '真皮'];\n      if (oldV.length > 0) {\n        materialGoods.value.materialsTechnology = [];\n        materialGoods.value.surfaceTechnics = [];\n      }\n    });\n\n\n    return {\n      materialGoods,\n      rules: materialFromRules,\n      refsForm,\n\n      checkFormValidation,\n      validateForm,\n\n      parentIds,\n      categoryArr,\n      typeCascade,\n      materialsTechnologyList,\n      surfaceTechnicsList,\n      designContentList,\n      applicableProductLineList,\n      arrayTranslate,\n    };\n  },\n});\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GoodsInfo.vue?vue&type=template&id=e05a100c&scoped=true&\"\nimport script from \"./GoodsInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./GoodsInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GoodsInfo.vue?vue&type=style&index=0&id=e05a100c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e05a100c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}