{"version":3,"sources":["webpack:///./src/components/dynamic-form/uploader/UploaderFile.vue?7679","webpack:///./src/components/dynamic-form/uploader/UploaderFile.vue","webpack:///./src/components/dynamic-form/Uploader.vue","webpack:///./src/components/dynamic-form/uploader/UploaderFile.vue?aba4","webpack:///./src/components/dynamic-form/uploader/UploaderFile.vue?7515","webpack:///./src/components/dynamic-form/Uploader.vue?19f3","webpack:///./src/components/dynamic-form/Uploader.vue?b0be","webpack:///./src/components/dynamic-form/Uploader.vue?8fd5","webpack:///./src/assets/img/order/file-icon.png","webpack:///./node_modules/@4dst-saas/public-utils/dist/jsx-utils.js"],"names":["staticRenderFns","singleFile","props","item","type","Object","default","File","required","disable","Boolean","downloadable","showSize","render","s","this","width","minWidth","height","marginLeft","background","backgroundSize","position","fontSize","right","top","transform","opacity","cursor","$emit","backgroundColor","borderRadius","bottom","color","fontWeight","textOverflow","whiteSpace","overflow","textAlign","name","size","toFixed","component","uploadedFiles","Array","uploadImmediately","showSingleUploadProgress","showDownloadAll","maxSize","Number","defualtUploadArea","border","lineHeight","margin","i18n","t","maxsize","length","handleClickDownload","status","uploadPercentage","filesCount","computedSize","files","target","$act","handleResolveFiles","$refs","uploadInput","click","handler","event","stopPropagation","preventDefault","dataTransfer","a","$slots","wait4Upload","maxWidth","marginTop","transition","map","file","index","handleDeleteUploadedFile","downloadByURL","url","handleDeleteWait4Upload","setup","uploadPromiseQueue","showUploader","document","createElement","download","hasSearch","includes","prefix","href","encodeURIComponent","i","filesSize","reduce","acc","cur","value","n","u","h","uploadMessage","percentage","speed","style","class","display","verticalAlign","attrs","title","marginRight","isImage","types","eachType","indexOf","typeChecker","judgeUploadable","Error","count","accumulator","MAX_FILE_SIZE","forEach","currentUploadFiles","currentTotalSize","totalLoaded","handleUploadFiles","onUpload","_","loaded","_total","progress","lastLoaded","now","Date","lastTime","speedNum","unit","speedStr","Math","floor","notification","currentFile","$forceUpdate","sourceType","res","duration","message","send","body","close","key","path","push","splice","uploadProcess","Promise","resolve","reject","then","catch","err","newFilesSize","find","module","exports","_interopRequireDefault","defineProperty","decorate","sync","self","prevent","stop","_defineProperty2","_keys","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","source","getOwnPropertyDescriptors","defineProperties","defaultDecorators","fn","decorators","undefined","currentTarget","_len","args","_key","call","concat","generateWrapper","defaultWrapperDecorators","wrapper","_decorators","k","vm","propKeys","propObjKeys","isArray","memo","_memo","propKey","on","v"],"mappings":"kHAAA,W,8LCAI,EAAQA,ECAR,EAAQ,E,sMCSNC,EAAa,6BAAgB,CACjCC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,kBAAMC,MACfC,UAAU,GAEZC,QAAS,CACPL,KAAMM,QACNJ,SAAS,GAEXK,aAAc,CACZP,KAAMM,QACNJ,SAAS,GAEXM,SAAU,CACRR,KAAMM,QACNJ,SAAS,IAGbO,OApBiC,WAoB3B,mBACEC,EAAIC,KACV,sBAEU,qEAFV,MAGW,CACLC,MAAO,QACPC,SAAU,QACVC,OAAQ,OACRC,WAAY,SAPlB,gBASiB,gBATjB,MASwC,CAChCH,MAAO,OACPE,OAAQ,OACRE,WAAY,OAAF,OAAS,EAAQ,QAAjB,eACVC,eAAgB,QAChBC,SAAU,aAdlB,wCAgBmBR,EAAEL,UAhBrB,MAgBoC,mCAhBpC,MAgB8E,CACpEc,SAAU,OACVD,SAAU,WACVE,MAAO,EACPC,IAAK,EACLC,UAAW,gBACXC,QAAS,GACTC,OAAQ,WAvBlB,UAwBoB,WACVd,EAAEe,MAAM,mBAzBlB,sCA+BkBf,EAAEH,eA/BpB,MA+BwC,2BA/BxC,MA+B0E,CAChEK,MAAO,OACPE,OAAQ,OACRY,gBAAiB,OACjBC,aAAc,MACdT,SAAU,WACVE,MAAO,EACPQ,OAAQ,EACRL,QAAS,GACTC,OAAQ,UACRK,MAAO,QAzCjB,UA0CoB,WACVnB,EAAEe,MAAM,eA3ClB,cAgDoB,CACRN,SAAU,OACVW,WAAY,KAlDxB,MAmDmB,4BAnDnB,eAsDkB,CACVC,aAAc,WACdnB,MAAO,OACPoB,WAAY,SACZC,SAAU,SACVC,UAAW,WA3DnB,CA4DUxB,EAAEX,KAAKoC,OA5DjB,wCA6DkBzB,EAAEF,YA7DpB,CA8DS,IAAUE,EAAEX,KAAKqC,MAAM,GAAGC,QAAQ,GAAI,IAAU3B,EAAEX,KAAKqC,MAAM,UAM3D,ICnG6Z,I,wBHQxaE,EAAY,eACd,EACA,EACA1C,GACA,EACA,KACA,WACA,MAIa,EAAA0C,E,QIYT,EAAW,6BAAgB,CAC/BxC,MAAO,CACLyC,cAAe,CACbvC,KAAMwC,MACNtC,QAAS,iBAAM,KAEjBG,QAAS,CACPL,KAAMM,QACNJ,SAAS,GAEXuC,kBAAmB,CACjBzC,KAAMM,QACNJ,SAAS,GAEXwC,yBAA0B,CACxB1C,KAAMM,QACNJ,SAAS,GAEXyC,gBAAiB,CACf3C,KAAMM,QACNJ,SAAS,GAEX0C,QAAS,CACP5C,KAAM6C,OACN3C,QAAS,KAGbO,OA3B+B,WA2BzB,mBACEC,EAAIC,KAEJmC,EAAoB,EAAH,aAAc,0BAAd,MAA+C,CACpEhC,OAAQ,QACRF,MAAO,SACPmC,OAAQ,qBACRpB,aAAc,MACdqB,WAAY,OACZxB,OAAQ,YANa,gBAQV,cARU,MAQW,CAC9BZ,MAAO,OACPE,OAAQ,OACRY,gBAAiB,0BACjBC,aAAc,MACdsB,OAAQ,SAbW,cAeT,CACR9B,SAAU,OACVU,MAAO,WAjBU,MAkBV,qCAlBU,eAoBV,aApBU,CAoBGqB,EAAA,KAAQC,EAAE,sCApBb,eAqBV,aArBU,KAqBID,EAAA,KAAQC,EAAE,oCArBd,qBAsBV,aAtBU,CAuBlBD,EAAA,KAAQC,EAAE,sCAvBQ,gBAwBP,aAxBO,CAwBMD,EAAA,KAAQC,EAAE,wCAxBhB,IAyBZD,EAAA,KAAQC,EAAE,sCAzBE,gBA0BP,aA1BO,CA0BMD,EAAA,KAAQC,EAAE,qCAAsC,CAAEC,QAAS1C,EAAEkC,YA1BnE,IA2BZM,EAAA,KAAQC,EAAE,0CAMrB,sBACa,WADb,gBAMe,2CANf,MAMiE,CAC3DjC,SAAU,WACVG,IAAK,QACLD,MAAO,IATb,gBAWiB,uBAXjB,MAW+C,CACvCD,SAAU,SAZlB,yCAcoBT,EAAEiC,iBAAmBjC,EAAE6B,cAAcc,SAdzD,MAcwE,CAC9D7B,OAAQ,UACRK,MAAO,WAhBjB,UAiBoBnB,EAAE4C,sBAjBtB,kBAiBqD,wBAjBrD,IAiBiFJ,EAAA,KAAQC,EAAE,wCAjB3F,SAoByB,IAAbzC,EAAE6C,OAAe,KACA,IAAb7C,EAAE6C,OAAF,eACa,wBADb,WAESL,EAAA,KAAQC,EAAE,8CAFnB,uBAGsB,CAClBvC,MAAO,SAJX,kBAKiBF,EAAE8C,sBAEJ,IAAb9C,EAAE6C,OAAF,eACc,CAAE1B,MAAO,YADvB,cAEW,eACRqB,EAAA,KAAQC,EAAE,8CAEE,IAAbzC,EAAE6C,OAAF,eACc,CAAE1B,MAAO,YADvB,cAEW,sBACRqB,EAAA,KAAQC,EAAE,2CACJ,OArC7B,gBAwCoB,YAxCpB,MAwCuC,CAAEF,OAAQ,UAxCjD,uBAyCqB,6CAzCrB,iBA0CwB,YA1CxB,aA0C0C,UA1C1C,KA0CyDvC,EAAE+C,iBA1C3D,gBA6CoB,aA7CpB,uBA8CqB,2CA9CrB,iBA+CwB,YA/CxB,aA+C0C,SA/C1C,KA+CwD/C,EAAEgD,eA/C1D,mCAuDgB,OAvDhB,OAuD8B,IAvD9B,2BAuDsD,cAvDtD,WAwDgB,gBACIC,EADJ,EACNC,OAAUD,MADJ,OAELjD,EAAEmD,KAAKnD,EAAEoD,mBAAoB,CAAC,eAAIH,SA1D7C,4BA8DqB,SA9DrB,gBA+DkB,CAAEnC,OAAQ,WA/D5B,UAgEiB,kBAAOd,EAAEqD,MAAMC,YAAiCC,SAhEjE,SAkEoB,aAAQC,QAlE5B,KAmEgB,SACNC,GAEAA,EAAMC,kBACND,EAAME,iBACN3D,EAAEmD,KAAKnD,EAAEoD,mBAAoB,CAAC,eAAIK,EAAMG,aAAcX,WAxEhE,KAiEa,UAjEb,oBAiEmC,CAAEY,EAAG,OAjExC,CA2EU7D,EAAE8D,OAAOtE,QACLQ,EAAE8D,OAAOtE,QACT4C,MA7Ed,uCAqFepC,EAAE6B,cAAcc,QAAU3C,EAAE+D,YAAYpB,SArFvD,MAqFqE,OArFrE,MAqFmF,CAC7EzC,MAAO,OACP8D,SAAU,SACVzC,SAAU,SACV0C,UAAW,OACXC,WAAY,gBA1FlB,CA6FQlE,EAAE6B,cAAcsC,KAAI,SAACC,EAAMC,GAAP,kBAAsC,CAAEhE,WAAagE,EAAY,OAAJ,GAA7D,YACZ,CAAE5C,KAAM2C,EAAK3C,KAAMC,KAAM0C,EAAK1C,MADlB,QAET1B,EAAEL,QAFO,UAKR,GALQ,uBAGD0E,GAHC,kBAIH,kBAAMrE,EAAEsE,yBAAyBD,IAJ9B,SAMN,WACVrE,EAAEuE,cACAvE,EAAE6B,cAAcwC,GAAOG,IAAKxE,EAAE6B,cAAcwC,GAAO5C,aAMzDzB,EAAE+D,YAAYI,KAAI,SAACC,EAAMC,GAAP,kBAAsC,CACtDhE,WAAcgE,GAAUrE,EAAE6B,cAAcc,OAAc,OAAJ,GADlC,YAET,CAAElB,KAAM2C,EAAK3C,KAAMC,KAAM0C,EAAK1C,MAFrB,cAE2C,EAF3C,QAKP1B,EAAE+B,mBAA+B,IAAVsC,EALhB,UAMN,GANM,0BAGIA,GAHJ,kBAOD,kBAAMrE,EAAEyE,wBAAwBJ,eAQ3DK,MAzL+B,SAyLzBtF,GAEJ,IAAIuF,EAA2C,KACzCC,EAAe,uBAAS,kBAAMxF,EAAMyC,cAAcc,OAAS,KAHxD,SAIM4B,EAJN,kGAIT,WAA6BC,EAAa/C,GAA1C,IAAAoC,EAAA,wFACQA,EAAIgB,SAASC,cAAc,KACjCjB,EAAEkB,SAAWtD,EACPuD,EAAYR,EAAIS,SAAS,KACzBC,EAASF,EAAY,IAAM,KAC7B,eAAcR,GALpB,gBAMIX,EAAEsB,KAAF,UAAYX,GAAZ,OAAkBU,EAAlB,wCAAwDE,mBAAmB,uBAAD,OAAwB3D,KANtG,2BAOa,eAAS+C,GAPtB,kCAQmB,eAAQ,GAAD,OAAIA,GAAJ,OAAUU,EAAV,wCAAgDE,mBAAmB,uBAAD,OAAwB3D,MARpH,QAQIoC,EAAEsB,KARN,+BAUItB,EAAEsB,KAAOX,EAVb,QAYEX,EAAEX,OAAS,SACXW,EAAEN,QAbJ,4CAJS,iCAmBMX,IAnBN,6FAmBT,sGACWyC,EAAI,EADf,YACkBA,EAAIjG,EAAMyC,cAAcc,QAD1C,wBAEUtD,EAAOD,EAAMyC,cAAcwD,GAFrC,SAGUd,EAAclF,EAAKmF,IAAKnF,EAAKoC,MAHvC,uBAIU,IAAM,KAJhB,OACkD4D,IADlD,2DAnBS,wBA0BT,IAAMtC,EAAa,iBAAI3D,EAAMyC,cAAcc,QAAU,GAE/C2C,EAAY,iBAAIlG,EAAMyC,cAAc0D,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,EAAI/D,OAAM,IAAM,GAC/EsB,EAAe,uBAAS,WAAK,MAClB,IAAUsC,EAAUI,OADF,sBAC1BC,EAD0B,KACvBC,EADuB,KAEjC,OAAKD,GAAMC,EACX,UAAUD,EAAEhE,QAAQ,IAApB,OAAyBiE,GADJ,OAGjB9C,EAAmB,iBAAI,GAEvB+C,EAAI,OACV,SAASC,EAAc1B,GAA0C,IAA9B2B,EAA8B,uDAAjB,EAAGC,EAAc,uDAAN,OACzD,OAAOH,EAAE,MAAO,CACdA,EAAE,MAAO,CACPI,MAAO,CACL1D,OAAQ,eAET,CACDsD,EAAE,OAAQ,CACRK,MAAO,QACPD,MAAO,CACLE,QAAS,eACT7E,WAAY,SACZ0C,SAAU,QACV3C,aAAc,WACdE,SAAU,SACV6E,cAAe,UAEjBC,MAAO,CACLC,MAAOlC,EAAK3C,OAEb2C,EAAK3C,MACRoE,EAAE,QAAS,CACTI,MAAO,CACLE,QAAS,eAAgBjG,MAAO,OAAQqG,YAAa,MAAOH,cAAe,SAAU5E,UAAW,UAEjGwE,KAELH,EAAE,cAAe,CAAEzG,MAAO,CAAE2G,cAAcE,MAAO,CAAEM,YAAa,aAGpE,SAASC,EAAQlH,GAGf,IAFA,IAAMmH,EAAQ,CAAC,MAAO,OAAQ,MAAO,MAAO,OAE5C,MAAuBA,EAAvB,eAA8B,CAAzB,IAAMC,EAAQ,KACjB,GAAIpH,EAAKqH,QAAQD,GAAW,OAAO,EAErC,OAAO,EAET,SAASE,EAAYtH,GACnB,OAAIkH,EAAQlH,GAAc,EACnB,EAET,IAAMyE,EAAc,iBAAY,IAEhC,SAAS8C,EAAgB5D,GAEvB,GAAIA,EAAMN,OAASoB,EAAY2B,MAAM/C,OAASvD,EAAMyC,cAAcc,OAAS,EACzE,MAAM,IAAImE,MAAM,gBAElB,IAAIC,EAAQ3H,EAAMyC,cAAc0D,QAAO,SACrCyB,EAAqB3H,GADgB,OAElC2H,EAAc3H,EAAKqC,OAAM,GAC9BqF,GAAShD,EAAY2B,MAAMH,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,EAAI/D,OAAM,GAChE,IAAMuF,EAAgC,KAAhB7H,EAAM8C,QAAiB,KAE7Ce,EAAMiE,SAAQ,SAAA9C,GAEZ,GADA2C,GAAS3C,EAAK1C,KACVqF,EAAQE,EACV,MAAM,IAAIH,MAAJ,mBAAsB1H,EAAM8C,QAA5B,UAOZ,IA2EIiF,EA3EAC,EAAmB,EAEnBC,EAAc,EAxGT,SAyGMC,IAzGN,6FAyGT,2BASWC,EATX,oGASWA,EATX,SASoBC,EAAQC,EAAgBC,EAAgBC,GACxD,GAAIF,EAASG,EAAY,CACvB,IAAMC,EAAMC,KAAKD,MACX7B,GAAUyB,EAASG,IAAeC,EAAME,GAAa,IAFpC,EAGE,IAAU/B,GAHZ,sBAGhBgC,EAHgB,KAGNC,EAHM,KAIjBC,EAAW,GAAH,OAAMF,EAASrG,QAAQ,IAAvB,OAA4BsG,EAA5B,OACRxF,EAA6B,KAAxB4E,EAAcI,GAEzB3E,EAAiB4C,MAAQyC,KAAKC,MAAM3F,EAAI2E,GAEpChI,EAAM4C,2BACRqG,EAAavE,OAAOtE,QAAU,CAC5BsG,EAAcwC,EAAaH,KAAKC,MAAiB,IAAXT,GAAiBO,IAEzDG,EAAaE,gBAEfX,EAAaH,EACbM,EAAWF,IAzBf/E,EAAiB4C,MAAQ,EAD3B,SAEQ,IAAM,KAFd,OAGQ8C,EAAa,0BACfT,EAAWD,KAAKD,MAChBD,EAAa,EACjBP,EAAc,EANhB,WA8BStD,EAAY2B,MAAM/C,OA9B3B,wBA+BQ8F,OA/BR,EAgCUrE,EAAOL,EAAY2B,MAAM,GAC/B4C,EAAclE,EACdiE,EAAe,0BAAa,CAC1B7H,SAAU,cACVkI,SAAU,EACVpC,MAAO,QACPqC,QAAS7C,EAAc1B,KAtC7B,UAyCMwD,EAAa,EAzCnB,UA0CmB,OAAYgB,KAAK,CAC5BJ,aACAK,KAAMzE,EACNmD,SAAU,sBAAS,IAAKA,KA7ChC,QA0CMkB,EA1CN,OA+CMpB,GAAejD,EAAK1C,KACpB2G,EAAaS,QAhDnB,yDAoDMT,EAAaS,QACkB,oBAA1B,KAAcH,QArDzB,uBAsDc,IAAI7B,MAAM,wBAtDxB,cAwDc,IAAIA,MAAM,QAxDxB,UA2D+B2B,EAAnBM,EA3DZ,EA2DYA,IAAKC,EA3DjB,EA2DiBA,KAAMxE,EA3DvB,EA2DuBA,IACnBpF,EAAMyC,cAAcoH,KAAK,CACvBF,MACAC,OACAxE,MACA9C,KAAM0C,EAAK1C,KACXD,KAAM2C,EAAK3C,KACXnC,KAAMsH,EAAYxC,EAAK9E,QAEzByE,EAAY2B,MAAMwD,OAAOnF,EAAY2B,MAAMiB,QAAQvC,GAAO,GApE9D,0EAzGS,wBAmLT,IAAMvB,EAAS,iBAAI,GAMnB,SAASsG,IAAuC,IAAzBlG,EAAyB,uDAAjBc,EAAY2B,MACzC,OAAO,IAAI0D,SAAQ,SAACC,EAASC,GAEtB3E,EAsBH0E,IArBKpG,EAAMN,QAGTwE,EAAqB,eAAIlE,GACzB0B,EAAqB2C,IACrBzE,EAAO6C,MAAQ,EACff,EAAmB4E,MAAK,WACtBpC,EAAqB,GACrBtE,EAAO6C,MAAQ,EACf0B,EAAmB,EACnBzC,EAAqB,KACrB0E,OACCG,OAAM,SAAAC,GACP5G,EAAO6C,MAAQ,EACff,EAAqB,KACrB2E,EAAOG,OAfQJ,OA7LhB,SAuNMjG,EAvNN,gGAuNT,WAAkCH,GAAlC,qGAESA,EAAMN,OAFf,iDAGIkE,EAAgB5D,IAEhB,EAAAc,EAAY2B,OAAMuD,KAAlB,uBAA0BhG,IAEpByG,EAAezG,EAAMsC,QAAO,SAACC,EAAKpB,GAAN,OAAeoB,EAAMpB,EAAK1C,OAAM,GAElE0F,GAAoBsC,EAEpBpE,EAAUI,OAASgE,EACnB3G,EAAW2C,OAASzC,EAAMN,OAEtBvD,EAAM2C,mBACRoH,EAAclG,GAfpB,qDAkBI,eAAW,EAAD,IAlBd,0DAvNS,wBA6OT,SAASwB,EAAwBJ,GAC/B,IAAMnB,EAASa,EAAY2B,MAAMwD,OAAO7E,EAAO,GAAG,GAClDiB,EAAUI,OAASxC,EAAOxB,KAC1BqB,EAAW2C,OAAS,EAEhBf,IACFyC,GAAoBlE,EAAOxB,MAG/B,SAAS4C,EAAyBD,GAChC,IAAMnB,EAAS9D,EAAMyC,cAAcqH,OAAO7E,EAAO,GAAG,GACpDiB,EAAUI,OAASxC,EAAOxB,KAC1BqB,EAAW2C,OAAS,EAHyB,IAIrCjE,EAAeyB,EAAfzB,KAAMC,EAASwB,EAATxB,KAIVyF,EAAmBwC,MAAK,SAAAvF,GAAI,OAAIA,EAAK3C,OAASA,GAAQ2C,EAAK1C,OAASA,OACtE0F,GAAoBlE,EAAOxB,KAC3B2F,GAAenE,EAAOxB,MAG1B,MAAO,CACLmB,SACAkB,cACAa,eACAU,YACAvC,aACAC,eACAF,mBAEAF,sBACA6B,0BACAH,2BACAgD,oBACAlE,qBACA+F,gBACA5E,oBAIS,IC9euY,IJQlZ,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,S,6CKnBf,W,qBCAAqF,EAAOC,QAAU,s/J,kCCEjB,IAAIC,EAAyB,EAAQ,QAErC,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAERvK,OAAOwK,eAAeF,EAAS,aAAc,CAC3CnE,OAAO,IAETmE,EAAQG,SAAWA,EACnBH,EAAQI,KAAOA,EACfJ,EAAQK,KAAOL,EAAQM,QAAUN,EAAQO,UAAO,EAEhD,IAAIC,EAAmBP,EAAuB,EAAQ,SAElDQ,EAAQ,EAAQ,QAEpB,SAASC,EAAQC,EAAQC,GAAkB,IAAIC,EAAOnL,OAAOmL,KAAKF,GAAS,GAAIjL,OAAOoL,sBAAuB,CAAE,IAAIC,EAAUrL,OAAOoL,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOvL,OAAOwL,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKzB,KAAKgC,MAAMP,EAAME,GAAY,OAAOF,EAE9U,SAASQ,EAAchI,GAAU,IAAK,IAAImC,EAAI,EAAGA,EAAI8F,UAAUxI,OAAQ0C,IAAK,CAAE,IAAI+F,EAAyB,MAAhBD,UAAU9F,GAAa8F,UAAU9F,GAAK,GAAQA,EAAI,EAAKkF,EAAQhL,OAAO6L,IAAS,GAAMlE,SAAQ,SAAU6B,IAAO,EAAIsB,EAAiB7K,SAAS0D,EAAQ6F,EAAKqC,EAAOrC,OAAsBxJ,OAAO8L,0BAA6B9L,OAAO+L,iBAAiBpI,EAAQ3D,OAAO8L,0BAA0BD,IAAmBb,EAAQhL,OAAO6L,IAASlE,SAAQ,SAAU6B,GAAOxJ,OAAOwK,eAAe7G,EAAQ6F,EAAKxJ,OAAOwL,yBAAyBK,EAAQrC,OAAe,OAAO7F,EAE3hB,IAAIqI,EAAoB,CACtBnB,MAAM,EACND,SAAS,EACTD,MAAM,GAGR,SAASF,EAASwB,GAChB,IAAIC,EAAaN,UAAUxI,OAAS,QAAsB+I,IAAjBP,UAAU,GAAmBA,UAAU,GAAKI,EACjFnB,EAAOqB,EAAWrB,KAClBD,EAAUsB,EAAWtB,QACrBD,EAAOuB,EAAWvB,KACtB,OAAO,SAAiBzG,GAStB,GARI0G,GACF1G,EAAME,iBAGJyG,GACF3G,EAAMC,kBAGJ8H,KAAQtB,GAAQzG,EAAMP,SAAWO,EAAMkI,eAAgB,CACzD,IAAK,IAAIC,EAAOT,UAAUxI,OAAQkJ,EAAO,IAAI/J,MAAM8J,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAClGD,EAAKC,EAAO,GAAKX,UAAUW,GAG7B,OAAON,EAAGO,KAAKd,MAAMO,EAAI,CAACvL,KAAMwD,GAAOuI,OAAOH,MAOpD,IAAII,EAAkB,SAASA,EAAgBC,GAC7C,IAAIC,EAAU,SAASA,EAAQX,GAC7B,IAAIC,EAAaN,UAAUxI,OAAS,QAAsB+I,IAAjBP,UAAU,GAAmBA,UAAU,GAAKe,EAEjFE,EAAclB,EAAcA,EAAc,GAAIK,GAAoBE,GAElEjI,EAAUwG,EAASwB,EAAIY,GAM3B,OALA,EAAI9B,EAAMI,MAAMa,GAAmBrE,SAAQ,SAAUmF,GAC7CA,KAAKD,IACT5I,EAAQ6I,GAAKF,EAAQX,EAAIN,EAAcA,EAAc,GAAIkB,GAAc,IAAI,EAAI/B,EAAiB7K,SAAS,GAAI6M,GAAG,SAG7G7I,GAST,OANA,EAAI8G,EAAMI,MAAMa,GAAmBrE,SAAQ,SAAUmF,GAC7CA,KAAKH,IACTC,EAAQE,GAAKJ,EAAgBf,EAAcA,EAAc,GAAIgB,GAA2B,IAAI,EAAI7B,EAAiB7K,SAAS,GAAI6M,GAAG,SAGrIF,EAAQ3I,QAAU2I,IACXA,GAGL/B,EAAO6B,EAAgB,CACzB7B,MAAM,IAERP,EAAQO,KAAOA,EACf,IAAID,EAAU8B,EAAgB,CAC5B9B,SAAS,IAEXN,EAAQM,QAAUA,EAClB,IAAID,EAAO+B,EAAgB,CACzB/B,MAAM,IAIR,SAASD,EAAKqC,EAAIC,GAChB,IAAIC,EAWJ,OAREA,EADE1K,MAAM2K,QAAQF,GACFA,EAAShH,QAAO,SAAUmH,EAAMrN,GAE5C,OADAqN,EAAKrN,GAAQA,EACNqN,IACN,IAEWH,EAGThN,OAAOmL,KAAK8B,GAAajH,QAAO,SAAUoH,EAAO5D,GACtD,IAAI6D,EAAUJ,EAAYzD,GAO1B,OANA4D,EAAMvN,MAAM2J,GAAOuD,EAAGM,GAEtBD,EAAME,GAAG,UAAUb,OAAOjD,IAAQ,SAAU+D,GAC1CR,EAAGM,GAAWE,GAGTH,IACN,CACDE,GAAI,GACJzN,MAAO,KAzBXyK,EAAQK,KAAOA,G","file":"js/chunk-7285150c.93b221b6.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploaderFile.vue?vue&type=style&index=0&id=64a9dd21&scoped=true&lang=scss&\"","var render, staticRenderFns\nimport script from \"./UploaderFile.vue?vue&type=script&lang=tsx&\"\nexport * from \"./UploaderFile.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./UploaderFile.vue?vue&type=style&index=0&id=64a9dd21&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64a9dd21\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./Uploader.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Uploader.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./Uploader.vue?vue&type=style&index=0&id=1d59229a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d59229a\",\n  null\n  \n)\n\nexport default component.exports","\nimport { defineComponent } from '@vue/composition-api';\nimport splitUnit from '_/split-unit';\n\ntype IFile = {\n  name: string,\n  size: number,\n};\n\nconst singleFile = defineComponent({\n  props: {\n    item: {\n      type: Object as () => IFile,\n      default: () => File as unknown as IFile,\n      required: true,\n    },\n    disable: {\n      type: Boolean,\n      default: false,\n    },\n    downloadable: {\n      type: Boolean,\n      default: true,\n    },\n    showSize: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render() {\n    const s = this as InstanceType<typeof singleFile>;\n    return (\n      <div\n        class='item-container flex-column flex-vertical-center flex-space-between'\n        style={{\n          width: '104px',\n          minWidth: '104px',\n          height: '88px',\n          marginLeft: '43px',\n        }}>\n          <div class=\"image-wrapper\" style={{\n            width: '68px',\n            height: '70px',\n            background: `url(${require('@/assets/img/order/file-icon.png')}) no-repeat`,\n            backgroundSize: 'cover',\n            position: 'relative',\n          }}>\n            <i vShow={!s.disable} class='el-icon-circle-plus icon-wrapper' style={{\n              fontSize: '23px',\n              position: 'absolute',\n              right: 0,\n              top: 0,\n              transform: 'rotate(45deg)',\n              opacity: 0.5,\n              cursor: 'pointer',\n            }} onclick={() => {\n              s.$emit('delete-file');\n              // const target = s.uploadedFiles.splice(index, 1)[0];\n              // s.filesSize -= target.size;\n              // s.filesCount -= 1;\n            }}></i>\n\n            <i vShow={s.downloadable} class='flex-center icon-wrapper' style={{\n              width: '20px',\n              height: '20px',\n              backgroundColor: '#333',\n              borderRadius: '50%',\n              position: 'absolute',\n              right: 0,\n              bottom: 0,\n              opacity: 0.5,\n              cursor: 'pointer',\n              color: '#fff',\n            }} onclick={() => {\n              s.$emit('download');\n            //   s.downloadByURL(\n            //   s.uploadedFiles[index].url, s.uploadedFiles[index].name,\n            // )\n            }}>\n              <i style={{\n                fontSize: '10px',\n                fontWeight: 700,\n              }} class='iconfont iconxiazai'></i>\n            </i>\n          </div>\n          <div style={{\n            textOverflow: 'ellipsis',\n            width: '100%',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textAlign: 'center',\n          }}>{s.item.name}</div>\n          <div vShow={s.showSize}>\n            {splitUnit(s.item.size)[0].toFixed(2)}{splitUnit(s.item.size)[1]}\n          </div>\n        </div>\n    );\n  },\n});\nexport default singleFile;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploaderFile.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploaderFile.vue?vue&type=script&lang=tsx&\"","\n/* eslint-disable no-nested-ternary */\nimport OSSUploader from '@/utils/oss/uploader';\nimport {\n  defineComponent, ref, computed,\n} from '@vue/composition-api';\nimport createElement from '@/utils/create-element';\nimport { VNode } from 'vue';\nimport { throttle } from 'throttle-debounce';\nimport { Notification } from 'element-ui';\nimport { ElNotificationComponent } from 'element-ui/types/notification';\nimport splitUnit from '_/split-unit';\nimport {\n  prevent,\n} from '_/jsx-utils';\nimport delay from '_/delay';\nimport i18next from '@/i18n';\nimport { signUrl, isOssUrl } from '../../utils/oss/utils';\nimport isDataPipeUrl from '../../utils/is-data-pipe-url';\nimport errHandler from '../../utils/error-handler';\nimport UploaderFile from './uploader/UploaderFile.vue';\n\nexport type UploadedFile = {\n  key: string,\n  size: number,\n  path: string,\n  name: string,\n  url: string,\n  type?: number,\n};\n\nconst uploader = defineComponent({\n  props: {\n    uploadedFiles: {\n      type: Array as () => UploadedFile[],\n      default: () => [] as UploadedFile[],\n    },\n    disable: {\n      type: Boolean,\n      default: false,\n    },\n    uploadImmediately: {\n      type: Boolean,\n      default: true,\n    },\n    showSingleUploadProgress: {\n      type: Boolean,\n      default: true,\n    },\n    showDownloadAll: {\n      type: Boolean,\n      default: true,\n    },\n    maxSize: {\n      type: Number,\n      default: 50,\n    },\n  },\n  render() {\n    const s = this as InstanceType<typeof uploader>;\n\n    const defualtUploadArea = <div class=\"flex-column flex-center\" style={{\n      height: '185px',\n      width: '1140px',\n      border: '2px dashed #bdc3cb',\n      borderRadius: '4px',\n      lineHeight: '20px',\n      cursor: 'pointer',\n    }}>\n      <div class='flex-center' style={{\n        width: '68px',\n        height: '68px',\n        backgroundColor: 'rgba(41, 131, 255, 0.1)',\n        borderRadius: '50%',\n        margin: '12px',\n      }}>\n        <i style={{\n          fontSize: '24px',\n          color: '#2878ff',\n        }} class=\"iconfont iconxiangshangjiantou\"></i>\n      </div>\n      <div class='color-666'>{i18next.t('order_management.uploader.desc_1')}</div>\n      <div class='color-999'>（{i18next.t('order_management.uploader.desc_2')}）</div>\n      <div class='color-999'>\n        {i18next.t('order_management.uploader.desc_3_1')}\n        <span class='color-666'>{i18next.t('order_management.uploader.desc_3_2')}</span>，\n              {i18next.t('order_management.uploader.desc_3_3')}\n        <span class='color-666'>{i18next.t('order_management.uploader.desc_3_4', { maxsize: s.maxSize })}</span>，\n              {i18next.t('order_management.uploader.desc_3_5')}\n      </div>\n    </div>;\n\n    // const h = createElement;\n\n    return (\n      <div class=\"wrapper\">\n\n        {\n          // 下载按钮\n        }\n        <div class=\"flex-vertical-center tooltip-bar-wrapper\" style={{\n          position: 'absolute',\n          top: '-20px',\n          right: 0,\n        }}>\n          <div class='flex-vertical-center' style={{\n            fontSize: '12px',\n          }}>\n            <div vShow={s.showDownloadAll && s.uploadedFiles.length} style={{\n              cursor: 'pointer',\n              color: '#2979ff',\n            }} onclick={s.handleClickDownload}> <i class='iconfont iconxiazai'></i> {i18next.t('order_management.uploader.download')}</div>\n            <div>\n              {\n                s.status === 0 ? null\n                  : s.status === 1\n                    ? <div class=\"flex-vertical-center\">\n                      <span>{i18next.t('order_management.uploader.upload_process')}</span>\n                      <el-progress style={{\n                        width: '150px',\n                      }} percentage={s.uploadPercentage}></el-progress>\n                    </div>\n                    : s.status === 2\n                      ? <div style={{ color: '#27c21d' }}>\n                        <i class=\"i-wancheng\"></i>\n                        {i18next.t('order_management.uploader.upload_success')}\n                      </div>\n                      : s.status === 3\n                        ? <div style={{ color: '#f54747' }}>\n                          <i class=\"i-fangong-loukong\"></i>\n                          {i18next.t('order_management.uploader.upload_fail')}\n                        </div> : null\n              }\n            </div>\n            <span class='color-999' style={{ margin: '0 8px' }}>\n              <i18n path=\"order_management.attachments.file_number\">\n                <span class='color-333' place=\"count\">&nbsp;{s.filesCount}</span>\n              </i18n>\n            </span>\n            <span class='color-999'>\n              <i18n path=\"order_management.attachments.file_size\">\n                <span class='color-333' place=\"size\">&nbsp;{s.computedSize}</span>&nbsp;\n              </i18n>\n            </span>\n          </div>\n\n\n        </div>\n\n        <input type=\"file\" accept=\"*\" multiple hidden ref='uploadInput'\n          onchange={(\n            { target: { files } }: { target: { files: FileList } },\n          ) => s.$act(s.handleResolveFiles, [[...files]])} />\n        {\n          // uploader区域\n        }\n        <transition name='fade'>\n          <div style={{ cursor: 'pointer' }}\n            onclick={() => (s.$refs.uploadInput as HTMLInputElement).click()}\n            slot='default' slot-scope={{ a: 222 }}\n            ondragover={prevent.handler}\n            ondrop={(\n              event: DragEvent,\n            ) => {\n              event.stopPropagation();\n              event.preventDefault();\n              s.$act(s.handleResolveFiles, [[...event.dataTransfer!.files]]);\n            }}>\n            {\n              s.$slots.default\n                ? s.$slots.default\n                : defualtUploadArea\n            }\n          </div>\n        </transition>\n\n        {\n          // 已上传的文件列表\n        }\n        <ul vShow={s.uploadedFiles.length || s.wait4Upload.length} class=\"flex\" style={{\n          width: '100%',\n          maxWidth: '1140px',\n          overflow: 'hidden',\n          marginTop: '20px',\n          transition: 'all 1s ease',\n        }}>\n          {\n            s.uploadedFiles.map((file, index) => <UploaderFile style={{ marginLeft: !index ? 0 : '43px' }}\n              item={{ name: file.name, size: file.size }}\n              disable={s.disable}\n              key={`uploaded-${index}`}\n              ondelete-file={() => s.handleDeleteUploadedFile(index)}\n              showSize={false}\n              ondownload={() => {\n                s.downloadByURL(\n                  s.uploadedFiles[index].url, s.uploadedFiles[index].name,\n                );\n              }}\n            />)\n          }\n          {\n            s.wait4Upload.map((file, index) => <UploaderFile style={{\n              marginLeft: (!index && !s.uploadedFiles.length) ? 0 : '43px',\n            }} item={{ name: file.name, size: file.size }} downloadable={false}\n              key={`wait4upload-${index}`}\n              /** 正在上传的文件要禁用防止删除。当立刻上传时第一个未上传文件是正在上传文件 */\n              disable={s.uploadImmediately && index === 0}\n              showSize={false}\n              ondelete-file={() => s.handleDeleteWait4Upload(index)}>\n            </UploaderFile>)\n          }\n        </ul>\n\n      </div>\n    );\n  },\n  setup(props) {\n    /** eslint-disable-next-line 用于判断是否处于上传过程中 */\n    let uploadPromiseQueue: Promise<void> | null = null;\n    const showUploader = computed(() => props.uploadedFiles.length < 8);\n    async function downloadByURL(url: string, name: string) {\n      const a = document.createElement('a');\n      a.download = name;\n      const hasSearch = url.includes('?');\n      const prefix = hasSearch ? '&' : '?';\n      if (isDataPipeUrl(url)) {\n        a.href = `${url}${prefix}response-content-disposition=${encodeURIComponent(`attachment;filename=${name}`)}`;\n      } else if (isOssUrl(url)) {\n        a.href = await signUrl(`${url}${prefix}response-content-disposition=${encodeURIComponent(`attachment;filename=${name}`)}`);\n      } else {\n        a.href = url;\n      }\n      a.target = '_blank';\n      a.click();\n    }\n    async function handleClickDownload() {\n      for (let i = 0; i < props.uploadedFiles.length; i++) {\n        const item = props.uploadedFiles[i];\n        await downloadByURL(item.url, item.name);\n        await delay(300);\n      }\n    }\n    const filesCount = ref(props.uploadedFiles.length || 0);\n    // 所有要上传、已上传文件大小总和\n    const filesSize = ref(props.uploadedFiles.reduce((acc, cur) => acc + cur.size, 0) || 0);\n    const computedSize = computed(() => {\n      const [n, u] = splitUnit(filesSize.value);\n      if (!n || !u) return '0';\n      return `${n.toFixed(2)}${u}`;\n    });\n    const uploadPercentage = ref(0);\n\n    const h = createElement;\n    function uploadMessage(file: File, percentage = 0, speed = '0b/s') {\n      return h('div', [\n        h('div', {\n          style: {\n            margin: '10px 0 5px',\n          },\n        }, [\n          h('span', {\n            class: 'title',\n            style: {\n              display: 'inline-block',\n              whiteSpace: 'nowrap',\n              maxWidth: '208px',\n              textOverflow: 'ellipsis',\n              overflow: 'hidden',\n              verticalAlign: 'bottom',\n            },\n            attrs: {\n              title: file.name,\n            },\n          }, file.name),\n          h('small', {\n            style: {\n              display: 'inline-block', width: '50px', marginRight: '5px', verticalAlign: 'bottom', textAlign: 'right',\n            },\n          }, speed),\n        ]),\n        h('el-progress', { props: { percentage }, style: { marginRight: '-10px' } }),\n      ]);\n    }\n    function isImage(type: string) {\n      const types = ['jpg', 'jpeg', 'png', 'svg', 'gif'];\n      // eslint-disable-next-line no-restricted-syntax\n      for (const eachType of types) {\n        if (type.indexOf(eachType)) return true;\n      }\n      return false;\n    }\n    function typeChecker(type: string) {\n      if (isImage(type)) return 1;\n      return 2;\n    }\n    const wait4Upload = ref<File[]>([]);\n\n    function judgeUploadable(files: File[]) {\n      // 判断大小和个数，确定是否允许上传\n      if (files.length + wait4Upload.value.length + props.uploadedFiles.length > 8) {\n        throw new Error('附件数量不得多于8个文件');\n      }\n      let count = props.uploadedFiles.reduce((\n        accumulator: number, item: { size: number },\n      ) => accumulator + item.size, 0);\n      count += wait4Upload.value.reduce((acc, cur) => acc + cur.size, 0);\n      const MAX_FILE_SIZE = props.maxSize * 1024 * 1024;\n\n      files.forEach(file => {\n        count += file.size;\n        if (count > MAX_FILE_SIZE) {\n          throw new Error(`附件大小总共应小于${props.maxSize}MB`);\n        }\n      });\n    }\n\n\n    // 当次上传文件大小总和（包括未上传+已上传）\n    let currentTotalSize = 0;\n    // 当次已上传文件大小总和\n    let totalLoaded = 0;\n    async function handleUploadFiles() {\n      uploadPercentage.value = 0;\n      await delay(100);\n      const sourceType = 'OPERATION_PLATFORM_FILE';\n      let lastTime = Date.now();\n      let lastLoaded = 0;\n      totalLoaded = 0;\n      let notification: ElNotificationComponent;\n      let currentFile: File;\n      function onUpload(_: any, loaded: number, _total: number, progress: number) {\n        if (loaded - lastLoaded) {\n          const now = Date.now();\n          const speed = ((loaded - lastLoaded) / (now - lastTime)) * 1000;\n          const [speedNum, unit] = splitUnit(speed);\n          const speedStr = `${speedNum.toFixed(2)}${unit}b/s`;\n          const t = (totalLoaded + loaded) * 100;\n          // 更新整体的进度条\n          uploadPercentage.value = Math.floor(t / currentTotalSize);\n          // 更新单个文件的进度条\n          if (props.showSingleUploadProgress) {\n            notification.$slots.default = [\n              uploadMessage(currentFile, Math.floor(progress * 100), speedStr),\n            ];\n            notification.$forceUpdate();\n          }\n          lastLoaded = loaded;\n          lastTime = now;\n        }\n      }\n\n      while (wait4Upload.value.length) {\n        let res;\n        const file = wait4Upload.value[0];\n        currentFile = file;\n        notification = Notification({\n          position: 'bottom-left',\n          duration: 0,\n          title: '文件上传中',\n          message: uploadMessage(file),\n        });\n        try {\n          lastLoaded = 0;\n          res = (await OSSUploader.send({\n            sourceType,\n            body: file,\n            onUpload: throttle(100, onUpload),\n          }));\n          totalLoaded += file.size;\n          notification.close();\n        } catch (err) {\n          // filesSize.value -= file.size;\n          // filesCount.value -= 1;\n          notification.close();\n          if ((err as Error).message === 'load file error') {\n            throw new Error('读取失败，请确保选择的是文件而不是文件夹');\n          } else {\n            throw new Error('网络错误');\n          }\n        }\n        const { key, path, url } = res;\n        props.uploadedFiles.push({\n          key,\n          path,\n          url,\n          size: file.size,\n          name: file.name,\n          type: typeChecker(file.type),\n        });\n        wait4Upload.value.splice(wait4Upload.value.indexOf(file), 1);\n      }\n    }\n\n    let currentUploadFiles: File[];\n    // 0:默认 1:上传中 2：成功 3：失败\n    const status = ref(0);\n\n    /**\n     * 内部调用时，需传递当次新增文件\n     * 外部调用时可不传，此时外部必须设置uploadImmediately=false，否则会出问题\n     */\n    function uploadProcess(files = wait4Upload.value) {\n      return new Promise((resolve, reject) => {\n        // 判断是否在上传，防止重复调用，确保只有一个上传过程在进行\n        if (!uploadPromiseQueue) {\n          if (!files.length) resolve();\n          else {\n            // 记录当次上传文件的备份，用于判断删除已上传文件时，是否在当次上传文件列表里，从而决定是否刷新进度条\n            currentUploadFiles = [...files];\n            uploadPromiseQueue = handleUploadFiles();\n            status.value = 1;\n            uploadPromiseQueue.then(() => {\n              currentUploadFiles = [];\n              status.value = 2;\n              currentTotalSize = 0;\n              uploadPromiseQueue = null;\n              resolve();\n            }).catch(err => {\n              status.value = 3;\n              uploadPromiseQueue = null;\n              reject(err);\n            });\n          }\n        } else {\n          // 因为追加了文件，所以增加当次上传的文件总大小\n          // currentTotalSize += files.reduce((acc, cur) => acc + cur.size, 0);\n          resolve();\n        }\n      });\n    }\n\n    async function handleResolveFiles(files: File[]) {\n      try {\n        if (!files.length) return;\n        judgeUploadable(files);\n\n        wait4Upload.value.push(...files);\n\n        const newFilesSize = files.reduce((acc, file) => acc + file.size, 0);\n        // 当次待上传文件总大小\n        currentTotalSize += newFilesSize;\n        // 待上传+已上传总大小\n        filesSize.value += newFilesSize;\n        filesCount.value += files.length;\n\n        if (props.uploadImmediately) {\n          uploadProcess(files);\n        }\n      } catch (e) {\n        errHandler(e);\n      }\n    }\n\n    function handleDeleteWait4Upload(index: number) {\n      const target = wait4Upload.value.splice(index, 1)[0];\n      filesSize.value -= target.size;\n      filesCount.value -= 1;\n      // 若当前正在上传，减少当前需要上传的文件总大小\n      if (uploadPromiseQueue) {\n        currentTotalSize -= target.size;\n      }\n    }\n    function handleDeleteUploadedFile(index: number) {\n      const target = props.uploadedFiles.splice(index, 1)[0];\n      filesSize.value -= target.size;\n      filesCount.value -= 1;\n      const { name, size } = target;\n      /** 若已删除文件在当次上传文件列表中\n       * 则还需更新当次上传文件列表总大小和已上传大小\n      */\n      if (currentUploadFiles.find(file => file.name === name && file.size === size)) {\n        currentTotalSize -= target.size;\n        totalLoaded -= target.size;\n      }\n    }\n    return {\n      status,\n      wait4Upload,\n      showUploader,\n      filesSize,\n      filesCount,\n      computedSize,\n      uploadPercentage,\n\n      handleClickDownload,\n      handleDeleteWait4Upload,\n      handleDeleteUploadedFile,\n      handleUploadFiles,\n      handleResolveFiles,\n      uploadProcess,\n      downloadByURL,\n    };\n  },\n});\nexport default uploader;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=style&index=0&id=1d59229a&scoped=true&lang=scss&\"","module.exports = \"data:image/png;base64,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\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.reduce\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decorate = decorate;\nexports.sync = sync;\nexports.self = exports.prevent = exports.stop = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _keys = require(\"./keys\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultDecorators = {\n  stop: false,\n  prevent: false,\n  self: false\n};\n\nfunction decorate(fn) {\n  var decorators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultDecorators;\n  var stop = decorators.stop,\n      prevent = decorators.prevent,\n      self = decorators.self;\n  return function handler(event) {\n    if (prevent) {\n      event.preventDefault();\n    }\n\n    if (stop) {\n      event.stopPropagation();\n    }\n\n    if (fn && (!self || event.target === event.currentTarget)) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return fn.call.apply(fn, [this, event].concat(args));\n    }\n\n    return undefined;\n  };\n}\n\nvar generateWrapper = function generateWrapper(defaultWrapperDecorators) {\n  var wrapper = function wrapper(fn) {\n    var decorators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultWrapperDecorators;\n\n    var _decorators = _objectSpread(_objectSpread({}, defaultDecorators), decorators);\n\n    var handler = decorate(fn, _decorators);\n    (0, _keys.keys)(defaultDecorators).forEach(function (k) {\n      if (!(k in _decorators)) {\n        handler[k] = wrapper(fn, _objectSpread(_objectSpread({}, _decorators), {}, (0, _defineProperty2.default)({}, k, true)));\n      }\n    });\n    return handler;\n  };\n\n  (0, _keys.keys)(defaultDecorators).forEach(function (k) {\n    if (!(k in defaultWrapperDecorators)) {\n      wrapper[k] = generateWrapper(_objectSpread(_objectSpread({}, defaultWrapperDecorators), {}, (0, _defineProperty2.default)({}, k, true)));\n    }\n  });\n  wrapper.handler = wrapper();\n  return wrapper;\n};\n\nvar stop = generateWrapper({\n  stop: true\n});\nexports.stop = stop;\nvar prevent = generateWrapper({\n  prevent: true\n});\nexports.prevent = prevent;\nvar self = generateWrapper({\n  self: true\n});\nexports.self = self;\n\nfunction sync(vm, propKeys) {\n  var propObjKeys;\n\n  if (Array.isArray(propKeys)) {\n    propObjKeys = propKeys.reduce(function (memo, item) {\n      memo[item] = item;\n      return memo;\n    }, {});\n  } else {\n    propObjKeys = propKeys;\n  }\n\n  return Object.keys(propObjKeys).reduce(function (_memo, key) {\n    var propKey = propObjKeys[key];\n    _memo.props[key] = vm[propKey];\n\n    _memo.on[\"update:\".concat(key)] = function (v) {\n      vm[propKey] = v;\n    };\n\n    return _memo;\n  }, {\n    on: {},\n    props: {}\n  });\n}"],"sourceRoot":""}