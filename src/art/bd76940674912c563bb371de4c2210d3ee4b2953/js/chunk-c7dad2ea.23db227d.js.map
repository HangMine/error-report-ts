{"version":3,"sources":["webpack:///./src/components/base/User.vue?bd5d","webpack:///./src/views/material/info-anta/MaterialInfoPrint.vue?f0d9","webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/index.js","webpack:///./src/assets/img/material/scale.png","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/utils/oss/uploadToOSS.js","webpack:///./src/views/material/info-anta/MaterialInfoPrint.vue?b944","webpack:///./src/views/material/info-anta/MaterialInfoPrint.vue?4bb0","webpack:///./src/views/material/info-anta/MaterialInfoPrint.vue?b194","webpack:///./src/views/material/info-anta/MaterialInfoPrint.vue","webpack:///./src/components/base/User.vue?c91f","webpack:///src/components/base/User.vue","webpack:///./src/components/base/User.vue?9762","webpack:///./src/components/base/User.vue","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?2438","webpack:///./src/components/upload/UploadVideo.vue?1d6e","webpack:///./src/components/video/VideoPlayerForLocal.vue?9ab4","webpack:///src/components/video/VideoPlayerForLocal.vue","webpack:///./src/components/video/VideoPlayerForLocal.vue?6468","webpack:///./src/components/video/VideoPlayerForLocal.vue","webpack:///src/components/upload/UploadVideo.vue","webpack:///./src/components/upload/UploadVideo.vue?621d","webpack:///./src/components/upload/UploadVideo.vue","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?04bd","webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/SelectType2.js","webpack:///./src/components/layout/SelectableBox.vue?3b46","webpack:///./src/components/layout/SelectableBox.vue?0ce8","webpack:///./src/components/layout/SelectableBox.vue?df78","webpack:///./src/components/layout/SelectableBox.vue","webpack:///./src/components/icon/IconQuestion.vue?212e","webpack:///src/components/icon/IconQuestion.vue","webpack:///./src/components/icon/IconQuestion.vue?116e","webpack:///./src/components/icon/IconQuestion.vue","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?5e02","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?a17a","webpack:///./src/components/SupplierPriceList.vue?1e04","webpack:///./src/views/material/info-anta/MaterialInfoPrint.vue?2ca5","webpack:///./src/components/changelog/index.vue?00f8","webpack:///./src/api/account.js","webpack:///./src/components/icon/IconMagnify.vue?a6b9","webpack:///src/components/icon/IconMagnify.vue","webpack:///./src/components/icon/IconMagnify.vue?683a","webpack:///./src/components/icon/IconMagnify.vue","webpack:///./src/views/material/info-anta/components/UnitField.vue?e2b6","webpack:///./src/components/icon/IconQuestion.vue?5172","webpack:///./src/components/MaterialTypeCascade.vue?cd35","webpack:///./src/components/MaterialTypeCascade.vue?16f2","webpack:///./src/components/MaterialTypeCascade.vue?3409","webpack:///./src/components/MaterialTypeCascade.vue","webpack:///./node_modules/@4dst-saas/public-utils/dist/difference.js","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?6906","webpack:///./node_modules/vue-intersect/dist/index.js","webpack:///./src/views/material/info-anta/index.vue?c868","webpack:///./src/components/upload/UploadVideo.vue?3c14","webpack:///./src/components/icon/IconMagnify.vue?4087","webpack:///./src/assets/img/header/default_avatar.png","webpack:///./src/components/changelog/index.vue?8fb3","webpack:///./src/components/SupplierPriceList.vue?db6d","webpack:///./src/components/SupplierPriceList.vue?9e87","webpack:///./src/components/SupplierPriceList.vue?7e70","webpack:///./src/components/SupplierPriceList.vue","webpack:///./src/components/changelog/property.ts","webpack:///./src/components/changelog/materialType.ts","webpack:///./src/components/changelog/index.vue?3c54","webpack:///./src/components/changelog/index.vue?72a1","webpack:///./src/components/changelog/index.vue","webpack:///./src/components/layout/SelectableBox.vue?dba0","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?d5af","webpack:///./src/views/material/info-anta/components/Form.vue?62b0","webpack:///./src/utils/key-serializer.ts","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?6a18","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/utils.ts","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?203f","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?3b9b","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue","webpack:///./src/views/material/info-anta/components/FormComponents/PriceFormItem.tsx","webpack:///./src/views/material/info-anta/components/FormComponents/SupplierSelect.tsx","webpack:///./src/components/dynamic-form/AntaMiddleClass2Form.tsx","webpack:///./src/views/material/info-anta/components/detail-validate.ts","webpack:///./src/views/material/info-anta/components/Form.vue?2a28","webpack:///./src/views/material/info-anta/components/Form.vue?4a4a","webpack:///./src/views/material/info-anta/components/Form.vue","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?cee6","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?6eeb","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?6de5","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue","webpack:///./src/components/video/VideoPlayerForLocal.vue?afca","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?f686","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?e635","webpack:///./src/views/material/info-anta/components/Form.vue?4614","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-closest.js","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?00dc","webpack:///./src/utils/public.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/utils/i18n-material-type.ts","webpack:///./src/assets/img/file-list/material-default.png","webpack:///./src/views/material/info-anta/index.vue?ccc3","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?f606","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?1857","webpack:///./src/views/material/info-anta/components/UnitField.vue?4e1c","webpack:///src/views/material/info-anta/components/UnitField.vue","webpack:///./src/views/material/info-anta/components/UnitField.vue?950e","webpack:///./src/views/material/info-anta/components/UnitField.vue","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?d466","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?8e56","webpack:///./src/views/material/info-anta/components/FromFieldText.vue","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?9fcf","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?9f81","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?8c76","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?2965","webpack:///src/views/material/info-anta/components/ModelsSelector.vue","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?183c","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?d53f","webpack:///src/views/material/info-anta/components/AttachmentImage.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?fb0b","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?107f","webpack:///src/views/material/info-anta/components/AttachmentVideo.vue","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?7b6a","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?fb88","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?3de1","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?a798","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?fdc7","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?eb6d","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?0bff","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?9533","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?b28c","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?3f12","webpack:///src/views/material/info-anta/components/TimeInfo.vue","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?b596","webpack:///./src/views/material/info-anta/components/TimeInfo.vue","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?56da","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?2252","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?0a31","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue","webpack:///./src/views/material/info-anta/index.vue?940a","webpack:///./src/views/material/info-anta/index.vue?124a","webpack:///./src/views/material/info-anta/index.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?410c","webpack:///./src/loaders/supplier.ts","webpack:///./src/components/anta-customer-files/customJsonschema.ts","webpack:///./src/components/anta-customer-files/attribute.ts","webpack:///./src/assets/img/public/records-empty.png","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?7aa6","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?b841","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?4eaf"],"names":["_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","exports","value","enumerable","get","_JSONschema2Type","default","_IntegerType","_JSONschema","_NumberType","_SelectType","MultipleSeleteType","_SelectType2","_StringType","_default","module","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defaultOptions","initialValue","undefined","loadingValue","oldValue","useLoader","loader","oldWatcher","params","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","ref","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","watch","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","this","immediate","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","uploadToOSS","blobOrDataUrl","sourceType","onUpload","body","isDataUrl","dataUrl2Blob","OSSUploader","send","render","_vm","_h","$createElement","_c","_self","staticStyle","_b","staticClass","attrs","on","loadedHandle","$attrs","staticRenderFns","name","components","MaterialInfo","setup","props","context","window","matchMedia","mediaQueryList","addListener","mql","matches","close","material","setTimeout","exec","materialName","print","component","class","size","_t","userImage","$scopedSlots","_v","_s","user","account","email","mail","BaseImage","computed","headImg","avatar","icon","_l","file","width","height","disabled","$event","handleDeleteFile","handlePreviewImage","url","refInFor","fileList","max","multiple","accept","maxSize","handleUploadFile","style","$t","_e","sourceUrl","autoplay","type","String","required","Boolean","UploadArea","DeletableBox","urls","Array","Number","data","handler","arr","map","methods","isArray","files","slice","$emit","splice","_formatFileItem","URL","createObjectURL","_typeof2","_default2","defineComponent","builder","subbuilder","valueKey","labelKey","options","val","model","prop","event","_this","h","isObject","n","op","index","selected","selectedStatus","stopPropagation","toggleSelectedStatus","IconMagnify","emit","_g","activeStatus","$listeners","registerAccount","axiosEncrypt","method","headers","token","applyAccountForTrial","axios","subscribeOurWebsite","getUserInfo","getUsersInfoByIds","_userIds","userIds","from","Set","id","fill","res","users","fromEntries","updateUserInfo","updateUserPasswordByVerificatioCode","createPaidSubaccount","fetchGroupMembers","keyword","groupAppId","createVirtualAccount","ApiConnectAccount","searchUsersToAdd","list","showClearable","cascaderProps","handleChange","scopedSlots","_u","fn","label","strictMode","maxLevel","checkStrictly","expandTrigger","businessType","cascader","getChildren","level","leaf","subCount","initOptionList","children","result","item","find","j","checkedNodes","nodes","getCheckedNodes","pathNodes","lazy","lazyLoad","node","resolve","defaultList","ids","v","difference","a","b","aItem","findIndex","bItem","indexOf","include","warn","msg","config","silent","console","abstract","threshold","root","HTMLElement","rootMargin","mounted","observer","IntersectionObserver","entries","isIntersecting","$nextTick","$slots","observe","elm","destroyed","disconnect","messageList","message","itemName","newValue","isSupplier","showSupplierPrice","sidebar","isSidebar","showAll","border","scope","row","supplierStatus","dialogify","closeOnClickModal","flex","top","bottom","cache","properties","fetchProperties","getSelectionProperty","title","p","values","findValue","property","placeholder","includes","join","materialTypes","origin","supplierName","material_number","category","season","brand","old_material_number","material_specification","weight","unit","available_area","ingredient","yarn_proportion","reference_price","supplier_price","color_limit_type","color_limit_remark","sample_moq","production_moq","post_treatment_process","acceptable_temperature","development_livecycle","production_livecycle","special_restrictions","shoemaking_risks","compound_way","dyeing_finishing","daily_production_capacity","detection_number","evergreen","PU_layer_composition","natural_leather_oil_proportion","volume","remark","plm","product_line","function","trend","season_lib","cost","supplier_price_array","approve_detail","materialType","fetchSupplierAll","colorList","1","2","3","approveStatus","4","form","SupplierPriceList","formList","changeLogRef","JSON","parse","oldForm","newForm","evergreenList","log","offsetWidth","isDifferent","stringify","findTypeItem","itemValue","handleSupplierName","supplier","originalSupplierName","handleCostLikeData","priceUnitList","fetchSupplierPriceArr","current","reference_price_value","reference_price_unit","cost_value","cost_unit","supplier_name","handleSupplierPriceArr","supplierList","referencePrice","supplier_status","getPriceUnit","oldKeys","newKeys","Promise","all","allSupplierList","priceUnits","propertyList","messages","approve_status","year","info","newMaterial","rules","status","isQt","updateInfo","categoryArr","callback","$$v","parentIds","expression","setJsonschemaFormItem","canEdit","middleCategoryId","propertyFromTemplate","str","split","trim","substr","query","createdTarget","shift","prototype","hasOwnProperty","call","set","directives","rawName","handlerFilter","handleVisable","currentValue","isDelete","_map","0","currentYear","afterYears","_","beforeYears","years","chunks","helper","getCombines","productTypes","seasons","combines","_combine","reduce","obj","cur","allOptions","prevOptions","OPTIONS_LIMIT","getFilterList","lableStr","filters","slices","getInitFilterList","labelStr","requied","ElFormItem","refs","emptyValue","state","value2CurrenValue","stringifyValue","objVal","品牌","currentValue2Value","init","initLableStr","isShow","PriceFormItem","reuqired","e","SupplierSelect","SeasonSelect","MaterialTypeCascade","middleClassId","formData","validateDropdownItemImmediatly","jsonschemaListHander","Function","showValidateButton","notHasTemplate","j2f","jsonschema","propertylist","Error","sort","lastResult","pList","propertyItem","isSystem","propertyId","jssList","attribute","formRef","_jss","_form","formKeys","shouldHandleKeys","shouldFetchList","jss","oneOf","anyOf","constList","const","notFounds","founds","validate","extraProperty","materialId","language","fetchMaterialDetail","fetchDefaultUnitId","AntaMiddleClass2Form","templateMaterialId","isCreator","host","templateForm","refsForm","typeCascade","updateData","oldMaterial","maxLength","filterable","materialNumberIndex","categoryIndex","costIndex","evergreenIndex","addOperateToRecord","count","_propertyFromTemplate","firstSupplier","delete_status","_newMaterial","omitList","_p","priceItem","diffPriceCount","oldPriceItem","relateId","originalId","replace","getFormData","formMatarialData","bigType","midType","大类","中类","material_status","success","errorMsg","imgJson","renderingJson","fileInfo","companyId","$set","$el","offsetHeight","$route","path","onmousewheel","className","deltaY","temp","sup","templateMaterial","declineRecord","code","slot","_f","gmtCreateTime","getDeclineRecord","showClose","records","creator","userInfos","rec","useClosest","_vueClosest","componentName","closest","blockDragEffect","DOM","dropzoneId","loopAncestorNode","dom","counter","currentNode","parentElement","attachEvent","draggable","preventDefault","dataTransfer","effectAllowed","dropEffect","addEventListener","$","addToUnscopables","proto","translateCategoryName","categoryName","t","backOperate","isHistoryComponent","toOperateHistory","showDeclineRecord","contentStyle","currentComponent","swipers","thumbIndex","envs","VUE_APP_COOPERATION","handleUpload4ddat","tag","entryAppType","saveBtnDisabled","getMaterialInfoById","loading","creatorName","modifierName","gmtModifyTime","printAsPDF","editable","$act","updateMaterial","field","units","content","UnitField","showPlaceHolder","fetchMiddleCategoryId","FormFielText","fields","attachFields","supplier_price_obj","extraList","dynamicFormData","$errorHandler","deep","materialCopy","assetsInfo","handlePreview","changeModel","cover","currentId","SelectableBox","ModelPurePreviewer","_generateModelData","localStorage","setItem","models","modelIds","$closest","paths","changeImage","UploadWithPreviewer","IconQuestion","changeVideo","UploadVideo","cursor","choseImg","remove","previewImage","key2Name","thumbnail","flat","texture","UploadImgJson","selectedFils","imgList","$ImageViewer","show","srcList","targetElems","uploadImgJson","bucketList","newImgJson","Form","ModelsSelector","AttachmentImage","AttachmentVideo","$errHandler","$message","emptyImgJson","some","save","modelsSelector","getSelectResult","modelCover","attachmentImage","getImageOssPaths","images","attachmentVideo","getVideoOssPaths","videos","uploadArea","initialIndex","newIndex","imageType","previewModel","VideoPlayer","swiperList","tyep","$Dialog","carousel","acc","src","rulerSetting","rulerHeight","dpi","activeIndex","previewVideo","is","sourceURL","fullscreen","center","modelId","mode","carouselSetActiveItem","setActiveItem","parent","_m","modifier","uploaded","updated","dayOperateList","day","operateList","loadMore","getUsersObj","usersObj","handleOperateList","operate","format","dayOperate","inheritAttrs","Intersect","BaseUser","changelog","empty","pageSize","defaultState","pageLoading","pageNumber","hasMore","showLoadMore","resetLoading","setDayOperateList","isLoadMore","noPadding","closeWith","ComponentPreviewDetail","ComponentEditDetail","MaterialCarousel","TimeInfo","MaterialOperateHistory","DeclineRecord","materialDynamicComp","_getSwiperObj","mat","img","materialOrigin","toString","userName","userNames","$injectDialog","routeUrl","$router","nativeHost","openWin","href","open","workspaceId","fetchSupplierNotBound","toFixed","clearable","getCategoryName","fetchSupplierName","attribute2JSONschema","itemOrList","JSONschemaList","attr","customJsonschema","av","$id","validator","JSONschemaList2JSONschema","useSort","wrapper","pre","antaMiddleClassIdAndFormData2TransformedFormDataList","setColorLimitType","colorLimitType","extractList","propertiesSortList","Math","abs","referenceUnit","costUnit","wait4FetchValue","labels","concat","l","jsonschema2FormItemValidatorObject","validatorObject","validatorKeys","valueList"],"mappings":"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","file":"js/chunk-c7dad2ea.23db227d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialInfoPrint.vue?vue&type=style&index=0&media=print&lang=css&\"","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"JSONschema2Type\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema2Type.default;\n  }\n});\nObject.defineProperty(exports, \"IntegerType\", {\n  enumerable: true,\n  get: function get() {\n    return _IntegerType.default;\n  }\n});\nObject.defineProperty(exports, \"JSONschema\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema.default;\n  }\n});\nObject.defineProperty(exports, \"NumberType\", {\n  enumerable: true,\n  get: function get() {\n    return _NumberType.default;\n  }\n});\nObject.defineProperty(exports, \"SelectType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.default;\n  }\n});\nObject.defineProperty(exports, \"MultipleSeleteType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.MultipleSeleteType;\n  }\n});\nObject.defineProperty(exports, \"SelectType2\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType2.default;\n  }\n});\nObject.defineProperty(exports, \"StringType\", {\n  enumerable: true,\n  get: function get() {\n    return _StringType.default;\n  }\n});\nexports.default = void 0;\n\nvar _JSONschema2Type = _interopRequireDefault(require(\"./JSONschema2Type\"));\n\nvar _IntegerType = _interopRequireDefault(require(\"./IntegerType\"));\n\nvar _JSONschema = _interopRequireDefault(require(\"./JSONschema\"));\n\nvar _NumberType = _interopRequireDefault(require(\"./NumberType\"));\n\nvar _SelectType = _interopRequireWildcard(require(\"./SelectType\"));\n\nvar _SelectType2 = _interopRequireDefault(require(\"./SelectType2\"));\n\nvar _StringType = _interopRequireDefault(require(\"./StringType\"));\n\nvar _default = _JSONschema2Type.default;\nexports.default = _default;","module.exports = __webpack_public_path__ + \"img/scale.1568bf34.png\";","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","import { OSSUploader } from '@/utils/oss/uploader';\nimport isDataUrl from '_/is-data-url';\nimport { dataUrl2Blob } from '_/blob-utils';\n\n/**\n *\n * @param {Blob|string} blobOrDataUrl 一个dataUrl或者Blob对象（包括File）\n * @param {string} [sourceType] 资源类型 - @see {@link http://api.4dshoetech.com/project/61/interface/api/4387}\n * @param {(event: unknown,\n    fileLoaded: number,\n    fileSize: number,\n    process: number,\n    options: ComputedUploaderOptions<Params, Query>\n  ) => any} [onUpload] 上传进度 - 具体自己看结果或者源码\n * @return {Promise<string>}\n */\nconst uploadToOSS = async (blobOrDataUrl, sourceType, onUpload) => {\n  let body;\n  if (typeof blobOrDataUrl === 'string' && isDataUrl(blobOrDataUrl)) {\n    // 转化blob对象\n    body = dataUrl2Blob(blobOrDataUrl);\n  } else {\n    body = blobOrDataUrl;\n  }\n  // OSSUploader 会自动处理后缀名的问题，不需要额外的处理\n  // 上传到oss\n  /** @see {@link vscode://../from/a} */\n  const { key } = await OSSUploader.send({\n    sourceType,\n    body,\n    onUpload,\n  });\n\n  return key;\n};\n\nexport default uploadToOSS;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-top\":\"20px\"}},[_c('MaterialInfo',_vm._b({staticClass:\"material-info-page\",attrs:{\"thumbIndex\":1},on:{\"loaded\":_vm.loadedHandle}},'MaterialInfo',_vm.$attrs,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\nimport isQt from '@/utils/is-qt';\nimport exec, { getHost } from '@/utils/exec/index';\nimport MaterialInfo from './index.vue';\n\nexport default defineComponent({\n  name: 'MaterialInfoPrint',\n  components: {\n    MaterialInfo,\n  },\n  setup(props, context) {\n    // 返回一个新的 MediaQueryList 对象，表示指定的媒体查询字符串解析后的结果。\n    if (window.matchMedia) {\n      const mediaQueryList = window.matchMedia('print');\n      mediaQueryList.addListener(mql => {\n        if (mql.matches) {\n          // beforePrint();\n        } else {\n          // afterPrint();\n          window.close();\n        }\n      });\n    }\n    // window.onbeforeprint = beforePrint;\n    // window.onafterprint = afterPrint;\n\n    function loadedHandle(material) {\n      setTimeout(() => {\n        if (isQt()) {\n          exec('exportPdf', `${material?.materialName}.pdf` || '面料信息.pdf');\n        } else {\n          window.print();\n        }\n      }, 1000);\n    }\n    return {\n      loadedHandle,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialInfoPrint.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialInfoPrint.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialInfoPrint.vue?vue&type=template&id=78086a12&scoped=true&\"\nimport script from \"./MaterialInfoPrint.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialInfoPrint.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialInfoPrint.vue?vue&type=style&index=0&media=print&lang=css&\"\nimport style1 from \"./MaterialInfoPrint.vue?vue&type=style&index=1&id=78086a12&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78086a12\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\",class:(\"user-\" + _vm.size)},[_vm._t(\"avatar\",[_c('BaseImage',{staticClass:\"avatar\",attrs:{\"src\":_vm.userImage}})]),_c('div',{staticClass:\"content ellipsis\",class:{ 'ellipsis': !_vm.$scopedSlots.default }},[_vm._t(\"default\",[_vm._v(\" \"+_vm._s(_vm.user.account || _vm.user.email || _vm.user.mail || _vm.user.name)+\" \")])],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user\" :class=\"`user-${size}`\">\n    <slot name=\"avatar\">\n      <BaseImage class=\"avatar\" :src=\"userImage\"></BaseImage>\n    </slot>\n    <div class=\"content ellipsis\" :class=\"{ 'ellipsis': !$scopedSlots.default }\">\n      <slot>\n        {{ user.account || user.email || user.mail || user.name  }}\n      </slot>\n    </div>\n  </div>\n</template>\n<script>\nimport BaseImage from '@/components/base/Image';\n\nexport default {\n  components: {\n    BaseImage,\n  },\n  props: {\n    user: {},\n    size: { default: 'medium' },\n  },\n  computed: {\n    userImage() {\n      return this.user.headImg || this.user.avatar || this.user.icon || require('@/assets/img/header/default_avatar.png');\n    },\n  },\n\n};\n</script>\n<style lang=\"scss\" scoped>\n.user {\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n  &-medium {\n    .avatar {\n      width: 36px;\n      height: 36px;\n    }\n  }\n  &-small {\n    .avatar {\n      width: 28px;\n      height: 28px;\n    }\n  }\n  &-mini {\n    .avatar {\n      width: 24px;\n      height: 24px;\n    }\n  }\n  &-large {\n    .avatar {\n      width: 40px;\n      height: 40px;\n    }\n  }\n  .avatar {\n    border-radius: 50%;\n    background-color: #f5f5f5;\n    margin-right: 10px;\n  }\n  /deep/ .img-err {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    color: #909399;\n  }\n  .content {\n    flex: 1;\n  }\n  .ellipsis {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=09fce134&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09fce134\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=style&index=0&id=1048a648&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-width-previewer\"},[_c('ul',{staticClass:\"flex\"},_vm._l((_vm.fileList),function(file,i){return _c('li',{key:i,staticClass:\"file-list-item\"},[_c('DeletableBox',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"disabled\":_vm.disabled},on:{\"delete\":function($event){return _vm.handleDeleteFile(i)},\"preview\":function($event){return _vm.handlePreviewImage(file.url)}}},[_c('div',{staticClass:\"upload-video-item\"},[_c('video',{ref:\"videoPlayer\",refInFor:true,attrs:{\"src\":file.url,\"width\":\"100%\",\"height\":\"100%\"}}),_c('span',{staticClass:\"video-play-icon\"})])])],1)}),0),(_vm.fileList.length < _vm.max)?_c('UploadArea',{attrs:{\"multiple\":_vm.multiple,\"accept\":_vm.accept,\"max-size\":_vm.maxSize,\"disabled\":_vm.disabled},on:{\"upload\":_vm.handleUploadFile}},[_c('div',{staticClass:\"upload-area-box\",style:({ width: (_vm.width + \"px\"), height: (_vm.height + \"px\") })},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-container\"},[_c('video',{attrs:{\"src\":_vm.sourceUrl,\"autoplay\":_vm.autoplay,\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"video-container\">\n    <video\n      :src=\"sourceUrl\" :autoplay=\"autoplay\"\n      width=\"100%\" height=\"100%\" controls />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    sourceUrl: {\n      type: String,\n      required: true,\n    },\n    autoplay: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.video-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  background: #333;\n  // > video {\n  //   position: absolute;\n  //   width: 100%;\n  //   height: 100%;\n  //   z-index: 1;\n  //   top: 50%;\n  //   left: 50%;\n  //   transform: translate(-50%, -50%);\n  // }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoPlayerForLocal.vue?vue&type=template&id=411b2de4&scoped=true&\"\nimport script from \"./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoPlayerForLocal.vue?vue&type=style&index=0&id=411b2de4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"411b2de4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"upload-width-previewer\">\n    <!-- 展示文件框 -->\n    <ul class=\"flex\">\n      <li\n        v-for=\"(file, i) in fileList\"\n        :key=\"i\"\n        class=\"file-list-item\"\n      >\n        <DeletableBox\n          :width=\"width\"\n          :height=\"height\"\n          :disabled=\"disabled\"\n          @delete=\"handleDeleteFile(i)\"\n          @preview=\"handlePreviewImage(file.url)\"\n        >\n          <div class =\"upload-video-item\">\n            <video :src=\"file.url\" width=\"100%\" height=\"100%\" ref=\"videoPlayer\" />\n            <span class=\"video-play-icon\"></span>\n          </div>\n        </DeletableBox>\n      </li>\n    </ul>\n\n    <UploadArea\n      v-if=\"fileList.length < max\"\n      :multiple=\"multiple\"\n      :accept=\"accept\"\n      :max-size=\"maxSize\"\n      :disabled=\"disabled\"\n      @upload=\"handleUploadFile\"\n    >\n      <div\n        class=\"upload-area-box\"\n        :style=\"{ width: `${width}px`, height: `${height}px` }\"\n      >\n        <i class=\"iconfont icon-upload-cloud-o\" />\n        <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n      </div>\n    </UploadArea>\n  </div>\n</template>\n\n<script>\nimport UploadArea from '@/components/upload/index.vue';\nimport DeletableBox from '@/components/layout/DeletableBox.vue';\nimport VideoPlayerForLocal from '@/components/video/VideoPlayerForLocal.vue';\n\nexport default {\n  name: 'UploadWithPreviewer',\n  components: {\n    UploadArea,\n    DeletableBox,\n  },\n  props: {\n    urls: { // 图片集合\n      type: Array,\n      default: () => [],\n    },\n    width: {\n      type: Number,\n      default: 100,\n    },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    accept: {\n      type: String,\n      default: '',\n    },\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    maxSize: {\n      type: Number,\n      default: 100 * 1024 * 1024,\n    },\n    max: { // 上传文件最大数量\n      type: Number,\n      default: 1,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fileList: [],\n    };\n  },\n  watch: {\n    urls: {\n      handler(arr) {\n        this.fileList = arr.map(item => {\n          return { file: '', url: item };\n        });\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleUploadFile(files) {\n      if (!Array.isArray(files)) files = [files];\n      this.fileList.push(...files.map(file => this._formatFileItem(file)));\n      if (this.fileList.length >= this.max) {\n        this.fileList = this.fileList.slice(0, this.max);\n        // this.$message.warning(`最多上传${this.max}文件`);\n      }\n      this.$emit('change', this.fileList);\n    },\n    // 删除上传的图片\n    handleDeleteFile(i) {\n      this.fileList.splice(i, 1);\n      this.$emit('change', this.fileList);\n    },\n    // 处理放大图片功能\n    async handlePreviewImage(sourceUrl) {\n      await this.$Dialog.dialogify({\n        is: VideoPlayerForLocal,\n        props: {\n          sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    },\n    _formatFileItem(file) {\n      return {\n        file,\n        url: window.URL.createObjectURL(file),\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.file-item-image {\n  width: 100%;\n  height: 100%;\n}\n\n.upload-width-previewer {\n  display: flex;\n  align-items: center;\n  // flex-wrap: wrap;\n}\n\n.upload-area-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n    font-weight: 400;\n  }\n  .iconfont {\n    font-size: 25px;\n    font-weight: 500;\n  }\n}\n\n.upload-video-item {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  .video-play-icon {\n    position: absolute;\n    width: 34px;\n    height: 34px;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: rgba(0, 0, 0, 0.4);\n    border-radius: 50%;\n    &::after {\n      content: '';\n      position: absolute;\n      left: 13px;\n      top: 6px;\n      width: 0;\n      height: 0;\n      border: 10px solid transparent;\n      border-left-color: #fff;\n      border-radius: 4px;\n    }\n  }\n}\n\n.file-list-item {\n  margin-right: 10px;\n  border-radius: 4px;\n  overflow: hidden;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadVideo.vue?vue&type=template&id=b3f5c08a&scoped=true&\"\nimport script from \"./UploadVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadVideo.vue?vue&type=style&index=0&id=b3f5c08a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b3f5c08a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5aa64bef&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _default2 = (0, _compositionApi.defineComponent)({\n  name: 'SingleSeletor',\n  props: {\n    builder: {\n      type: String,\n      default: 'el-select'\n    },\n    subbuilder: {\n      type: String,\n      default: 'el-option'\n    },\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    options: {\n      type: Array,\n      default: function _default() {\n        return [1, 2, 3, 4, 5];\n      }\n    },\n    val: {\n      type: String,\n      default: ''\n    }\n  },\n  model: {\n    prop: 'val',\n    event: 'change'\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var isObject = (0, _typeof2.default)(this.options[0]) === 'object';\n    return h(this.builder, {\n      \"attrs\": _objectSpread({\n        \"value\": this.val\n      }, this.$attrs),\n      \"on\": {\n        \"change\": function change(n) {\n          _this.$emit('change', n);\n        }\n      }\n    }, [this.options.map( // @ts-ignore\n    function (op, index) {\n      return h(_this.subbuilder, {\n        \"attrs\": {\n          \"value\": isObject ? op[_this.valueKey] : op,\n          \"label\": isObject ? op[_this.labelKey] : op\n        },\n        \"key\": index\n      });\n    })]);\n  }\n});\n\nexports.default = _default2;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selected-previewer-box\",class:{ selected: _vm.selectedStatus },style:({ width: (_vm.width + \"px\"), height: (_vm.height + \"px\") }),on:{\"click\":function($event){return _vm.$emit('preview')}}},[_c('div',{staticClass:\"selected-previewer\",style:({ width: ((_vm.width - 2) + \"px\"), height: ((_vm.height - 2) + \"px\") })},[_vm._t(\"default\"),_c('i',{staticClass:\"iconfont\",class:[_vm.selectedStatus ? 'icon-tick-circle' : 'iconyuanxing',\n        _vm.disabled ? 'disabled' : ''\n      ],on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleSelectedStatus($event)}}}),_c('IconMagnify',{staticClass:\"icon-magnify-comp\"})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, watch } from '@vue/composition-api';\n\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'SelectedPreviewer',\n  components: { IconMagnify },\n  props: {\n    width: {\n      type: Number,\n      default: 100,\n    },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, { emit }) {\n    const selectedStatus = ref(false);\n\n    function toggleSelectedStatus() {\n      if (props.disabled) return;\n      selectedStatus.value = !selectedStatus.value;\n      emit('change', selectedStatus.value);\n    }\n\n    watch(() => props.selected, (val) => {\n      selectedStatus.value = val;\n    }, {\n      immediate: true,\n    });\n\n    return { selectedStatus, toggleSelectedStatus };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectableBox.vue?vue&type=template&id=54889722&scoped=true&\"\nimport script from \"./SelectableBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectableBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectableBox.vue?vue&type=style&index=0&id=54889722&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54889722\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',_vm._g({staticClass:\"iconfont\",class:_vm.activeStatus ? 'icon-help-circle' : 'iconhelp_nol',on:{\"mouseenter\":function($event){_vm.activeStatus = true},\"mouseleave\":function($event){_vm.activeStatus = false}}},_vm.$listeners))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <i\n    class=\"iconfont\"\n    :class=\"activeStatus ? 'icon-help-circle' : 'iconhelp_nol'\"\n    v-on=\"$listeners\"\n    @mouseenter=\"activeStatus = true\"\n    @mouseleave=\"activeStatus = false\" />\n</template>\n\n<script>\nexport default {\n  name: 'IconQuestion',\n  data() {\n    return {\n      activeStatus: false,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 标签填写示例\n.iconfont {\n  margin-left: 5px;\n  font-size: 17px;\n  color: #848b97;\n  cursor: pointer;\n}\n.icon-help-circle {\n  color: $color-primary;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconQuestion.vue?vue&type=template&id=b67bf064&scoped=true&\"\nimport script from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nexport * from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b67bf064\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=style&index=0&id=10f2f0aa&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=style&index=0&id=15080de4&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=style&index=0&id=4db97a97&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialInfoPrint.vue?vue&type=style&index=1&id=78086a12&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=57918cc7&lang=scss&scoped=true&\"","import axios, { axiosEncrypt } from '@/utils/axios';\n\n/* =========================== 账号相关 =========================== */\nexport const registerAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/register',\n    headers: {\n      token: '',\n    },\n    data,\n  });\n};\n\nexport const loginByName = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/login/login',\n    data,\n  });\n};\n\n// 重置密码\n// 已废弃\n// export const resetPassword = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/pass/reset',\n//     data,\n//   });\n// };\n\n// 发送验证码\n// 已废弃\n// export const sendVerifyCode = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/verification/code',\n//     data,\n//   });\n// };\n\n// 校验验证码\n// 已废弃\n// export const checkVerifyCode = (code, account) => {\n//   return axios({\n//     method: 'get',\n//     url: `/authcenter/user/check/verify?verifyCode=${code}&account=${account}`,\n//   });\n// };\n\n// 验证邮箱接口\nexport const emailVerify = (email) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/email/verify?email=${email}`,\n  });\n};\n\n// 校验账号是否为主账号或普通账号\nexport const checkRole = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/check/role?account=${account}`,\n  });\n};\n\n// 账号购买套餐的信息\nexport const getUserPurchaseInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/info/all',\n  });\n};\n\n/**\n * 申请试用\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const applyAccountForTrial = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/trial/add',\n    data,\n  });\n};\n\n/**\n * 订阅更新信息\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const subscribeOurWebsite = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/subscribe',\n    data,\n  });\n};\n\n/**\n * 校验账户是否重复\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const checkAcountExistent = (account) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/account/check',\n    params: {\n      account,\n    },\n  });\n};\n\n/* =========================== 当前登录用户 =========================== */\n/**\n * 根据token来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUserInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/info/get',\n  });\n};\n\n/**\n * 根据用户ID来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUsersInfoByIds = async (_userIds = []) => {\n  const userIds = Array.from(new Set(_userIds.filter(id => !!id)));\n  if (!userIds.length) {\n    const data = new Array(_userIds.length);\n    data.fill(null);\n    return { data };\n  }\n  const res = await axios({\n    method: 'post',\n    url: '/authcenter/user/im/info',\n    data: userIds,\n  });\n  const users = Object.fromEntries(res.data.map(user => ([user.id, user])));\n  res.data = _userIds.map(id => users[id] ?? null);\n  return res;\n};\n\n/**  ???????????????????????????\n * 根据token来获取当前登录用户信息\n * @param {Object} data 登录信息\n * @returns {Promise}\n */\nexport const uploadAccountInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/update',\n    data,\n  });\n};\n\n/**\n * 修改用户信息\n * @param {Object} data 支持 name, email, headImg 三个属性修改\n * @returns {Promise}\n */\nexport const updateUserInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update/self',\n    data,\n  });\n};\n\n/**\n * 根据邮箱或账号重置账号密码\n * @param {Object} data 邮箱和信息密码\n * @returns {Promise}\n */\nexport const updateUserPasswordByVerificatioCode = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/password/reset',\n    data,\n  });\n};\n\n/**\n * 获取是否有剩余的子账号（true/fase）(deprecated)\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetLeaveSubaccount = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/check?resourceType=${type}`,\n  });\n};\n\n/**\n * 新增收费子账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createPaidSubaccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/add',\n    data,\n  });\n};\n\n/**\n * 新增免费账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const ApiAddFreeAccount = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/free/add',\n    data,\n  });\n};\n\n/* =========================== 账号中心 =========================== */\n/**\n * 公司列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiCompanyList = (groupAppId, keyword = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiAddressList = (keyWord, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: `/authcenter/contacts/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 虚拟账号列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiVirtualList = (keyWord) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/virtual/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 协同空间群设置的成员列表（可搜索）\n * @param {String} keyword 搜索\n * @returns {Promise}\n */\nexport const fetchGroupMembers = ({\n  keyword,\n  groupAppId,\n}) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/ugroup/users/search?keyword=${keyword}`,\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n  });\n};\n\n/**\n * 公司账号的子账号列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getSubaccountListOfCompany = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getContactList = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/contacts/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 虚拟账号列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getVirtualList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/virtual/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 编辑\n * @param {String} data 编辑信息对象\n * @returns {Promise}\n */\nexport const ApiupdateUserAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update',\n    data,\n  });\n};\n\n/**\n * 删除单个 非邀请Delete\n * @param {String} id 删除id  <!-- null 和0 都是，1 是邀请 Disconnect-->\n * @returns {Promise}\n */\nexport const ApiDelAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/delete?userId=${id}`,\n  });\n};\n\n/**\n * 删除单个 邀请 Disconnect\n * @param {String} id 删除id\n * @returns {Promise}\n */\nexport const ApiDisconnectAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/contacts/disconnect?relateUserId=${id}`,\n  });\n};\n\n/**\n * 获取新增子账号剩余多少\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetCanUseWorkspace = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/info?resourceType=${type}`,\n  });\n};\n\n/**\n * 检查名称是否重复\n * @param {String} account 名称\n * @returns {Promise}\n */\nexport const ApicheckUsable = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/check?account=${account}`,\n  });\n};\n\n/**\n * 清除到期账号\n * @returns {Promise}\n */\nexport const ApiDelOverdue = () => {\n  return axios({\n    method: 'get',\n    url: '/user/overdue/delete',\n  });\n};\n\n/**\n * 查询是否遮罩\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApigetShade = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/shade/get?type=${type}`,\n  });\n};\n\n/**\n * 关闭遮罩\n * @param {String} data 类型\n * @returns {Promise}\n */\nexport const ApiaddShade = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/shade/add',\n    data,\n  });\n};\n\n/**\n * 新增虚拟账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createVirtualAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/virtual/add',\n    data,\n  });\n};\n\n// 头和目标账号信息\nexport const ApiConnectAccount = (data, headers) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/add/mutiple',\n    data,\n    headers,\n  });\n};\n\n/**\n * 公司套餐workspace数量(deprecated)\n * @param {String}\n * @returns {Promise}\n */\nexport const getWorkspacesNumberOfPackage = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/package/workspace/number',\n  });\n};\n\n/**\n * 添加协同空间成员时搜索可添加的列表\n * @param {String}\n * @returns {Promise}\n */\nexport const searchUsersToAdd = (keyword, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/search',\n    params: {\n      keyword,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon-maginfy-box\",on:{\"click\":function($event){return _vm.$emit('magnify')}}},[_c('i',{staticClass:\"iconfont iconfangdajing\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"icon-maginfy-box\"\n    @click=\"$emit('magnify')\">\n    <i class=\"iconfont iconfangdajing\" />\n  </div>\n</template>\n<script>\nexport default {};\n</script>\n\n<style lang=\"scss\" scoped>\n.icon-maginfy-box {\n  position: relative;\n  color: rgba(173, 173, 173, 0.6);\n  width: 24px;\n  cursor: pointer;\n\n  &:hover,\n  &:active,\n  &.hover-status {\n    color: rgba(90, 90, 90, 0.6);\n  }\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    right: -20px;\n    bottom: -20px;\n    width: 0;\n    height: 0;\n    border: 20px solid transparent;\n    border-top-color: currentColor;\n    transform: rotate(-45deg);\n  }\n\n  .iconfangdajing {\n    position: relative;\n    left: 10px;\n    top: -1px;\n    font-size: 14px;\n    color: #fff;\n    z-index: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconMagnify.vue?vue&type=template&id=01875c86&scoped=true&\"\nimport script from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nexport * from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01875c86\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=c81a14aa&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-cascader',{ref:\"cascader\",staticClass:\"fixed-width anta\",attrs:{\"options\":_vm.list,\"value\":_vm.value,\"clearable\":_vm.showClearable,\"disabled\":_vm.disabled,\"placeholder\":_vm.$t('material.others.select_type'),\"props\":_vm.cascaderProps,\"size\":\"small\"},on:{\"change\":_vm.handleChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('span',[_vm._v(_vm._s(data.label))])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, watch, toRefs, computed,\n} from '@vue/composition-api';\nimport { fetchMaterialTypes } from '@/api/material';\nimport useLoader from '_/composables/use-loader';\nimport { ElCascader } from 'element-ui/types/cascader';\nimport translateCategoryName from '@/utils/i18n-material-type';\n\ntype MaterialSelectItem = {\n  id: string,\n  name: string,\n  label: string,\n  subCount?: number,\n  children?: MaterialSelectItem[]\n  parentIds?: string[]\n  leaf?: boolean,\n  disabled?: boolean,\n};\n\nexport default defineComponent({\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n  props: {\n    strictMode: {\n      type: Boolean,\n      default: false,\n    },\n    maxLevel: {\n      type: Number,\n      default: 2,\n    },\n    value: {\n      type: Array as () => string[],\n      required: true,\n      default: () => [],\n    },\n    checkStrictly: {\n      type: Boolean,\n      default: false,\n    },\n    expandTrigger: {\n      type: String,\n      default: 'click',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    showClearable: {\n      type: Boolean,\n      default: true,\n    },\n\n    businessType: {\n      // 1安踏 0普通\n      type: Number,\n      default: 1,\n    },\n  },\n  setup(props, { emit }) {\n    const selected = ref<MaterialSelectItem[]>([]);\n\n    const cascader = ref<ElCascader>();\n\n    async function getChildren(id: string, level: number) {\n      const list = (await fetchMaterialTypes(id, props.businessType)) as MaterialSelectItem[];\n      return list.map(i => {\n        i.leaf = !(i.subCount && i.subCount > 0 && level < props.maxLevel);\n        i.disabled = props.maxLevel !== level && !i.subCount && props.strictMode;\n        if (props.businessType === 0) {\n          i.label = translateCategoryName(i.name);\n        } else {\n          i.label = i.name;\n        }\n        return i;\n      });\n    }\n\n    async function initOptionList(children: MaterialSelectItem[], list: string[]) {\n      const result = [];\n      while (children && children.length) {\n        // eslint-disable-next-line no-loop-func\n        const item = children.find(j => j.id === list[result.length]);\n        if (item && result.length < props.maxLevel) {\n          result.push(item);\n          item.children = item.children || await getChildren(item.id, result.length);\n          ({ children } = item);\n        } else {\n          children = [];\n        }\n      }\n      return result;\n    }\n\n    const checkedNodes = computed(() => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    });\n\n    const getCheckedNodes = () => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    };\n\n    const cascaderProps = {\n      lazy: true,\n      label: 'label',\n      value: 'id',\n      children: 'children',\n      checkStrictly: props.checkStrictly,\n      expandTrigger: props.expandTrigger,\n      lazyLoad: async (node, resolve) => {\n        if (node.level && node.level < props.maxLevel + 1 && !node.leaf && node.children?.length === 0) {\n          const res = await getChildren(node.value, node.level);\n          resolve(res);\n        } else {\n          resolve();\n        }\n      },\n    };\n\n    const list = useLoader(async ({ value }) => {\n      const defaultList = await getChildren('-1', 0);\n      if (value.length) {\n        if (defaultList) {\n          selected.value = await initOptionList(defaultList, value);\n        }\n      }\n      return defaultList;\n    }, {\n      ...toRefs(props),\n    }, {\n      initialValue: [],\n    });\n\n    async function handleChange(ids: string[]) {\n      if (!cascader.value?.getCheckedNodes()[0]) {\n        emit('change', ids, []);\n      } else {\n        const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n          return n.data;\n        }) || [];\n        emit('change', ids, nodes);\n      }\n    }\n\n    watch(() => checkedNodes.value, (v) => {\n      if (v.length > 0) handleChange(props.value);\n    });\n    // watch(() => {\n    //   return props.value;\n    // }, (v, ov) => {\n    //   if (JSON.stringify(v) !== JSON.stringify(ov)) {\n    //     if (v.length > 0) {\n    //\n    //       initOptionList(list.value, v);\n    //     } else {\n    //\n    //\n    //     }\n    //   }\n    // });\n\n    return {\n      cascaderProps,\n      handleChange,\n      list,\n      cascader,\n      getCheckedNodes,\n      checkedNodes,\n    };\n  },\n\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialTypeCascade.vue?vue&type=template&id=bb4c346e&\"\nimport script from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.find-index\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.difference = difference;\nexports.default = void 0;\n\n/**\n * 得出b相对于a补集（a里边找b没有的）\n * @see https://zh.wikipedia.org/wiki/%E8%A1%A5%E9%9B%86\n * @param a数组\n * @param b数组\n * @param fn 用于对比的方法\n */\nfunction difference(a, b, fn) {\n  return a.filter(function (aItem) {\n    var i = fn ? b.findIndex(function (bItem) {\n      return fn(aItem, bItem);\n    }) : b.indexOf(aItem);\n    var include = i === -1;\n    return include;\n  });\n}\n\nvar _default = difference;\nexports.default = _default;","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=style&index=0&id=67ab5d7d&lang=scss&scoped=true&\"","import Vue from 'vue';\n\nvar warn = function warn(msg) {\n  if (!Vue.config.silent) {\n    console.warn(msg);\n  }\n};\n\nexport default {\n  name: 'intersect',\n  abstract: true,\n  props: {\n    threshold: {\n      type: Array,\n      required: false,\n      default: function _default() {\n        return [0, 0.2];\n      }\n    },\n    root: {\n      type: typeof HTMLElement !== 'undefined' ? HTMLElement : Object,\n      required: false,\n      default: function _default() {\n        return null;\n      }\n    },\n    rootMargin: {\n      type: String,\n      required: false,\n      default: function _default() {\n        return '0px 0px 0px 0px';\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.observer = new IntersectionObserver(function (entries) {\n      if (!entries[0].isIntersecting) {\n        _this.$emit('leave', [entries[0]]);\n      } else {\n        _this.$emit('enter', [entries[0]]);\n      }\n\n      _this.$emit('change', [entries[0]]);\n    }, {\n      threshold: this.threshold,\n      root: this.root,\n      rootMargin: this.rootMargin\n    });\n\n    this.$nextTick(function () {\n      if (_this.$slots.default && _this.$slots.default.length > 1) {\n        warn('[VueIntersect] You may only wrap one element in a <intersect> component.');\n      } else if (!_this.$slots.default || _this.$slots.default.length < 1) {\n        warn('[VueIntersect] You must have one child inside a <intersect> component.');\n        return;\n      }\n\n      _this.observer.observe(_this.$slots.default[0].elm);\n    });\n  },\n  destroyed: function destroyed() {\n    this.$emit('destroyed');\n    this.observer.disconnect();\n  },\n  render: function render() {\n    return this.$slots.default ? this.$slots.default[0] : null;\n  }\n};","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=759b404a&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=style&index=0&id=b3f5c08a&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAWqADAAQAAAABAAAAWgAAAABJfIu3AAAKv0lEQVR4Ae2dS2zURhjHJ0sSHnmHREQBFIggq0AjITggUZUKDpRKVKL01EulXFAvtJx6aM+9cArKBfUSiQunAodKpRxABQmBVKpKrRJSICgEQgUh7/Am9P83npXXa3tnbI93s9mRNrbH8/jmN99+/uaxToUoovDu3buq+fn59Nu3b9OLi4vpioqKNOI6IWIDzutwlB9KPccP7vM4g/sjOB9OpVLDK1asGK6trR1G3GsmLIZQUUghACY1MzOzEzLsA9j9OH6ET01MMi2gnKsAfwnHyw0NDX8C/GJMZWsXUxDQ09PTuwD5K0j7JY6t2lKHyADIT5DtDI6nGxsbb4YoIlKWxEADaD209yg0txcSb4skdfTMg9D0AWj5TwA/G724/CUYBw24zYB7HKIcA+zG/CIllwKQp1FbP6D3AfqkyZqNgQbUGkD+AZCPoQG1JhsRQ9nzgN0P2D8CPm177MEI6KmpqSMA3QdpN8YusdkCxwD6eFNT09m4q4kVNAB3APApCHkwbkETLu8CgH8N4KNx1RsbaEA+DKEGALqo7HBYULb97gXs82HLcOZLOS/CnANsNSD34XiuVCCTA9vCNtltqw7DxpknkkbPzs62vHnz5hcUuNtZaAme36isrDxUX18/EbZtoUGjpztQ6UX0elfYypdYPg7pPwlrt0OZjrm5uQ8A+Noygkyd4LzLNbY9jIJoazQrgrm4gkqbwlS41PNAq6dgRvbW1dX9o9MWLdA0F+xVVNCuU0kJph0H8D06ZkTZdPDBB2AXy5AttWmHwv1mM1HSIyXQKLSa3gWOy+XBpwIvbTNRcv2UQGNa8wRqLnUXTgWuO81um407Puc6r42GXT4MTT6Xk7MckSEAe/15vhFkIGjbV/4LoEtiWJ0hE/MJQE+jyB1BD8dA0wHAp8qQ8/cKGZFVUEpf0NDmI8i41Gfhgtoe972DNjPPcj1NB3qnBpmGkMPYfDIWBAQeJOLFixfi5cuXAivXYuXKlQKT72LVqlWewvpFsixM3PvdTjJ+DOajG6YkZ/Gg0ksKrowg3hhkwn38+LGAe5Spnuf8LCwsWLDXrl2bued1wjIePXokIKvA9gQLNLYYiJaWFoHGemVJIm6jze57d2U5Go2EzRB8FAmNLD9R+x48eJAF2S0Ur1tbWwWGuV63BL5t4t69e5zK9LxfXV1t5WcZ/KYkHOZRZ4d7DTLn+wYQxyGYEchsMM2FU5P9IDx9+tQT5PPnzwMhs7xXr16Jhw8fisHBQUvj/eowFF9rM8wqPgs0NKQed7mYaizwK68SqPm03e4wPj7u2QHudLwm8Dt37oiRkRGlzvUqI2QcV/zJMhOyQMNsHEUCoz4zG68aXr/O3tFFU0GbrBtoaoaGhqwHr27eMOnJkCydebNAQ4t6nTdNnGOKUbnYqqqqrLQET9hhAjv41q1bAnv7wmTXzuNmmQEN27kLpRnfQaTqusFFEnyoOYNOJznzyXN6J7dv304K9jabqVV9BjQ0hXvhjAfse1Pyeb3S0Vdes2ZNJBlp++/evWvZ70gFKWR2MrVAI4LHLxXyRk5CraSvS431C4Tp5wu3tbX5ZVOOp9fDhyQ13HDgJk6LsfUHhnsnIhLZ1cmGcWCxYcMGSzudIzraZHZCEEx2wLp16yLzoZtIf95kIFOyZR3yybTPZIVeZROqBEoNI3AndK88Mk52En1lHS9G5pfHiYkJq2NrauLaki1LzjqS7R+WRsNu7c+6lfAFzYkqZClac3Oz6OnpEVu2bPEdQcq0Qcf79+8H3Y58T7KtgHpXwc+cQolGuzWyxHkK4IiT0Ny+d55s1u3NmzcLdpyhsABz15Tib0ZQQWKQsaBpTRxF+cp7AaGX0t3dLVavXu11OzDuyRP+GMBYqCHjSjx5CTqxQLsoA00GH4xerpxMo3Ok3U+n02J4eFjwYacaOIhh+jCdpFIHGadgQxIF7RSMD0H5laemxxE4W0e7rTtr51SAOORwlkHGKfizBQMthYEggg2Nq7EcUa5fv14Wr3SMq6O9KiPjFB6GnV43CxHHxsYFm3PRqsN9tpWziirTt2G4kDHdu4YwmU3lIWzs74uleA5+dILBCacGmg7vZQwdCWNOOzk5KWhOogZdl+3Zs2dRq/TMT8bU6KIDzTmIOGwmvRD3DKAnCTvSlOkg46IEzXbH9TXWcdkMTjJZoO3+LK4DBzRxaJiOmxdHfX4UqdHxPHn8aogQb7LhEcQKk3Wu5EHrDPWjruAE9MAc/eii1WjIFiC72i2vlXS/nHx4mghkTI3WX1Y2IY2BMumu6czmmQJNxvSjRwy0sSiKfD/7qy6KzkhSvVTBZbsRmo5hnUxLJS1dNZ3pT8CwZhJNtI+MsbCRKknQ3NGk4xdzulbHFdTpEDJOofCSA83dTNytqhPw82Od5FppyTiFniTonP28WiUVUWK5CVJXJC4+GAoLZMyHITe4XTVUSaLFUpO5uqJjMihgmM3vGg27SsZ077gCfUkjY9El5QhybGws9KYYue3BRMMkW7mv47KJSqKWSTPgtxmdZdNPpgtH70JXi6Vs1GY+CA0Gi621LwvuRwprd//haHy3EvcqqwYOIPhTCycIDkCowewEncGIV53QNrF9+3atqVSvcvziYDKewPa34bhoaTRPoBlnkOEbv0yFiEfHW6AJ20Rob283BtmWly80tFYwLBvNSEScNtGYKGVSc3Xmk3XqopcRxx6+oDqdTDOgUfFNZBoMyliIe0E2Oqw87LxNmzaFza6ab9BmaqXPgOYVbNaAailJpaNWxznZw/mMrVu3GhsFSi5ullmg8QTmuzr5u+aiCbTTuousfsJTk7u6umLtOK+6yJAsnfeyQCMBtwv1OxMUwzkn7/P9wDOfnNxXze1icX47Aurst1lmkmSBZixUvg8HY7+ooUsVJnD7AR9guoH1cT91Z2encXNhy8b3nJJhVshpNVR+EgmNabXO8n+WpLggNB3N5mCEfrJp78IpJ9mRoTOO59aAxR0Ju2jsR/fchaQzT+yWjdfsLM5r+P04lJrPYbXhnfxeovn+6N4TNEvAAIZvzP3Zq7SocZzCjLpvAzZQcDGVI0R2nvyBEW0x35JQiACZvkD9Z73q9gXNxNia9SsORt7ZwdEePzqr1JSJ5kN+qNnyY3AFm9WqhAvwjj71SxgIGlrdgYzlV/340bPjocl0icO/6gdfg1EU0JunnvJtMLJZ+bLI8TrcKVHAefTYSXd8+fo9AbIho3w8Ak2HzIyHIt8RfQXXu2Vc+WgRuA7IHwN23lc25NVoFseC8LA5hOO/ZcDvCZAFmHymApk5lEAzof2S6gM4Hef1Mg9kcEDnxd1KpsMJFS5fD3rxd5iTgr0hyilP0udoe6jXGitrtGwQfMW/8ZXZi+vlqNnjbLvuu6PJThs0M7Ei9OwefJaNzWZb2eYwkEODZkY8bUexA+dDnN7gdYmH62wr2xy2ndo22l0RXT+soJ/A8Vv3vVK4hhafxCTVdzjmdeGC2hsZtCwcfvZhnA8AeKOMW8pHgOWwunj+4Y2EaY+OduD6goxbwke2gXMX5+NqQ2wa7RTInmLtQ5yx95s664vxfGn8UzJng2FCyv9mzwHEiEY7yudKSPkfRwKIcdASOjS8/K9QJYykjnAHy//cNynYrAdaXv531UkCl3UBfMn+A/b/AQvJl/yKAyOwAAAAAElFTkSuQmCC\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.messageList && _vm.messageList.length)?_c('div',{ref:\"changeLogRef\"},[(_vm.showAll)?_c('div',[_vm._l((_vm.messageList),function(message){return _c('div',{key:message.label,staticClass:\"item\"},[(message.type === 0)?_c('div',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.label))]),_vm._v(\" 由 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.oldValue))]),_vm._v(\" 被修改为 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.newValue))])]):_c('div',[_c('div',{staticClass:\"flex-space-between\"},[_c('span',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.label))]),_vm._v(\" 被修改 \")]),(!_vm.isSupplier)?_c('span',{on:{\"click\":function($event){_vm.showSupplierPrice = !_vm.showSupplierPrice}}},[_c('span',{staticClass:\"text-link\"},[_vm._v(\"查看明细\")]),(_vm.showSupplierPrice)?_c('i',{staticClass:\"el-icon-arrow-down\"}):_c('i',{staticClass:\"el-icon-arrow-right\"})]):_vm._e()]),(_vm.showSupplierPrice)?_c('div',{staticClass:\"supplierPriceTable\",class:{sidebar: _vm.isSidebar}},[_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":message.oldValue,\"border\":true}}),_c('span',[_vm._v(\"改为\")]),_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":message.newValue,\"border\":true}})],1):_vm._e()])])}),_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){_vm.showAll = false}}},[_vm._v(\"收起全部\")])],2):_c('div',[(_vm.messageList[0].type === 0)?_c('div',{staticClass:\"item\"},[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].label))]),_vm._v(\" 由 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].oldValue))]),_vm._v(\" 被修改为 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].newValue))])]):_c('div',[_c('div',{staticClass:\"flex-space-between\"},[_c('span',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].label))]),_vm._v(\"被修改 \")]),(!_vm.isSupplier)?_c('span',{on:{\"click\":function($event){_vm.showSupplierPrice = !_vm.showSupplierPrice}}},[_c('span',{staticClass:\"text-link\"},[_vm._v(\"查看明细\")]),(_vm.showSupplierPrice)?_c('i',{staticClass:\"el-icon-arrow-right\"}):_c('i',{staticClass:\"el-icon-arrow-down\"})]):_vm._e()]),(_vm.showSupplierPrice)?_c('div',{staticClass:\"supplierPriceTable\",class:{sidebar: _vm.isSidebar}},[_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":_vm.messageList[0].oldValue,\"border\":true}}),_c('span',[_vm._v(\"改为\")]),_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":_vm.messageList[0].newValue,\"border\":true}})],1):_vm._e()]),(_vm.messageList.length > 1)?_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){_vm.showAll = true}}},[_vm._v(\"查看全部\")]):_vm._e()])]):_c('div',[_vm._v(\"暂无数据\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"table-container\"},[_c('el-table',{attrs:{\"data\":_vm.data,\"border\":_vm.border,\"header-cell-class-name\":\"customer-header\",\"cell-class-name\":\"customer-row\"}},[_c('el-table-column',{attrs:{\"prop\":\"supplierName\",\"label\":\"供应商名称\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"referencePrice\",\"label\":\"参考单价\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"cost\",\"label\":\"成本价\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"supplierStatus\",\"label\":\"是否为默认供应商\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.supplierStatus === 1 ? '是' : '否'))])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\n\ntype SupplierPriceForDisplay = {\n  referencePrice: string,\n  supplierName: string,\n  cost: string,\n  supplierStatus: number\n};\n\nexport default defineComponent({\n  dialogify: {\n    props: {\n      closeOnClickModal: false,\n      width: '480px',\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n    },\n  },\n  props: {\n    data: {\n      type: Array as () => SupplierPriceForDisplay[],\n      required: true,\n      default: [],\n    },\n    border: {\n      type: Boolean,\n      default: false,\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SupplierPriceList.vue?vue&type=template&id=4db97a97&scoped=true&\"\nimport script from \"./SupplierPriceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./SupplierPriceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SupplierPriceList.vue?vue&type=style&index=0&id=4db97a97&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4db97a97\",\n  null\n  \n)\n\nexport default component.exports","import axios from '@/utils/axios';\n\ntype Value = {\n  id?:string,\n  label: string\n};\n\nexport type Property = {\n  id: string,\n  title: string,\n  required: number,\n  component: number,\n  params: any,\n  values: Value[] | ''\n};\n\nconst cache: {\n  properties: Property[]\n} = {\n  properties: [],\n};\n\nexport async function fetchProperties() {\n  if (cache.properties && cache.properties.length === 0) {\n    cache.properties = (await axios({\n      url: '/anta-material/dynamics/property/list',\n      method: 'get',\n    })).data;\n  }\n  return cache.properties;\n}\nexport function getSelectionProperty(title: string) {\n  return cache.properties.find(p => {\n    return p.title === title && p.values && p.values.length !== 0;\n  }) || null;\n}\n\nexport function getProperty(title: string) {\n  return cache.properties.find(p => {\n    return p.title === title;\n  }) || null;\n}\n\nexport async function getPropertyByTitle(title: string) {\n  if (cache.properties && cache.properties.length === 0) {\n    try {\n      await fetchProperties();\n    } catch {\n      cache.properties = [];\n    }\n  }\n  return getProperty(title);\n}\n\nexport function findValue(value: string | string[], property: Property | null, placeholder:string = '--') {\n  if (!property) return value || placeholder;\n  if (!value) return placeholder;\n  const values = property.values as Value[];\n  // component=3表示是数组，要从值列表中找出对应值，组成数组再拼接成字符串\n  if (property.component === 3) {\n    return values.filter(({ id }) => (value as string[]).includes(id))?.map(i => i.label)?.join(', ');\n  }\n  return values.find(v => {\n    return v.id === value;\n  })?.label || placeholder;\n}\n\nexport default {};\n","// const field = {\n//   category: '分类',\n//   season: '季节',\n//   brand: '品牌',\n//   supplierName: '供应商名称',\n//   materialNumber: '材料编码',\n//   old_material_number: '旧材料编码',\n//   materialSpecification: '材料规格',\n//   weight: '克重',\n//   unit: '单位',\n//   available_area: '使用部位',\n//   ingredient: '成分',\n//   yarn_proportion: '纱线及占比',\n//   reference_price: '参考单位',\n//   supplier_price: '供应商价',\n//   color_limit_type: '颜色限制类别(鞋)',\n//   color_limit_remark: '颜色限制说明(鞋)',\n//   sample_moq: '样品起订量',\n//   production_moq: '量产起订量',\n//   post_treatment_process: '后处理工艺',\n//   acceptable_temperature: '可承受高温范围',\n//   development_livecycle: '开发周期',\n//   production_livecycle: '量产周期',\n//   special_restrictions: '特殊物限制',\n//   shoemaking_risks: '制鞋风险',\n//   compound_way: '复合方式',\n//   dyeing_finishing: '色纱/染整',\n//   materialCountryOfOrigin: '产地',\n//   daily_production_capacity: '日产能',\n//   detection_number: '检测标准编号',\n//   evergreen: '常青材料',\n//   PU_layer_composition: 'PU层成分',\n//   natural_leather_oil_proportion: '天然皮革含油量',\n//   volume: '体积（M3）',\n// };\n// export default field;\nconst materialTypes = {\n  origin: '产地',\n  materialName: '面料名称',\n  supplierName: '供应商',\n  material_number: '材料编码',\n  category: '分类',\n  season: '季节',\n  brand: '品牌',\n  old_material_number: '旧物料编号',\n  material_specification: '材料规格',\n  weight: '克重',\n  unit: '单位',\n  available_area: '使用部位',\n  ingredient: '成分',\n  yarn_proportion: '纱线及占比',\n  reference_price: '参考单价',\n  supplier_price: '供应商价',\n  color_limit_type: '颜色限制类别',\n  color_limit_remark: '颜色限制说明',\n  sample_moq: '样品起订量',\n  production_moq: '量产起订量',\n  post_treatment_process: '后处理工艺',\n  acceptable_temperature: '可承受高温范围',\n  development_livecycle: '开发周期',\n  production_livecycle: '量产周期',\n  special_restrictions: '特殊物限制',\n  shoemaking_risks: '制鞋风险',\n  compound_way: '复合方式',\n  dyeing_finishing: '色纱/染整',\n  daily_production_capacity: '日产能',\n  detection_number: '检测标准编号',\n  evergreen: '常青材料',\n  PU_layer_composition: 'PU层成分',\n  natural_leather_oil_proportion: '天然皮革含油率',\n  volume: '体积',\n  remark: '备注',\n  plm: 'plm编码',\n  product_line: '适用产品线',\n  function: '功能性',\n  label: '吊牌',\n  trend: '流行趋势',\n  season_lib: '季节库',\n  cost: '成本价',\n  supplier_price_array: '供应商价格',\n  approve_detail: '评审状态',\n\n};\nexport default materialTypes;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable camelcase */\n\nimport {\n  computed, defineComponent, ref,\n} from '@vue/composition-api';\nimport {\n  getDictionaryByTypeCode,\n  fetchAntaPropertyByCode,\n} from '@/loaders/dictionary';\n\n\nimport { DictItem } from '@/models/Dictionary';\nimport keys from '_/keys';\nimport axios from '@/api/axios';\nimport { getCurrentCompany } from '@/loaders/company';\nimport useLoader from '_/composables/use-loader';\nimport SupplierPriceList from '../SupplierPriceList.vue';\nimport {\n  fetchProperties,\n  findValue,\n  getProperty,\n  getPropertyByTitle,\n  getSelectionProperty,\n} from './property';\nimport materialTypes from './materialType';\n\nexport type PriceUnit = {\n  label: string,\n  // itemCode: string,\n  itemValue: number,\n};\n\nasync function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nconst colorList: { [key: number]: string } = {\n  1: '全部颜色',\n  2: '仅部分颜色',\n  3: '荧光色除外',\n};\n\nconst approveStatus = {\n  1: '待评审',\n  2: '评审中',\n  3: '复核中',\n  4: '已完成',\n} as { [x: number]: string };\n\ntype SupplierPrice = {\n  reference_price_unit: number,\n  reference_price_value: number,\n  cost_unit: number,\n  cost_value: number,\n  supplier_name: string,\n  supplier_status: number\n};\n\ntype Message = {\n  label: string;\n  oldValue: string;\n  newValue: string;\n};\n\ntype PriceType = {\n  value: string | number;\n  unit: number;\n};\n\ntype Supplier = {\n  id: string;\n  originalSupplierName: string;\n  companyId?: string;\n  name?: string;\n};\n\ntype Dictionary = {\n  id: string;\n  value: string;\n};\n\ntype TypeItem = {\n  itemCode: string;\n  itemValue: string;\n  label: string;\n};\nexport default defineComponent({\n  props: {\n    form: {\n      required: true,\n    },\n  },\n  components: {\n    SupplierPriceList,\n  },\n  setup(props) {\n    const changeLogRef = ref();\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n    let formList;\n    if (typeof props.form === 'string') {\n      formList = JSON.parse(JSON.parse(props.form));\n    } else {\n      formList = props.form;\n    }\n    // const formList = JSON.parse(props.form);\n    const oldForm = formList[1];\n    const newForm = formList[0];\n\n    const itemName = newForm.materialName || '';\n    const showAll = ref(false);\n    const showSupplierPrice = ref(false);\n    // const statusList = ['--', '开发中', '已完成', '驳回', '停用'];\n    // const typeItemList = ['priceUnit', 'mqqUnit'];\n    const evergreenList = ['', 'TRUE', 'FALSE'];\n\n    const isSidebar = computed(() => {\n      if (changeLogRef.value) {\n        console.log(changeLogRef.value.offsetWidth);\n        return changeLogRef.value.offsetWidth < 440;\n      }\n      return false;\n    });\n\n\n    function isDifferent(a: any, b: any) {\n      return JSON.stringify(a) !== JSON.stringify(b);\n    }\n\n    function findTypeItem(list: PriceUnit[], value: number | undefined) {\n      return (\n        list.find((i) => {\n          return i.itemValue === value;\n        })?.label || '--'\n      );\n    }\n\n    function handleSupplierName(id: string, list: Supplier[]) {\n      return (\n        list.find((supplier) => {\n          return supplier.id === id;\n        })?.originalSupplierName || '--'\n      );\n    }\n\n    function handleCostLikeData(\n      data: PriceType | undefined,\n      priceUnitList: PriceUnit[],\n    ) {\n      // console.log('handleCostList', data, priceUnitList);\n      if (data && data.value) {\n        return `${data.value ?? '--'} ${findTypeItem(\n          priceUnitList,\n          data.unit,\n        )}`;\n      }\n      return '--';\n    }\n\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'reference_price'\n    ): PriceType;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'cost'\n    ): PriceType;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'supplier_name'\n    ): string;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'reference_price' | 'cost' | 'supplier_name',\n    ) {\n      if (!current) return undefined;\n      // const current = prices[0];\n      switch (key) {\n        case 'reference_price':\n          return {\n            value: current.reference_price_value,\n            unit: current.reference_price_unit,\n          } as PriceType;\n        case 'cost':\n          return {\n            value: current.cost_value,\n            unit: current.cost_unit,\n          } as PriceType;\n        case 'supplier_name':\n          return current.supplier_name as string;\n        default:\n          return undefined;\n      }\n    }\n\n    function handleSupplierPriceArr(\n      list: SupplierPrice[],\n      priceUnitList: PriceUnit[],\n      supplierList: Supplier[],\n    ) {\n      return list.map((i) => {\n        return {\n          referencePrice: handleCostLikeData(\n            fetchSupplierPriceArr(i, 'reference_price'),\n            priceUnitList,\n          ),\n          cost: handleCostLikeData(\n            fetchSupplierPriceArr(i, 'cost'),\n            priceUnitList,\n          ),\n          supplier_name: handleSupplierName(\n            fetchSupplierPriceArr(i, 'supplier_name'),\n            supplierList,\n          ),\n          supplierStatus: i.supplier_status,\n        };\n      });\n    }\n\n    function getPriceUnit() {\n      return [{\n        label: '人民币',\n        // itemCode: 'CNY',\n        itemValue: 1,\n      }, {\n        label: '美元',\n        // itemCode: 'CNY',\n        itemValue: 2,\n      }];\n    }\n\n    const messageList = useLoader(\n      async () => {\n        const oldKeys = keys(oldForm);\n        const newKeys = keys(newForm);\n        const form = oldKeys.length > newKeys.length ? oldForm : newForm;\n\n        const [\n          allSupplierList,\n          priceUnits,\n          propertyList,\n        ] = await Promise.all([\n          fetchSupplierAll(),\n          getPriceUnit(),\n          fetchProperties(),\n        ]);\n\n        console.log(propertyList);\n\n        const messages = keys(form).map((key) => {\n          let oldValue;\n          let newValue;\n          let type = 0;\n          let label = materialTypes[(key as unknown) as keyof typeof materialTypes];\n          if (isDifferent(oldForm[key], newForm[key])) {\n            switch (key) {\n              case 'evergreen':\n                oldValue = evergreenList[Number(oldForm[key])] || '--';\n                newValue = evergreenList[Number(newForm[key])] || '--';\n                break;\n              case 'materialName':\n                if (oldForm[key] !== newForm[key]) {\n                  oldValue = oldForm[key];\n                  newValue = newForm[key];\n                }\n                break;\n              case 'material_status':\n                // oldValue = statusList[oldForm[key]];\n                // newValue = statusList[newForm[key]];\n                oldValue = undefined;\n                newValue = undefined;\n                break;\n              case 'color_limit_type':\n                oldValue = colorList[oldForm[key]] || '--';\n                newValue = colorList[newForm[key]] || '--';\n                break;\n              case 'approve_detail':\n                oldValue = approveStatus[oldForm[key].approve_status] || ' -- ';\n                newValue = approveStatus[newForm[key].approve_status] || ' -- ';\n                break;\n              case 'season':\n                // eslint-disable-next-line max-len\n                oldValue = `${oldForm.season?.year || ''} ${oldForm.season?.season || ''} ${findValue(oldForm.season['品牌'], getSelectionProperty('品牌')) || oldForm.season['品牌']}`;\n                // eslint-disable-next-line max-len\n                newValue = `${newForm.season?.year || ''} ${newForm.season?.season || ''} ${findValue(newForm.season['品牌'], getSelectionProperty('品牌')) || newForm.season['品牌']}`;\n                break;\n              case 'supplier_price_array':\n                oldValue = handleSupplierPriceArr(\n                  oldForm[key],\n                  priceUnits,\n                  allSupplierList,\n                );\n                newValue = handleSupplierPriceArr(\n                  newForm[key],\n                  priceUnits,\n                  allSupplierList,\n                );\n                type = 1;\n                break;\n              default:\n                console.log(key);\n                console.log(oldForm[key], newForm[key]);\n                oldValue = findValue(\n                  oldForm[key],\n                  getSelectionProperty(key as string),\n                );\n                newValue = findValue(\n                  newForm[key],\n                  getSelectionProperty(key as string),\n                );\n                console.log(oldValue, newValue);\n                label = label ?? key as string;\n                break;\n            }\n          }\n\n          return {\n            label,\n            oldValue,\n            newValue,\n            type,\n          };\n        });\n        console.info(messages);\n        // debugger;\n        return messages.filter((item) => {\n          // console.log(item);\n          return item.oldValue !== undefined && item.newValue !== undefined;\n        });\n      },\n      {},\n      {\n        initialValue: undefined,\n      },\n    );\n\n    return {\n      messageList,\n      itemName,\n      oldForm,\n      newForm,\n      showAll,\n      showSupplierPrice,\n      changeLogRef,\n      isSidebar,\n      isSupplier,\n      // fetchCategory,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=57918cc7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57918cc7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57918cc7\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=style&index=0&id=54889722&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=style&index=0&id=7d61fe97&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"refsForm\",staticClass:\"flex-wrap upload-form\",staticStyle:{\"background-color\":\"#fff\"},attrs:{\"model\":_vm.newMaterial,\"rules\":_vm.rules,\"size\":\"small\"}},[(_vm.status === 'upload' && _vm.isQt())?_c('el-divider',{staticClass:\"divider\"}):_vm._e(),_c('el-form-item',{staticStyle:{\"width\":\"100%\",\"padding-right\":\"0\"},attrs:{\"label\":\"选择分类\",\"prop\":\"extraProperty.category\",\"required\":\"\"}},[_c('MaterialTypeCascade',{ref:\"typeCascade\",staticClass:\"fixed-width anta\",staticStyle:{\"width\":\"50%\",\"padding-right\":\"20px\"},attrs:{\"strictMode\":true,\"showClearable\":false,\"disabled\":_vm.status === 'edit'},on:{\"change\":function (ids, nodes) {\n          _vm.updateInfo('category', ids[ids.length - 1]);\n          _vm.categoryArr = nodes;\n        }},model:{value:(_vm.parentIds),callback:function ($$v) {_vm.parentIds=$$v},expression:\"parentIds\"}})],1),(_vm.parentIds.length)?_c('el-divider'):_vm._e(),_c('AntaMiddleClass2Form',{ref:\"templateForm\",staticClass:\"dynamic-form flex-wrap\",attrs:{\"jsonschemaListHander\":_vm.setJsonschemaFormItem,\"disabled\":!_vm.canEdit,\"size\":\"small\",\"validateDropdownItemImmediatly\":_vm.status === 'upload',\"middleClassId\":_vm.middleCategoryId || '',\"formData\":_vm.propertyFromTemplate}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export type PublicKey = Exclude<PropertyKey, symbol>;\n\n/**\n * parse a string to [[PublicKey]] array\n *\n * ```javascript\n *  parse('a[0].b[2]') // => ['a', 0, 'b', 2]\n * ```\n *\n * @param str the string you wanna parse\n */\nconst r = /(?=(?:\\[|\\.))/;\nexport function parse(str: string): PublicKey[] {\n  return str.split(r)\n    .filter(item => item.trim())\n    // eslint-disable-next-line no-nested-ternary\n    .map(item => (item[0] === '.' ? item.substr(1) : (item[0] === '[' ? +item.substr(1, item.length - 2) : item)));\n}\n\n\n/**\n * query the result from target by keys\n * @param target\n * @param keys\n * @param createdTarget if it's ```true```, this funciton will create object or array when necessary\n * ```javascript\n * const obj = { a: { b: [1, 2] } }\n * query(obj, 'a.b[0]') // => { target: [1, 2], key: 0, value: 1 }\n * ```\n * or with **createTarget** param\n * ```javascript\n * const obj = { }\n * query(obj, 'a.b[0]', true) => { target: [], key: 0, value: undefined }\n * ```\n *\n */\nexport function query(target: any, keys?: string | PublicKey[] | null, createdTarget = false) {\n  if (keys == null || keys === '') {\n    return { target, key: undefined, value: target };\n  }\n  if (typeof keys === 'string') {\n    keys = parse(keys) as PublicKey[];\n  } else {\n    keys = keys.slice() as PublicKey[];\n  }\n  let value = target;\n  let key: PublicKey;\n  if (!keys.length) {\n    return { target, value };\n  }\n  do {\n    target = value;\n    key = keys.shift()!;\n    if (target && !Object.prototype.hasOwnProperty.call(target, key) && createdTarget) {\n      if (typeof key === 'number') {\n        target[key] = [];\n      } else {\n        target[key] = {};\n      }\n    }\n    // this line may throw when target is undefined, and i do not need handle\n    value = target[key];\n  } while (keys.length);\n  return { target, key, value };\n}\n\n/**\n * deepin target, and set value of keys from target\n * @param target\n * @param keys\n * @param value\n *\n * ```javascript\n *\n * const obj = { a: { b: [1, 2] } }\n * query(obj, 'a.b[0]', 3)\n * obj.a.b[0] === 3 // => true\n *\n * ```\n */\nexport function set(target: object, keys: string | PublicKey[] | null, value: any, createdTarget = true): void {\n  const result = query(target, keys, createdTarget);\n  if (result.key) {\n    result.target[result.key] = value;\n  }\n}\n\n\nexport default set;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"season-select\"},[_c('el-select',_vm._b({directives:[{name:\"elSelectMiddle\",rawName:\"v-elSelectMiddle\"}],attrs:{\"filterable\":\"\",\"filter-method\":_vm.handlerFilter},on:{\"change\":_vm.handleChange,\"visible-change\":_vm.handleVisable},model:{value:(_vm.currentValue),callback:function ($$v) {_vm.currentValue=$$v},expression:\"currentValue\"}},'el-select',_vm.$attrs.attrs,false),_vm._l((_vm.options),function(ref){\nvar id = ref.id;\nvar value = ref.value;\nvar isDelete = ref.isDelete;\nreturn _c('el-option',{key:id,attrs:{\"disabled\":isDelete === 1,\"value\":id,\"label\":value}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { fetchAntaPropertyByCode } from '@/loaders/dictionary';\n\nexport type Obj = {\n  [key in string | number]: any;\n};\n\nexport interface ObjValue{\n  year: string,\n  season: 'Q1'|'Q2'|'Q3'|'Q4'|'',\n  品牌: string\n}\nexport type Value = ObjValue | null;\n\nexport interface Option{\n  id: string,\n  value:string,\n}\n\nexport type Options = Option[];\n\nexport const _map:Obj = {\n  0: 'year',\n  1: 'season',\n  2: '品牌',\n};\n\n\nconst getYears = () => {\n  const currentYear = 2020;\n  // const range = [-20, 50];\n  // const sortNums = [...Array(range[1] - range[0])].map((_, i) => range[0] + i).sort((a, b) => Math.abs(a) - Math.abs(b));\n  const afterYears = [...Array(51)].map((_, i) => currentYear + i);\n  const beforeYears = [...Array(20)].map((_, i) => currentYear - i - 1);\n  const years = [...afterYears, ...beforeYears].map(item => {\n    const value = `${item}`;\n    return {\n      id: value,\n      label: value,\n    };\n  });\n  return years;\n};\n\nconst getSeansons = () => [...Array(4)].map((_, i) => ({ id: `Q${i + 1}`, label: `Q${i + 1}` }));\n\nconst combine = (chunks:Obj[][]) => {\n  const result:any[] = [];\n\n  const helper = (i:number, prev:Obj[] = []) => {\n    if (i === chunks.length) {\n      result.push(prev);\n      return;\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of chunks[i]) {\n      helper(i + 1, [...prev, item]);\n    }\n  };\n\n  helper(0);\n\n  return result;\n};\n\nexport const getCombines = async () => {\n  const productTypes = await fetchAntaPropertyByCode('品牌');\n  const years = getYears();\n  const seasons = getSeansons();\n  let combines = combine([years, seasons, productTypes]);\n\n\n  combines = combines.map(_combine => {\n    const value = _combine.reduce((obj:Obj, cur:Obj, index:number) => {\n      const key = _map[index];\n      obj[key] = cur.id;\n      return obj;\n    }, {});\n\n    const id = JSON.stringify(value);\n    const label = _combine.map((item:Obj, i:number) => (_map[i] === 'year' ? +item.label.slice(2) : item.label)).join('');\n\n    return {\n      id,\n      value: label,\n    };\n  });\n\n  return combines;\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, toRefs, watch, onBeforeMount, markRaw, shallowReactive, getCurrentInstance,\n} from '@vue/composition-api';\nimport useClosest from '_/composables/use-closest';\nimport {\n  getCombines, Options, Value, ObjValue,\n} from './utils';\n\n\nlet allOptions: Options = [];\nlet prevOptions: Options = [];\nconst OPTIONS_LIMIT = 100;\n\n\nconst getFilterList = (lableStr: string = '') => {\n  const filters = allOptions.filter(item => item.value.includes(lableStr));\n  const slices = filters.slice(0, OPTIONS_LIMIT);\n  return slices;\n};\n\n// 初始化时的筛选逻辑\nconst getInitFilterList = (labelStr:string = '') => {\n  const index = allOptions.findIndex(item => item.value.includes(labelStr));\n  const slices = allOptions.slice(index, index + OPTIONS_LIMIT);\n  return slices;\n};\n\nexport default defineComponent({\n  name: 'season-select',\n  props: {\n    value: {\n      type: Object as () => Value,\n      requied: true,\n    },\n    productTypes: {\n      type: Array,\n    },\n  },\n  setup(props, { emit, refs }) {\n    const ElFormItem = useClosest('ElFormItem');\n    const emptyValue = null;\n    const state = shallowReactive({\n      currentValue: emptyValue as string | null,\n      options: markRaw([]) as Options,\n    });\n\n    const value2CurrenValue = (val?: Value) => {\n      const stringifyValue = (objVal: ObjValue) => {\n        const obj = {\n          year: objVal.year,\n          season: objVal.season,\n          品牌: objVal.品牌,\n        };\n        return JSON.stringify(obj);\n      };\n      state.currentValue = !val ? emptyValue : stringifyValue(val!);\n    };\n\n    const currentValue2Value = (val: string | null) => {\n      const value = !val ? emptyValue : JSON.parse(val);\n      emit('input', value);\n\n      // 解决校验时拿的是旧值的问题\n      return ElFormItem.value?.$emit('el.form.change');\n    };\n\n    const init = async () => {\n      allOptions = await getCombines();\n      // 初始加载时的options加载筛选逻辑，如果有值，默认以年份搜索\n      const initLableStr = props.value?.year?.slice(2, 4) || '';\n      state.options = getInitFilterList(initLableStr);\n      value2CurrenValue(props.value);\n    };\n\n    watch(() => props.value, val => {\n      value2CurrenValue(val);\n    });\n\n    watch(() => state.currentValue, val => {\n      currentValue2Value(val);\n    });\n\n    watch(() => props.productTypes, () => {\n      init();\n    }, {\n      immediate: true,\n    });\n\n\n    // onBeforeMount(() => {\n    //  init();\n    // });\n\n    const handlerFilter = (value: string) => {\n      state.options = getFilterList(value);\n    };\n\n    const handleChange = () => {\n      prevOptions = state.options;\n    };\n\n    const handleVisable = (isShow: boolean) => {\n      if (isShow) return;\n      if (!prevOptions?.length) return;\n      state.options = prevOptions;\n    };\n\n    return {\n      ...toRefs(state),\n      handlerFilter,\n      handleChange,\n      handleVisable,\n    };\n  },\n});\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5aa64bef&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5aa64bef&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aa64bef\",\n  null\n  \n)\n\nexport default component.exports","import { defineComponent } from '@vue/composition-api';\n// import NumberType from '@4dst-saas/form-utils/dist/components/jsonschema2form/NumberType';\nimport NumberType from '@4dst-saas/form-utils/dist/components/jsonschema2form/NumberType';\nimport isFilled from '@/utils/validators/is-filled';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\n\nconst PriceFormItem = defineComponent({\n  // model: {\n  //   prop: 'reference_price',\n  //   event: 'change',\n  // },\n  props: {\n    reference_price: {\n      type: Object as () => {\n        value: number, unit: number,\n      },\n      reuqired: true,\n      default: () => ({\n        value: null,\n        unit: 1,\n      }),\n    },\n  },\n\n  render() {\n    // const { $attrs: attrs } = this;\n    return <div class=\"flex\" style=\"width: 100%;\" >\n      <NumberType {...this.$attrs.attrs}\n        val={ this.reference_price.value }\n        rules={ this.$attrs.required ? validator2ElemRule(isFilled) : null}\n        onchange={(e: number) => {\n          this.reference_price.value = e;\n          // this.$set(this.reference_price, 'value', e);\n          // console.info(this.reference_price);\n          // this.$emit('change', this.reference_price);\n        }}\n      ></NumberType>\n      <el-select\n        disabled={this.$attrs.disabled}\n        size=\"small\"\n        style=\"width: 124px; margin-left: 6px\"\n        vModel={ this.reference_price.unit }\n        // value={ this.reference_price.unit }\n        // onchange={(e: number) => {\n        //   this.reference_price.unit = e;\n        //   this.$set(this.reference_price, 'unit', e);\n        //   console.info(this.reference_price);\n        //   // thi-s.$emit('change', this.reference_price);\n        // }}\n        >\n        <el-option value={1} label='人民币'></el-option>\n        <el-option value={2} label='美元'></el-option>\n      </el-select>\n    </div>;\n  },\n});\n\nexport default PriceFormItem;\n","\nimport { defineComponent, onMounted, ref } from '@vue/composition-api';\n// import axios from '@/utils/axios';\nimport { fetchSupplierAll } from '@/loaders/supplier';\n\nconst SupplierSelect = defineComponent({\n  name: 'SupplierSelect',\n  props: {\n    supplier_name: String,\n  },\n  model: {\n    prop: 'supplier_name',\n    event: 'change',\n  },\n  setup() {\n    const supplierList = ref([]);\n    onMounted(async () => {\n      supplierList.value = await fetchSupplierAll();\n    });\n    return {\n      supplierList,\n    };\n  },\n\n  render() {\n    return <el-select { ...{ attrs: this.$attrs.attrs } } value={this.supplier_name} onchange={ (e: string) => this.$emit('change', e) }>\n    {/* // return <el-select vModel={this.supplier_name} { ...this.$attrs.attrs }> */}\n      {this.supplierList.map((s: {id: string, name: string, originalSupplierName: string}) => {\n        return <el-option value={s.id} label={ s.originalSupplierName }></el-option>;\n      })}\n    </el-select>;\n  },\n});\n\nexport default SupplierSelect;\n","import axios from '@/utils/axios';\nimport {\n  attribute2JSONschema, IAttribute, jsonschema2FormItemValidatorObject,\n} from '@/components/anta-customer-files/attribute';\nimport useLoader from '_/composables/use-loader';\nimport extract from '_/extract';\nimport {\n  computed,\n  defineComponent, reactive, ref, toRefs,\n} from '@vue/composition-api';\nimport SeasonSelect from '@/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue';\nimport PriceFormItem from '@/views/material/info-anta/components/FormComponents/PriceFormItem';\nimport SupplierSelect from '@/views/material/info-anta/components/FormComponents/SupplierSelect';\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport Jsonschema2Form from '@4dst-saas/form-utils/dist/components/jsonschema2form';\nimport Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\nimport difference from '@4dst-saas/public-utils/dist/difference';\n\nexport default defineComponent({\n  name: 'AntaMiddleClass2Form',\n  components: {\n    SeasonSelect,\n    PriceFormItem,\n    SupplierSelect,\n    MaterialTypeCascade,\n  },\n  props: {\n    middleClassId: {\n      type: String, required: true,\n    },\n    formData: {\n      type: Object as () => { [key: string]: any },\n      default: () => {\n        return {\n        // eslint-disable-next-line quote-props\n          // '测试下拉': '1306902076941131778',\n        };\n      },\n    },\n    validateDropdownItemImmediatly: { type: Boolean, default: true },\n    jsonschemaListHander: {\n      type: Function as unknown as () => (jss: Jsonschema[]) => Jsonschema[],\n    },\n    showValidateButton: { type: Boolean, default: false },\n  },\n  render() {\n    if (!this.middleClassId || this.notHasTemplate) {\n      return <div></div>;\n    }\n    // if (!this.jsonschema) {\n    //   return <div vLoading={true} style={{\n    //     height: '300px', width: '100%',\n    //   }}></div>;\n    // }\n    // return <AnalysisWrapper jsonschema={this.jsonschema} formData={this.formData}\n    // form={this.formData}></AnalysisWrapper>;\n    const j2f = <Jsonschema2Form ref='formRef' jsonschema={this.jsonschema} {...{ attrs: this.$attrs }}\n      // formItemValidator={this.formItemValidator}\n      form={this.validateDropdownItemImmediatly ? this.formData : (this.form || this.formData)}\n      onchange={(v: any) => this.$emit('change', v)}\n      labelPosition='top' showValidateButton={this.showValidateButton}\n      ></Jsonschema2Form>;\n    const style = {\n      height: '200px',\n      width: '100%',\n    };\n    return this.jsonschema ? j2f : <div vLoading={true} style={style}>\n      <div vShow={false}>{j2f}</div>\n    </div>;\n  },\n  setup(props, { emit }) {\n    // let t1:any = null;\n    const propertylist = useLoader(async ({ middleClassId: id }) => {\n      if (!id) return null;\n      const r = (await axios({\n        url: '/anta-material/template/middle',\n        params: { id },\n        method: 'GET',\n      })).data as { propertyId?: string, sort: number, isSystem?: boolean, key: string, title: string, required: 0|1}[];\n      if (!r.length) emit('error', new Error('对应的中类没有模板，请更换一个有模板的中类'));\n      return r.sort((a, b) => a.sort - b.sort);\n      // return t1;\n    }, extract(toRefs(props), ['middleClassId']), {\n      initialValue: null,\n      loadingValue: (lastResult) => lastResult,\n    });\n\n    // let t2:any = null;\n    const jsonschema = useLoader(async ({ propertylist: pList }) => {\n      if (!pList || !pList.length) return null;\n\n      const list = await Promise.all(pList.map(async (propertyItem) => {\n        if (propertyItem.isSystem) {\n          return propertyItem;\n        }\n        return {\n          ...(await axios({\n            url: `/anta-material/dynamics/property/detail?id=${propertyItem.propertyId}`, method: 'GET',\n          })).data,\n          required: !!propertyItem.required,\n        } as IAttribute;\n      }));\n      let jssList = attribute2JSONschema(list) as Jsonschema[];\n\n      if (props.jsonschemaListHander) jssList = props.jsonschemaListHander(jssList);\n      // t2 = jssList;\n      return jssList;\n      // const res = JSONschemaList2JSONschema(jssList);\n      // return res;\n    }, reactive({ propertylist }), { initialValue: null, loadingValue: (lastResult) => lastResult });\n    const formRef = ref<InstanceType<typeof Jsonschema2Form>>();\n\n    // const formItemValidator = useLoader(({ jsonschema: _jss }) => {\n    //   if (!_jss) return null;\n    //   const res = jsonschema2FormItemValidatorObject(_jss);\n    //   // console.log(res, res['测试下拉']('6'));\n    //   return res;\n    // }, reactive({ jsonschema }));\n\n    const form = useLoader(async ({ jsonschema: _jss, formData: _form }) => {\n      if (!_jss || !Object.keys(_form).length) return _form;\n      // const properties = _jss.properties!;\n      // const propertiesKeys = Object.keys(properties);\n      const formKeys = Object.keys(_form);\n      const shouldHandleKeys = formKeys.filter(key => {\n        if (_jss.find(i => i.prop === key || i.title === key)) return true;\n        return false;\n      });\n      const shouldFetchList: {key: string, id: string}[] = [];\n      shouldHandleKeys.forEach(key => {\n        const jss = _jss.find(i => i.prop === key || i.title === key)!;\n        if (!jss.oneOf && !jss.anyOf) return;\n        const currentValue = _form[key]! as string | string[];\n        if (Array.isArray(currentValue)) {\n          const constList = jss.anyOf!.map(item => item.const) as unknown as {\n            label: string, value: string,\n          }[];\n          const notFounds = currentValue.filter(id => !constList.find(i => i.value === id));\n          if (notFounds.length) {\n            const founds = difference(currentValue, notFounds);\n            _form[key] = founds;\n            shouldFetchList.push(...notFounds.map(id => ({ id, key })));\n          }\n        } else {\n          const constList = jss.oneOf!.map(item => item.const) as unknown as {\n            label: string, value: string,\n          }[];\n          const target = constList.find(i => i.value === currentValue);\n          if (!target) shouldFetchList.push({ key, id: currentValue });\n        }\n      });\n      await Promise.all(shouldFetchList.map(async ({ key, id }) => {\n        const value = (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id },\n        })).data as string;\n        if (Array.isArray(_form[key])) {\n          _form[key].push(value);\n        } else {\n          _form[key] = value;\n        }\n      }));\n      return _form;\n    }, reactive({ jsonschema, ...extract(toRefs(props), ['formData']) }));\n\n    // watchEffect(async () => {\n    //   if (jsonschema.value) {\n    //     await delay(500);\n    //     Object.assign(form.value, { ...props.formData });\n    //     Object.assign(props.formData, form.value);\n    //   }\n    // });\n    async function validate() {\n      // 没有模板时，不用校验\n      if (!formRef.value) return true;\n      return formRef.value.validate();\n    }\n    return {\n      formRef,\n      jsonschema,\n      // formItemValidator,\n      notHasTemplate: computed(() => !!propertylist.value?.map(p => p.propertyId) && !propertylist.value?.map(p => p.propertyId).length),\n      form,\n      validate,\n    };\n  },\n});\n","import isFilled from '@/utils/validators/is-filled';\n// import strLength from '@/utils/validators/str-length';\n// import validPrice from '@/utils/validators/valid-price';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\n// import i18n from 'i18next';\n\nconst rules = {\n  extraProperty: {\n    category: validator2ElemRule(isFilled),\n  },\n};\nexport default rules;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, onMounted, provide, watch, computed, onBeforeUnmount, onUnmounted,\n} from '@vue/composition-api';\n\nimport axios from '@/utils/axios';\nimport set from '@/utils/key-serializer';\nimport isQt from '@/utils/is-qt';\n\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport { AntaMaterialInfo } from '@/models/AntaMaterialInfo';\nimport { fetchAntaPropertyByCode } from '@/loaders/dictionary';\nimport validateForm from '@/utils/validators/validate-form';\n\nimport { getCurrentCompany } from '@/loaders/company';\n\nimport AntaMiddleClass2Form from '@/components/dynamic-form/AntaMiddleClass2Form';\n\nimport DictionarySelectorNew from '@/components/dictionary/DictionarySelectorNew.vue';\n// import DictionarySelectorAnta from '@/components/dictionary/DictionarySelectorAnta.vue';\nimport { getHost, exec } from '@/utils/exec';\nimport { ElForm } from 'element-ui/types/form';\n// import ReferencePrice from './FormComponents/ReferencePrice';\nimport SeasonSelect from './FormComponents/SeasonSelect/index.vue';\nimport rules from './detail-validate';\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId: string, language = 'cn') => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n    },\n    params: { materialId },\n  });\n};\n\n// 类目详情\nexport const fetchMaterialDetail = async (id: string) => {\n  return (await axios({\n    method: 'get',\n    url: `/anta-material/category/detail?id=${id}`,\n  })).data;\n};\n\n// 类目详情\nexport const fetchDefaultUnitId = async (property: string) => {\n  return (await axios({\n    method: 'get',\n    url: '/anta-material/system/default/unit/category',\n    params: {\n      property,\n    },\n  })).data;\n};\n\n// 修改面料详情新增操作记录\nexport const addOperate = (groupAppId: string, data: { relateId: string, params: any }) => {\n  return axios({\n    headers: {\n      groupAppId,\n    },\n    method: 'post',\n    url: '/msgcenter/operate/add',\n    data,\n  });\n};\n\n// 获取全部供应商\nexport async function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nexport default defineComponent({\n  name: 'AntaMaterialForm',\n  components: {\n    // DictionarySelectorNew,\n    // DictionarySelectorAnta,\n    MaterialTypeCascade,\n    // ReferencePrice,\n    // SeasonSelect,\n    AntaMiddleClass2Form,\n  },\n  props: {\n    material: {\n      type: Object,\n      default: null,\n    },\n    status: {\n      type: String as () => 'upload' | 'edit' | 'convert',\n      default: 'edit',\n    },\n    templateMaterialId: {\n      type: String,\n      default: '',\n    },\n    isCreator: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  setup(props, { root }) {\n    const host = ref(null);\n\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n\n    // 表单ref\n    const templateForm = ref<InstanceType<typeof AntaMiddleClass2Form>>();\n    const refsForm = ref<InstanceType<typeof ElForm>>();\n    const typeCascade = ref<InstanceType<typeof MaterialTypeCascade>>();\n\n    // 自动表单数据\n    const propertyFromTemplate = ref<Partial<AntaMaterialInfo['extraProperty'] & { materialName: string }>>({});\n\n    // 是否创建者\n    // const isCreator = ref(false);\n\n    const canEdit = computed(() => {\n      return props.status === 'upload' || props.status === 'convert' || (props.status === 'edit' && props.isCreator);\n    });\n\n    provide('getStatus', props.status);\n\n    // 用于保存变更记录\n    const updateData = ref<{ [key: string]: any }[]>([{}, {}]);\n\n    // 获取全部供应商列表\n    const supplierList = ref<{ [key: string]: { companyId?: string, id: string, name: string, originalSupplierName: string } }>({});\n\n    // 用于对比哪些属性发生改变\n    const oldMaterial = ref<Partial<AntaMaterialInfo>>({});\n    const newMaterial = ref<AntaMaterialInfo>({\n      materialName: '',\n      extraProperty: {\n        category: '',\n        evergreen: 2,\n      },\n    });\n\n    // 获取分类信息\n    const parentIds = ref<string[]>([]);\n\n    // 中类ID\n    const middleCategoryId = computed(() => parentIds.value[1]);\n\n    // 类别节点数组\n    const categoryArr = ref<any[]>([]);\n\n    watch(() => categoryArr.value, async (v: any[]) => {\n      if ((props.status === 'upload' || props.status === 'convert')) {\n        const unit = await fetchDefaultUnitId(v[2].name);\n        if (!props.templateMaterialId) {\n          const companyId = await getCurrentCompany()?.id || '';\n          root.$set(propertyFromTemplate.value, '单位', unit);\n          root.$set(propertyFromTemplate.value, 'supplier_name', Object.values(supplierList.value).find((s) => s.companyId === companyId)?.id || '');\n          root.$set(propertyFromTemplate.value, 'reference_price', { value: null, unit: 1 });\n          root.$set(propertyFromTemplate.value, '品牌编码', (await fetchAntaPropertyByCode('品牌编码'))[0].id);\n        }\n      }\n    });\n\n    watch(() => templateForm.value?.jsonschema, async (val) => {\n      if (val) {\n        await root.$nextTick();\n        const form = refsForm.value?.$el as unknown as HTMLFormElement;\n\n        if (host.value) {\n          await exec('recvWebSizeChanged', {\n            width: form.offsetWidth,\n            height: form.offsetHeight,\n          });\n        }\n      }\n    });\n\n    // 处理jsonschema\n    function setJsonschemaFormItem(jss: any[]) {\n      jss.find(i => i.prop === 'materialName').maxLength = 512;\n      jss.find(i => i.prop === 'supplier_name').filterable = true;\n      if (props.status === 'edit') {\n        jss.find(i => i.title === '品牌编码').disabled = true;\n        jss.find(i => i.prop === 'season').disabled = true;\n        if (!props.material.extraProperty.season) {\n          jss.find(i => i.prop === 'season').required = false;\n        }\n        if (jss.find(i => i.prop === 'supplier_name')) {\n          jss.find(i => i.prop === 'supplier_name').disabled = true;\n        }\n      } else {\n        const materialNumberIndex = jss.findIndex(i => i.prop === 'material_number');\n        if (materialNumberIndex !== -1) {\n          jss.splice(materialNumberIndex, 1);\n        }\n      }\n\n      const categoryIndex = jss.findIndex(i => i.prop === 'category');\n      if (categoryIndex !== -1) {\n        jss.splice(categoryIndex, 1);\n      }\n      const costIndex = jss.findIndex(i => i.prop === 'cost');\n      if (costIndex !== -1) {\n        jss.splice(costIndex, 1);\n      }\n      if (isSupplier.value) {\n        const evergreenIndex = jss.findIndex(i => i.prop === 'evergreen');\n        if (evergreenIndex !== -1) {\n          jss.splice(evergreenIndex, 1);\n        }\n        if (jss.find(i => i.prop === 'supplier_name')) {\n          jss.find(i => i.prop === 'supplier_name').disabled = true;\n        }\n      }\n      return jss;\n    }\n\n    // 提交变更记录（外部调用）\n    async function addOperateToRecord(groupAppId = '') {\n      if (!groupAppId) return;\n\n      // 统计变更记录数量\n      let count = 0 as number;\n\n\n      const _propertyFromTemplate = JSON.parse(JSON.stringify(propertyFromTemplate.value));\n      const firstSupplier = {\n        reference_price_unit: _propertyFromTemplate.reference_price.unit,\n        reference_price_value: _propertyFromTemplate.reference_price.value,\n        cost_unit: 1,\n        cost_value: '',\n        supplier_name: _propertyFromTemplate.supplier_name,\n        delete_status: 0,\n        supplier_status: 1,\n      };\n\n      let _newMaterial = {\n        ...newMaterial.value,\n        materialName: _propertyFromTemplate.materialName,\n      } as Partial<AntaMaterialInfo>;\n\n      const omitList = ['materialName', 'reference_price', 'cost', 'supplier_name'];\n      omitList.forEach((i) => {\n        if (Object.hasOwnProperty.call(_propertyFromTemplate, i)) {\n          delete _propertyFromTemplate[i];\n        }\n      });\n\n      _newMaterial = {\n        ..._newMaterial,\n        extraProperty: {\n          ...newMaterial.value.extraProperty,\n          ..._propertyFromTemplate,\n          supplier_price_array: [\n            firstSupplier,\n            ...newMaterial.value.extraProperty.supplier_price_array!.slice(1),\n          ],\n        },\n      };\n      Object.keys(_newMaterial.extraProperty!).forEach((_p) => {\n        const p = _p as keyof AntaMaterialInfo['extraProperty'];\n        if ([\n          'material_status',\n          'cite_status',\n          'decline_reason',\n          'supplier_price_obj',\n          'decline_time',\n          'approve_detail',\n          'season',\n        ].find(i => i === p)) {\n          return;\n        }\n\n        if (p === 'supplier_price_array') {\n          _newMaterial.extraProperty!.supplier_price_array!.forEach((priceItem, i) => {\n            let diffPriceCount = 0;\n            Object.keys(priceItem).forEach(key => {\n              const oldPriceItem = oldMaterial.value.extraProperty!.supplier_price_array!;\n              if (priceItem[key as keyof typeof priceItem] !== oldPriceItem[i][key as keyof typeof priceItem]) {\n                diffPriceCount += 1;\n              }\n            });\n            if (diffPriceCount > 0) {\n              updateData.value[0][p] = _newMaterial.extraProperty![p];\n              updateData.value[1][p] = oldMaterial.value.extraProperty?.[p];\n              count += 1;\n            }\n          });\n        } else if (JSON.stringify(_newMaterial.extraProperty![p]) !== JSON.stringify(oldMaterial.value.extraProperty?.[p])\n          && (!!_newMaterial.extraProperty![p] || !!oldMaterial.value.extraProperty?.[p])) {\n          updateData.value[0][p] = _newMaterial.extraProperty![p];\n          updateData.value[1][p] = oldMaterial.value.extraProperty?.[p];\n          count += 1;\n        }\n      });\n\n      if (_newMaterial.materialName === oldMaterial.value.materialName && count === 0) {\n        return;\n      }\n\n      updateData.value[0].materialName = _newMaterial.materialName;\n      updateData.value[1].materialName = oldMaterial.value.materialName;\n\n      const relateId = _newMaterial.originalId;\n      if (relateId) {\n        await addOperate(groupAppId, {\n          relateId,\n          params: updateData.value,\n        });\n      }\n    }\n\n    // 修改鞋模型信息\n    function updateInfo(prop: string, value: unknown | number | string) {\n      if (typeof value === 'string') {\n        value = value.replace(/（/g, '(').replace(/）/g, ')');\n      }\n      if (prop === 'materialName') {\n        // set(updateObj.value, prop, value);\n        set(newMaterial.value, prop, value);\n      } else {\n        // 分类\n        // set(updateObj.value.extraProperty, prop, value);\n        set(newMaterial.value.extraProperty, prop, value);\n      }\n    }\n\n    // 检测表单是否通过校验,通过后返回表单数据（外部调用）\n    async function getFormData() {\n      await Promise.all([validateForm(refsForm.value!), templateForm.value?.validate()]);\n\n      let formMatarialData = {\n        materialName: propertyFromTemplate.value.materialName,\n      } as Partial<AntaMaterialInfo>;\n\n      const _propertyFromTemplate = JSON.parse(JSON.stringify(propertyFromTemplate.value));\n\n      const firstSupplier = {\n        reference_price_unit: _propertyFromTemplate.reference_price.unit,\n        reference_price_value: _propertyFromTemplate.reference_price.value,\n        cost_unit: 1,\n        cost_value: '',\n        supplier_name: _propertyFromTemplate.supplier_name,\n        delete_status: 0,\n        supplier_status: 1,\n      };\n\n      const omitList = ['materialName', 'reference_price', 'cost'];\n      omitList.forEach((i) => {\n        if (Object.hasOwnProperty.call(_propertyFromTemplate, i)) {\n          delete _propertyFromTemplate[i];\n        }\n      });\n\n\n      if (props.status === 'upload' || props.status === 'convert') {\n        // 获取大类中类名称\n        let bigType = '';\n        let midType = '';\n        if (categoryArr.value.length) {\n          bigType = categoryArr.value[0].name;\n          midType = categoryArr.value[1].name;\n        } else {\n          const checkedNodes = typeCascade.value?.getCheckedNodes();\n          bigType = checkedNodes[0].name;\n          midType = checkedNodes[1].name;\n        }\n        formMatarialData = {\n          ...formMatarialData,\n          businessType: 1,\n          extraProperty: {\n            ...newMaterial.value.extraProperty,\n            ..._propertyFromTemplate,\n            category: newMaterial.value.extraProperty.category,\n            supplier_price_array: [\n              firstSupplier,\n              // ...newMaterial.value.extraProperty.supplier_price_array.slice(1),\n            ],\n            大类: bigType,\n            中类: midType,\n            // material_number: materialNumber,\n          },\n        };\n      } else {\n        formMatarialData = {\n          ...formMatarialData,\n          businessType: 1,\n          extraProperty: {\n            ...newMaterial.value.extraProperty,\n            ..._propertyFromTemplate,\n            supplier_price_array: [\n              firstSupplier,\n              ...newMaterial.value.extraProperty.supplier_price_array!.slice(1),\n            ],\n          },\n        };\n      }\n\n      if (props.isCreator && props.status === 'edit') {\n        formMatarialData.extraProperty!.material_status = 1;\n      }\n\n      // 上传\n      if (props.status === 'upload' && isQt()) {\n        return {\n          success: true,\n          errorMsg: '',\n          material: formMatarialData,\n        };\n      }\n\n      if (props.templateMaterialId) {\n        const imgJson = {} as { [key: string]: string };\n        let renderingJson = {};\n        let fileInfo = '';\n        if (newMaterial.value.imgJson) {\n          Object.keys(newMaterial.value.imgJson).forEach((i) => {\n            imgJson[i] = newMaterial.value.imgJson![i].split('?')[0].split('/').splice(-2).join('/');\n          });\n        }\n        if (newMaterial.value.fileInfo) {\n          fileInfo = newMaterial.value.fileInfo.split('?')[0].split('/').splice(-2).join('/');\n        }\n        if (newMaterial.value.renderingJson) {\n          renderingJson = newMaterial.value.renderingJson;\n        }\n\n        formMatarialData = {\n          ...formMatarialData,\n          imgJson,\n          fileInfo,\n          renderingJson,\n        };\n      }\n      // debugger;\n\n      console.info(formMatarialData);\n\n      console.info(formMatarialData);\n\n      return formMatarialData;\n    }\n\n    onMounted(async () => {\n      // 上传\n      if (props.status === 'upload' && isQt()) {\n        host.value = await getHost();\n\n        if (host.value && root.$route.path.includes('/qt/upload/anta-material')) {\n          host.value!.on('requestAntaForm', async () => {\n            let formData = {};\n            if (templateForm.value?.notHasTemplate) {\n              formData = {\n                success: false,\n                errorMsg: '对应的分类没有模板，请更换一个有模板的分类',\n                material: null,\n              };\n            }\n            try {\n              formData = await getFormData();\n            } catch (e) {\n              formData = {\n                success: false,\n                errorMsg: '',\n                material: null,\n              };\n            }\n\n            await exec('recvAntaForm', formData);\n          });\n        }\n      }\n      window.onmousewheel = async (e) => {\n        if (isQt() && root.$route.path.includes('/qt/upload/anta-material')) {\n          if (e.target.className.includes('el-form-item') || e.target.className.includes('el-form')) {\n            await exec('onWebScrollValue', e.deltaY);\n          }\n        }\n      };\n\n      // 获取供应商信息\n      const temp = {} as { [x: string]: { id: string, name: string, originalSupplierName: string } };\n      (await fetchSupplierAll()).forEach((sup: { id: string, name: string, originalSupplierName: string }) => {\n        temp[`${sup.id}`] = sup;\n      });\n      supplierList.value = temp;\n\n      // 上传（非以此为模版）或转换、供应商\n      if (isSupplier.value && (props.status === 'upload' || props.status === 'convert') && !props.templateMaterialId) {\n        // const companyId = await getCurrentCompany()?.id || '';\n\n        // newMaterial.value.extraProperty.supplier_price_array[0].supplier_name = Object.values(supplierList.value)\n        //   .find((s) => s.companyId === companyId)?.id || '';\n\n        // propertyFromTemplate.value.supplier_name = Object.values(supplierList.value).find((s) => s.companyId === companyId)?.id || '';\n        // root.$set(propertyFromTemplate.value, 'reference_price', { value: null, unit: 1 });\n        // propertyFromTemplate.value.reference_price = { value: null, unit: 1 };\n\n        // propertyFromTemplate.value.品牌编码 = (await fetchAntaPropertyByCode('品牌编码'))[0].id;\n      }\n\n      // 以此为模版上传\n      if (props.templateMaterialId) {\n        const templateMaterial = (\n          await getMaterialInfo(props.templateMaterialId, 'cn')\n        ).data;\n\n        // $set(props, 'material', templateMaterial);\n        newMaterial.value = templateMaterial;\n\n        propertyFromTemplate.value = {\n          ...JSON.parse(JSON.stringify(newMaterial.value.extraProperty)),\n          materialName: newMaterial.value.materialName,\n          supplier_name: newMaterial.value.extraProperty.supplier_price_array![0].supplier_name,\n          reference_price: {\n            value: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_value,\n            unit: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_unit,\n          },\n          // cost: newMaterial.value.extraProperty.supplier_price_array![0].cost_value,\n        };\n      }\n\n      // 编辑\n      if (props.status === 'edit') {\n        //\n        if (props.material) {\n          newMaterial.value = props.material as AntaMaterialInfo;\n        }\n        propertyFromTemplate.value = {\n          ...JSON.parse(JSON.stringify(newMaterial.value.extraProperty)),\n          materialName: newMaterial.value.materialName,\n          supplier_name: newMaterial.value.extraProperty.supplier_price_array![0].supplier_name,\n          reference_price: {\n            value: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_value,\n            unit: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_unit,\n          },\n          // cost: newMaterial.value.extraProperty.supplier_price_array![0].cost_value,\n        };\n        oldMaterial.value = JSON.parse(JSON.stringify(newMaterial.value)) as AntaMaterialInfo;\n      }\n\n      // 如果有分类id\n      if (newMaterial.value.extraProperty.category) {\n        const res = await fetchMaterialDetail(newMaterial.value.extraProperty.category);\n        parentIds.value = [...res.parentIds.slice(), newMaterial.value.extraProperty.category];\n      }\n    });\n\n    onUnmounted(() => {\n      window.onmousewheel = null;\n    });\n    return {\n      isQt,\n      rules,\n      addOperateToRecord,\n      updateInfo,\n      parentIds,\n      getFormData,\n      middleCategoryId,\n      typeCascade,\n      propertyFromTemplate,\n      categoryArr,\n      supplierList,\n      refsForm,\n      templateForm,\n      newMaterial,\n      canEdit,\n      setJsonschemaFormItem,\n      isSupplier,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=553a3c7d&scoped=true&\"\nimport script from \"./Form.vue?vue&type=script&lang=ts&\"\nexport * from \"./Form.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&id=553a3c7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"553a3c7d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticClass:\"decline-record-table\",attrs:{\"data\":_vm.declineRecord}},[_c('error',{staticClass:\"error-block\",staticStyle:{\"height\":\"150px\",\"font-size\":\"50%\"},attrs:{\"slot\":\"empty\",\"error\":{ code: 404, message: '暂无数据' }},slot:\"empty\"}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"驳回原因\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"gmtCreateTime\",\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"驳回时间\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm._f(\"date\")(row.gmtCreateTime,'YYYY-MM-DD HH:mm')))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"creator\",\"align\":\"center\",\"label\":\"驳回人\",\"show-overflow-tooltip\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, reactive,\n} from '@vue/composition-api';\n// import { getDeclineRecord } from '@/loaders/material-mangement';\nimport axios from '@/utils/axios';\nimport useLoader from '_/composables/use-loader';\n\nasync function getDeclineRecord(id: string) {\n  return (await axios({\n    method: 'GET',\n    url: '/anta-material/audit/decline',\n    params: {\n      materialId: id,\n    },\n  })).data;\n}\nasync function getUserInfo(ids: string[]) {\n  return (await axios({\n    method: 'POST',\n    url: '/authcenter/user/im/info',\n    data: ids,\n  })).data;\n}\n\nexport default defineComponent({\n  name: 'DeclineRecord',\n  dialogify: {\n    props: {\n      // title: '驳回原因',\n      width: '540px',\n      // closeOnClickModal: false,\n      showClose: true,\n      top: 'auto',\n      bottom: 'auto',\n      flex: 'column',\n      'custom-class': 'decline-record-dialog',\n    },\n  },\n  components: {\n  },\n  props: {\n    materialId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props, { emit }) {\n    const declineRecord = useLoader(async () => {\n      const records = await getDeclineRecord(props.materialId);\n      const userIds = Array.from(new Set(records.map(item => item.creator)));\n      if (userIds.length > 0) {\n        const userInfos = await getUserInfo(userIds);\n        records.forEach(rec => {\n          rec.creator = userInfos.find(user => user.id === rec.creator)?.name;\n        });\n        return records;\n      }\n      return [];\n    });\n    return {\n      declineRecord,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DeclineRecord.vue?vue&type=template&id=2a47bbd8&scoped=true&\"\nimport script from \"./DeclineRecord.vue?vue&type=script&lang=ts&\"\nexport * from \"./DeclineRecord.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DeclineRecord.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./DeclineRecord.vue?vue&type=style&index=1&id=2a47bbd8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a47bbd8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=style&index=0&id=411b2de4&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=style&index=0&id=24588fb5&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&id=553a3c7d&lang=scss&scoped=true&\"","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useClosest = useClosest;\nexports.default = void 0;\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nvar _vueClosest = require(\"../plugins/vue-closest\");\n\n// import { InstanceOfVue } from '@/typings/vue-types.d';\nfunction useClosest(componentName) {\n  var that = (0, _compositionApi.getCurrentInstance)();\n  return (0, _compositionApi.computed)(function () {\n    if (!that) {\n      return undefined;\n    }\n\n    return _vueClosest.closest.call(that, componentName);\n  });\n}\n\nvar _default = useClosest;\nexports.default = _default;","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6d552865&lang=scss&scoped=true&\"","\n\n// 在一定区域内，禁止浏览器的的拖拽默认行为\nexport const blockDragEffect = (DOM) => {\n  const dropzoneId = 'dropzone';\n\n  function loopAncestorNode(dom, id, n) {\n    let result = false;\n    let counter = 0;\n    let currentNode = dom;\n\n    while (counter < n) {\n      counter++;\n      // 如果是上一个节点为空时，跳出循环\n      if (!currentNode) break;\n\n      // 当父节点的ID为拖动区域时，返回ture\n      if (currentNode.id === id) {\n        result = true;\n        break;\n      } else {\n        currentNode = currentNode.parentElement;\n      }\n    }\n    return result;\n  }\n\n  function attachEvent(e) {\n    const draggable = loopAncestorNode(e.target, dropzoneId, 10);\n    if (!draggable) {\n      e.preventDefault();\n      e.dataTransfer.effectAllowed = 'none';\n      e.dataTransfer.dropEffect = 'none';\n    }\n  }\n\n  DOM.addEventListener('dragenter', attachEvent, false);\n  DOM.addEventListener('dragover', attachEvent, false);\n  DOM.addEventListener('drop', attachEvent, false);\n};\nexport default {};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","import i18n from 'i18next';\n\nexport default function translateCategoryName(categoryName: string) {\n  return i18n.t(`material.material-category.${categoryName}`);\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAD8UlEQVR4Xu2bv47TQBDGZ2OHy99TAkoBiol9AgkKkKCAFgp4BGigAQkaeBpoQIIGGniEo4AWCpCgAAlEHBxBEcFFd3FiiO1FRgqCO+ds79ix45stL/vNzvz2i3c1vjCggSLAUGoSAwFEmoAAEkAkAaScHEgAkQSQ8lgc2NWNDQBoIHNZtHyoqUoTuygaYLfXfwKcX8Imkoqesadap30ZszYeoG5wTAJpazVVQTFAiXXd+MgBjqQNAbM+A/ikqspR0RjCALvdbgOY7D37ln9wu6lp2lCkEHGAujEBgJLIohnUWJqqlEXyEgL42TDOMAdeiiyYVQ134ezamvIqan5CALtLfnDMgyRyoEQGqOvGLQ5wJ+pOLcN8BnBbVZW7UXKNDDCv7ptBi+rCSAD1Xv8R5/xKlB1atrmMscdqp301bN6RAObdfSIuDA2wqxvvAeBY2J1Z8nkfNFU5HqaGUAAHg0F9ZFqbYQLmZU6tWlpttVpbQfWEAqj3+ibnvBIULE+fM8bGaqddDaopEKCu66c4SK+DAuXxcwbOaVVV3+xWWyDAvXJwiF6udwXY6xk3XA738uiusDUVGNzsdJT78+bvCnCvuy/MtWYuQF03HnCAa2F3Ks/zGMBDVVWu+9U4F+AX4ysvV+M/eB3HgYk5ToS3l68kSbHH9vI9rBzyZeX7R6P/7W2pUj4ReyYAwDkHc2uURGio1mvAWOC5KLS2NZ68U9oHT24X+642+DFM9D3HaDPwfipUZG21LqQLK2rtb+zgRQDD0gOAzAC0bRussfdGIL5RqpRBluX4AvpEygxAL7e4v8ZJf329nDMFMM7DJMnD418jZgqgl5hjOzAZ46405UoFJDn+q4vfsyBzAP9AdFyYmKbQs6tcrYIkFYS0IqJMApwVYo5M4K4bqi5WKEC1FthpChUryqRMA5wV8tOyYPpr6ltXcV8RVkrpvctfCoBRHLHouQQQSZwAEkAkAaScHEgAkQSQcnIgAUQSQMrJgXkA6PUC7amNLMVfLhflRHuCqTsw7h7gvF1IqjeYKkDvRZLXA1zE8F4seT3CuEeqABflvhm0JFxIAJGWTBWgNbHAnvq3qZB17ZAXi0VYKcff9koVoFfl2ByD6zhx8/ovnteh9jrVSYzUAc6KSuosSeifEv7uRWYAJuGORcQkgEjKBJAAIgkg5eRAAogkgJSTAwkgkgBSTg4kgEgCSDk5kAAiCSDl5EACiCSAlJMDCSCSAFIe2oHfh6MLrmuvI9fLlbxQgIsHGo1n24ua+8OyjY2tczZ3nueKgmAxMpPON5v1F37yZH6ZJ5joMsoIIHLXCCABRBJAysmBBBBJACknByIB/gZwyZhgBiB+/wAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-detail-container\"},[_c('div',{staticClass:\"material-detail-title\"},[(_vm.isHistoryComponent)?_c('i',{staticClass:\"iconfont icon-left el-icon-arrow-left\",on:{\"click\":_vm.backOperate}}):_vm._e(),_c('span',{staticClass:\"el-dialog__title\"},[_vm._v(_vm._s(_vm.title))]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"变更记录\",\"placement\":\"bottom\"}},[(!_vm.isHistoryComponent && _vm.groupAppId)?_c('i',{staticClass:\"iconfont icon-right iconshijian2\",on:{\"click\":_vm.toOperateHistory}}):_vm._e()]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"驳回原因\",\"placement\":\"bottom\"}},[_c('i',{staticClass:\"iconfont iconbohuiyuanyin\",staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.showDeclineRecord(_vm.material.id)}}})])],1),_c('div',{staticClass:\"scroll-content scrollable-y\",class:_vm.contentStyle},[(_vm.currentComponent === 'ComponentPreviewDetail' && !_vm.isHistoryComponent)?_c('div',{staticClass:\"flex-center\"},[(_vm.swipers.length > 0)?_c('MaterialCarousel',{ref:\"materialCarousel\",attrs:{\"swiper-list\":_vm.swipers,\"materialId\":_vm.material.id,\"initialIndex\":_vm.thumbIndex}}):(_vm.isCreator && _vm.isQt() && _vm.envs.VUE_APP_COOPERATION === 'anta')?_c('div',{staticClass:\"flex-center flex-column\",staticStyle:{\"height\":\"280px\"}},[_c('base-image',{staticStyle:{\"height\":\"80px\",\"width\":\"80px\"},attrs:{\"src\":require('@/assets/img/file-list/material-default.png'),\"fit\":\"contain\"}}),_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.handleUpload4ddat}},[_vm._v(\"上传4ddat\")])],1):_vm._e()],1):_vm._e(),_c('transition',{attrs:{\"enter-active-class\":\"animated faedIn faster\",\"leave-active-class\":\"animated fadeOut faster\",\"mode\":\"out-in\",\"appear\":\"\"}},[_c('keep-alive',{attrs:{\"include\":\"MaterialDetailText\"}},[_c(_vm.currentComponent,{ref:\"materialDynamicComp\",tag:\"component\",attrs:{\"entryAppType\":_vm.entryAppType,\"material\":_vm.material,\"groupAppId\":_vm.groupAppId,\"relateId\":_vm.material.id,\"originalId\":_vm.material.originalId,\"middleCategoryId\":_vm.middleCategoryId,\"saveDisabled\":_vm.saveBtnDisabled},on:{\"update:saveDisabled\":function (e) { return _vm.saveBtnDisabled = e; },\"switch-component\":function (e) { return _vm.currentComponent = e; },\"refresh\":function($event){return _vm.getMaterialInfoById(_vm.id)},\"loaded\":function (material) { _vm.loading = false; _vm.$emit('loaded', material); },\"loading\":function (e) { return _vm.loading = e; }}})],1)],1),(!_vm.isHistoryComponent)?_c('time-info',{staticStyle:{\"margin-top\":\"40px\"},attrs:{\"creator\":_vm.material.creatorName,\"modifier\":_vm.material.modifierName,\"uploaded\":_vm.material.gmtCreateTime,\"updated\":_vm.material.gmtModifyTime}}):_vm._e()],1),(_vm.currentComponent === 'ComponentPreviewDetail')?_c('section',{key:1,staticClass:\"submit-buttons\"},[_c('el-button',{attrs:{\"type\":\"default\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.printAsPDF}},[_vm._v(\" 导出PDF \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"disabled\":!_vm.editable\n        || [2,4].includes(_vm.material.extraProperty.material_status)\n        || (_vm.material.extraProperty.approve_detail && [2,3,4].includes(_vm.material.extraProperty.approve_detail.approve_status)),\"size\":\"small\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentEditDetail'}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.edit'))+\" \")])],1):(!_vm.isHistoryComponent)?_c('section',{key:2,staticClass:\"submit-buttons\"},[_c('el-button',{staticClass:\"cancel\",attrs:{\"size\":\"small\",\"round\":\"\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentPreviewDetail'}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.cancel'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$act(_vm.updateMaterial)}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.save'))+\" \")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-detail-text\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.material.materialName)+\" \")]),_c('ul',{staticClass:\"field-list\",staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.fields),function(field){return _c('li',{key:field.label,staticClass:\"field-item\"},[_c('FormFielText',{attrs:{\"label\":field.label,\"content\":field.value || '',\"units\":field.units}})],1)}),0),_c('ul',{staticClass:\"field-list\",staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.attachFields),function(field){return _c('li',{key:field.label,staticClass:\"field-item\"},[_c('FormFielText',{attrs:{\"label\":field.label,\"content\":field.value || '',\"units\":field.units}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-form-field\"},[_c('label',{staticClass:\"label text-one-line\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"content-box\"},[_vm._t(\"default\",[(_vm.showPlaceHolder)?[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]:[_c('span',{staticClass:\"content-box\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")]),_vm._l((_vm.units),function(unit,index){return [_c('UnitField',{key:'unit' + index,attrs:{\"type\":unit.type,\"value\":unit.value}})]})]])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watchEffect } from '@vue/composition-api';\n// import i18n from 'i18next';\n\n// import { getCountryList, getDictionaryByTypeCode } from '@/api/dictionary';\nimport { fetchAntaPropertyById } from '@/loaders/dictionary';\n// import { getCompanyNameById } from '@/api/company';\n\n\nexport default defineComponent({\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler } }) {\n    const unit = ref('');\n\n    watchEffect(async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          // if (props.type === 'country') {\n          //   units = (await getCountryList()).data;\n          //   currentUnit = units.find(u => +u.id === +props.value);\n          //   // unit.value = currentUnit ? currentUnit.usName : '';\n          //   if (currentUnit) {\n          //     if (i18n.language === 'en') {\n          //       unit.value = currentUnit.usName || currentUnit.name;\n          //     } else {\n          //       unit.value = currentUnit.name || currentUnit.usName || '';\n          //     }\n          //   }\n          // } else if (props.type === 'priceUnit' || props.type === 'mqqUnit') {\n          //   units = (\n          //     // 单位\n          //     await getDictionaryByTypeCode(props.type, 'cn')\n          //   ).data;\n          //   currentUnit = units.find(u => +u.itemValue === +props.value);\n          //   unit.value = currentUnit ? currentUnit.label : '';\n          // } else if (props.type === '品牌') {\n          //   units = (\n          //     // 属性\n          //     await fetchAntaPropertyById(props.type)\n          //   );\n          //   currentUnit = units.find(u => u.id === props.value);\n          //   unit.value = currentUnit ? currentUnit.value : '';\n          // } else if (props.type === 'supplierName') {\n          //   unit.value = (\n          //     // 供应商列表\n          //     await getCompanyNameById(props.value)\n          //   ).data.name;\n          // }\n          if (props.type === '品牌') {\n            units = (\n              // 属性\n              await fetchAntaPropertyById(props.type)\n            );\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=c81a14aa&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=c81a14aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c81a14aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import i18n from 'i18next';\nimport { defineComponent, computed } from '@vue/composition-api';\n\nimport UnitField from './UnitField.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\nexport default defineComponent({\n  name: 'MaterialFormFieldText',\n  components: { UnitField },\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String, Number, Array],\n      default: '',\n    },\n    // 单位数组\n    units: {\n      type: Array as () => Unit[],\n      default: () => [],\n    },\n  },\n  setup(props) {\n    const showPlaceHolder = computed(() => {\n      if (props.units[0]?.type === 'priceUnit') {\n        return !props.content;\n      }\n      return !props.content && props.units.length === 0;\n    });\n    return {\n      showPlaceHolder,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FromFieldText.vue?vue&type=template&id=67ab5d7d&scoped=true&\"\nimport script from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nexport * from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FromFieldText.vue?vue&type=style&index=0&id=67ab5d7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67ab5d7d\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import i18n from 'i18next';\nimport {\n  defineComponent, ref, computed, watch,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\n\n// import { getCompanyNameById } from '@/api/company';\n\nimport { getContextUser } from '@/loaders/context';\nimport { getCurrentCompany } from '@/loaders/company';\n\nimport { antaMiddleClassIdAndFormData2TransformedFormDataList } from '@/components/anta-customer-files/attribute';\nimport FormFielText from './FromFieldText.vue';\n\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\n// // 获取大中小类组合的类名\n// async function getCategoryName(id: string) {\n//   return ((await axios({\n//     method: 'post',\n//     url: '/anta-material/category/name',\n//     data: {\n//       ids: [id],\n//     },\n//   })).data)[id];\n// }\n\n// 根据中类id获取模版信息\nexport const getTemplateById = async (id: string) => {\n  return (await axios({\n    method: 'get',\n    url: 'anta-material/template/middle',\n    params: {\n      id,\n    },\n  })).data;\n};\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\ninterface FormField {\n  label: string,\n  value?: string,\n  units?: Array<Unit>,\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailText',\n  components: { FormFielText },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup(props, { root, emit }) {\n    const loading = ref(true);\n    const fields = ref<Array<FormField>>([]);\n    const attachFields = ref<Array<FormField>>([]);\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n\n    const middleCategoryId = ref<string>('');\n\n    const categoryName = ref<string>('');\n\n    const supplierName = ref<string>('');\n\n    watch(() => props.material, async (val) => {\n      console.info(val);\n      loading.value = true;\n\n      // let colorLimitType = '';\n      // switch (val.extraProperty.color_limit_type) {\n      //   case 1: colorLimitType = '全部颜色';\n      //     break;\n      //   case 2: colorLimitType = '仅部分颜色';\n      //     break;\n      //   case 3: colorLimitType = '荧光色除外';\n      //     break;\n      //   default:\n      // }\n\n      const priceItem = val.extraProperty.supplier_price_obj ?? val.extraProperty.supplier_price_array[0];\n\n      fields.value = [\n        // { label: '分类', value: categoryName.value },\n        // {\n        //   label: '季节',\n        //   value: `${val.extraProperty.season?.year || ''}${val.extraProperty.season?.season || ''}`,\n        // },\n        // { label: '供应商名称', value: priceItem.supplier_name },\n        // {\n        //   label: '参考单价',\n        //   value: priceItem.reference_price_value ? `${priceItem.reference_price_value}人民币` : '--',\n        // },\n        // {\n        //   label: '成本单价',\n        //   value: priceItem.cost_value ? `${priceItem.cost_value}人民币` : '--',\n        // },\n        // { label: '颜色限制类别（鞋）', value: colorLimitType },\n        // { label: '材料编码', value: val.extraProperty.material_number },\n      ];\n\n      const extraList = [];\n      if (isSupplier.value) {\n        extraList.push('常青材料');\n      }\n\n      // 可能会报错的接口放到后面去请求\n      try {\n        // 获取中类ID\n        middleCategoryId.value = await fetchMiddleCategoryId(val.extraProperty.category);\n\n        const dynamicFormData = await antaMiddleClassIdAndFormData2TransformedFormDataList(middleCategoryId.value, {\n          ...val.extraProperty,\n          reference_price: {\n            value: priceItem.reference_price_value,\n            unit: priceItem.reference_price_unit,\n          },\n          cost: {\n            value: priceItem.cost_value,\n            unit: priceItem.cost_unit,\n          },\n          supplier_name: priceItem.supplier_name,\n          materialName: val.materialName,\n        }, extraList);\n        console.info(dynamicFormData);\n        fields.value = [...fields.value, ...dynamicFormData];\n\n        emit('loaded', props.material);\n      } catch (e) {\n        root.$errorHandler(e);\n      } finally {\n        loading.value = false;\n      }\n    }, {\n      deep: true,\n      // immediate:\n    });\n\n    return {\n      loading,\n      fields,\n      attachFields,\n      isCreator,\n      categoryName,\n      supplierName,\n      isSupplier,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentPreviewDetail.vue?vue&type=template&id=77c96a62&scoped=true&\"\nimport script from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentPreviewDetail.vue?vue&type=style&index=0&id=77c96a62&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77c96a62\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.materialCopy && !_vm.materialCopy.fileInfo)?_c('UploadImgJson',{ref:\"uploadImgJson\",attrs:{\"disabled\":!_vm.isCreator},model:{value:(_vm.materialCopy.imgJson),callback:function ($$v) {_vm.$set(_vm.materialCopy, \"imgJson\", $$v)},expression:\"materialCopy.imgJson\"}}):_vm._e(),(_vm.materialCopy)?_c('Form',{ref:\"refsForm\",attrs:{\"isCreator\":_vm.isCreator,\"material\":_vm.materialCopy,\"status\":\"edit\"}}):_vm._e(),_c('div',{ref:\"uploadArea\"},[_c('h2',{staticClass:\"asset-upload-title\"},[_vm._v(\" 附件 \")]),(_vm.materialCopy.fileInfo)?_c('ModelsSelector',{ref:\"modelsSelector\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo,\"materialId\":_vm.material.id}}):_vm._e(),_c('AttachmentImage',{ref:\"attachmentImage\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}}),_c('AttachmentVideo',{ref:\"attachmentVideo\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"model-demo\"},[_c('h2',{staticClass:\"model-demo-title\",style:(_vm.titleStyle)},[_vm._v(_vm._s(_vm.$t('material.info.attachment_models_caption')))]),_c('ul',{staticClass:\"model-demo-list\"},_vm._l((_vm.models),function(model,i){return _c('li',{key:i,staticClass:\"model-demo-item\"},[_c('SelectableBox',{attrs:{\"selected\":model.selected,\"width\":272,\"height\":202,\"disabled\":_vm.disabled},on:{\"preview\":function($event){return _vm.handlePreview(model.id)},\"change\":function (e) { return _vm.changeModel(i, e); }}},[_c('el-image',{attrs:{\"src\":model.cover,\"fit\":\"contain\"}})],1),_c('p',{staticClass:\"model-demo-name\"},[_vm._v(\"Model \"+_vm._s(i + 1))])],1)}),0),(_vm.currentId)?_c('ModelPurePreviewer',{ref:\"modelPreviewer\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"-1\",\"opacity\":\"0\"},attrs:{\"mode\":\"modelMaterial\",\"modelId\":_vm.currentId,\"materialId\":_vm.materialId,\"initModelStatus\":false}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"model-demo\">\n    <h2 class=\"model-demo-title\" :style=\"titleStyle\"\n    >{{ $t('material.info.attachment_models_caption') }}</h2>\n    <ul class=\"model-demo-list\">\n      <li\n        v-for=\"(model, i) in models\"\n        :key=\"i\"\n        class=\"model-demo-item\"\n      >\n        <SelectableBox\n          :selected=\"model.selected\"\n          :width=\"272\" :height=\"202\"\n          :disabled=\"disabled\"\n          @preview=\"handlePreview(model.id)\"\n          @change=\"e => changeModel(i, e)\"\n        >\n          <el-image :src=\"model.cover\" fit=\"contain\" />\n        </SelectableBox>\n        <p class=\"model-demo-name\">Model {{ i + 1 }}</p>\n      </li>\n    </ul>\n\n    <!-- 截图使用 -->\n    <ModelPurePreviewer\n      v-if=\"currentId\"\n      mode=\"modelMaterial\"\n      :modelId=\"currentId\"\n      :materialId=\"materialId\"\n      :initModelStatus=\"false\"\n      style=\"position: absolute; z-index: -1;opacity:0;\"\n      ref=\"modelPreviewer\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from '@/utils/axios';\nimport delay from '_/delay';\n\nimport SelectableBox from '@/components/layout/SelectableBox';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer';\n\nconst getMaterialDemoModels = () => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/modelSearch/getDisplayModelIds',\n  });\n};\n\nexport default {\n  components: {\n    SelectableBox,\n    ModelPurePreviewer,\n  },\n  props: ['assetsInfo', 'materialId', 'titleStyle', 'disabled'],\n  mounted() {\n    this._generateModelData();\n    localStorage.setItem('modelCovers', JSON.stringify({}));\n  },\n  data() {\n    return {\n      models: [],\n      modelIds: [],\n      currentId: '',\n    };\n  },\n  methods: {\n    // 获取选择框的选择项（外部调用）\n    async getSelectResult() {\n      // 第一，判断是否有选中的模型\n      const selectedModels = this.models.filter(model => model.selected);\n      if (!selectedModels.length) return [];\n\n      // 先判断接口返回的数据是否已存在 cover\n      selectedModels.forEach(model => {\n        if (model.modelCover.includes('http')) {\n          model.modelCover = model.modelCover.split('?')[0].split('/').slice(-2).join('/');\n        }\n      });\n      const missModels = selectedModels.filter(model => model.modelCover === '');\n      if (missModels.length === 0) return selectedModels;\n\n      // 再判断缓存是否有已存在（模型预览默认截取）\n      const coverObj = JSON.parse(localStorage.getItem('modelCovers'));\n      selectedModels.forEach(model => {\n        if (!model.modelCover) {\n          model.modelCover = coverObj[model.id];\n        }\n      });\n      if (missModels.length === 0) return selectedModels;\n\n      // 最后再调用D4加载模型,获取对应的截图\n      for (let i = 0; i < selectedModels.length; i++) {\n        const model = selectedModels[i];\n        if (!model.modelCover) {\n          this.currentId = model.id;\n          // await this.$nextTick();\n          await delay(500);\n          model.modelCover = await this.$refs.modelPreviewer.reloadModel(model.id);\n        }\n      }\n\n      return selectedModels;\n    },\n    // 打开鞋模型弹框\n    async handlePreview(id) {\n      await this.$Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: this.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          flex: 'column',\n          width: '580px',\n          height: '500px',\n        },\n      });\n    },\n    // 获取默认展示三个模型ids,并调整数据结果\n    async _generateModelData() {\n      this.modelIds = (await getMaterialDemoModels()).data;\n      this.models = this.modelIds.map((model) => {\n        return {\n          id: model.id,\n          selected: false,\n          cover: model.curtailImg,\n          modelCover: '',\n        };\n      });\n\n      // 通过筛选面料信息中选择模型的数据，同步选中的状态\n      if (this.assetsInfo && this.assetsInfo?.models) {\n        this.assetsInfo.models.forEach(item => {\n          this.models.forEach(model => {\n            if (item.id === model.id) {\n              model.selected = true;\n              model.modelCover = item.cover;\n            }\n          });\n        });\n      }\n    },\n\n    changeModel(i, e) {\n      this.models[i].selected = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-image {\n  width: 100%;\n  height: 100%;\n}\n\n.model-demo {\n  .model-demo-title {\n    margin-bottom: 10px;\n    line-height: 20px;\n    font-size: 14px;\n    font-weight: 400;\n    color: #606060;\n  }\n  .model-demo-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\n    .model-demo-name {\n      margin: 10px 0;\n      text-align: center;\n      font-size: 14px;\n      color: #333;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModelsSelector.vue?vue&type=template&id=1048a648&scoped=true&\"\nimport script from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModelsSelector.vue?vue&type=style&index=0&id=1048a648&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1048a648\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_images_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip3'))+\" \")])],1)],1),_c('UploadWithPreviewer',{ref:\"uploadWithPreviewer\",attrs:{\"urls\":_vm.paths,\"maxSize\":18 * 1024 * 1024,\"width\":130,\"height\":130,\"accept\":\".png, .jpeg, .jpg\",\"multiple\":\"\",\"disabled\":_vm.disabled},on:{\"change\":_vm.changeImage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_images_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_images_tip') }}<br>\n          <!-- {{ $t('material.info.attachment_images_tip2') }} -->\n          {{ $t('material.info.attachment_images_tip3') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadWithPreviewer\n      ref=\"uploadWithPreviewer\"\n      :urls=\"paths\"\n      :maxSize=\"18 * 1024 * 1024\"\n      :width=\"130\" :height=\"130\"\n      accept=\".png, .jpeg, .jpg\"\n      multiple\n      :disabled=\"disabled\"\n      @change=\"changeImage\" />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadWithPreviewer from '@/components/upload/UploadWithPreviewer';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadWithPreviewer,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.images) {\n          this.paths = obj?.images;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getImageOssPaths() {\n      const result = this.$refs.uploadWithPreviewer.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n\n    changeImage(e) {\n      this.files = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin-bottom: 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentImage.vue?vue&type=template&id=d9f63f58&scoped=true&\"\nimport script from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentImage.vue?vue&type=style&index=0&id=d9f63f58&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9f63f58\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_videos_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip2'))+\" \")])],1)],1),_c('UploadVideo',{ref:\"UploadVideo\",attrs:{\"urls\":_vm.paths,\"disabled\":_vm.disabled,\"maxSize\":30 * 1024 * 1024,\"width\":130,\"height\":130,\"accept\":\".mp4\"},on:{\"change\":_vm.changeVideo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_videos_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_videos_tip') }}<br>\n          {{ $t('material.info.attachment_videos_tip2') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadVideo\n      ref=\"UploadVideo\"\n      :urls=\"paths\"\n      :disabled=\"disabled\"\n      :maxSize=\"30 * 1024 * 1024\"\n      :width=\"130\" :height=\"130\"\n      accept=\".mp4\"\n      @change=\"changeVideo\"\n    />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadVideo from '@/components/upload/UploadVideo';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadVideo,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.videos) {\n          this.paths = obj?.videos;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getVideoOssPaths() {\n      const result = this.$refs.UploadVideo.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n\n    changeVideo(e) {\n      this.files = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin: 15px 0 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentVideo.vue?vue&type=template&id=305df05d&scoped=true&\"\nimport script from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentVideo.vue?vue&type=style&index=0&id=305df05d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"305df05d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(\" 材质图 \")]),_c('div',{staticClass:\"flex\"},_vm._l((['thumbnail', 'flat', 'texture']),function(item){return _c('div',{key:item,staticClass:\"upload-item\"},[_c('figure',{staticClass:\"item-image\",class:(\"item-image-\" + item)},[(_vm.imgJson[item])?_c('base-image',{staticStyle:{\"border\":\"1px solid #dbdce0\"},attrs:{\"src\":_vm.imgJson[item]}}):_c('div',{staticClass:\"item-add\",style:({ cursor: _vm.disabled ? 'not-allowed': 'pointer' }),on:{\"click\":function($event){return _vm.$act(_vm.choseImg, [item])}}},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('span',[_vm._v(_vm._s(_vm.$t('up-meeting.detail.upload')))])]),(_vm.imgJson[item])?_c('i',{staticClass:\"i-file-delete\",on:{\"click\":function($event){return _vm.remove(item)}}}):_vm._e(),(_vm.imgJson[item])?_c('i',{staticClass:\"i-zoom\",on:{\"click\":function($event){return _vm.$act(_vm.previewImage, [item])}}}):_vm._e()],1),_c('span',{staticStyle:{\"padding-top\":\"6px\"}},[_vm._v(_vm._s(_vm.key2Name[item]))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport selectFiles from '@/utils/select-files';\nimport { validFiles } from '@/utils/validators/valid-file';\nimport { defineComponent, ref } from '@vue/composition-api';\n\nconst key2Name = {\n  thumbnail: '垂悬图',\n  flat: '平铺图',\n  texture: '纹理图',\n} as const;\n\nconst UploadImgJson = defineComponent({\n  name: 'UploadImgJson',\n  props: {\n    imgJson: {\n      type: Object as () => { thumbnail: string, flat: string, texture: string },\n      default: () => ({}),\n      // type: Object,\n      // required: true,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  model: {\n    prop: 'imgJson',\n    event: 'change',\n  },\n  setup(props, { emit, root }) {\n    // 已选择的file文件\n    const selectedFils = ref<{ [key: string]: File | null }>({\n      thumbnail: null,\n      flat: null,\n      texture: null,\n    });\n\n    const choseImg = async (type: 'thumbnail' | 'flat' | 'texture') => {\n      if (props.disabled) return;\n      const files = await selectFiles(['png', 'jpg'], 5000);\n      validFiles(files);\n      [selectedFils.value[type]] = files;\n      emit('change', { ...props.imgJson, [type]: URL.createObjectURL(files[0]) });\n      // debugger;\n      // root.$set(props.imgJson, type, URL.createObjectURL(files[0]));\n    };\n\n\n    const remove = (type: 'thumbnail' | 'flat' | 'texture') => {\n      selectedFils.value[type] = null;\n      emit('change', { ...props.imgJson, [type]: '' });\n      // root.$set(props.imgJson, type, null);\n    };\n\n    async function previewImage(type: 'thumbnail' | 'flat' | 'texture') {\n      // const imgList = Object.values(props.imgJson).filter(i => !!i);\n      const imgList = [props.imgJson[type]];\n      await root.$ImageViewer.show(imgList as string[], {\n        srcList: imgList,\n        targetElems: `.item-image-${type}`,\n      });\n    }\n\n\n    // 外面调用\n    const uploadImgJson = async () => {\n      const bucketList = {\n        thumbnail: 'FUR',\n        flat: 'FLAT',\n        texture: 'FLAT',\n      };\n      const newImgJson = JSON.parse(JSON.stringify(props.imgJson));\n      await Promise.all(Object.entries(selectedFils.value).map(async ([key, item]) => {\n        if (!item) return;\n        newImgJson[key] = await uploadToOSS(item, bucketList[key]);\n      }));\n\n      return newImgJson;\n    };\n\n    return {\n      choseImg,\n      remove,\n      previewImage,\n      uploadImgJson,\n      key2Name,\n    };\n  },\n});\n\nexport default UploadImgJson;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UploadImgJson.vue?vue&type=template&id=10f2f0aa&scoped=true&\"\nimport script from \"./UploadImgJson.vue?vue&type=script&lang=ts&\"\nexport * from \"./UploadImgJson.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UploadImgJson.vue?vue&type=style&index=0&id=10f2f0aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10f2f0aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed, onMounted, provide, toRefs,\n} from '@vue/composition-api';\n\nimport axios from '@/utils/axios';\nimport { blockDragEffect } from '@/utils/public';\nimport { getContextUser } from '@/loaders/context';\n// import { getCurrentCompany } from '@/loaders/company';\nimport { getRelativePathFromUrl } from '@/utils/normalize-component';\n\nimport useLoader from '_/composables/use-loader';\nimport extract from '_/extract';\n\nimport Form from './Form.vue';\nimport ModelsSelector from './ModelsSelector.vue';\nimport AttachmentImage from './AttachmentImage.vue';\nimport AttachmentVideo from './AttachmentVideo.vue';\nimport UploadImgJson from './UploadImgJson.vue';\n\n/**\n * 更新材质详情信息（标签更新在其他接口）\n * @param {String} data { id: string, propName: any }\n * @see {Promise}\n */\nexport const updateMaterialInfo = (data: any) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/updateNewMaterialInfo',\n    data,\n  });\n};\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailForm',\n  components: {\n    UploadImgJson,\n    Form,\n    ModelsSelector,\n    AttachmentImage,\n    AttachmentVideo,\n  },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n      default: () => ({}),\n    },\n    entryAppType: {\n      type: Number,\n    },\n    groupAppId: {\n      type: String,\n    },\n    // middleCategoryId: {\n    //   type: String,\n    //   required: true,\n    // },\n  },\n\n  setup(props, {\n    // @ts-ignore\n    emit, refs, root: { $errHandler, $message },\n  }) {\n    // 创建者\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n\n    const emptyImgJson = computed(() => {\n      return ['thumbnail', 'flat', 'texture'].some(item => !props.material.imgJson?.[item]);\n    });\n\n    provide('getIsCreator', isCreator);\n\n    // 中类ID\n    const middleCategoryId = useLoader(async ({ material: { extraProperty: { category } } }) => {\n      // eslint-disable-next-line prefer-rest-params\n      console.info(category);\n      if (!category) return '';\n      return fetchMiddleCategoryId(category);\n    }, extract(toRefs(props), ['material']), {\n      initialValue: null,\n      loadingValue: () => null,\n    });\n\n    provide('getMiddleCategoryId', middleCategoryId);\n\n    const materialCopy = ref({ imgJson: {}, fileInfo: '' });\n\n    const newMaterial = ref({} as { [key: string]: any });\n\n    onMounted(async () => {\n      // 禁止浏览器拖拽的默认行为\n      blockDragEffect(refs.uploadArea);\n\n      // 防止修改未保存时影响详情的数据\n      materialCopy.value = JSON.parse(JSON.stringify(props.material));\n      if (!materialCopy.value.imgJson) {\n        materialCopy.value.imgJson = {};\n      }\n      // console.info(props.material);\n      // console.info(JSON.parse(JSON.stringify(props.material)));\n      // console.info(materialCopy.value);\n    });\n\n    // 保存\n    async function save() {\n      emit('loading', true);\n      try {\n        newMaterial.value = await refs.refsForm.getFormData();\n\n        console.info(newMaterial.value);\n        if (!newMaterial.value) return;\n\n\n        // console.info(updateObj.value);\n        newMaterial.value.id = props.material.id;\n        newMaterial.value.assetsInfo = {}; // 初始assetsInfo接口有时返回null，访问 models, images, videos会报错\n\n        // 获取模型选择的结果\n        const models = refs.modelsSelector ? await refs.modelsSelector.getSelectResult() : [];\n        newMaterial.value.assetsInfo.models = models.map((model: any) => {\n          return { id: model.id, cover: model.modelCover };\n        });\n\n        // 获取材质图片的结果\n        const images = await refs.attachmentImage.getImageOssPaths();\n        newMaterial.value.assetsInfo.images = images;\n\n        // 获取模型选择的结果\n        const videos = await refs.attachmentVideo.getVideoOssPaths();\n        newMaterial.value.assetsInfo.videos = videos;\n        newMaterial.value.businessType = 1;\n\n        // const newImgJson = await refs.uploadImgJson.uploadImgJson();\n        if (!materialCopy.value.fileInfo) {\n          const newImgJson = refs.uploadImgJson ? await refs.uploadImgJson.uploadImgJson() : {};\n          newMaterial.value.imgJson = { ...materialCopy.value.imgJson, ...newImgJson };\n          Object.keys(newMaterial.value.imgJson).forEach(key => {\n            if (newMaterial.value.imgJson[key].includes('http')) {\n              newMaterial.value.imgJson[key] = getRelativePathFromUrl(newMaterial.value.imgJson[key]);\n            }\n          });\n        }\n        await updateMaterialInfo(newMaterial.value);\n        await refs.refsForm.addOperateToRecord(props.groupAppId);\n\n        newMaterial.value = {};\n        emit('switch-component', 'ComponentPreviewDetail');\n        // emit('update:saveDisabled', true);\n        emit('refresh');\n      } catch (err) {\n        $errHandler(err);\n      } finally {\n        emit('loading', false);\n      }\n    }\n\n    return {\n      save,\n      isCreator,\n      materialCopy,\n      middleCategoryId,\n      emptyImgJson,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentEditDetail.vue?vue&type=template&id=15080de4&scoped=true&\"\nimport script from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentEditDetail.vue?vue&type=style&index=0&id=15080de4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15080de4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-carousel',{ref:\"carousel\",class:_vm.size,attrs:{\"indicator-position\":\"none\",\"initial-index\":_vm.initialIndex,\"autoplay\":false},on:{\"change\":function (newIndex) {_vm.$emit('change', newIndex)}}},_vm._l((_vm.swiperList),function(item,i){return _c('el-carousel-item',{key:i},[(item.type === 'image')?[_c('base-image',{staticClass:\"material-img\",attrs:{\"fit\":\"contain\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.imageType && item.imageType === 'texture'),expression:\"item.imageType && item.imageType === 'texture'\"}],staticClass:\"img-scale\"},[_c('img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":require('@/assets/img/material/scale.png')}})]),_c('IconMagnify',{staticClass:\"icon-magnify__image\",on:{\"magnify\":function (e) { return _vm.$act(_vm.previewImage, [e]); }}})]:(item.type === 'video')?[_c('div',{staticClass:\"material-video\"},[_c('VideoPlayer',{attrs:{\"sourceURL\":item.url,\"autoplay\":\"\"}}),_c('i',{staticClass:\"iconfont iconshipin\"})],1)]:(item.type === 'model')?[_c('div',{staticClass:\"material-model\"},[_c('base-image',{attrs:{\"fit\":\"cover\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('i',{staticClass:\"iconfont iconmoxing\"}),_c('IconMagnify',{staticClass:\"icon-magnify__model\",on:{\"magnify\":function () { return _vm.$act(_vm.previewModel, [item.id]); }}})],1)]:_vm._e()],2)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\n\nimport VideoPlayer from '@/components/video/index.vue';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer.vue';\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'CarouselMaterialImages',\n  components: {\n    IconMagnify,\n    VideoPlayer,\n  },\n  props: {\n    swiperList: {\n      type: Array,\n      required: true,\n    },\n    materialId: {\n      type: String,\n      default: '',\n    },\n    size: {\n      tyep: String,\n      default: '',\n    },\n    initialIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  // @ts-ignore\n  setup(props, { root: { $ImageViewer, $Dialog } }) {\n    const carousel = ref(null);\n\n    async function previewImage() {\n      const imgList = props.swiperList.reduce((acc, cur) => {\n        // @ts-ignore\n        if (cur.type === 'image') acc.push(cur);\n        return acc;\n      }, []).map(item => {\n        const res = {\n          src: item.url,\n        };\n        if (item.imageType === 'flat') {\n          res.rulerSetting = {\n            rulerHeight: 100,\n            dpi: 520.2,\n          };\n        }\n        return res;\n      });\n      await $ImageViewer.show(imgList, {\n        index: ((carousel.value) as any).activeIndex,\n        targetElems: '.material-img',\n      });\n    }\n\n    async function previewVideo(sourceUrl: string) {\n      await $Dialog.dialogify({\n        is: VideoPlayer,\n        props: {\n          sourceURL: sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          center: true,\n        },\n      });\n    }\n\n    async function previewModel(id: string) {\n      await $Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: props.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    }\n\n    // 设置轮播图的滚动的index(外部调用)\n    function carouselSetActiveItem(index: number) {\n      ((carousel.value) as any).setActiveItem(index);\n    }\n\n    return {\n      carousel, previewImage, previewVideo, previewModel, carouselSetActiveItem,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialCarousel.vue?vue&type=template&id=7d61fe97&scoped=true&\"\nimport script from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialCarousel.vue?vue&type=style&index=0&id=7d61fe97&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d61fe97\",\n  null\n  \n)\n\nexport default component.exports","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',{staticClass:\"detail-time-fragment\",style:(_vm.data.staticStyle)},[_c('div',{staticClass:\"grid-text\"},[_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconren\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.creator'))+\"：\")])]),_c('span',[_vm._v(_vm._s(_vm.props.creator))])]),_c('p',[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.props.modifier))])])]),_c('div',{staticClass:\"grid-text\"},[_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconshangchuan\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.uploaded'))+\" ：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.uploaded,'MM/DD/YYYY HH:mm')))])]),_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconshijian\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.updated'))+\"：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.updated,'MM/DD/YYYY HH:mm')))])])])])}\nvar staticRenderFns = [function (_h,_vm) {var _c=_vm._c;return _c('label',[_c('i',{staticClass:\"iconfont iconren\"}),_c('span',[_vm._v(\"修改者：\")])])}]\n\nexport { render, staticRenderFns }","<template functional>\n  <div class=\"detail-time-fragment\" :style=\"data.staticStyle\">\n    <div class=\"grid-text\">\n      <p>\n        <label>\n          <i class=\"iconfont iconren\" />\n          <span>{{ parent.$t('material.info.creator') }}：</span>\n        </label>\n        <span>{{ props.creator }}</span>\n      </p>\n      <p>\n        <label>\n          <i class=\"iconfont iconren\" />\n          <span>修改者：</span>\n        </label>\n        <span>{{ props.modifier }}</span>\n      </p>\n    </div>\n    <div class=\"grid-text\">\n      <p>\n        <label>\n          <i class=\"iconfont iconshangchuan\" />\n          <span>{{ parent.$t('material.info.uploaded') }} ：</span>\n        </label>\n        <time>{{ +props.uploaded | date('MM/DD/YYYY HH:mm') }}</time>\n      </p>\n      <p>\n        <label>\n          <i class=\"iconfont iconshijian\" />\n          <span>{{ parent.$t('material.info.updated') }}：</span>\n        </label>\n        <time>{{ +props.updated | date('MM/DD/YYYY HH:mm') }}</time>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-time-fragment {\n  font-size: 12px;\n  height: 24px;\n  line-height: 18px;\n  gap: 10px;\n  display: grid;\n  grid-template-rows: auto auto;\n  color: #999;\n  .grid-text {\n    display: grid;\n    grid-template-columns: 0.3fr 0.3fr;\n    gap: 96px;\n  }\n  .iconfont {\n    margin-right: 5px;\n    font-size: 18px;\n    font-weight: 500;\n    color: #66748a;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeInfo.vue?vue&type=template&id=24588fb5&scoped=true&functional=true&\"\nimport script from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeInfo.vue?vue&type=style&index=0&id=24588fb5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"24588fb5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-operate-history\"},[(_vm.dayOperateList.length)?[_c('ul',_vm._l((_vm.dayOperateList),function(ref){\nvar day = ref.day;\nvar operateList = ref.operateList;\nreturn _c('li',{key:day,staticClass:\"history-item\"},[_c('h4',{staticClass:\"history-item-day\"},[_vm._v(_vm._s(day))]),_c('ul',{staticClass:\"history-item-main\"},_vm._l((operateList),function(ref){\nvar id = ref.id;\nvar user = ref.user;\nvar gmtCreateTime = ref.gmtCreateTime;\nvar params = ref.params;\nreturn _c('li',{key:id,staticClass:\"history-item-list\"},[_c('div',{staticClass:\"history-item-user\"},[_c('BaseUser',{attrs:{\"user\":user,\"size\":\"mini\"}}),_c('p',{staticClass:\"history-item-time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"date\")(gmtCreateTime,'YYYY/MM/DD HH:mm'))+\" \")])],1),_c('div',{staticClass:\"history-item-changelog\"},[_c('changelog',{attrs:{\"form\":params}})],1)])}),0)])}),0),(_vm.showLoadMore)?_c('Intersect',{on:{\"enter\":_vm.loadMore}},[_c('div',{staticClass:\"load-more\"},[(_vm.pageLoading)?[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" \"+_vm._s(_vm.$t('material-mall.loading'))+\" \")]:[_vm._v(_vm._s(_vm.$t('material-mall.scroll_to_load')))]],2)]):_c('el-divider',{staticClass:\"history-no-more\"},[_vm._v(\" \"+_vm._s(_vm.$t('material-mall.no_more'))+\" \")])]:_c('empty',{staticStyle:{\"height\":\"100%\"},attrs:{\"img\":require('@/assets/img/public/records-empty.png'),\"error\":{message:'暂无记录'}}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent,\n  reactive,\n  computed,\n  toRefs,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\nimport { getUsersInfoByIds } from '@/api/account';\nimport dayjs from 'dayjs';\n// import AppError from '@/utils/error';\n// @ts-ignore\nimport Intersect from 'vue-intersect';\nimport BaseUser from '@/components/base/User.vue';\nimport changelog from '@/components/changelog/index.vue';\nimport empty from '@/components/error/index.vue';\nimport {\n  OperateList, DayOperateList, User, Obj,\n} from './type';\n\nexport const getOperateList = (params: {\n  relateId: string;\n  pageNumber: number;\n  pageSize: number;\n}) => {\n  return axios({\n    method: 'get',\n    url: '/msgcenter/operate/list',\n    params,\n  });\n};\n\nconst getUsersObj = async (records: OperateList) => {\n  const ids = [...new Set(records.map((item) => item.creator))];\n  const users: User[] = (await getUsersInfoByIds(ids))?.data || [];\n  const usersObj = users.reduce((obj: Obj, cur: User) => {\n    obj[cur.id] = cur;\n    return obj;\n  }, {});\n  return usersObj;\n};\n\nconst handleOperateList = async (\n  operateList: OperateList,\n  dayOperateList: DayOperateList = [],\n) => {\n  const usersObj = await getUsersObj(operateList);\n  operateList.forEach((operate) => {\n    operate.user = usersObj[operate.creator] || {\n      id: operate.creator,\n      icon: '',\n      name: '',\n    };\n    const day = dayjs(operate.gmtCreateTime).format('YYYY/MM/DD');\n    const dayOperate = dayOperateList.find((item) => item.day === day);\n    if (dayOperate) {\n      dayOperate.operateList.push(operate);\n    } else {\n      dayOperateList.push({\n        day,\n        operateList: [operate],\n      });\n    }\n  });\n  return dayOperateList;\n};\n\nexport default defineComponent({\n  name: 'MaterialOperateHistory',\n  inheritAttrs: false,\n  components: {\n    Intersect,\n    BaseUser,\n    changelog,\n    empty,\n  },\n  props: {\n    originalId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const pageSize = 10;\n\n    const defaultState = {\n      dayOperateList: [] as DayOperateList,\n      loading: false,\n      pageLoading: false,\n      pageNumber: 1,\n      hasMore: false,\n    };\n\n    const state = reactive(defaultState);\n\n    const showLoadMore = computed(() => state.hasMore && state.pageNumber > 1);\n\n    const resetLoading = () => {\n      state.loading = false;\n      state.pageLoading = false;\n    };\n\n    const setDayOperateList = async (isLoadMore: boolean = false) => {\n      try {\n        if (!isLoadMore) state.loading = true;\n        if (isLoadMore) state.pageLoading = true;\n        const { data } = await getOperateList({\n          relateId: props.originalId,\n          pageNumber: state.pageNumber,\n          pageSize,\n        });\n        const records = data?.records || [];\n\n        state.dayOperateList = await handleOperateList(\n          records,\n          state.dayOperateList,\n        );\n        if (records.length === pageSize) {\n          state.hasMore = true;\n          state.pageNumber++;\n        } else {\n          state.hasMore = false;\n        }\n      } catch (error) {\n        // throw new AppError(error);\n      } finally {\n        resetLoading();\n      }\n    };\n\n    const loadMore = async () => {\n      if (!showLoadMore) return;\n      setDayOperateList(true);\n    };\n\n    setDayOperateList();\n\n    return {\n      ...toRefs(state),\n      loadMore,\n      showLoadMore,\n    };\n  },\n});\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6d552865&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6d552865&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d552865\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed,\n} from '@vue/composition-api';\nimport i18n from 'i18next';\nimport axios from '@/utils/axios';\n// import tryParseJson from '@/utils/try-parse-json';\nimport { getUsersInfoByIds } from '@/api/account';\n// import { fetchSupplierAll } from '@/loaders/supplier';\nimport useLoader from '_/composables/use-loader';\nimport isQt from '@/utils/is-qt';\nimport { getHost } from '@/utils/exec/index';\nimport { getContextUser } from '@/loaders/context';\nimport envs from '@/utils/envs';\n\nimport { handleUploadMaterial4ddat } from '@/utils/catalog/utils';\nimport ComponentPreviewDetail from './components/ComponentPreviewDetail.vue';\nimport ComponentEditDetail from './components/ComponentEditDetail.vue';\nimport MaterialCarousel from './components/MaterialCarousel.vue';\nimport TimeInfo from './components/TimeInfo.vue';\nimport MaterialOperateHistory from './components/MaterialOperateHistory/index.vue';\nimport DeclineRecord from './components/DeclineRecord.vue';\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId: string, language = 'cn', groupAppId?: string) => {\n  return axios({\n    method: 'get',\n    url: '/anta-material/material/management/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n      groupAppId,\n    },\n    params: { materialId },\n  });\n};\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\n\nexport default defineComponent({\n  name: 'MaterialInfo',\n  dialogify: {\n    props: {\n      top: '5vh',\n      width: '900px',\n      noPadding: true,\n      closeOnClickModal: false,\n      // compact: true,\n    },\n    closeWith: 'material',\n  },\n  components: {\n    ComponentPreviewDetail,\n    ComponentEditDetail,\n    MaterialCarousel,\n    TimeInfo,\n    MaterialOperateHistory,\n    DeclineRecord,\n  },\n  props: {\n    groupAppId: {\n      type: String,\n    },\n    id: {\n      type: String,\n      required: true,\n    },\n    entryAppType: {\n      type: Number,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n    thumbIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props, { root }) {\n    const { $errHandler } = root;\n    const currentComponent = ref('ComponentPreviewDetail');\n    const saveBtnDisabled = ref(true);\n    const loading = ref(false);\n    const material = ref<any>({\n      imgJson: '',\n      creatorName: '',\n      gmtCreateTime: '',\n      gmtModifyTime: '',\n      creator: '',\n      extraProperty: {\n        category: '',\n        season: {},\n      },\n    });\n    const isCreator = computed(() => getContextUser()?.id === material.value.creator);\n\n    // 中类ID\n    const middleCategoryId = useLoader(async ({ value: { extraProperty: { category } } }) => {\n      // eslint-disable-next-line prefer-rest-params\n      if (!category) return '';\n      return fetchMiddleCategoryId(category);\n    }, material, {\n      initialValue: null,\n      loadingValue: () => null,\n    });\n\n    const materialDynamicComp = ref<InstanceType<typeof ComponentEditDetail>>();\n\n    const swipers = ref<any>([]);\n    const title = ref(i18n.t('file-list.catalog.material_info'));\n    const isHistoryComponent = computed(() => currentComponent.value === 'MaterialOperateHistory');\n    // const isHistoryComponent = computed(() => false);\n    const contentStyle = computed(() => (isHistoryComponent.value ? 'is-higher' : ''));\n    // const contentStyle = computed(() => ({\n    //   // 切换到操作记录时，隐藏了按钮行，为保证高度一样，增加按钮行的高度\n    //   height: isHistoryComponent.value ? '612px' : '550px',\n    // }));\n\n    async function updateMaterial() {\n      await materialDynamicComp.value!.save();\n    }\n\n    // 获取轮播的需要的数据结构\n    function _getSwiperObj(mat: any) {\n      if (!mat.imgJson) return [];\n      swipers.value = [];\n      // 获取三张合成图\n      // ['thumbnail', 'flat', 'toeThumbnail'].forEach(item => {\n      ['thumbnail', 'flat', 'texture'].forEach(item => {\n        // @ts-ignore\n        const img = mat.imgJson[item];\n        if (img) swipers.value.push({ type: 'image', url: img, imageType: item });\n      });\n\n      if (!mat.assetsInfo) return swipers.value;\n      // 获取附件的材质图片\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.images.map(item => {\n        return { type: 'image', url: item };\n      }));\n\n      // 获取附件的视频\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.videos.map(item => {\n        return { type: 'video', url: item };\n      }));\n\n      //  获取附件的模型\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.models.map(item => {\n        return { type: 'model', url: item.cover, id: item.id };\n      }));\n      return swipers.value;\n    }\n\n    // 获取模型信息及捕获异常操作\n    async function getMaterialInfoById(id: string) {\n      try {\n        const materialOrigin = (\n          await getMaterialInfo(id, i18n.language, props.groupAppId)\n        ).data;\n        // 处理单位类型的数据类型 number 转为 string; (否则编辑页面的表单校验会提示转为字符串类型)\n        Object.keys(materialOrigin).forEach(key => {\n          if (key === 'imgJson') return;\n          if (materialOrigin[key] === null) materialOrigin[key] = '';\n          else if (typeof materialOrigin[key] === 'number') materialOrigin[key] = materialOrigin[key].toString();\n        });\n\n        // 根据用户id，获取用户信息\n        if (materialOrigin.modifier === materialOrigin.creator) {\n          const userName = (await getUsersInfoByIds([materialOrigin?.creator])).data[0]?.name;\n          materialOrigin.creatorName = userName;\n          materialOrigin.modifierName = userName;\n        } else {\n          const userNames = (await getUsersInfoByIds([materialOrigin?.creator, materialOrigin?.modifier])).data;\n          materialOrigin.creatorName = userNames[0].name;\n          materialOrigin.modifierName = userNames[1].name;\n        }\n        material.value = materialOrigin;\n\n        _getSwiperObj(material.value);\n      } catch (err) {\n        $errHandler(err);\n      }\n    }\n\n    // 跳转到变更记录\n    function toOperateHistory() {\n      currentComponent.value = 'MaterialOperateHistory';\n      title.value = material.value.materialName;\n    }\n\n    // 返回面料详情\n    function backOperate() {\n      currentComponent.value = 'ComponentPreviewDetail';\n      title.value = i18n.t('file-list.catalog.material_info');\n    }\n\n    // 弹出驳回记录\n    async function showDeclineRecord(materialId: string) {\n      await root.$injectDialog({\n        is: DeclineRecord,\n        props: {\n          materialId,\n        },\n      });\n    }\n    async function printAsPDF() {\n      const routeUrl = root.$router.resolve({\n        path: '/material-info',\n        query: {\n          groupAppId: props.groupAppId,\n          id: props.id,\n          entryAppType: props.entryAppType?.toString(),\n          editable: 'false',\n        },\n      });\n      if (isQt()) {\n        const nativeHost = await getHost();\n        nativeHost.openWin({\n          url: routeUrl.href,\n        });\n      } else {\n        window.open(routeUrl.href, '_blank');\n      }\n    }\n\n    async function handleUpload4ddat() {\n      await handleUploadMaterial4ddat({\n        workspaceId: props.groupAppId,\n        relateId: props.id,\n      });\n      console.info('执行刷新');\n      await getMaterialInfoById(props.id);\n    }\n\n    getMaterialInfoById(props.id);\n\n    return {\n      material,\n      materialDynamicComp,\n      updateMaterial,\n      swipers,\n      currentComponent,\n      saveBtnDisabled,\n      loading,\n      getMaterialInfoById,\n      title,\n      toOperateHistory,\n      backOperate,\n      showDeclineRecord,\n      printAsPDF,\n      contentStyle,\n      isHistoryComponent,\n      middleCategoryId,\n      isQt,\n      handleUpload4ddat,\n      isCreator,\n      envs,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=759b404a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=759b404a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"759b404a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=style&index=0&id=d9f63f58&lang=scss&scoped=true&\"","import axios from '@/utils/axios';\n\nexport async function fetchSupplierList() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {\n      status: '1',\n    },\n  })).data;\n  return res;\n}\n\nexport async function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nexport async function fetchSupplierNotBound() {\n  const res = (await axios({\n    method: 'get',\n    url: '/anta-material/supplier/searchOriginalSupplierNameByNotBound',\n  })).data;\n  return res;\n}\n\nexport default fetchSupplierNotBound;\n","import Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\n\nconst list : Jsonschema[] = [{\n  prop: 'materialName',\n  title: '材料名称',\n  type: 'string',\n  required: true,\n}, {\n  prop: 'season',\n  type: 'string',\n  title: '季节',\n  builder: 'SeasonSelect',\n  required: [],\n}, {\n  prop: 'material_number',\n  type: 'string',\n  disabled: true,\n  title: '材料编码',\n}, {\n  prop: 'category',\n  type: 'string',\n  title: '选择分类',\n  builder: 'MaterialTypeCascade',\n  required: [],\n  attrs: {\n    strictMode: true,\n  },\n}, {\n  prop: 'supplier_name',\n  type: 'string',\n  title: '供应商名称',\n  builder: 'SupplierSelect',\n  // required: [],\n}, {\n  prop: 'reference_price',\n  type: 'object',\n  title: '参考单价',\n  // required: ['value'],\n  // builder: 'PriceFormItem',\n  // attrs: {\n  //   toFixed: 3,\n  // },\n  sort: ['value', 'unit'],\n  class: 'price-item',\n  properties: {\n    value: {\n      type: 'number',\n      prop: 'value',\n      // builder: 'PriceFormItem',\n      // required: [],\n      toFixed: 3,\n    },\n    unit: {\n      type: 'string',\n      prop: 'unit',\n      oneOf: [\n        {\n          type: 'integer',\n          const: {\n            label: '人民币',\n            value: 1,\n          },\n        }, {\n          type: 'integer',\n          const: {\n            label: '美元',\n            value: 2,\n          },\n        },\n      ],\n    },\n  },\n}, {\n  prop: 'cost',\n  type: 'string',\n  title: '成本单价',\n}, {\n  prop: 'color_limit_type',\n  type: 'string',\n  title: '颜色限制类别',\n  clearable: true,\n  oneOf: [\n    {\n      type: 'integer',\n      const: {\n        label: '全部颜色',\n        value: 1,\n      },\n    }, {\n      type: 'integer',\n      const: {\n        label: '仅部分颜色',\n        value: 2,\n      },\n    }, {\n      type: 'integer',\n      const: {\n        label: '荧光色除外',\n        value: 3,\n      },\n    },\n  ],\n}, {\n  prop: 'evergreen',\n  type: 'string',\n  title: '常青材料',\n  builder: 'el-checkbox',\n  attrs: {\n    'true-label': 1,\n    'false-label': 2,\n    label: 'TRUE',\n  },\n}];\n\nexport default list;\n","import Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\nimport axios from '@/utils/axios';\nimport { fetchAntaPropertyById } from '@/loaders/dictionary';\nimport difference from '@4dst-saas/public-utils/dist/difference';\nimport customJsonschemaList from './customJsonschema';\n\n\n// 获取大中小类组合的类名\nasync function getCategoryName(id: string) {\n  return ((await axios({\n    method: 'post',\n    url: '/anta-material/category/name',\n    data: {\n      ids: [id],\n    },\n  })).data)[id];\n}\n\n// 获取供应商名称\nasync function fetchSupplierName(id: string) {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: { ids: [id] },\n  })).data;\n  return res?.[0]?.originalSupplierName || '';\n}\n\nexport type IAttribute = {\n  id?: string,\n  title: string,\n  required: boolean | 0 | 1,\n  values?: IOption[] | undefined,\n  key: string,\n  isSystem?: boolean,\n  component: 1 | 2 | 3 /** 小数、整数、文本是1，下拉类型是2 */,\n  params?: Partial<Jsonschema>,\n};\n\nexport type IOption = {\n  id?: string,\n  label: string,\n  sort: number,\n};\n\nexport function attributeValueExtractFEId(list: IAttribute['values']) {\n  if (!list) return list;\n  return list.map((item) => {\n    const { id, label, sort } = item;\n    if (id?.startsWith('@FE')) {\n      return {\n        label, sort,\n      };\n    }\n    return { id, label, sort };\n  });\n}\n\nexport function attribute2JSONschema(itemOrList: IAttribute | IAttribute[] | {isSystem: true, key: string, title: string}) {\n  const list = (\n    Object.prototype.toString.call(itemOrList) === '[object Array]' ? itemOrList : [itemOrList]\n  ) as IAttribute[];\n  const JSONschemaList = list.map(attr => {\n    if (attr.isSystem) {\n      const obj = {\n        ...customJsonschemaList.find(item => {\n          return item.prop === attr.key;\n        }),\n      };\n\n      obj.required = obj.type === 'object' ? (\n        attr.required ? Object.keys(obj.properties) : []\n      ) : !!attr.required;\n\n      if (Array.isArray(obj.required) && !obj.required.length) {\n        delete obj.required;\n      }\n      return obj;\n    }\n    if (!attr.params) {\n      attr.params = new Jsonschema({ type: 'string' });\n    }\n    // 增加title\n    attr.params = {\n      ...attr.params,\n      title: attr.title,\n    };\n    if (attr.key) {\n      attr.params.prop = attr.key;\n    }\n    if (attr.required) attr.params.required = [];\n    switch (attr.component) {\n      case 1: return { ...attr.params! } as Jsonschema;\n      case 2: {\n        const oneOf = attr.values!.map(av => new Jsonschema({\n          type: 'string',\n          const: {\n            label: av.label,\n            value: av.id!,\n          } as unknown as 'object',\n          $id: av.id!,\n        }));\n        attr.params = {\n          ...attr.params,\n          oneOf,\n          valueKey: 'value',\n          labelKey: 'label',\n          validator: [attr.title],\n        };\n        return ({ ...attr.params!, oneOf }) as Jsonschema;\n      }\n      case 3: {\n        const anyOf = attr.values!.map(av => new Jsonschema({\n          type: 'string',\n          const: {\n            label: av.label,\n            value: av.id!,\n          } as unknown as 'object',\n          $id: av.id!,\n        }));\n        attr.params = {\n          ...attr.params,\n          // oneOf,\n          valueKey: 'value',\n          labelKey: 'label',\n          validator: [attr.title],\n          type: 'array',\n          anyOf,\n        };\n        return ({ ...attr.params! }) as Jsonschema;\n      }\n      default: return new Jsonschema({ type: 'string' });\n    }\n  });\n  return list.length > 1 ? JSONschemaList : JSONschemaList[0];\n}\n\n/** 将输入的JSONschema数组包成一个JSONschema (弃用) */\nexport function JSONschemaList2JSONschema(list: Jsonschema[], useSort = true): Jsonschema {\n  const wrapper = new Jsonschema({ type: 'object', properties: {} });\n  wrapper.properties = {\n    ...list.reduce((pre, cur) => ({\n      ...pre,\n      [cur.title!]: cur,\n    }), {}),\n  };\n  wrapper.required = [...(list.filter(item => item.required).map(item => item.title) as string[])];\n  if (useSort) {\n    wrapper.sort = list.map(item => item.title!);\n  }\n  return wrapper;\n}\n\n/**\n * 用于面料详情显示\n * 输入中类id和formData，返回转换好的formData\n *\n * @param extractList 根据权限需要去掉的属性\n */\nexport async function antaMiddleClassIdAndFormData2TransformedFormDataList(\n  middleClassId: string,\n  formData: {[key: string]: string | number| object},\n  extractList: string[] = [],\n) {\n  const properties = (await axios({\n    url: '/anta-material/template/middle',\n    params: { id: middleClassId },\n    method: 'GET',\n  })).data as { propertyId?: string, sort: number, isSystem: boolean, title: string, key: string }[];\n\n  if (!properties.length) return formData;\n\n  // 排序\n  const propertiesSortList = properties.sort(\n    (a, b) => Math.abs(a.sort) - Math.abs(b.sort),\n  );\n\n  // 处理一下\n  const list = (await Promise.all(propertiesSortList.map(async (propertyItem) => {\n    if (propertyItem.isSystem) {\n      return propertyItem;\n    }\n    return (await axios({\n      url: `/anta-material/dynamics/property/detail?id=${propertyItem.propertyId}`, method: 'GET',\n    })).data as IAttribute;\n  }))).filter(i => extractList.indexOf(i.title) === -1);\n\n\n  function setColorLimitType(colorLimitType : 1 | 2 | 3 | undefined) {\n    switch (colorLimitType) {\n      case 1: return '全部颜色';\n      case 2: return '仅部分颜色';\n      case 3: return '荧光色除外';\n      default: return '--';\n    }\n  }\n\n  // 将值转为对应显示的东西\n  const l = await Promise.all(list.map(async (item) => {\n    if (item.isSystem) {\n      switch (item.key) {\n        case 'category': return { label: item.title, value: await getCategoryName(formData[item.key] as string) };\n        case 'season': return {\n          label: item.title,\n          value: formData[item.key]\n            ? `${formData[item.key].year || ''}${formData[item.key].season || ''}${await fetchAntaPropertyById(formData[item.key]['品牌'])}`\n            : '--',\n        };\n        case 'reference_price': {\n          const referenceUnit = formData.reference_price.unit === 1 ? '人民币' : '美元';\n          return { label: item.title, value: formData[item.key].value ? `${formData[item.key].value}${referenceUnit}` : '--' };\n        }\n        case 'cost': {\n          const costUnit = formData.cost.unit === 1 ? '人民币' : '美元';\n          return { label: item.title, value: formData[item.key].value ? `${formData[item.key].value}${costUnit}` : '--' };\n        }\n        case 'color_limit_type': return { label: item.title, value: setColorLimitType(formData[item.key] as 1 | 2 | 3) };\n        case 'evergreen': return { label: item.title, value: formData[item.key] === 1 ? 'TRUE' : 'FALSE' };\n        case 'supplier_name': return { label: item.title, value: await fetchSupplierName(formData[item.key] as string) };\n        case 'materialName':\n        case 'material_number': return { label: item.title, value: formData[item.key] };\n        // default: throw new Error(`数据转换出错。当前key为${item.key}`);\n        default: throw new Error(`数据转换出错。当前title为${item.title}`);\n      }\n    }\n\n    // 非系统属性\n    switch (item.component) {\n      case 1: return { label: item.title, value: formData[item.title] };\n      // case 3: return { label: item.title, value: formData[item.id!] };\n      case 2: {\n        // 先判断是否在可选值中。如果在可选值中，直接获取可选值，否则还要根据id调接口获得\n        const wait4FetchValue = formData[item.title] as string;\n        const target = item.values!.find(i => i.id === wait4FetchValue);\n        if (target) return { label: item.title, value: target.label };\n        const label = (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id: wait4FetchValue },\n        })).data as string;\n        return { label: item.title, value: label };\n      }\n      case 3: {\n        const wait4FetchValue = formData[item.title] as string[] || [];\n        const notFounds = wait4FetchValue.filter(v => !item.values!.find(i => i.id === v));\n        // if (!notFounds.length) return { label: item.title, value: targets.join(',') };\n        const labels = await Promise.all(notFounds.map(async (id) => (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id },\n        })).data as string));\n        const res = labels.concat(\n          difference(wait4FetchValue, notFounds).map(\n            v => item.values.find(i => i.id === v)?.label,\n          ),\n        ).join(',');\n        // return res;\n        return { label: item.title, value: res };\n      }\n      default: throw new Error(`数据转换出错。当前component为${item.component}`);\n    }\n  }));\n  return l;\n}\n\n/** 输入中类id和formData，返回转换好的formData(弃用) */\nexport async function antaMiddleClassIdAndFormData2TransformedFormData(\n  middleClassId: string,\n  formData: {[key: string]: string | number},\n) {\n  const properties = (await axios({\n    url: '/anta-material/template/middle',\n    params: { id: middleClassId },\n    method: 'GET',\n  })).data as { propertyId: string }[];\n  if (!properties.length) return formData;\n  const pIds = properties.map(property => property.propertyId);\n\n  const list = await Promise.all(pIds.map(async (id) => {\n    return (await axios({\n      url: `/anta-material/dynamics/property/detail?id=${id}`, method: 'GET',\n    })).data as IAttribute;\n  }));\n  const res = { ...formData };\n  const filterList = list.filter(attr => attr.component === 2);\n  const shouldFetchList:{key: string, id: string}[] = [];\n  filterList.forEach(item => {\n    const key = item.title;\n    const wait4FetchValue = formData[key] as string;\n    const target = item.values!.find(i => i.id === wait4FetchValue);\n    // 找到了\n    if (target) res[key] = target.label;\n    else shouldFetchList.push({ key, id: wait4FetchValue });\n  });\n  if (shouldFetchList.length) {\n    await Promise.all(shouldFetchList.map(async ({ id, key }) => {\n      const value = (await axios({\n        url: '/anta-material/dynamics/property/value/id',\n        method: 'GET',\n        params: { id },\n      })).data as string;\n      console.log(value);\n      res[key] = value;\n    }));\n  }\n  return res;\n}\n\n/** 输入jsonschema，返回包含检验下拉框值的validator函数组成的对象 */\nexport function jsonschema2FormItemValidatorObject(jss: Jsonschema) {\n  if (jss.type !== 'object') throw new Error('输入的jsonschema不是object类型');\n  if (!jss.properties) throw new Error('输入的jsonschema没有properties');\n  const validatorObject:{[key: string]: Function} = {};\n  const validatorKeys = Object.keys(jss.properties!).filter(key => jss.properties![key].oneOf);\n  validatorKeys.forEach(key => {\n    if (jss.properties![key].type === 'array') return;\n    if (jss.required?.includes(key) || jss.properties![key].required\n    || (typeof (jss.properties![key].disabled) === 'boolean' && !jss.properties![key].disabled)) {\n      validatorObject[key] = (value: string) => {\n        const valueList = (jss.properties![key].oneOf!.map(item => item.const! as unknown as {\n          label: string, value: string,\n        })).map(({ value: _v }) => _v);\n        console.log(valueList);\n        if (!valueList.includes(value)) throw new Error('此值已被删除');\n      };\n    }\n  });\n  return validatorObject;\n}\n","module.exports = __webpack_public_path__ + \"img/records-empty.13f2a8f6.png\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=style&index=1&id=2a47bbd8&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=style&index=0&id=305df05d&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=style&index=0&id=77c96a62&lang=scss&scoped=true&\""],"sourceRoot":""}