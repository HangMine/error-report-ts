{"version":3,"sources":["webpack:///./src/views/model/mixin-renderer.js","webpack:///./src/components/form/FormSubmitButtons.vue?7403","webpack:///./src/utils/oss/uploadToOSS.js","webpack:///./src/components/upload/src/upload-style-normal.vue?0466","webpack:///./src/components/upload/styles/UploadStyle1.vue?7cff","webpack:///src/components/upload/styles/UploadStyle1.vue","webpack:///./src/components/upload/styles/UploadStyle1.vue?1f16","webpack:///./src/components/upload/styles/UploadStyle1.vue","webpack:///./src/mixins/form-validation.js","webpack:///./src/api/material.js","webpack:///./src/views/upload/material/components/MaterialUploadInfo.vue?6fef","webpack:///./src/views/upload/material/index.vue?41af","webpack:///./src/views/upload/material/components/IconQuestion.vue","webpack:///./src/views/upload/material/components/Disclaimer.vue","webpack:///./src/views/upload/material/components/MaterialUploadInfo.vue?870e","webpack:///./src/views/upload/material/components/ExampleTags.vue?9337","webpack:///./src/views/upload/material/components/ExampleTags.vue?59ad","webpack:///./src/views/upload/material/components/ExampleTags.vue?5002","webpack:///./src/views/upload/material/components/ExampleTags.vue","webpack:///src/views/upload/material/components/IconQuestion.vue","webpack:///./src/views/upload/material/components/IconQuestion.vue?9ace","webpack:///src/views/upload/material/components/MaterialUploadInfo.vue","webpack:///./src/views/upload/material/components/MaterialUploadInfo.vue?527b","webpack:///./src/views/upload/material/components/MaterialUploadInfo.vue","webpack:///./src/views/upload/material/components/MaterialUploadFile.vue?dfb6","webpack:///./src/views/upload/material/progress-faker.js","webpack:///src/views/upload/material/components/MaterialUploadFile.vue","webpack:///./src/views/upload/material/components/MaterialUploadFile.vue?8ce6","webpack:///./src/views/upload/material/components/MaterialUploadFile.vue","webpack:///src/views/upload/material/components/Disclaimer.vue","webpack:///./src/views/upload/material/components/Disclaimer.vue?2510","webpack:///src/views/upload/material/index.vue","webpack:///./src/views/upload/material/index.vue?b993","webpack:///./src/views/upload/material/index.vue","webpack:///./src/utils/load-d4.js","webpack:///./src/mixins/loading.js","webpack:///./src/views/upload/material/components/MaterialUploadFile.vue?42e0","webpack:///./src/components/upload/styles/UploadStyle1.vue?feac","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue?7f45","webpack:///src/components/dictionary/DictionaryCountrySelector.vue","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue?230a","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue","webpack:///./src/views/upload/material/components/ColorPicker.vue?5769","webpack:///./src/views/upload/material/components/Disclaimer.vue?f3ed","webpack:///./src/assets/img/upload/material-tag-example.png","webpack:///./src/views/upload/material/components/IconQuestion.vue?334e","webpack:///./src/views/upload/material/components/ColorPicker.vue?80e8","webpack:///./src/views/upload/material/components/ColorPicker.vue?c1c3","webpack:///./src/views/upload/material/components/ColorPicker.vue?5d64","webpack:///./src/views/upload/material/components/ColorPicker.vue","webpack:///./src/views/upload/material/index.vue?bddd","webpack:///./src/assets/img/upload/file-4ddat.png","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?96ae","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?7e93","webpack:///./src/components/dictionary/DictionarySelectorNew.vue?60d8","webpack:///./src/components/dictionary/DictionarySelectorNew.vue","webpack:///./src/components/form/FormSubmitButtons.vue?842c","webpack:///src/components/form/FormSubmitButtons.vue","webpack:///./src/components/form/FormSubmitButtons.vue?4eec","webpack:///./src/components/form/FormSubmitButtons.vue","webpack:///./src/views/material/form-related.js","webpack:///./src/components/upload/index.vue","webpack:///./src/components/upload/src/upload-drag.vue?bd3b","webpack:///./src/components/upload/src/upload-style-normal.vue?468a","webpack:///src/components/upload/src/upload-style-normal.vue","webpack:///./src/components/upload/src/upload-style-normal.vue?f0ac","webpack:///./src/components/upload/src/upload-style-normal.vue","webpack:///src/components/upload/src/upload-drag.vue","webpack:///./src/components/upload/src/upload-drag.vue?edcf","webpack:///./src/components/upload/src/upload-drag.vue","webpack:///./src/components/upload/src/upload-file-input.vue?00c4","webpack:///src/components/upload/src/upload-file-input.vue","webpack:///./src/components/upload/src/upload-file-input.vue?9a5b","webpack:///./src/components/upload/src/upload-file-input.vue","webpack:///src/components/upload/index.vue","webpack:///./src/components/upload/index.vue?d890","webpack:///./src/api/dictionary.js","webpack:///./src/components/upload/index.vue?3c63","webpack:///./src/views/upload/material/components/ExampleTags.vue?2e24"],"names":["data","d4","d2","canvasEvent","destroyed","this","methods","instanceD4","D4","canvasDom","canvas","width","height","resolution","window","devicePixelRatio","_getTargetName","event","param","left","getBoundingClientRect","top","clickX","clientX","clickY","clientY","eventType","type","getTargetFromScreen","_initCanvasEvent","keydown","e","shortcutKeys","click","d4Sign","getSign","offsetX","offsetY","ann","annotations","find","_ann","id","showAnnotation","mousedown","controlsMouseMove","signCurrent","mouseMoveRender","controlsMouseUp","render","document","removeEventListener","isStart","controlsMouseDown","addEventListener","wheel","preventDefault","stopPropagation","controlsMouseWheel","touchstart","controlsTouchMove","controlsTouchEnd","uploadToOSS","blobOrDataUrl","sourceType","onUpload","body","isDataUrl","dataUrl2Blob","OSSUploader","send","key","_vm","_h","$createElement","_c","_self","staticClass","attrs","url","_v","_s","$t","staticRenderFns","props","String","required","component","mixinValidateForm","validateForm","Object","keys","form","forEach","prop","trim","replace","validateFormFields","$refs","$emit","console","warn","Error","i18n","t","resetFields","mixinValidateFormField","validateFormField","field","value","validate","valid","invalidFields","mixinCheckPasswordAsPrevious","validatePasswordConfirm","rule","callback","pass","passwordConfirm","rules","validator","requirement","charLengthMini","handlePasswordChange","validateField","uploadMaterialInfo","axios","method","headers","groupAppId","workspaceId","getMaterialInfo","materialId","language","params","fetchMaterialTypes","businessTypes","ref","style","screenWidth","on","cancel","submit","$event","materialType","staticStyle","model","$$v","$set","expression","colorFamily","moqUnit","materialCountryOfOrigin","productionLeadTimeUnit","samplePriceUnit","samplePriceNumber","exampleTags","thicknessUnit","_l","tag","i","name","tags","Array","default","h","class","mouseenter","target","className","mouseleave","components","VueInputTag","DictionarySelectorNew","DictionaryCountrySelector","MaterialColorPicker","IconQuestion","mixins","handleUploadSddat","sddat","imgHolder","fileName","uploading","destructuring","_e","_g","ProgressFaker","speed","total","isCompleted","timer","stepSize","setInterval","clearInterval","n","Math","round","UploadArea","UploadStyle","host","ossPath","mapPaths","matJson","renderArguments","mergeMapObj","drop","flat","toe","pf","validateFiles","Promise","_generateTextures","color","normal","specular","gloss","alpha","fresnel","textures","mapMatcher","item","functional","MaterialUploadInfo","MaterialUploadFile","FormSubmitButtons","DiclaimerButton","parentFolderId","Number","mounted","innerWidth","loadD4","loadD2","loadingVeil","startLoading","text","Loading","service","lock","background","endLoading","close","placeholder","disabled","selectedValue","lang","usName","Boolean","options","watch","handler","val","immediate","module","exports","marginTop","mode","$i18n","i18next","cnName","active","white","backgroundColor","heximal","changeActiveStatus","setup","emit","colors","colorName","emitable","colorItem","colorValue","filter","map","join","initActiveStatus","split","handleChange","itemValue","label","valueType","created","o","toString","$errHandler","selectedOptions","size","cancelText","submitText","btnStyle","materialForm","materialName","supplierArticleName","supplierArticleNo","season","supplierName","printPatterns","samplePrice","moq","productionLeadTime","thickness","materialFromRules","selection","charLengthMax","numberPositive","samplePeriod","materialColorPicker","dragoverStatus","dataTransfer","files","handleDragOver","_t","styleType","buffer","imgUrl","vm","visible","toggleVisible","inject","UploadStyleNormal","accept","multiple","uploadFiles","inputFile","length","UploadDrag","UploadFileInput","maxSize","Infinity","minSize","draggable","provide","imgs","unmatchFiles","handleDeleteFile","handleToggleVisible","status","_checkFiles","info","file","extensionList","includes","extension","result","push","unmatchFilesLength","resolve","getDictionaryByTypeCode","typeCode","getCountryList","keyword"],"mappings":"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","file":"js/chunk-0daed2da.dc4fa8f7.js","sourcesContent":["export default {\n  data() {\n    return {\n      d4: null,\n      d2: null,\n      canvasEvent: {},\n    };\n  },\n  destroyed() {\n    this.d4 = null;\n    this.d2 = null;\n  },\n  methods: {\n    // 实例化 D4\n    instanceD4(D4, canvasDom) {\n      // eslint-disable-next-line\n      return new D4({\n        canvas: canvasDom,\n        width: canvasDom.width,\n        height: canvasDom.height,\n        resolution: window.devicePixelRatio,\n      });\n    },\n    // 返回当前选中的部件名称\n    _getTargetName(canvasDom, event) {\n      const param = {\n        left: canvasDom.getBoundingClientRect().left,\n        top: canvasDom.getBoundingClientRect().top,\n        clickX: event.clientX,\n        clickY: event.clientY,\n        eventType: event.type,\n      };\n      return this.d4.getTargetFromScreen(param);\n    },\n    // 初始化 canvas 事件，（必须在 D4 创建实例后）\n    _initCanvasEvent() {\n      const {\n        d4,\n      } = this;\n      return ({\n        keydown(e) {\n          d4.shortcutKeys(e);\n        },\n        click: async (e) => {\n          const d4Sign = d4.getSign(e.offsetX, e.offsetY);\n\n          if (d4Sign) {\n            const ann = this.annotations.find(_ann => _ann.id === d4Sign.id);\n            if (ann) {\n              this.showAnnotation(ann);\n            }\n          }\n        },\n        mousedown: (event) => {\n          const controlsMouseMove = (e) => {\n            this.signCurrent = null;\n            d4.controlsMouseMove(e);\n            d4.mouseMoveRender(e);\n          };\n\n          function controlsMouseUp() {\n            d4.controlsMouseUp();\n            d4.render();\n            document.removeEventListener('mousemove', controlsMouseMove, false);\n            document.removeEventListener('mouseup', controlsMouseUp, false);\n          }\n\n          const isStart = d4.controlsMouseDown(event);\n          if (isStart) {\n            document.addEventListener('mousemove', controlsMouseMove, false);\n            document.addEventListener('mouseup', controlsMouseUp, false);\n          }\n        },\n        wheel: (event) => {\n          this.signCurrent = null;\n          event.preventDefault();\n          event.stopPropagation();\n\n          d4.controlsMouseWheel(event);\n          d4.render();\n        },\n        // drop(e){\n        // this.partSelected = _getTargetName(e);\n        // this.updateMaterial(this.$root.draggingData.datum.relateId);\n        // this.$root.draggingData = null;\n        // },\n        touchstart: () => {\n          const controlsTouchMove = (e) => {\n            this.signCurrent = null;\n            d4.controlsTouchMove(e);\n          };\n\n          function controlsTouchEnd(e) {\n            d4.controlsTouchEnd(e);\n\n            document.removeEventListener('touchmove', controlsTouchMove, false);\n            document.removeEventListener('touchend', controlsTouchEnd, false);\n          }\n\n          document.addEventListener('touchmove', controlsTouchMove, false);\n          document.addEventListener('touchend', controlsTouchEnd, false);\n        },\n      });\n    },\n  },\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSubmitButtons.vue?vue&type=style&index=0&id=b6a9c9b4&lang=scss&scoped=true&\"","import { OSSUploader } from '@/utils/oss/uploader';\nimport isDataUrl from '_/is-data-url';\nimport { dataUrl2Blob } from '_/blob-utils';\n\n/**\n *\n * @param {Blob|string} blobOrDataUrl 一个dataUrl或者Blob对象（包括File）\n * @param {string} [sourceType] 资源类型 - @see {@link http://api.4dshoetech.com/project/61/interface/api/4387}\n * @param {(event: unknown,\n    fileLoaded: number,\n    fileSize: number,\n    process: number,\n    options: ComputedUploaderOptions<Params, Query>\n  ) => any} [onUpload] 上传进度 - 具体自己看结果或者源码\n * @return {Promise<string>}\n */\nconst uploadToOSS = async (blobOrDataUrl, sourceType, onUpload) => {\n  let body;\n  if (typeof blobOrDataUrl === 'string' && isDataUrl(blobOrDataUrl)) {\n    // 转化blob对象\n    body = dataUrl2Blob(blobOrDataUrl);\n  } else {\n    body = blobOrDataUrl;\n  }\n  // OSSUploader 会自动处理后缀名的问题，不需要额外的处理\n  // 上传到oss\n  /** @see {@link vscode://../from/a} */\n  const { key } = await OSSUploader.send({\n    sourceType,\n    body,\n    onUpload,\n  });\n\n  return key;\n};\n\nexport default uploadToOSS;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-style-normal.vue?vue&type=style&index=0&id=0eab218a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-style1\"},[(_vm.url)?_c('div',{staticClass:\"previewer-box\"},[_c('el-image',{staticClass:\"previewer\",attrs:{\"src\":_vm.url,\"fit\":\"cover\"}}),_c('div',{staticClass:\"previewer-veil\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.reupload')))])])],1):_c('div',{staticClass:\"upload-area\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"upload-style1\">\n    <!-- 上传预览图 -->\n    <div v-if=\"url\" class=\"previewer-box\">\n      <el-image :src=\"url\" fit=\"cover\" class=\"previewer\" />\n      <div class=\"previewer-veil\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.reupload') }}</p>\n      </div>\n    </div>\n    <!-- 上传按钮 -->\n    <div v-else class=\"upload-area\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-style1 {\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  cursor: pointer;\n  overflow: hidden;\n\n  &:hover {\n    background-color: #f7faff;\n  }\n  &:hover .upload-area {\n    border-color: $color-primary;\n  }\n}\n\n.upload-area {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n    font-weight: 400;\n  }\n  .iconfont {\n    font-size: 25px;\n    font-weight: 500;\n  }\n}\n\n.previewer-box {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  &:hover .previewer-veil {\n    display: flex;\n  }\n\n  .previewer-veil {\n    display: none;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.6);\n\n    .upload-text {\n      margin-top: 5px;\n      font-size: 14px;\n      font-weight: 500;\n    }\n    .iconfont {\n      font-size: 35px;\n      font-weight: 500;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadStyle1.vue?vue&type=template&id=456c7186&scoped=true&lang=html&\"\nimport script from \"./UploadStyle1.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadStyle1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadStyle1.vue?vue&type=style&index=0&id=456c7186&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"456c7186\",\n  null\n  \n)\n\nexport default component.exports","import i18n from 'i18next';\nimport validator, { validateFormFields } from '@/utils/validators/rules-validation';\n\n// 校验表单是否通过校验\nexport const mixinValidateForm = {\n  methods: {\n    async validateForm() {\n      Object.keys(this.form).forEach((prop) => {\n        if (typeof this.form[prop] === 'string') {\n          // 去掉首尾空格\n          // 防止XSS攻击（html方面）\n          this.form[prop] = this.form[prop]\n            .trim()\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;');\n        }\n      });\n\n      try {\n        await validateFormFields(this.$refs.form);\n        this.$emit('validate', this.form);\n        return this.form;\n      } catch (err) {\n        console.warn(err);\n        throw new Error(i18n.t('validator.form_val_fail'));\n      }\n    },\n    resetFields() {\n      this.$refs.form.resetFields();\n    },\n  },\n};\n\n// 校验表单中特定的field有没有通过校验；校验成功，返回其值\nexport const mixinValidateFormField = {\n  methods: {\n    validateFormField(field, value) {\n      this.$refs.form.validate((valid, invalidFields) => {\n        // 判断该属性是否在校验失败的field对象里面，如果校验通过则通知父组件\n        if (!invalidFields[field]) this.$emit('validate-field', { field, value });\n      });\n    },\n  },\n};\n\n// 校验再次输入的密码是否与上一次相同\nexport const mixinCheckPasswordAsPrevious = {\n  data() {\n    const validatePasswordConfirm = (rule, value, callback) => {\n      if (value !== this.form.pass) {\n        return callback(new Error(i18n.t('validator.same_as_prev')));\n      }\n      return callback();\n    };\n\n    return {\n      form: {\n        pass: '',\n        passwordConfirm: '',\n      },\n      rules: {\n        passwordConfirm: [\n          validator.requirement(),\n          validator.charLengthMini(6, 20),\n          { validator: validatePasswordConfirm },\n        ],\n      },\n    };\n  },\n  methods: {\n    // 当密码框输入变化时，要校验密码确认内容\n    // （此监听方法需添加到 password 上）\n    handlePasswordChange() {\n      if (this.form.passwordConfirm) this.$refs.form.validateField('passwordConfirm');\n    },\n  },\n};\n","import axios from './axios';\n\n/**\n * 上传材质信息(deprecated)\n * @param {Object} data 模型信息对象（具体数据结构看API接口文档）\n * @param {String} groupAppId workspaceId,默认为空\n * @returns {Promise}\n */\nexport const uploadMaterial = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/show/material/upload',\n    headers: {\n      groupAppId,\n    },\n    data,\n  });\n};\n\n/**\n * 上传材质信息\n * @param {Object} data 模型信息对象（具体数据结构看API接口文档）\n * @param {String} groupAppId workspaceId,默认为空\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6110\n */\nexport const uploadMaterialInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/upload',\n    headers: {\n      groupAppId: data.workspaceId || '',\n    },\n    data,\n  });\n};\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId, language, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n      groupAppId,\n    },\n    params: { materialId },\n  });\n};\n\n/**\n * 获取材质详情信息，用于拖拽到鞋模型渲染时使用(deprecated)\n * @param {String} relateId 材质Id\n * @returns {Promise}\n */\nexport const getMaterialInfoForDrag = (relateId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/getMaterialDetailInfo',\n    params: {\n      relateId,\n    },\n  });\n};\n\n/**\n * 更新材质详情信息（标签更新在其他接口）\n * @param {String} data { id: string, propName: any }\n * @see {Promise}\n */\nexport const updateMaterialInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/updateNewMaterialInfo',\n    data,\n  });\n};\n\n/* ============================ 材质标签相关 ======================= */\n/**\n * 新增材质标签\n * @param {String} id 材质ID\n * @param {Array} tags 新添加的标签数组\n * @param {String} groupAppId workspaceId,默认为空\n * @returns {Promise}\n */\nexport const createNewTagForMaterial = (id, tags, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/show/tag/addMaterialTag',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      id,\n      tags,\n    },\n  });\n};\n\n/**\n * 删除材质标签\n * @param {String} id 材质ID\n * @param {Array} tags 新添加的标签数组\n * @param {String} groupAppId workspaceId,默认为空\n * @returns {Promise}\n */\nexport const deleteTagsOfMaterial = (id, tags, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/show/tag/deleteMaterialTag',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      id,\n      tags,\n    },\n  });\n};\n\n// ==============================================================\n\n// 查询类目列表(无分页)\nexport const fetchMaterialTypes = async (id = '-1', businessTypes = 1) => {\n  let data = null;\n  switch (businessTypes) {\n    case 1: {\n      data = (await axios({\n        method: 'get',\n        url: `/anta-material/category/list?parentId=${id}`,\n      })).data;\n      break;\n    }\n    case 0: {\n      data = (await axios({\n        method: 'get',\n        url: `/show/category/list?parentId=${id}`,\n      })).data;\n      break;\n    }\n    default:\n  }\n  return data;\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialUploadInfo.vue?vue&type=style&index=0&id=4a0049d0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"uploadMaterial\",staticClass:\"material-upload-wrapper\"},[_c('MaterialUploadInfo',{ref:\"materialForm\"}),_c('MaterialUploadFile',{ref:\"materialFile\",staticClass:\"material-upload-section\"}),_c('section',{staticClass:\"material-upload-section flex-space-between material-upload-footer\",style:({width: (_vm.screenWidth + \"px\") })},[_c('DiclaimerButton'),_c('FormSubmitButtons',{attrs:{\"size\":\"medium\",\"btn-style\":{ width: '90px' }},on:{\"cancel\":_vm.cancel,\"submit\":_vm.submit}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nexport * from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconQuestion.vue?vue&type=style&index=0&id=773be2ab&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"773be2ab\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./Disclaimer.vue?vue&type=script&lang=js&\"\nexport * from \"./Disclaimer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Disclaimer.vue?vue&type=style&index=0&id=8d4eaa8e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d4eaa8e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"no-collapse\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"size\":\"small\"}},[_c('section',{staticClass:\"material-upload-section\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.material_type'))+\" \")]),_c('div',{staticClass:\"form-items clearfix\"},[_c('el-form-item',{attrs:{\"prop\":\"materialType\",\"label\":_vm.$t('material.info.types')}},[_c('DictionarySelectorNew',{staticClass:\"width-100\",attrs:{\"value\":\"\",\"type\":\"materialType\",\"placeholder\":_vm.$t('material.info.select_type')},on:{\"change\":function($event){_vm.form.materialType = $event}}})],1)],1),_c('h2',{staticClass:\"section-title\",staticStyle:{\"margin-top\":\"25px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('material.upload.general_info'))+\" \")]),_c('div',{staticClass:\"form-items clearfix\"},[_c('el-form-item',{attrs:{\"prop\":\"materialName\",\"label\":_vm.$t('material.info.material_name')}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.materialName),callback:function ($$v) {_vm.$set(_vm.form, \"materialName\", $$v)},expression:\"form.materialName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"supplierArticleName\",\"label\":_vm.$t('material.info.supplier_article_name')}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.supplierArticleName),callback:function ($$v) {_vm.$set(_vm.form, \"supplierArticleName\", $$v)},expression:\"form.supplierArticleName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"supplierArticleNo\",\"label\":_vm.$t('material.info.supplier_article_number')}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.supplierArticleNo),callback:function ($$v) {_vm.$set(_vm.form, \"supplierArticleNo\", $$v)},expression:\"form.supplierArticleNo\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"season\",\"label\":_vm.$t('material.info.season')}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.season),callback:function ($$v) {_vm.$set(_vm.form, \"season\", $$v)},expression:\"form.season\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"supplierName\",\"label\":_vm.$t('material.info.supplier_name')}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.supplierName),callback:function ($$v) {_vm.$set(_vm.form, \"supplierName\", $$v)},expression:\"form.supplierName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"colorFamily\",\"label\":_vm.$t('material.info.color_family')}},[_c('MaterialColorPicker',{on:{\"change\":function($event){_vm.form.colorFamily = $event}}})],1),_c('el-form-item',{attrs:{\"prop\":\"moq\",\"label\":_vm.$t('material.info.moq')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.moq),callback:function ($$v) {_vm.$set(_vm.form, \"moq\", $$v)},expression:\"form.moq\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"124px\",\"margin-left\":\"12px\"},attrs:{\"type\":\"mqqUnit\",\"placeholder\":_vm.$t('material.info.select_type')},on:{\"change\":function($event){_vm.form.moqUnit = $event}}})],1)]),_c('el-form-item',{attrs:{\"prop\":\"color\",\"label\":_vm.$t('material.info.color')}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.color),callback:function ($$v) {_vm.$set(_vm.form, \"color\", $$v)},expression:\"form.color\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"materialCountryOfOrigin\",\"label\":_vm.$t('material.info.original_country')}},[_c('DictionaryCountrySelector',{staticClass:\"width-100\",attrs:{\"placeholder\":_vm.$t('material.info.original_country_placeholder')},on:{\"change\":function($event){_vm.form.materialCountryOfOrigin= $event}}})],1),_c('el-form-item',{attrs:{\"prop\":\"productionLeadTime\",\"label\":_vm.$t('material.info.lead_time')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.productionLeadTime),callback:function ($$v) {_vm.$set(_vm.form, \"productionLeadTime\", $$v)},expression:\"form.productionLeadTime\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"124px\",\"margin-left\":\"12px\"},attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('material.info.select_type')},on:{\"change\":function($event){_vm.form.productionLeadTimeUnit = $event}}})],1)]),_c('el-form-item',{attrs:{\"prop\":\"samplePrice\",\"label\":_vm.$t('material.info.sample_price')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.samplePrice),callback:function ($$v) {_vm.$set(_vm.form, \"samplePrice\", $$v)},expression:\"form.samplePrice\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"150px\",\"margin-left\":\"12px\"},attrs:{\"type\":\"priceUnit\",\"placeholder\":_vm.$t('material.info.select_type')},on:{\"change\":function($event){_vm.form.samplePriceUnit = $event}}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"124px\",\"margin-left\":\"12px\"},attrs:{\"type\":\"sizeNumber\",\"placeholder\":_vm.$t('material.info.select_type')},on:{\"change\":function($event){_vm.form.samplePriceNumber = $event}}})],1)]),_c('el-form-item',[_c('p',[_c('span',[_vm._v(_vm._s(_vm.$t('material.upload.tags')))]),_c('IconQuestion',{attrs:{\"url\":require('@/assets/img/upload/material-tag-example.png'),\"tags\":_vm.exampleTags}})],1),_c('VueInputTag',{attrs:{\"placeholder\":_vm.$t('material.upload.add_tag'),\"add-tag-on-blur\":\"\"},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}})],1)],1)]),_c('section',{staticClass:\"material-upload-section\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.other'))+\" \")]),_c('div',{staticClass:\"form-items clearfix\"},[_c('el-form-item',{attrs:{\"prop\":\"printPatterns\",\"label\":_vm.$t('material.info.print_and_pattern')}},[_c('VueInputTag',{attrs:{\"placeholder\":_vm.$t('material.upload.add_tag'),\"add-tag-on-blur\":\"\"},model:{value:(_vm.form.printPatterns),callback:function ($$v) {_vm.$set(_vm.form, \"printPatterns\", $$v)},expression:\"form.printPatterns\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"thickness\",\"label\":_vm.$t('material.info.thickness')}},[_c('div',{staticClass:\"flex\"},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.form.thickness),callback:function ($$v) {_vm.$set(_vm.form, \"thickness\", $$v)},expression:\"form.thickness\"}}),_c('DictionarySelectorNew',{staticStyle:{\"width\":\"124px\",\"margin-left\":\"12px\"},attrs:{\"type\":\"thicknessUnit\",\"placeholder\":_vm.$t('material.info.select_type')},on:{\"change\":function($event){_vm.form.thicknessUnit = $event}}})],1)])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function (_h,_vm) {var _c=_vm._c;return _c('figure',[_c('div',{staticClass:\"img-box\"},[_c('el-image',{attrs:{\"src\":_vm.props.url,\"fit\":\"cover\"}})],1),_c('figcaption',[_c('ul',{staticClass:\"tag-list\"},_vm._l((_vm.props.tags),function(tag,i){return _c('li',{key:i,staticClass:\"tag-item\"},[_vm._v(_vm._s(tag))])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\n\nexport default defineComponent({\n  name: 'UploadTagsExample',\n  props: {\n    // 图片的url\n    url: {\n      type: String,\n      required: true,\n    },\n    // 标签数组，用于对图片的描述\n    tags: {\n      type: Array,\n      default: () => [],\n    },\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleTags.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleTags.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExampleTags.vue?vue&type=template&id=5c4687b2&scoped=true&functional=true&\"\nimport script from \"./ExampleTags.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExampleTags.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ExampleTags.vue?vue&type=style&index=0&id=5c4687b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"5c4687b2\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport i18n from 'i18next';\nimport ExampleTags from './ExampleTags.vue';\n\nexport default {\n  name: 'UploadIconQuestion',\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n    tags: {\n      type: Array,\n      required: true,\n    },\n  },\n  render(h) {\n    const self = this;\n\n    return h('i', {\n      class: 'iconfont iconhelp_nol',\n      on: {\n        // 显示标签示例弹框\n        async click() {\n          await self.$Dialog.dialogify({\n            is: ExampleTags,\n            props: {\n              url: self.url,\n              tags: self.tags,\n            },\n          }, {\n            props: {\n              title: i18n.t('material.upload.exampleTags'),\n              width: '550px',\n            },\n          });\n        },\n        // 控制鼠标进出时状态变化\n        mouseenter(event) {\n          event.target.className = 'iconfont icon-help-circle';\n        },\n        mouseleave(event) {\n          event.target.className = 'iconfont iconhelp_nol';\n        },\n      },\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 标签填写示例\n.iconfont {\n  margin-left: 5px;\n  font-size: 17px;\n  color: #848b97;\n  cursor: pointer;\n}\n.icon-help-circle {\n  color: $color-primary;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"","<template>\n  <el-form :model=\"form\" :rules=\"rules\" size=\"small\" class=\"no-collapse\" ref=\"form\">\n    <section class=\"material-upload-section\">\n      <!-- 面料类型 -->\n      <h2 class=\"section-title\">\n        {{ $t('material.info.material_type') }}\n      </h2>\n      <div class=\"form-items clearfix\">\n        <el-form-item prop=\"materialType\" :label=\"$t('material.info.types')\">\n          <DictionarySelectorNew\n            value=\"\"\n            type=\"materialType\"\n            :placeholder=\"$t('material.info.select_type')\"\n            class=\"width-100\"\n            @change=\"form.materialType = $event\" />\n        </el-form-item>\n      </div>\n\n      <!-- 基本信息 -->\n      <h2 class=\"section-title\" style=\"margin-top: 25px;\">\n        {{ $t('material.upload.general_info') }}\n      </h2>\n      <div class=\"form-items clearfix\">\n        <el-form-item prop=\"materialName\" :label=\"$t('material.info.material_name')\">\n          <el-input v-model=\"form.materialName\" clearable />\n        </el-form-item>\n\n        <el-form-item prop=\"supplierArticleName\" :label=\"$t('material.info.supplier_article_name')\">\n          <el-input v-model=\"form.supplierArticleName\" clearable />\n        </el-form-item>\n\n        <el-form-item prop=\"supplierArticleNo\" :label=\"$t('material.info.supplier_article_number')\">\n          <el-input v-model=\"form.supplierArticleNo\" clearable />\n        </el-form-item>\n\n        <el-form-item prop=\"season\" :label=\"$t('material.info.season')\">\n          <el-input v-model=\"form.season\" clearable />\n        </el-form-item>\n\n        <el-form-item prop=\"supplierName\" :label=\"$t('material.info.supplier_name')\">\n          <el-input v-model=\"form.supplierName\" clearable />\n        </el-form-item>\n\n        <el-form-item prop=\"colorFamily\" :label=\"$t('material.info.color_family')\">\n          <MaterialColorPicker @change=\"form.colorFamily = $event\" />\n        </el-form-item>\n\n        <el-form-item prop=\"moq\" :label=\"$t('material.info.moq')\">\n          <div class=\"flex\">\n            <el-input v-model=\"form.moq\" clearable />\n            <DictionarySelectorNew\n              type=\"mqqUnit\"\n              :placeholder=\"$t('material.info.select_type')\"\n              style=\"width: 124px; margin-left: 12px;\"\n              @change=\"form.moqUnit = $event\" />\n          </div>\n        </el-form-item>\n\n        <el-form-item prop=\"color\" :label=\"$t('material.info.color')\">\n          <el-input v-model=\"form.color\" clearable />\n        </el-form-item>\n\n        <el-form-item prop=\"materialCountryOfOrigin\"\n        :label=\"$t('material.info.original_country')\">\n          <DictionaryCountrySelector\n            :placeholder=\"$t('material.info.original_country_placeholder')\"\n            class=\"width-100\"\n            @change=\"form.materialCountryOfOrigin= $event\" />\n        </el-form-item>\n\n        <el-form-item prop=\"productionLeadTime\"\n        :label=\"$t('material.info.lead_time')\">\n          <div class=\"flex\">\n            <el-input v-model=\"form.productionLeadTime\" clearable />\n            <DictionarySelectorNew\n              type=\"date\"\n              :placeholder=\"$t('material.info.select_type')\"\n              style=\"width: 124px; margin-left: 12px;\"\n              @change=\"form.productionLeadTimeUnit = $event\" />\n          </div>\n        </el-form-item>\n\n        <el-form-item prop=\"samplePrice\" :label=\"$t('material.info.sample_price')\">\n          <div class=\"flex\">\n            <el-input v-model=\"form.samplePrice\" clearable />\n            <DictionarySelectorNew\n              type=\"priceUnit\"\n              :placeholder=\"$t('material.info.select_type')\"\n              style=\"width: 150px; margin-left: 12px;\"\n              @change=\"form.samplePriceUnit = $event\" />\n            <DictionarySelectorNew\n              type=\"sizeNumber\"\n              :placeholder=\"$t('material.info.select_type')\"\n              style=\"width: 124px; margin-left: 12px;\"\n              @change=\"form.samplePriceNumber = $event\" />\n          </div>\n        </el-form-item>\n\n        <el-form-item>\n          <p>\n            <span>{{$t('material.upload.tags')}}</span>\n            <IconQuestion\n              :url=\"require('@/assets/img/upload/material-tag-example.png')\"\n              :tags=\"exampleTags\" />\n          </p>\n          <VueInputTag\n            v-model=\"form.tags\"\n            :placeholder=\"$t('material.upload.add_tag')\"\n            add-tag-on-blur />\n        </el-form-item>\n      </div>\n    </section>\n\n    <section class=\"material-upload-section\">\n      <h2 class=\"section-title\">\n        {{ $t('material.info.other') }}\n      </h2>\n      <div class=\"form-items clearfix\">\n        <el-form-item prop=\"printPatterns\" :label=\"$t('material.info.print_and_pattern')\">\n          <VueInputTag\n            v-model=\"form.printPatterns\"\n            :placeholder=\"$t('material.upload.add_tag')\"\n            add-tag-on-blur />\n        </el-form-item>\n\n        <el-form-item prop=\"thickness\" :label=\"$t('material.info.thickness')\">\n          <div class=\"flex\">\n            <el-input v-model=\"form.thickness\" clearable />\n            <DictionarySelectorNew\n              type=\"thicknessUnit\"\n              :placeholder=\"$t('material.info.select_type')\"\n              style=\"width: 124px; margin-left: 12px;\"\n              @change=\"form.thicknessUnit = $event\" />\n          </div>\n        </el-form-item>\n      </div>\n    </section>\n  </el-form>\n</template>\n\n<script>\nimport VueInputTag from 'vue-input-tag';\nimport i18n from 'i18next';\n\nimport { mixinValidateForm } from '@/mixins/form-validation';\nimport { materialForm, materialFromRules } from '@/views/material/form-related.js';\n\nimport DictionarySelectorNew from '@/components/dictionary/DictionarySelectorNew.vue';\nimport DictionaryCountrySelector from '@/components/dictionary/DictionaryCountrySelector.vue';\nimport MaterialColorPicker from './ColorPicker.vue';\nimport IconQuestion from './IconQuestion.vue';\n\n\nexport default {\n  name: 'MaterialUploadForm',\n  components: {\n    VueInputTag,\n    DictionarySelectorNew,\n    DictionaryCountrySelector,\n    MaterialColorPicker,\n    IconQuestion,\n  },\n  mixins: [mixinValidateForm],\n  data() {\n    return {\n      form: { ...materialForm },\n      rules: materialFromRules,\n      exampleTags: [i18n.t('material.example_tags.wool'), i18n.t('material.example_tags.mixed'), i18n.t('material.example_tags.dark_red')],\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-form {\n  width: 1200px;\n\n  /deep/ .el-form-item.is-required:not(.is-no-asterisk) > .el-form-item__label:before{\n    top: 2px;\n  }\n  .el-form-item {\n    float: left;\n    width: 50%;\n    min-height: 65px;\n    padding-right: 150px;\n    margin-bottom: 5px;\n\n    /deep/ .el-form-item__label {\n      float: none;\n    }\n  }\n\n  .material-upload-section {\n    padding: 20px 30px;\n    margin-bottom: 20px;\n    background-color: #fff;\n    box-shadow: 0px 0px 15px 0px rgba(136, 149, 172, 0.08);\n    border-radius: 8px;\n  }\n  .section-title {\n    margin-top: 10px;\n    font-size: 18px;\n    line-height: 40px;\n  }\n  /deep/ .vue-input-tag-wrapper {\n    .input-tag{\n      padding:  0 0 0 8px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialUploadInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialUploadInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialUploadInfo.vue?vue&type=template&id=4a0049d0&scoped=true&\"\nimport script from \"./MaterialUploadInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialUploadInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialUploadInfo.vue?vue&type=style&index=0&id=4a0049d0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a0049d0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-container\",staticStyle:{\"padding\":\"40px 30px 40px\"}},[_c('h1',{staticClass:\"section-title\"},[_vm._v(_vm._s(_vm.$t('material.upload.material_file')))]),_c('div',{staticClass:\"flex\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',[_c('UploadArea',{attrs:{\"accept\":\".4ddat\",\"draggable\":\"\"},on:{\"upload\":function($event){return _vm.handleUploadSddat($event)}}},[_c('UploadStyle',{staticClass:\"upload-4ddat-area\",attrs:{\"url\":_vm.sddat.imgHolder}})],1),_c('p',{staticClass:\"upload-title\"},[_vm._v(\"4ddat\")])],1),(_vm.d4)?_c('div',{staticClass:\"text-one-line\",staticStyle:{\"margin-left\":\"30px\",\"width\":\"240px\"}},[_c('p',{staticStyle:{\"line-height\":\"30px\"}},[_vm._v(_vm._s(_vm.sddat.fileName))]),_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t('material.upload.upload_progress'))+\" : \")]),_c('el-progress',{attrs:{\"stroke-width\":10,\"percentage\":_vm.sddat.uploading}})],1),_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t('material.upload.destructuring_progress'))+\": \")]),_c('el-progress',{attrs:{\"stroke-width\":10,\"percentage\":_vm.sddat.destructuring}})],1)]):_vm._e()]),(_vm.d4)?_c('div',{staticClass:\"model-previewer-box\"},[_c('canvas',_vm._g({ref:\"rendererWindow\",attrs:{\"width\":\"1166\",\"height\":\"668\"}},_vm.canvasEvent))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class ProgressFaker {\n  constructor() {\n    this.speed = 0.025;\n    this.total = 0;\n    this.isCompleted = false;\n    this.timer = null;\n  }\n\n  startProcess(callback) {\n    let stepSize = 0;\n\n    this.timer = setInterval(() => {\n      stepSize = (100 - this.total) * this.speed;\n      this.total += stepSize;\n\n      if (this.total >= 100 && this.isCompleted) {\n        clearInterval(this.timer);\n      } else {\n        const n = Math.round(this.total);\n        callback(n >= 100 && !this.isCompleted ? 99 : n);\n      }\n    }, 250);\n  }\n\n  completeProcess() {\n    this.isCompleted = true;\n    this.speed = 0.6;\n  }\n\n  // 根据进度情况，不同的速度\n  // _changeSpeedByProgress(total) {\n  //   if (total >=)\n  // }\n}\n\nexport default ProgressFaker;\n","<template>\n  <div class=\"section-container\" style=\"padding: 40px 30px 40px;\">\n    <!-- 标题 -->\n    <h1 class=\"section-title\">{{ $t('material.upload.material_file') }}</h1>\n\n    <!-- 上传材质区域及上传材质的展示区 -->\n    <div class=\"flex\" style=\"margin-top: 20px;\">\n      <div>\n        <UploadArea\n          accept=\".4ddat\"\n          draggable\n          @upload=\"handleUploadSddat($event)\">\n          <UploadStyle class=\"upload-4ddat-area\" :url=\"sddat.imgHolder\" />\n        </UploadArea>\n        <p class=\"upload-title\">4ddat</p>\n      </div>\n\n      <div\n        v-if=\"d4\"\n        class=\"text-one-line\" style=\"margin-left: 30px; width: 240px;\">\n        <p style=\"line-height: 30px;\">{{ sddat.fileName }}</p>\n        <div>\n          <span>{{ $t('material.upload.upload_progress') }} : </span>\n          <el-progress :stroke-width=\"10\" :percentage=\"sddat.uploading\" />\n        </div>\n        <div>\n          <span>{{ $t('material.upload.destructuring_progress') }}: </span>\n          <el-progress :stroke-width=\"10\" :percentage=\"sddat.destructuring\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- 预览图 -->\n    <div v-if=\"d4\" class=\"model-previewer-box\">\n      <!-- 模型预览图内容 -->\n      <canvas width=\"1166\" height=\"668\" ref=\"rendererWindow\" v-on=\"canvasEvent\"></canvas>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n\nimport mixinRenderer from '@/views/model/mixin-renderer';\n\nimport axios from '@/utils/axios';\nimport { loadD4 } from '@/utils/load-d4';\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport { blob2DataUrl } from '_/blob-utils';\nimport { getHost } from '@/utils/exec';\n\nimport UploadArea from '@/components/upload/index';\nimport UploadStyle from '@/components/upload/styles/UploadStyle1';\n\nimport ProgressFaker from '../progress-faker';\n\n/**\n * 根据4ddat文件的oss地址，返回对应的图片集合与matJson\n * @param {String} ossPath eg. 4ddat/oss-path.4ddat\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6110\n */\nconst unpackSddat = (ossPath) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/fddat/unpack',\n    data: { fileKey: ossPath },\n  });\n};\n\nexport default {\n  props: {\n    type: String,\n  },\n  components: {\n    UploadArea,\n    UploadStyle,\n  },\n  mixins: [mixinRenderer],\n  data() {\n    return {\n      host: null, // QT交互对象\n      sddat: {\n        ossPath: '',\n        mapPaths: [],\n        matJson: '',\n        renderArguments: '',\n        fileName: '',\n        uploading: 0,\n        destructuring: 0,\n        imgHolder: '',\n      },\n      mergeMapObj: {\n        drop: '',\n        flat: '',\n        toe: '',\n      },\n      pf: null,\n    };\n  },\n  async created() {\n    this.host = await getHost();\n    if (this.host) {\n      this.host.on('give4DdatThumailPng', ({ flat, thumbnail, toeThumbnail }) => {\n        const bsPrefix = 'data:image/png;base64,';\n        this.mergeMapObj.flat = `${bsPrefix}${flat}`;\n        this.mergeMapObj.drop = `${bsPrefix}${thumbnail}`;\n        this.mergeMapObj.toe = `${bsPrefix}${toeThumbnail}`;\n\n        // 客户端解析完成; 客户端大文件有时会响应多次，需添加限制添加\n        if (this.sddat.uploading >= 100) this.pf.completeProcess();\n      });\n    }\n  },\n  methods: {\n    // 校验上传文件是否按要求的内容上传（外部调用）\n    validateFiles() {\n      return new Promise((resolve, reject) => {\n        // eslint-disable-next-line\n        this.sddat.destructuring ? resolve(true) : reject(i18n.t('material.upload.map_missing_tip'));\n      });\n    },\n    //  校验上传文件通过后，把文件上传OSS（外部调用）\n    async uploadFiles(isSubMaterial = false) {\n      try {\n        await this._uploadMergeMaps(isSubMaterial); // 上传合成的三张预览图\n\n        this.sddat.renderArguments = this.d4.getMaterialArg({\n          json: this.sddat.matJson,\n          textures: this._generateTextures('path'),\n        });\n\n        return this.sddat;\n      } catch (err) {\n        this.$errHandler(err);\n        return false;\n      }\n    },\n    // 触发上传4ddat文件事件\n    async handleUploadSddat(file) {\n      try {\n        this.sddat.destructuring = 0;\n\n        if (!this.d4) await this._showModelPreviewer();\n\n        // 4ddat上传OSS\n        await this._uploadSddat(file);\n        this.pf = new ProgressFaker();\n        this.pf.startProcess((total) => {\n          this.sddat.destructuring = total;\n        });\n\n        /*\n          * 流程要优化一下：4ddat文件在用户没有确实点击上传时，不应该上传到oss；\n          * 后端接口根据oss地址再获取图片，再获取对应的文件；\n          * 前端应该直接把4ddat文件直接传到对应的接口（大文件应该切割好再传输）\n        */\n        // 根据上传的4ddat文件解析对应的图片和matJson\n        await this._destructuringSddat(this.sddat.ossPath);\n\n\n        // 如果是客户端上传，用客户端解压三张预览图替换web合成的三张预览图\n        if (this.host) {\n          (await this._splitBlob2Chunks(file)).forEach(chunk => {\n            this.host.rev4DdatProgress(chunk);\n          });\n        }\n      } catch (err) {\n        this.$errHandler(err);\n      }\n      // this.$message.success(i18n.t('material.upload.desctructuring_success_tip'));\n    },\n    // 显示鞋款模型的浏览框\n    async _showModelPreviewer() {\n      // 先把$ref.rendererWindow的DOM显示出来，再去获取该DOM节点否则报错\n      this.d4 = {};\n\n      const D4 = await loadD4();\n      this.d4 = this.instanceD4(D4, this.$refs.rendererWindow);\n      this.canvasEvent = this._initCanvasEvent();\n\n      // 初始化生成合成图的条件\n      await this.d4.initMaterialPreviewComponent();\n    },\n    // 4ddat上传OSS\n    async _uploadSddat(file) {\n      this.sddat.uploading = 0;\n      this.sddat.fileName = file.name;\n      this.sddat.ossPath = await uploadToOSS(file, '4DDAT', (...args) => {\n        this.sddat.uploading = +((args[3] * 100).toFixed(0));\n      });\n      this.sddat.imgHolder = require('@/assets/img/upload/file-4ddat.png');\n    },\n    // 根据上传的4ddat文件解析对应的图片和matJson\n    async _destructuringSddat(ossPath) {\n      const res = (await unpackSddat(ossPath)).data;\n      this.sddat.matJson = res?.matJson;\n      this.sddat.mapPaths = res?.imgs;\n\n      // 渲染效果到鞋模型上\n      const snapshot = await this.d4.setSddatMaterial({\n        json: this.sddat.matJson,\n        textures: this._generateTextures('url'),\n      });\n      if (!this.host) {\n        this.mergeMapObj.drop = snapshot.drop.glass;\n        this.mergeMapObj.flat = snapshot.flat.glass;\n        this.mergeMapObj.toe = snapshot.sphere.glass;\n\n        if (this.sddat.uploading >= 100) this.pf.completeProcess();\n      }\n    },\n    // 切割文件\n    async _splitBlob2Chunks(file) {\n      const chunks = [];\n      if (!file.size) return chunks;\n\n      const bs64 = (await blob2DataUrl(file)).split(',')[1];\n      const bs64Len = bs64.length;\n      const sharedSize = 5 * 1024 * 1024; // 5M\n      let startPosition = 0;\n      let endPosition = 0;\n      while (endPosition < bs64Len) {\n        let chunksSize = 0;\n        if ((bs64Len - startPosition) / sharedSize >= 1) {\n          chunksSize = sharedSize;\n        } else {\n          chunksSize = bs64Len - startPosition;\n        }\n        endPosition += chunksSize;\n        chunks.push({\n          totalSize: bs64Len,\n          curPosSize: endPosition,\n          contentArray: bs64.slice(\n            startPosition,\n            chunksSize < sharedSize ? endPosition + 1 : endPosition,\n          ), // slice 不包括尾部，加上一\n        });\n        startPosition = endPosition;\n      }\n      return chunks;\n    },\n    // 上传合成的三张预览图，将上传的oss地址存储到mapPaths中\n    async _uploadMergeMaps(isSubMaterial = false) {\n      const [drop, flat, toe] = await Promise.all([\n        uploadToOSS(this.mergeMapObj.drop, 'FUR'),\n        uploadToOSS(this.mergeMapObj.flat, 'FLAT'),\n        uploadToOSS(this.mergeMapObj.toe, 'TOETHUMBNAIL'),\n      ]);\n      // 辅料类型的面料，预览图采用toe，也即snapshot.sphere.glass，因为遗留代码多处写死了TOETHUMBNAIL，所以这里还是沿用toe而不用sphere\n      if (isSubMaterial) {\n        this.sddat.mapPaths.push({ type: 'thumbnail', path: toe });\n        this.sddat.mapPaths.push({ type: 'flat', path: flat });\n        // this.sddat.mapPaths.push({ type: 'toeThumbnail', path: toe });\n      } else {\n        this.sddat.mapPaths.push({ type: 'thumbnail', path: drop });\n        this.sddat.mapPaths.push({ type: 'flat', path: flat });\n        // this.sddat.mapPaths.push({ type: 'toeThumbnail', path: toe });\n      }\n    },\n    // 根据对应的参数，生成对应的textures的参数(url:oss的绝对地址，path: oss相对地址)\n    _generateTextures(prop) {\n      const textures = {}; // 记录不同Map的OSS路径\n      const mapMatcher = { // 用于4ddat解压的Map文件类型与D4中Map类型匹对\n        color: 'diffuseMap',\n        normal: 'normalMap',\n        specular: 'specularMap',\n        gloss: 'glossinessMap',\n        height: 'heightMap',\n        alpha: 'alphaMap',\n        fresnel: 'fresnelMap',\n      };\n\n      // 匹配对应textures参数\n      this.sddat.mapPaths.forEach((item) => {\n        textures[mapMatcher[item.type]] = item[prop];\n      });\n\n      return textures;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-4ddat-area {\n  width: 100px;\n  height: 100px;\n}\n\n.upload-title {\n    font-size: 12px;\n    color: #333;\n    &::before {\n      content: '*';\n      display: inline-block;\n      position: relative;\n      top: 4px;\n      color: #F56C6C;\n      margin-right: 4px;\n      font-size: 26px;\n      height: 20px;\n      overflow: hidden;\n    }\n  }\n\n.section-title {\n  display: flex;\n  font-size: 20px;\n}\n\n.upload-description {\n  margin: 15px 0 12px;\n  font-size: 12px;\n  color: #7f7f7f;\n\n  .emphasis {\n    font-weight: 500;\n    color: #333;\n  }\n}\n.upload-image-item {\n  width: 100px;\n  height: 100px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n// 上传材质预览图\n.model-previewer-box {\n  position: relative;\n  height: 700px;\n  margin-top: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  overflow: hidden;\n\n  .previewer-part-top {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    padding: 20px 20px 10px;\n\n    .toggle-glossness-button {\n      width: 92px;\n      margin: 0 80px 0 410px;\n      > .el-button {\n        font-weight: 400;\n      }\n    }\n  }\n\n  .previewer-part-bottom {\n    position: absolute;\n    bottom: 30px;\n    right: 30px;\n    z-index: 2;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialUploadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialUploadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialUploadFile.vue?vue&type=template&id=0db6b91b&scoped=true&\"\nimport script from \"./MaterialUploadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialUploadFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialUploadFile.vue?vue&type=style&index=0&id=0db6b91b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0db6b91b\",\n  null\n  \n)\n\nexport default component.exports","\n<script>\nimport i18n from 'i18next';\n\nexport default {\n  functional: true,\n  render() {\n    return (\n      <el-popover width=\"600\" trigger=\"hover\"\n      content={i18n.t('material.upload.disclaimer_content')}>\n        <div slot=\"reference\" class=\"disclaimer-button\">\n          <i class=\"iconfont iconmianzeshengming1\" />\n          <span>\n            { i18n.t('material.upload.disclaimer') }\n          </span>\n        </div>\n      </el-popover>\n    );\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.disclaimer-desc {\n  padding: 10px 15px;\n  font-size: 14px;\n  line-height: 24px;\n  word-break: break-word;\n}\n\n.disclaimer-button {\n  display: flex;\n  align-items: center;\n  height: 28px;\n  padding: 0 18px 0 6px;\n  font-size: 12px;\n  font-weight: 400;\n  border: 1px solid #ddd;\n  border-radius: 14px;\n  cursor: pointer;\n  transition: all linear 150ms;\n  &:hover {\n    border-color: transparent;\n    box-shadow: 0px 0px 8px 0px rgba(136, 149, 172, 0.3);\n  }\n\n  > .iconfont {\n    margin-right: 3px;\n    font-size: 18px;\n    color: #f2b334;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disclaimer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disclaimer.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"material-upload-wrapper\" ref=\"uploadMaterial\">\n    <MaterialUploadInfo ref=\"materialForm\" />\n\n    <MaterialUploadFile class=\"material-upload-section\" ref=\"materialFile\" />\n\n    <!-- 提交按钮 -->\n    <section class=\"material-upload-section flex-space-between material-upload-footer\"\n      :style=\"{width: `${screenWidth}px` }\"\n    >\n      <DiclaimerButton />\n      <FormSubmitButtons\n        size=\"medium\"\n        :btn-style=\"{ width: '90px' }\"\n        @cancel=\"cancel\"\n        @submit=\"submit\"\n      />\n    </section>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n\nimport mixinLoading from '@/mixins/loading';\nimport { uploadMaterialInfo } from '@/api/material';\nimport { getHost } from '@/utils/exec';\n\nimport FormSubmitButtons from '@/components/form/FormSubmitButtons';\nimport MaterialUploadInfo from './components/MaterialUploadInfo';\nimport MaterialUploadFile from './components/MaterialUploadFile';\nimport DiclaimerButton from './components/Disclaimer';\n\nexport default {\n  name: 'MaterialUpload',\n  components: {\n    MaterialUploadInfo,\n    MaterialUploadFile,\n    FormSubmitButtons,\n    DiclaimerButton,\n  },\n  // 通过路由传入参数\n  props: {\n    parentFolderId: {\n      type: [String, Number],\n      default: '',\n    },\n    workspaceId: {\n      type: [String, Number],\n      default: '',\n    },\n  },\n  mixins: [mixinLoading],\n  data() {\n    return {\n      screenWidth: 1200,\n    };\n  },\n  mounted() {\n    this.screenWidth = window.innerWidth > 1200 ? 1200 : window.innerWidth;\n    window.addEventListener('resize', () => {\n      this.screenWidth = window.innerWidth > 1200 ? 1200 : window.innerWidth;\n    });\n  },\n  methods: {\n    // 判断表单是否通过校验\n    async submit() {\n      this.startLoading();\n      try {\n        // 表单校验是否通过\n        const formData = await this.$refs.materialForm.validateForm();\n\n        // 校验文件是否按要求上传\n        await this.$refs.materialFile.validateFiles();\n        // 上传其他类型图片\n        let isSubMaterial = false;\n        switch (formData.materialType) {\n          // 服装辅料类型上传平铺图和球形预览图\n          case 4:\n          case 5:\n          case 6:\n            isSubMaterial = true;\n            break;\n          default:\n            isSubMaterial = false;\n        }\n        const fileData = await this.$refs.materialFile.uploadFiles(isSubMaterial);\n\n        formData.imgJson = fileData.mapPaths.reduce((acc, cur) => {\n          acc[cur.type] = cur.path;\n          return acc;\n        }, {});\n        formData.fileInfo = fileData.ossPath;\n        formData.renderingJson = fileData.renderArguments;\n        formData.renderingJson.sddat = fileData.matJson;\n\n        formData.appType = 12;\n        formData.workspaceId = this.workspaceId;\n        formData.parentFolderId = this.parentFolderId;\n\n        await uploadMaterialInfo(formData);\n        this.$message.success(i18n.t('material.upload.upload_success_tip'));\n\n        // QT嵌套页面响应不同的跳转事件\n        const host = await getHost();\n        // eslint-disable-next-line\n        host ? host.closeWin('save') : this.$router.back();\n      } catch (err) {\n        this.$errHandler(err);\n      } finally {\n        this.endLoading();\n      }\n    },\n    async cancel() {\n      // QT嵌套页面响应不同的跳转事件\n      const host = await getHost();\n      // eslint-disable-next-line\n      host ? host.closeWin('cancel') : this.$router.back();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.material-upload-wrapper {\n  width: 1200px;\n  margin: 20px auto 80px;\n  .material-upload-section {\n    padding: 20px 30px;\n    margin-bottom: 20px;\n    background-color: #fff;\n    box-shadow: 0px 0px 15px 0px rgba(136, 149, 172, 0.08);\n    border-radius: 8px;\n  }\n  .material-upload-footer {\n    position: fixed;\n    width: 1200px;\n    bottom: 0;\n    z-index: 1;\n    margin-bottom: 0;\n    box-shadow: 0px 0px 15px 0px rgba(136, 149, 172, 0.25);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=446113d2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=446113d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"446113d2\",\n  null\n  \n)\n\nexport default component.exports","/* 用于加载D4.js */\nexport const loadD4 = async () => (await import('@4dst-render/d4.js/dist/D4')).default;\nexport const loadD2 = async () => (await import('@4dst-render/d4.js/dist/D2')).default;\nexport default loadD4;\n","import { Loading } from 'element-ui';\n\nexport default {\n  data() {\n    return {\n      loadingVeil: null,\n    };\n  },\n  methods: {\n    // Show Loading veil\n    startLoading(text) {\n      if (!this.loadingVeil) {\n        this.loadingVeil = Loading.service({\n          lock: true,\n          text,\n          background: 'rgba(0, 0, 0, 0.7)',\n        });\n      } else {\n        this.loadingVeil.text = text;\n      }\n    },\n    // Hide loading veil\n    endLoading() {\n      if (this.loadingVeil) {\n        this.loadingVeil.close();\n        this.loadingVeil = null;\n      }\n    },\n  },\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialUploadFile.vue?vue&type=style&index=0&id=0db6b91b&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=style&index=0&id=456c7186&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"filterable\":\"\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.$emit('change', _vm.selectedValue)}},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":_vm.lang === 'cn' ? item.name : item.usName,\"value\":item.id}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-select\n    v-model=\"selectedValue\"\n    :placeholder=\"placeholder\"\n    :disabled=\"disabled\"\n    filterable\n    clearable\n    @change=\"$emit('change', selectedValue)\">\n    <el-option\n      v-for=\"item in options\"\n      :key=\"item.id\"\n      :label=\"lang === 'cn' ? item.name : item.usName\"\n      :value=\"item.id\" />\n  </el-select>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { getCountryList } from '@/api/dictionary';\n\nexport default {\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: '',\n    },\n    placeholder: {\n      type: String,\n      default: i18n.t('login.country_palceholder'),\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    this.lang = i18n.language;\n    return {\n      selectedValue: '',\n      options: [],\n    };\n  },\n  async created() {\n    try {\n      const res = await getCountryList();\n      this.options = res.data;\n    } catch (err) {\n      this.$message.error(err.message);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val || '';\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DictionaryCountrySelector.vue?vue&type=template&id=a0a6c192&\"\nimport script from \"./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=style&index=0&id=29d46fb1&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Disclaimer.vue?vue&type=style&index=0&id=8d4eaa8e&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/material-tag-example.605d566f.png\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=style&index=0&id=773be2ab&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"material-color-picker\"},_vm._l((_vm.colors),function(color){return _c('li',{key:color.name,style:({ marginTop: _vm.mode === 'tooltip' ? '10px' : 0 })},[(_vm.mode === 'tooltip')?[_c('el-tooltip',{attrs:{\"content\":_vm.$i18n.i18next.language === 'en' ? color.name : color.cnName}},[_c('i',{staticClass:\"color-demo\",class:{ active: color.active, white: color.name === 'White' },style:({ backgroundColor: color.heximal }),on:{\"click\":function($event){return _vm.changeActiveStatus(color.name)}}})])]:[_c('i',{staticClass:\"color-demo\",class:{ active: color.active, white: color.name === 'White' },style:({ backgroundColor: color.heximal }),on:{\"click\":function($event){return _vm.changeActiveStatus(color.name)}}}),_c('p',{staticClass:\"color-name\"},[_vm._v(_vm._s(_vm.$i18n.i18next.language === \"en\" ? color.name : color.cnName))])]],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, onMounted, ref } from '@vue/composition-api';\nimport { materialColorPicker } from '@/views/material/form-related.js';\n\nexport default defineComponent({\n  name: 'MaterialColorPicker',\n  props: {\n    mode: {\n      type: String,\n      default: '',\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, { emit }) {\n    const colors = ref(materialColorPicker);\n\n    // 选择不同颜色时，把当前选择的颜色 emit 到父组件\n    function changeActiveStatus(colorName: string, emitable = true) {\n      if (props.disabled) return;\n      // colors.forEach(color => {\n      //   if (color.name === colorName) {\n      //     color.active = true;\n      //     if (emitable) emit('change', colorName, color, colors);\n      //   } else {\n      //     color.active = false;\n      //   }\n      // });\n      const colorItem = colors.value.find(color => color.name === colorName);\n      if (colorItem) {\n        colorItem.active = !colorItem.active;\n        if (emitable) {\n          const colorValue = colors.value.filter(color => color.active).map(color => color.name).join(',');\n          emit('change', colorValue, colorItem, colors.value);\n        }\n      }\n    }\n    // 初始化颜色状态\n    function initActiveStatus(colorFamily: string) {\n      colorFamily.split(',').forEach(color => {\n        changeActiveStatus(color, false);\n      });\n    }\n\n    onMounted(() => initActiveStatus(props.value));\n\n    return {\n      colors,\n      changeActiveStatus,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorPicker.vue?vue&type=template&id=29d46fb1&scoped=true&\"\nimport script from \"./ColorPicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorPicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorPicker.vue?vue&type=style&index=0&id=29d46fb1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29d46fb1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=446113d2&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.itemValue,attrs:{\"label\":item.label,\"value\":item.itemValue}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { getDictionaryByTypeCode } from '@/api/dictionary';\n// import * as DictionaryCache from '@/views/material/cache-dictionary';\n\ntype dictionaryUnit = {\n  itemValue: number| string,\n  label: string,\n};\n\nexport default {\n  name: 'DictionarySelector',\n  model: {\n    event: 'change',\n    prop: 'value',\n  },\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: 1,\n    },\n    // 字典类型\n    type: {\n      type: String,\n      required: true,\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    valueType: {\n      type: String as () => 'number'| 'string',\n      default: 'number',\n    },\n  },\n  data() {\n    return {\n      selectedValue: '',\n      options: [] as dictionaryUnit[],\n    };\n  },\n  async created() {\n    try {\n      this.options = (await getDictionaryByTypeCode(\n        this.type,\n        i18n.language,\n      )).data;\n\n      if (this.valueType === 'string') {\n        this.options.forEach(o => { o.itemValue = o.itemValue.toString(); });\n      }\n      // this.options = await DictionaryCache.default.getDictionaryByType(this.type);\n    } catch (err) {\n      this.$errHandler(err);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleChange() {\n      const selectedOptions = this.options.find(item => item.value === this.selectedValue);\n      this.$emit('change', this.selectedValue, selectedOptions);\n    },\n  },\n\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DictionarySelectorNew.vue?vue&type=template&id=1708da2e&\"\nimport script from \"./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"\nexport * from \"./DictionarySelectorNew.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-submit-buttons\"},[_c('el-button',{staticClass:\"button-cancel\",style:(_vm.btnStyle),attrs:{\"size\":_vm.size,\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(_vm._s(_vm.cancelText))]),_c('el-button',{style:(_vm.btnStyle),attrs:{\"size\":_vm.size,\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('submit')}}},[_vm._v(_vm._s(_vm.submitText))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-submit-buttons\">\n    <el-button\n      :size=\"size\"\n      round\n      :style=\"btnStyle\"\n      @click=\"$emit('cancel')\"\n      class=\"button-cancel\"\n    >{{ cancelText }}</el-button>\n    <el-button\n      :size=\"size\"\n      :style=\"btnStyle\"\n      round\n      type=\"primary\"\n      @click=\"$emit('submit')\">{{ submitText }}</el-button>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n\nexport default {\n  name: 'FormSubmitButtons',\n  props: {\n    size: {\n      type: String,\n      default: '',\n    },\n    btnStyle: {\n      type: Object,\n      default: () => ({}),\n    },\n    cancelText: {\n      type: String,\n      default: i18n.t('public.dialog.cancel'),\n    },\n    submitText: {\n      type: String,\n      default: i18n.t('public.dialog.save'),\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form-submit-buttons {\n  text-align: right;\n\n  .el-button {\n    width: 90px;\n  }\n  .button-cancel {\n    border: none;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSubmitButtons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormSubmitButtons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormSubmitButtons.vue?vue&type=template&id=b6a9c9b4&scoped=true&\"\nimport script from \"./FormSubmitButtons.vue?vue&type=script&lang=js&\"\nexport * from \"./FormSubmitButtons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormSubmitButtons.vue?vue&type=style&index=0&id=b6a9c9b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b6a9c9b4\",\n  null\n  \n)\n\nexport default component.exports","import validator from '@/utils/validators/rules-validation';\n\nexport const materialForm = {\n  materialType: '',\n  materialName: '',\n  supplierArticleName: '',\n  supplierArticleNo: '',\n  season: '',\n  supplierName: '',\n  colorFamily: '',\n  materialCountryOfOrigin: '',\n  tags: [],\n  printPatterns: [],\n  // with unit\n  samplePrice: '',\n  samplePriceUnit: 1,\n  samplePriceNumber: 1,\n  moq: '',\n  moqUnit: 1,\n  productionLeadTime: '',\n  productionLeadTimeUnit: 1,\n  thickness: '',\n  thicknessUnit: 1,\n};\n\nexport const materialFromRules = {\n  materialType: validator.selection(),\n  materialName: [\n    validator.requirement(),\n    validator.charLengthMax(512),\n  ],\n  supplierArticleName: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  supplierArticleNo: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  season: [\n    // validator.requirement(),\n    validator.charLengthMax(32),\n  ],\n  supplierName: [\n    // validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  color: [\n    validator.charLengthMax(20),\n  ],\n  moq: [\n    validator.numberPositive(),\n    validator.charLengthMax(8),\n  ],\n  samplePeriod: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  productionLeadTime: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  samplePrice: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  thickness: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n};\nexport const materialLibraryFromRules = {\n  materialsTechnology: [validator.requirement()],\n  surfaceTechnics: [validator.requirement()],\n  designContent: [validator.requirement()],\n  applicableProductLine: [validator.requirement()],\n  materialName: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  supplierArticleName: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  supplierArticleNo: [\n    validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  season: [\n    // validator.requirement(),\n    validator.charLengthMax(32),\n  ],\n  supplierName: [\n    // validator.requirement(),\n    validator.charLengthMax(64),\n  ],\n  color: [\n    validator.charLengthMax(20),\n  ],\n  moq: [\n    validator.numberPositive(),\n    validator.charLengthMax(8),\n  ],\n  samplePeriod: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  productionLeadTime: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  samplePrice: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n  thickness: [\n    validator.numberPositive(),\n    validator.charLengthMax(20),\n  ],\n};\n\nexport const materialColorPicker = [\n  {\n    name: 'Red', cnName: '红', heximal: '#f00', active: false,\n  },\n  {\n    name: 'Orange', cnName: '橙', heximal: '#FF6300', active: false,\n  },\n  {\n    name: 'Yellow', cnName: '黄', heximal: '#FFE50F', active: false,\n  },\n  {\n    name: 'Green', cnName: '绿', heximal: '#3EED4F', active: false,\n  },\n  {\n    name: 'Blue', cnName: '蓝', heximal: '#2FB9F3', active: false,\n  },\n  {\n    name: 'Purple', cnName: '紫', heximal: '#DE54E8', active: false,\n  },\n  {\n    name: 'Black', cnName: '黑', heximal: '#000', active: false,\n  },\n  {\n    name: 'Gray', cnName: '灰', heximal: '#808080', active: false,\n  },\n  {\n    name: 'White', cnName: '白', heximal: '#fff', active: false,\n  },\n];\n","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6d242180&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d242180\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'dragover': _vm.dragoverStatus },staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.$emit('file', $event.dataTransfer.files)},\"dragover\":function($event){$event.preventDefault();return _vm.handleDragOver($event)},\"dragleave\":function($event){_vm.dragoverStatus = false}}},[_vm._t(\"default\",[(_vm.styleType === 'normal')?_c('upload-style-normal'):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-style-normal\"},[(_vm.buffer.imgUrl)?_c('div',{staticClass:\"previewer-box\"},[_c('img',{staticClass:\"previewer\",attrs:{\"src\":_vm.buffer.imgUrl}}),_c('div',{staticClass:\"previewer-veil\"},[_c('i',{staticClass:\"iconfont icon-file-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.vm.$emit('delete')}}}),_c('i',{staticClass:\"iconfont\",class:_vm.visible ? 'icon-eye-slash' : 'icon-eye',on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleVisible($event)}}})])]):_c('div',{staticClass:\"upload-area\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"upload-style-normal\">\n    <!-- 上传预览图 -->\n    <div v-if=\"buffer.imgUrl\" class=\"previewer-box\">\n      <img :src=\"buffer.imgUrl\" class=\"previewer\">\n      <div class=\"previewer-veil\">\n        <i class=\"iconfont icon-file-delete\" @click.stop=\"vm.$emit('delete')\" />\n        <i\n          class=\"iconfont\"\n          :class=\"visible ? 'icon-eye-slash' : 'icon-eye'\"\n          @click.stop=\"toggleVisible\" />\n      </div>\n    </div>\n    <!-- 上传按钮 -->\n    <div v-else class=\"upload-area\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['vm', 'buffer'],\n  data() {\n    return {\n      visible: true,\n    };\n  },\n  methods: {\n    toggleVisible() {\n      this.visible = !this.visible;\n      this.vm.$emit('toggle-visible', this.visible);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-style-normal {\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  cursor: pointer;\n  overflow: hidden;\n}\n\n.previewer-box {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  &:hover .previewer-veil {\n    display: flex;\n  }\n\n  .previewer {\n    width: 100%;\n    height: 100%;\n  }\n  .previewer-veil {\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    background-color: rgba(0, 0, 0, 0.6);\n\n    .iconfont {\n      position: absolute;\n      padding: 0 5px;\n      left: 0;\n      top: 6px;\n      z-index: 2;\n      font-size: 16px;\n      color: #fff;\n      transition: all linear 100ms;\n      &:hover {\n        color: $color-primary;\n      }\n    }\n    .icon-file-delete {\n      left: auto;\n      right: 0;\n      top: 5px;\n    }\n  }\n}\n\n.upload-area {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n  }\n  .iconfont {\n    font-size: 24px;\n    font-weight: 400;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-style-normal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-style-normal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload-style-normal.vue?vue&type=template&id=0eab218a&scoped=true&lang=html&\"\nimport script from \"./upload-style-normal.vue?vue&type=script&lang=js&\"\nexport * from \"./upload-style-normal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload-style-normal.vue?vue&type=style&index=0&id=0eab218a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0eab218a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    :class=\"{ 'dragover': dragoverStatus }\"\n    style=\"width: 100%; height: 100%;\"\n    @drop.prevent=\"$emit('file', $event.dataTransfer.files)\"\n    @dragover.prevent=\"handleDragOver\"\n    @dragleave=\"dragoverStatus = false\">\n    <slot>\n      <upload-style-normal v-if=\"styleType === 'normal'\" />\n    </slot>\n  </div>\n</template>\n\n<script>\nimport UploadStyleNormal from './upload-style-normal';\n\nexport default {\n  name: 'UploadDrag',\n  components: {\n    UploadStyleNormal,\n  },\n  inject: ['styleType'],\n  data() {\n    return {\n      dragoverStatus: false,\n    };\n  },\n  methods: {\n    handleDragOver() {\n      if (!this.dragoverStatus) this.dragoverStatus = true;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-drag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-drag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload-drag.vue?vue&type=template&id=2ff9226d&\"\nimport script from \"./upload-drag.vue?vue&type=script&lang=js&\"\nexport * from \"./upload-drag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{ref:\"inputFile\",staticClass:\"hidden\",attrs:{\"accept\":_vm.accept,\"multiple\":_vm.multiple,\"type\":\"file\"},on:{\"change\":_vm.uploadFiles}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input\n    :accept=\"accept\"\n    :multiple=\"multiple\"\n    type=\"file\"\n    class=\"hidden\"\n    ref=\"inputFile\"\n    @change=\"uploadFiles\" />\n</template>\n\n<script lang=\"javascript\">\nexport default {\n  name: 'UploadFileInput',\n  inject: ['accept', 'multiple'],\n  props: {\n    disabled: {\n      type: Boolean,\n    },\n  },\n  methods: {\n    triggerUpload() {\n      if (!this.disabled) this.$refs.inputFile.click();\n    },\n    uploadFiles() {\n      const { files } = this.$refs.inputFile;\n      if (files.length) {\n        this.$emit('file', files);\n\n        // 每次上传完，把input(file)的值设置空\n        // 解决两次选取同一个文件不能触发相应事件的问题\n        this.$refs.inputFile.value = '';\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-file-input.vue?vue&type=script&lang=javascript&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-file-input.vue?vue&type=script&lang=javascript&\"","import { render, staticRenderFns } from \"./upload-file-input.vue?vue&type=template&id=06a2a601&\"\nimport script from \"./upload-file-input.vue?vue&type=script&lang=javascript&\"\nexport * from \"./upload-file-input.vue?vue&type=script&lang=javascript&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport Vue from 'vue';\nimport i18n from 'i18next';\n\nimport UploadDrag from './src/upload-drag';\nimport UploadFileInput from './src/upload-file-input';\n\nexport default {\n  name: 'UploadArea',\n  components: {\n    UploadDrag,\n    UploadFileInput,\n  },\n  props: {\n    // 上传区域的样式\n    styleType: {\n      type: String,\n      default: 'normal',\n    },\n    // 上传文件最大限制\n    maxSize: {\n      type: Number,\n      default: Infinity,\n    },\n    // 上传文件最小限制\n    minSize: {\n      type: Number,\n      default: 1,\n    },\n    // 支持的格式：（可以用一下分隔符[,;、；|]）\n    accept: {\n      type: String,\n      default: '',\n    },\n    // 支持拖拽状态\n    draggable: {\n      type: Boolean,\n      default: true,\n    },\n    // 支持多文件上传状态\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    // 功能激活状态\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  provide() {\n    return {\n      vm: this.vm,\n      buffer: this.buffer,\n      accept: this.accept,\n      multiple: this.multiple,\n      styleType: this.styleType,\n      disabled: this.disabled,\n    };\n  },\n  data() {\n    return {\n      vm: new Vue(), // 示例化一个vue，做该部件的事件传递的中间者\n      buffer: { // 中间对象，做该部件的部分参数传递的中间者\n        imgUrl: '',\n      },\n      imgs: [],\n      unmatchFiles: [], // 没有符合规范的问题\n    };\n  },\n  mounted() {\n    // 局部事件监听\n    this.vm\n      .$on('delete', () => this.handleDeleteFile())\n      .$on('toggle-visible', (status) => this.handleToggleVisible(status));\n  },\n  destroyed() {\n    this.vm = null;\n  },\n  methods: {\n    async upload(files) {\n      this.unmatchFiles = [];\n      // 校验是否禁止状态\n      if (this.disabled) return;\n\n      // 如果当前上传的文件没有通过校验，不往下执行\n      const matchFiles = await this._checkFiles(Array.from(files));\n\n      if (!this.multiple) {\n        this.buffer.imgUrl = window.URL.createObjectURL(matchFiles[0]);\n        this.$emit('upload', matchFiles[0]);\n        return;\n      }\n\n      this.$emit('upload', matchFiles);\n    },\n    // 处理删除文件事件\n    handleDeleteFile() {\n      this.buffer.imgUrl = '';\n      this.$emit('delete');\n    },\n    // 处理重新上传文件事件\n    handleToggleVisible(status) {\n      this.$emit('toggle-visible', status);\n    },\n    // 检查文件是否符合上传规范\n    _checkFiles(files) {\n      return new Promise((resolve, reject) => {\n        const result = [];\n\n        files.forEach(file => {\n          console.info(file);\n          // 过滤空文件\n          if (file.size === 0) {\n            this.$message.warning(i18n.t('upload.msg.exceed_size', { filename: file.name }));\n            return;\n          }\n\n          // 校验文件是否符合上传格式; 如果没有格式要求，则不做格式校验\n          if (this.accept) {\n            const extensionList = this.accept\n              .toLowerCase()\n              .replace(/[\\s/.]/g, '')\n              .split(/[,;、；|]/);\n            const extension = file.name.split('.').pop().toLowerCase();\n            if (!extensionList.includes(extension)) {\n              this.unmatchFiles.push(file);\n              return;\n            }\n          }\n\n          // 校验文件是否符合大小规范\n          if (file.size > this.maxSize) {\n            this.$message.warning(i18n.t('upload.msg.exceed_size', { filename: file.name }));\n            return;\n          }\n\n          result.push(file);\n        });\n\n        // 根据没有符合格式的文件数量，显示不同的提示\n        const unmatchFilesLength = this.unmatchFiles.length;\n        if (unmatchFilesLength === 1) {\n          this.$message.warning(i18n.t('upload.msg.invalid_file_format', { filename: this.unmatchFiles[0].name }));\n        } else if (unmatchFilesLength >= 2) {\n          this.$message.warning(i18n.t('upload.msg.invalid_files_format', { filesNum: unmatchFilesLength }));\n        }\n\n        // eslint-disable-next-line\n        result.length > 0 ? resolve(result) : null;\n      });\n    },\n  },\n  render() {\n    const { draggable, disabled } = this;\n\n    // 容器的属性\n    const data = {\n      attrs: {\n        id: 'dropzone',\n      },\n      class: {\n        disabled,\n      },\n      on: {\n        click: () => {\n          this.$refs.uploadInput.triggerUpload();\n        },\n      },\n    };\n\n    return (\n      <div {...data}>\n        {draggable ? <upload-drag on-file={this.upload}>{this.$slots.default}</upload-drag>\n          : this.$slots.default\n        }\n        <upload-file-input disabled={this.disabled} on-file={this.upload} ref=\"uploadInput\"></upload-file-input>\n      </div>\n    );\n  },\n};\n</script>\n\n<style scoped>\n.disabled {\n  background-color: rgba(0, 0, 0, 0.05);\n  cursor: not-allowed;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { getDictByType as _getDictByType } from '@/loaders/dictionary';\nimport axios from './axios';\n\n/**\n * 根据类型获取该字典数据\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const getDictByType = async (type) => {\n  return {\n    data: await _getDictByType({ type }),\n  };\n};\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} countryId 国家ID\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCityList = (countryId, keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCity',\n    params: { countryId, keyword },\n  });\n};\n\n\nexport const getOSSAuth = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSAuth',\n  });\n};\n\nexport const getOSSUrl = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSUrl',\n  });\n};\n\n// 获取国家下的城市\n\n\n/* ==================== 标签相关 ================== */\n/**\n * 新增标签\n * @param {Object} data { shareId: string, tags: string[], type: string }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6116\n */\nexport const addTags = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/addTags',\n    data,\n  });\n};\n\n/**\n * 删除标签\n * @param {Array} tagIds { string[] }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6128\n */\nexport const removeTags = (tagIds) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/deleteTag',\n    data: tagIds,\n  });\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6d242180&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleTags.vue?vue&type=style&index=0&id=5c4687b2&lang=scss&scoped=true&\""],"sourceRoot":""}