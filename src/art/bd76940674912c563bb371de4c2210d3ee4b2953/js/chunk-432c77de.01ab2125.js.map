{"version":3,"sources":["webpack:///./src/views/material-mall/Searchbyimage.vue?137b","webpack:///./src/views/material-mall/components/MaterialList.vue?bcef","webpack:///./src/views/material-mall/components/MaterialList.vue?bfb8","webpack:///./src/views/material-mall/components/MaterialList.vue?22bd","webpack:///./src/views/material-mall/components/MaterialList.vue","webpack:///./src/views/material-mall/components/MaterialItem.vue?7b03","webpack:///./src/views/material-mall/components/Navigator.vue?947a","webpack:///src/views/material-mall/components/Navigator.vue","webpack:///./src/views/material-mall/components/Navigator.vue?ed71","webpack:///./src/views/material-mall/components/Navigator.vue","webpack:///./src/views/material-mall/Searchbyimage.vue?16ae","webpack:///./src/views/material-mall/Searchbyimage.vue?6bb9","webpack:///./src/views/material-mall/Searchbyimage.vue?daf7","webpack:///./src/views/material-mall/Searchbyimage.vue","webpack:///./src/assets/img/material-mart/empty-placeholder.png","webpack:///./src/views/material-mall/components/Navigator.vue?9d0c","webpack:///./src/views/material-mall/components/MaterialItem.vue?b38c","webpack:///./src/views/material-mall/components/MaterialItem.vue?8354","webpack:///./src/views/material-mall/components/MaterialItem.vue?6202","webpack:///./src/views/material-mall/components/MaterialItem.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","material","index","key","id","attrs","displayMode","on","$event","preview","staticRenderFns","components","MaterialItem","props","materialList","type","Array","default","disabledInfiniteScroll","Boolean","String","setup","root","srcList","map","imgJson","texture","flat","thumbnail","$ImageViewer","show","targetElems","component","class","$route","path","startsWith","hideBackground","back","_v","_s","$t","_t","window","history","state","_g_navigator_history_key","$router","push","length","staticStyle","sourceImageSrc","directives","name","rawName","value","expression","model","callback","$$v","materialType","imgListFilter","loading","_e","MaterialList","Navigator","_","sourceImage","searchImage","ImgList","filter","e","parseInt","URL","createObjectURL","formData","FormData","append","axios","url","method","data","$errHandler","console","info","module","exports","preventDefault","stopPropagation","$act","viewDetail","imgSrc","width","height","materialInfo","storeStatus","materialName","samplePriceUnit","samplePrice","goToCompany","goToColorBoard","goToSearchSimilar","isQt","route","navigator","userAgent","includes","Object","emit","company","query","companyId","supplierArticleName","searchSimilarPath","colorFamily","replace"],"mappings":"8LAAA,W,oECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,aAAaN,EAAIO,GAAIP,EAAgB,cAAE,SAASQ,EAASC,GAAO,OAAOL,EAAG,KAAK,CAACM,IAAIF,EAASG,GAAGL,YAAY,iBAAiB,CAACF,EAAG,eAAe,CAACQ,MAAM,CAAC,aAAeJ,EAAS,YAAcR,EAAIa,YAAY,gBAAgB,iBAAiBC,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOf,EAAIgB,QAAQP,QAAY,MAAK,IACnaQ,EAAkB,G,8ECmBP,+BAAgB,CAC7BC,WAAY,CACVC,eAAA,YAEFC,MAAO,CACLC,aAAc,CACZC,KAAMC,MACNC,QAAS,iBAAM,KAEjBC,uBAAwB,CACtBH,KAAMI,QACNF,SAAS,GAEXX,YAAa,CACXS,KAAMK,OACNH,QAAS,UAGbI,MAlB6B,SAkBvBR,EAlBuB,GAkBR,IAANS,EAAM,EAANA,KAAM,SACJb,EADI,gGACnB,WAAuBP,GAAvB,8FAGIqB,EADwB,SAAtBV,EAAMP,YACEO,EAAMC,aAAaU,KAAI,SAACvB,GAAD,eAAmB,UAAAA,EAASwB,eAAT,eAAkBC,WAAlB,UAA6BzB,EAASwB,eAAtC,aAA6B,EAAkBE,SAEzFd,EAAMC,aAAaU,KAAI,SAACvB,GAAD,OAAmBA,EAASwB,QAAQG,aALzE,SAQQN,EAAKO,aAAaC,KAAKP,EAAS,CACpCrB,QACA6B,YAAa,oCAVjB,2CADmB,wBAenB,MAAO,CACLtB,cCtDqa,I,YCOvauB,EAAY,eACd,EACAxC,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAsB,E,6CClBf,W,yCCAA,IAAIxC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAYkC,MAAM,CAAC,UAAWxC,EAAIyC,OAAOC,KAAKC,WAAW,QAAS,kBAAmB3C,EAAI4C,iBAAiB,CAACxC,EAAG,OAAO,CAACE,YAAY,OAAOQ,GAAG,CAAC,MAAQd,EAAI6C,OAAO,CAACzC,EAAG,IAAI,CAACE,YAAY,6BAA6BN,EAAI8C,GAAG9C,EAAI+C,GAAG/C,EAAIgD,GAAG,2BAA2B,OAAO5C,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIiD,GAAG,YAAY,MACnbhC,EAAkB,G,wBCetB,gCACEG,MAAO,CACLwB,eAAgB,CACdtB,KAAMI,QACNF,SAAS,IAGbI,MAPF,SAOA,EAPA,GAOA,aAKI,SAASiB,IACHK,OAAOC,QAAQC,MAAM1C,MAAQwC,OAAOG,yBACtCxB,EAAKyB,QAAQT,OAEbhB,EAAKyB,QAAQC,KAAK,GAA1B,yDAGI,OAVIL,OAAOC,QAAQK,QAAU,IAAMN,OAAOG,2BACxCH,OAAOG,yBAA2BH,OAAOC,QAAQC,MAAM1C,KASlD,CACLmC,KAAN,MCpCiX,I,wBCQ7WN,EAAY,eACd,EACAxC,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E,kDCnBf,IAAIxC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAY,CAACJ,EAAI8C,GAAG9C,EAAI+C,GAAG/C,EAAIgD,GAAG,mCAAmC5C,EAAG,MAAM,CAACqD,YAAY,CAAC,QAAU,cAAc,CAACrD,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,aAAa,CAACQ,MAAM,CAAC,IAAMZ,EAAI0D,eAAe,IAAM,cAAc,KAAKtD,EAAG,MAAM,CAACuD,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAO9D,EAAW,QAAE+D,WAAW,YAAYN,YAAY,CAAC,aAAa,SAAS7C,MAAM,CAAC,6BAA6B,wBAAwB,CAACR,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAI8C,GAAG9C,EAAI+C,GAAG/C,EAAIgD,GAAG,mCAAmC5C,EAAG,UAAU,CAACE,YAAY,mBAAmB0D,MAAM,CAACF,MAAO9D,EAAgB,aAAEiE,SAAS,SAAUC,GAAMlE,EAAImE,aAAaD,GAAKH,WAAW,iBAAiB,CAAC3D,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQZ,EAAIgD,GAAG,qBAAqB,KAAO,OAAO5C,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQZ,EAAIgD,GAAG,yBAAyB,KAAO,OAAO5C,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQZ,EAAIgD,GAAG,oBAAoB,KAAO,OAAO5C,EAAG,cAAc,CAACQ,MAAM,CAAC,MAAQZ,EAAIgD,GAAG,yBAAyB,KAAO,QAAQ,IAAI,GAAIhD,EAAIoE,eAAiBpE,EAAIoE,cAAcZ,OAAS,EAAGpD,EAAG,eAAe,CAACE,YAAY,gBAAgBM,MAAM,CAAC,aAAeZ,EAAIoE,cAAc,YAAc,UAAYpE,EAAIqE,QAAkNrE,EAAIsE,KAA7MlE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAM,EAAQ,WAAuDR,EAAG,IAAI,CAACJ,EAAI8C,GAAG9C,EAAI+C,GAAG/C,EAAIgD,GAAG,2CAAoD,MAAM,IACrkD/B,EAAkB,G,sIC+CP,+BAAgB,CAC7B2C,KAAM,gBAEN1C,WAAY,CACVqD,eAAA,WACAC,YAAA,YAGF5C,MAR6B,SAQvB6C,EARuB,GAQZ,IAAN5C,EAAM,EAANA,KAEH6C,EAAc7C,EAAK8C,YAEnBC,EAAU,iBAAmB,IAC7BT,EAAe,iBAAI,KAEnBC,EAAgB,uBAAS,WAC7B,MAA2B,MAAvBD,EAAaL,MACRc,EAAQd,MAEVc,EAAQd,MAAMe,QAAO,SAACC,GAAD,OAAsBA,EAAEX,eAAiBY,SAASZ,EAAaL,MAAO,UAG9FJ,EAAiB,iBAAI,IAErBW,EAAU,kBAAa,GA+B7B,OA7BA,uBAAS,wCAAC,uGACHK,EADG,uBAEN7C,EAAKyB,QAAQC,KAAb,UAAqB,iBAAS,MAAQ,GAAtC,wBAFM,0CAMNc,EAAQP,OAAQ,EAChBJ,EAAeI,MAAQkB,IAAIC,gBAAgBP,GAAe,IACpDQ,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQV,GATlB,UAWiB,OAAAW,EAAA,MAAM,CAC3BC,IAAK,yBACLC,OAAQ,OACRC,KAAMN,IAdF,QAWNN,EAAQd,MAXF,OAeF0B,KAfE,qDAiBN3D,EAAK4D,YAAL,MAjBM,yBAmBNpB,EAAQP,OAAQ,EAnBV,qBAqBR4B,QAAQC,KAAKf,EAAQd,OArBb,iEAwBV,0BAAY,WAEVjC,EAAK8C,YAAc,QAGd,CACLR,eACAC,gBACAV,iBACAW,cC3GoZ,I,wBCQtZ9B,EAAY,eACd,EACAxC,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E,4BCnBfqD,EAAOC,QAAU,s/I,kCCAjB,W,yCCAA,IAAI9F,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgBM,MAAM,CAAC,UAAY,SAASE,GAAG,CAAC,UAAY,SAASC,GAAQA,EAAO+E,oBAAqB,CAAC1F,EAAG,MAAM,CAACE,YAAY,UAAUQ,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgF,kBAAyB/F,EAAIgG,KAAKhG,EAAIiG,eAAe,CAAC7F,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACqD,YAAY,CAAC,SAAW,aAAa,CAACrD,EAAG,aAAa,CAACE,YAAY,eAAeM,MAAM,CAAC,IAAM,aAAa,IAAMZ,EAAIkG,OAAO,MAAQ,CAAEC,MAAO,IAAKC,OAAQ,QAAShG,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACE,YAAY,sCAAsCQ,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgF,kBAAyB/F,EAAIgG,KAAKhG,EAAIgB,gBAAgB,GAAKhB,EAAIqG,aAAaC,YAAuHtG,EAAIsE,KAA9GlE,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACN,EAAI8C,GAAG,IAAI9C,EAAI+C,GAAG/C,EAAIgD,GAAG,+BAA+B,OAAgB5C,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,aAAa,CAACQ,MAAM,CAAC,OAAS,OAAO,UAAY,MAAM,QAAUZ,EAAIqG,aAAaE,eAAe,CAACnG,EAAG,OAAO,CAACJ,EAAI8C,GAAG9C,EAAI+C,GAAG/C,EAAIqG,aAAaE,mBAAoBvG,EAAIqG,aAAwB,YAAEjG,EAAG,OAAO,CAACJ,EAAI8C,GAAG,IAAI9C,EAAI+C,GAAwC,IAArC/C,EAAIqG,aAAaG,gBAAwB,IAAK,KAAKxG,EAAI+C,GAAG/C,EAAIqG,aAAaI,aAAa,OAAOzG,EAAIsE,MAAM,KAAKlE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIiD,GAAG,UAAU,CAAC7C,EAAG,aAAa,CAACQ,MAAM,CAAC,OAAS,OAAO,UAAY,MAAM,QAAUZ,EAAIgD,GAAG,iCAAiC,CAAC5C,EAAG,MAAM,CAACE,YAAY,qBAAqBmD,YAAY,CAAC,OAAS,QAAQ3C,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgF,kBAAyB/F,EAAI0G,YAAY3F,MAAW,CAACX,EAAG,IAAI,CAACE,YAAY,8BAA8BF,EAAG,aAAa,CAACQ,MAAM,CAAC,OAAS,OAAO,UAAY,MAAM,QAAUZ,EAAIgD,GAAG,mCAAmC,CAAC5C,EAAG,MAAM,CAACE,YAAY,qBAAqBmD,YAAY,CAAC,OAAS,QAAQ3C,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgF,kBAAyB/F,EAAI2G,eAAe5F,MAAW,CAACX,EAAG,IAAI,CAACE,YAAY,0BAA0BF,EAAG,aAAa,CAACQ,MAAM,CAAC,OAAS,OAAO,UAAY,MAAM,QAAUZ,EAAIgD,GAAG,kCAAkC,CAAC5C,EAAG,MAAM,CAACE,YAAY,qBAAqBmD,YAAY,CAAC,OAAS,QAAQ3C,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOgF,kBAAyB/F,EAAI4G,kBAAkB7F,MAAW,CAACX,EAAG,IAAI,CAACE,YAAY,kCAAkC,QACzwEW,EAAkB,G,wHCuDtB,SAAS4F,EAAKC,GACZ,OAAIC,UAAUC,UAAUC,SAAS,OAASH,EAAMpE,KAAKC,WAAW,QACvD,MAGF,GAIM,mCAAgB,CAC7BiB,KAAM,eACNxC,MAAO,CACLiF,aAAc,CACZ/E,KAAM4F,OACN1F,QAAS,iBAAO,KAElBX,YAAa,CACXS,KAAMK,OACNH,QAAS,UAGbI,MAZ6B,SAYvBR,EAZuB,GAYF,IAAZ+F,EAAY,EAAZA,KAAMtF,EAAM,EAANA,KACbqE,EAAS,uBAAS,WACY,MAAlC,MAA0B,SAAtB9E,EAAMP,YACR,UAAOO,EAAMiF,aAAarE,QAAQC,eAAlC,QAA6Cb,EAAMiF,aAAarE,QAAQE,KAEnEd,EAAMiF,aAAarE,QAAQG,aAG9BiF,EAAU,uBAAS,kBAAM,oBAE/B,SAASnB,IACqB,IAAxBmB,EAAQtD,MAAOxC,MAUfO,EAAKY,OAAOC,KAAKC,WAAW,QAC9Bd,EAAKyB,QAAQC,KAAK,CAChBb,KAAM,iCACN2E,MAAO,CACL1G,GAAIS,EAAMiF,aAAa1F,MAI7B,eAAK,CACH+B,KAAM,8BACN2E,MAAO,CACL1G,GAAIS,EAAMiF,aAAa1F,OApBzBkB,EAAKyB,QAAQC,KAAK,CAChBb,KAAM,GAAF,OAAKmE,EAAKhF,EAAKY,QAAf,0CACJ4E,MAAO,iCACFxF,EAAKY,OAAO4E,OADZ,IAEH1G,GAAIS,EAAMiF,aAAa1F,OAqB/B,SAASK,IACPmG,EAAK,WAGP,SAAST,IACP7E,EAAKyB,QAAQC,KAAK,CAChBb,KAAM,GAAF,OAAKmE,EAAKhF,EAAKY,QAAf,mCACJ4E,MAAO,CACLC,UAAWlG,EAAMiF,aAAaiB,aAKpC,SAASX,IACP9E,EAAKyB,QAAQC,KAAK,CAChBb,KAAM,GAAF,OAAKmE,EAAKhF,EAAKY,QAAf,6BACJ4E,MAAO,CACLE,oBAAqBnG,EAAMiF,aAAakB,uBAI9C,SAASX,IACP,IAAMY,EAAoB,GAAH,OAAMX,EAAKhF,EAAKY,QAAhB,gCACjB4E,EAAQ,CACZI,YAAarG,EAAMiF,aAAaoB,YAChCnG,KAAMF,EAAMiF,aAAalC,aACzBxD,GAAIS,EAAMiF,aAAa1F,IAErBkB,EAAKY,OAAOC,OAAS8E,EACvB3F,EAAKyB,QAAQoE,QAAQ,CACnBhF,KAAM8E,EACNH,UAGFxF,EAAKyB,QAAQC,KAAK,CAChBb,KAAM8E,EACNH,UAKN,MAAO,CACLnB,SAEAD,aACAjF,UACA0F,cACAC,iBACAC,wBClKqa,I,wBCQvarE,EAAY,eACd,EACAxC,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"js/chunk-432c77de.01ab2125.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Searchbyimage.vue?vue&type=style&index=0&id=60f233d7&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"flex-wrap\"},_vm._l((_vm.materialList),function(material,index){return _c('li',{key:material.id,staticClass:\"material-item\"},[_c('MaterialItem',{attrs:{\"materialInfo\":material,\"displayMode\":_vm.displayMode,\"data-img-type\":\"material-item\"},on:{\"preview\":function($event){return _vm.preview(index)}}})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent,\n} from '@vue/composition-api';\n\nimport MaterialItem from './MaterialItem.vue';\n\nexport default defineComponent({\n  components: {\n    MaterialItem,\n  },\n  props: {\n    materialList: {\n      type: Array,\n      default: () => [],\n    },\n    disabledInfiniteScroll: {\n      type: Boolean,\n      default: false,\n    },\n    displayMode: {\n      type: String as () => 'drape' | 'flat',\n      default: 'drape',\n    },\n  },\n  setup(props, { root }) {\n    async function preview(index: number) {\n      let srcList;\n      if (props.displayMode === 'flat') {\n        srcList = props.materialList.map((material: any) => material.imgJson?.texture || material.imgJson?.flat);\n      } else {\n        srcList = props.materialList.map((material: any) => material.imgJson.thumbnail);\n      }\n      // @ts-ignore\n      await root.$ImageViewer.show(srcList, {\n        index,\n        targetElems: '[data-img-type=\\'material-item\\']',\n      });\n    }\n\n    return {\n      preview,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialList.vue?vue&type=template&id=d641d4c4&\"\nimport script from \"./MaterialList.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=style&index=0&id=04dee6a3&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navigator\",class:{'qt-page': _vm.$route.path.startsWith('/qt/'), 'hide-background': _vm.hideBackground}},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"iconfont icon-angle-left\"}),_vm._v(_vm._s(_vm.$t('material-mall.previous'))+\" \")]),_c('span',{staticClass:\"page-name\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"navigator\"\n    :class=\"{'qt-page': $route.path.startsWith('/qt/'), 'hide-background': hideBackground}\">\n    <span class=\"back\" @click=\"back\">\n      <i class=\"iconfont icon-angle-left\"></i>{{ $t('material-mall.previous') }}\n    </span>\n    <span class=\"page-name\">\n      <slot></slot>\n    </span>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from '@vue/composition-api';\nimport { isQt } from '@/utils/is-qt';\n\nexport default defineComponent({\n  props: {\n    hideBackground: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(_, { root }) {\n    // p.s. 打开新窗口步骤是先打开空页面在跳路由\n    if (window.history.length <= 2 && !window._g_navigator_history_key) {\n      window._g_navigator_history_key = window.history.state.key;\n    }\n    function back() {\n      if (window.history.state.key !== window._g_navigator_history_key) {\n        root.$router.back();\n      } else {\n        root.$router.push(`${isQt() ? '/qt' : ''}/material-mall/home`);\n      }\n    }\n    return {\n      back,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.navigator{\n  position: sticky;\n  z-index: 3;\n  top: 60px;\n  user-select: none;\n  width: 100%;\n  height: 44px;\n  background:#f9f9f9;\n  line-height: 44px;\n  box-shadow:0px 2px 4px 0px rgba(0,0,0,0.1);\n  // opacity:0.75;\n  &.hide-background{\n    background: transparent;\n    border-bottom: 1px solid transparent;\n    box-shadow: none;\n  }\n}\n\n.qt-page{\n  top: 0\n}\n\n.back{\n  margin-right: 10px;\n  cursor: pointer;\n  &:hover{\n    color: $color-primary;\n  }\n}\n\n.icon-angle-left{\n  padding: 0 10px;\n}\n.page-name{\n  padding-left: 10px;\n  border-left: 1px solid #666;\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navigator.vue?vue&type=template&id=3c55da5d&scoped=true&\"\nimport script from \"./Navigator.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navigator.vue?vue&type=style&index=0&id=3c55da5d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c55da5d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-column\"},[_c('Navigator',[_vm._v(_vm._s(_vm.$t('material-mall.visual_search')))]),_c('div',{staticStyle:{\"padding\":\"20px 40px\"}},[_c('div',{staticClass:\"search-source\"},[_c('div',{staticClass:\"image-container\"},[_c('base-image',{attrs:{\"src\":_vm.sourceImageSrc,\"fit\":\"contain\"}})],1)]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"min-height\":\"200px\"},attrs:{\"element-loading-background\":\"rgba(247, 247, 247)\"}},[_c('div',{staticClass:\"search-header flex\"},[_c('h4',{staticClass:\"result-title\"},[_vm._v(_vm._s(_vm.$t('material-mall.search_result')))]),_c('el-tabs',{staticClass:\"tabs-wrap flex-1\",model:{value:(_vm.materialType),callback:function ($$v) {_vm.materialType=$$v},expression:\"materialType\"}},[_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.all'),\"name\":\"0\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.leather'),\"name\":\"1\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.PU'),\"name\":\"2\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.textile'),\"name\":\"3\"}})],1)],1),(_vm.imgListFilter && _vm.imgListFilter.length > 0)?_c('MaterialList',{staticClass:\"material-list\",attrs:{\"materialList\":_vm.imgListFilter,\"displayMode\":\"flat\"}}):(!_vm.loading)?_c('div',{staticClass:\"empty-placeholder\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/material-mart/empty-placeholder.png\")}}),_c('p',[_vm._v(_vm._s(_vm.$t('material-mall.no_results_tip_img')))])]):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, onMounted, ref, onUnmounted, computed,\n} from '@vue/composition-api';\n\nimport { isQt } from '@/utils/is-qt';\nimport { MaterialGoods } from '@/models/MaterialGood';\nimport axios from '../../api/axios';\nimport MaterialList from './components/MaterialList.vue';\nimport Navigator from './components/Navigator.vue';\n\nexport default defineComponent({\n  name: 'SearchByImage',\n\n  components: {\n    MaterialList,\n    Navigator,\n  },\n\n  setup(_, { root }) {\n    // @ts-ignore\n    const sourceImage = root.searchImage;\n\n    const ImgList = ref<MaterialGoods>([]);\n    const materialType = ref('0');\n\n    const imgListFilter = computed(() => {\n      if (materialType.value === '0') {\n        return ImgList.value;\n      }\n      return ImgList.value.filter((e: MaterialGoods) => e.materialType === parseInt(materialType.value, 10));\n    });\n\n    const sourceImageSrc = ref('');\n\n    const loading = ref<boolean>(false);\n\n    onMounted(async () => {\n      if (!sourceImage) {\n        root.$router.push(`${isQt() ? '/qt' : ''}/material-mall/home`);\n        return;\n      }\n      try {\n        loading.value = true;\n        sourceImageSrc.value = URL.createObjectURL(sourceImage || '');\n        const formData = new FormData();\n        formData.append('file', sourceImage);\n\n        ImgList.value = (await axios({\n          url: '/bff-center/s/mall/pic',\n          method: 'POST',\n          data: formData,\n        })).data;\n      } catch (e) {\n        root.$errHandler(e);\n      } finally {\n        loading.value = false;\n      }\n      console.info(ImgList.value);\n    });\n\n    onUnmounted(() => {\n      // @ts-ignore\n      root.searchImage = null;\n    });\n\n    return {\n      materialType,\n      imgListFilter,\n      sourceImageSrc,\n      loading,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Searchbyimage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Searchbyimage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Searchbyimage.vue?vue&type=template&id=60f233d7&scoped=true&\"\nimport script from \"./Searchbyimage.vue?vue&type=script&lang=ts&\"\nexport * from \"./Searchbyimage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Searchbyimage.vue?vue&type=style&index=0&id=60f233d7&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60f233d7\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigator.vue?vue&type=style&index=0&id=3c55da5d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"material-item\",attrs:{\"draggable\":\"false\"},on:{\"dragstart\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"content\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$act(_vm.viewDetail)}}},[_c('div',{staticClass:\"info-container\"},[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('base-image',{staticClass:\"material-img\",attrs:{\"fit\":\"scale-down\",\"src\":_vm.imgSrc,\"thumb\":{ width: 204, height: 152 }}}),_c('div',{staticClass:\"behavior-list\"},[_c('i',{staticClass:\"behavior-item iconfont icon-scale-2\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$act(_vm.preview)}}})])],1),(!_vm.materialInfo.storeStatus)?_c('span',{staticClass:\"material-status\"},[_vm._v(\" \"+_vm._s(_vm.$t('material-mall.out_of_stock'))+\" \")]):_vm._e(),_c('div',{staticClass:\"row flex-space-between\"},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"content\":_vm.materialInfo.materialName}},[_c('span',[_vm._v(_vm._s(_vm.materialInfo.materialName))])]),(_vm.materialInfo.samplePrice)?_c('span',[_vm._v(\" \"+_vm._s(_vm.materialInfo.samplePriceUnit === 1 ? '￥': '$')+_vm._s(_vm.materialInfo.samplePrice)+\" \")]):_vm._e()],1)]),_c('div',{staticClass:\"control-container\"},[_vm._t(\"default\",[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"content\":_vm.$t('material-mall.supplier-page')}},[_c('div',{staticClass:\"flex-1 flex-center\",staticStyle:{\"height\":\"100%\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.goToCompany($event)}}},[_c('i',{staticClass:\"iconfont iconshangjia\"})])]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"content\":_vm.$t('material-mall.material_swatch')}},[_c('div',{staticClass:\"flex-1 flex-center\",staticStyle:{\"height\":\"100%\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.goToColorBoard($event)}}},[_c('i',{staticClass:\"iconfont iconseka\"})])]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"content\":_vm.$t('material-mall.similar_search')}},[_c('div',{staticClass:\"flex-1 flex-center\",staticStyle:{\"height\":\"100%\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.goToSearchSimilar($event)}}},[_c('i',{staticClass:\"iconfont iconyitusoutu\"})])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, computed } from '@vue/composition-api';\nimport { Route } from 'vue-router';\nimport open from '@/utils/open-window';\nimport { getCurrentCompany } from '@/loaders/company';\n\nfunction isQt(route: Route): string {\n  if (navigator.userAgent.includes('Qt') || route.path.startsWith('/qt/')) {\n    return '/qt';\n  }\n\n  return '';\n}\n\n\nexport default defineComponent({\n  name: 'MaterialItem',\n  props: {\n    materialInfo: {\n      type: Object,\n      default: () => ({}),\n    },\n    displayMode: {\n      type: String as () => 'drape' | 'flat',\n      default: 'drape',\n    },\n  },\n  setup(props, { emit, root }) {\n    const imgSrc = computed(() => {\n      if (props.displayMode === 'flat') {\n        return props.materialInfo.imgJson.texture ?? props.materialInfo.imgJson.flat;\n      }\n      return props.materialInfo.imgJson.thumbnail;\n    });\n\n    const company = computed(() => getCurrentCompany());\n\n    function viewDetail() {\n      if (company.value!.type === 3) {\n        root.$router.push({\n          path: `${isQt(root.$route)}/supplier-backend/preview/goods-detail`,\n          query: {\n            ...root.$route.query,\n            id: props.materialInfo.id,\n          },\n        });\n        return;\n      }\n      if (root.$route.path.startsWith('/qt')) {\n        root.$router.push({\n          path: '/qt/material-mall/goods-detail',\n          query: {\n            id: props.materialInfo.id,\n          },\n        });\n      }\n      open({\n        path: '/material-mall/goods-detail',\n        query: {\n          id: props.materialInfo.id,\n        },\n      });\n    }\n\n    function preview() {\n      emit('preview');\n    }\n\n    function goToCompany() {\n      root.$router.push({\n        path: `${isQt(root.$route)}/supplier-page/preview/homepage`,\n        query: {\n          companyId: props.materialInfo.companyId,\n        },\n      });\n    }\n\n    function goToColorBoard() {\n      root.$router.push({\n        path: `${isQt(root.$route)}/material-mall/colorboard`,\n        query: {\n          supplierArticleName: props.materialInfo.supplierArticleName,\n        },\n      });\n    }\n    function goToSearchSimilar() {\n      const searchSimilarPath = `${isQt(root.$route)}/material-mall/searchsimilar`;\n      const query = {\n        colorFamily: props.materialInfo.colorFamily,\n        type: props.materialInfo.materialType,\n        id: props.materialInfo.id,\n      };\n      if (root.$route.path === searchSimilarPath) {\n        root.$router.replace({\n          path: searchSimilarPath,\n          query,\n        });\n      } else {\n        root.$router.push({\n          path: searchSimilarPath,\n          query,\n        });\n      }\n    }\n\n    return {\n      imgSrc,\n\n      viewDetail,\n      preview,\n      goToCompany,\n      goToColorBoard,\n      goToSearchSimilar,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialItem.vue?vue&type=template&id=04dee6a3&scoped=true&\"\nimport script from \"./MaterialItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialItem.vue?vue&type=style&index=0&id=04dee6a3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04dee6a3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}