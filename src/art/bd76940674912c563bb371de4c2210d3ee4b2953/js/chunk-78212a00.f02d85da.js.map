{"version":3,"sources":["webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?914a","webpack:///src/views/material-mall/mobile-material-goods/components/UnitField.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?b0fb","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?a2d1","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?fc88","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?d80e","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?31cc","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?497a","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?862d","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?4d15","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?28cc","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue","webpack:///./src/views/material-mall/mobile-material-goods/utils.ts","webpack:///./src/utils/image-to-dataurl.ts","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?42b8","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?87d5","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?892f","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?cd69","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?633e","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","unit","staticRenderFns","method","url","params","headers","mixins","props","type","String","required","value","Number","setup","immediate","component","label","_t","_l","content","split","color","key","class","white","style","backgroundColor","getColorHexByName","getColorNameByLang","materialColorPicker","name","cnName","heximal","active","colorItem","find","item","language","default","attrs","computedImgJson","isDatapipe","on","handleLoadEnd","imgJson","Object","e","dataurl","path","src","addCount","map","k","concat","images","filter","i","swipe","getMaterialDetail","id","countSettledAxios","count","model","prop","event","methods","$emit","image2DataUrl","image","width","height","c","document","createElement","getContext","drawImage","toDataURL","_e","colorSwatchs","length","colorSwitch","$event","$router","push","query","flat","goodInfo","materialName","tags","tag","price","samplePriceUnit","staticStyle","samplePriceNumber","$t","colorFamily","components","MaterialSourceSwiper","UnitField","ColorViewer","Array","samplePrice","toFixed"],"mappings":"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","file":"js/chunk-78212a00.f02d85da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watch } from '@vue/composition-api';\nimport i18n from 'i18next';\nimport axios from '@/utils/axios';\nimport { countSettledAxios } from '../utils';\n\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler }, emit, ...arg }) {\n    const unit = ref('');\n\n    watch(() => props.value, async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          if (props.type === 'country') {\n            units = (await getCountryList()).data;\n            currentUnit = units.find(u => +u.id === +props.value);\n            // unit.value = currentUnit ? currentUnit.usName : '';\n            unit.value = currentUnit\n              ? (i18n.language === 'en' ? (currentUnit.usName || currentUnit.name) : (currentUnit.name || currentUnit.usName))\n              : '';\n            emit('update', props.count + 1);\n          } else {\n            units = (\n              await getDictionaryByTypeCode(props.type, i18n.language)\n            ).data;\n            currentUnit = units.find(u => +u.itemValue === +props.value);\n            unit.value = currentUnit ? currentUnit.label : '';\n            emit('update', props.count + 1);\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    }, {\n      immediate: true,\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=01b1cef2&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=01b1cef2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01b1cef2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreInfo.vue?vue&type=style&index=0&id=ee357fd0&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialSourceSwiper.vue?vue&type=style&index=0&id=62f2f3ee&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-color-viewer\"},[_c('label',{staticClass:\"label text-one-line\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"content-box\"},[_vm._t(\"default\",[(_vm.content)?[_c('span',{staticClass:\"content\"},_vm._l((_vm.content.split(',')),function(color){return _c('span',{key:color,staticClass:\"color-item\"},[_c('i',{staticClass:\"icon-color-point\",class:{ white: color === 'White' },style:({ backgroundColor: _vm.getColorHexByName(color) })}),_c('span',{staticClass:\"icon-color-font\"},[_vm._v(_vm._s(_vm.getColorNameByLang(color)))])])}),0)]:[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent, ref, watchEffect } from '@vue/composition-api';\n\n\nexport const materialColorPicker = [\n  {\n    name: 'Red', cnName: '红', heximal: '#f00', active: false,\n  },\n  {\n    name: 'Orange', cnName: '橙', heximal: '#FF6300', active: false,\n  },\n  {\n    name: 'Yellow', cnName: '黄', heximal: '#FFE50F', active: false,\n  },\n  {\n    name: 'Green', cnName: '绿', heximal: '#3EED4F', active: false,\n  },\n  {\n    name: 'Blue', cnName: '蓝', heximal: '#2FB9F3', active: false,\n  },\n  {\n    name: 'Purple', cnName: '紫', heximal: '#DE54E8', active: false,\n  },\n  {\n    name: 'Black', cnName: '黑', heximal: '#000', active: false,\n  },\n  {\n    name: 'Gray', cnName: '灰', heximal: '#808080', active: false,\n  },\n  {\n    name: 'White', cnName: '白', heximal: '#fff', active: false,\n  },\n];\n\n\nfunction getColorNameByLang(color: string) {\n  const colorItem = materialColorPicker.find(item => item.name === color);\n  if (!colorItem) return color;\n  return i18n.language === 'cn' ? colorItem.cnName : colorItem.name;\n}\nfunction getColorHexByName(color: string) {\n  const colorItem = materialColorPicker.find(item => item.name === color);\n  if (!colorItem) return '#fff';\n  return colorItem.heximal;\n}\n\nexport default defineComponent({\n  name: 'MaterialColorViewer',\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String],\n      default: '',\n    },\n  },\n  setup(props) {\n    return {\n      getColorHexByName,\n      getColorNameByLang,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorViewer.vue?vue&type=template&id=231b8d26&scoped=true&\"\nimport script from \"./ColorViewer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorViewer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorViewer.vue?vue&type=style&index=0&id=231b8d26&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"231b8d26\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swipe-item\"},[_c('img',{staticClass:\"swipe-item__image\",attrs:{\"src\":_vm.computedImgJson[0],\"alt\":_vm.computedImgJson[0],\"crossorigin\":_vm.isDatapipe(_vm.computedImgJson[0]) ? 'use-credentials' : 'anonymous'},on:{\"load\":_vm.handleLoadEnd}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed, ref } from '@vue/composition-api';\nimport image2DataUrl from '@/utils/image-to-dataurl';\nimport isDatapipe from '@/utils/is-data-pipe-url';\nimport { ImgJson, countSettledAxios } from '../utils';\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  props: {\n    imgJson: {\n      type: Object as () => ImgJson,\n    },\n  },\n  setup(props) {\n    function handleLoadEnd(e: Event) {\n      const dataurl = image2DataUrl(e.path[0] as HTMLImageElement);\n      e.path[0].src = dataurl;\n      this.addCount();\n    }\n    return {\n      computedImgJson: computed(() => {\n        if (!props.imgJson) return [];\n        return (\n          ['thumbnail', 'flat', 'texture'] as (keyof ImgJson)[]\n        ).map(k => props.imgJson![k]).concat(props.imgJson.images).filter(i => i);\n      }),\n      swipe: ref(null),\n      isDatapipe,\n      handleLoadEnd,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialSourceSwiper.vue?vue&type=template&id=62f2f3ee&scoped=true&\"\nimport script from \"./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialSourceSwiper.vue?vue&type=style&index=0&id=62f2f3ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62f2f3ee\",\n  null\n  \n)\n\nexport default component.exports","import axios from '@/utils/axios';\n\nexport interface ImgJson {\n  diffuse: string\n  flat: string\n  height: string\n  normal: string\n  specular: string\n  thumbnail: string\n  toeThumbnail: string\n  texture?: string\n\n  glossiness: string\n  // 有的有有的没有，条件暂时不明\n  images?: string[]\n  models?: string[]\n  videos?: string[]\n}\n\nexport interface MaterialGoods {\n  id: string\n  materialId: string\n  materialName: string\n  imgJson: ImgJson\n  /* 点击数 */\n  click?: number\n  color?: string\n  colorFamily?: string\n  companyId?: string\n  samplePrice?: number\n  totalSize?: number\n  [propName: string]: any\n\n  materialType: number\n  /** 供应商材料名称 */\n  supplierArticleName: string\n  supplierArticleNo: string\n  supplierName: string\n  /** 使用部位 */\n  partUsed: string\n  /** 起订量 */\n  moq: number\n  moqUnit: number\n  season: string\n  /** 样品周期 */\n  samplePeriod: string\n  samplePeriodUnit: number\n  /** 大货周期；接口如此 */\n  productionLeadTime: null\n  productionLeadTimeUnit: string\n  /* 规格 */\n  specification: string\n  /** 接口如此 */\n  thickness:null\n  /* 原产地 */\n  materialCountryOfOrigin: string\n}\n\n/**\n * 查询面料详细信息\n */\nexport const getMaterialDetail = (id: string) => {\n  return axios({\n    method: 'get',\n    url: '/mall/material',\n    params: {\n      id,\n    },\n  });\n};\n\nexport const countSettledAxios = {\n  props: {\n    count: Number,\n  },\n  model: {\n    prop: 'count',\n    event: 'update',\n  },\n  methods: {\n    addCount() {\n      this.$emit('update', this.count + 1);\n    },\n  },\n};\n","export default function image2DataUrl(image: HTMLImageElement) {\n  const { width, height } = image;\n  const c = document.createElement('canvas');\n  c.width = width;\n  c.height = height;\n  c.getContext('2d')!.drawImage(image, 0, 0, width, height);\n  return c.toDataURL('image/png');\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=01b1cef2&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=style&index=0&id=231b8d26&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container flex-column\"},[(_vm.imgJson)?_c('MaterialSourceSwiper',{staticClass:\"source-swiper\",attrs:{\"imgJson\":_vm.imgJson,\"count\":_vm.count},on:{\"update\":_vm.addCount}}):_vm._e(),(_vm.colorSwatchs && _vm.colorSwatchs.length)?_c('ul',{staticClass:\"flex-center\"},_vm._l((_vm.colorSwatchs),function(colorSwitch){return _c('li',{key:colorSwitch.id,staticClass:\"color-swatch-item\",on:{\"click\":function($event){return _vm.$router.push({\n      query: { id: colorSwitch.id }\n    })}}},[_c('img',{style:({width: '100%'}),attrs:{\"src\":colorSwitch.imgJson.flat,\"crossorigin\":_vm.isDatapipe(colorSwitch.imgJson.flat) ? 'use-credentials' : 'anonymous'},on:{\"load\":_vm.handleLoadEnd}})])}),0):_vm._e(),_c('div',{staticClass:\"divider\"}),(_vm.goodInfo)?_c('main',{staticClass:\"flex-column core-info\"},[_c('h3',{staticClass:\"m-title\"},[_vm._v(_vm._s(_vm.goodInfo.materialName))]),(_vm.goodInfo.tags && _vm.goodInfo.tags.length)?_c('ul',{staticClass:\"m-tags flex-wrap\"},_vm._l((_vm.goodInfo.tags),function(tag,i){return _c('li',{key:i,staticClass:\"m-tags__tag\"},[_vm._v(_vm._s(tag.tag))])}),0):_vm._e(),_c('div',{staticClass:\"m-color-and-price flex\"},[_c('div',{staticClass:\"flex-center flex-column\"},[_c('div',{staticClass:\"m-price\"},[_vm._v(_vm._s(_vm.price))]),_c('div',{staticClass:\"key\"},[_c('UnitField',{key:\"priceUnit\",attrs:{\"count\":_vm.count,\"type\":\"priceUnit\",\"value\":_vm.goodInfo.samplePriceUnit},on:{\"update\":_vm.addCount}}),_vm._v(\" / \"),_c('UnitField',{key:\"sizeNumber\",staticStyle:{\"margin-left\":\"0\"},attrs:{\"count\":_vm.count,\"type\":\"sizeNumber\",\"value\":_vm.goodInfo.samplePriceNumber},on:{\"update\":_vm.addCount}})],1)]),_c('div',{staticClass:\"flex-center flex-column\"},[_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.goodInfo.color))]),_c('div',{staticClass:\"key\"},[_vm._v(_vm._s(_vm.$t('material.info.color')))])]),_c('div',{staticClass:\"flex-center flex-column\"},[_c('ColorViewer',{staticClass:\"m-color-family\",attrs:{\"label\":'',\"content\":_vm.goodInfo.colorFamily}}),_c('div',{staticClass:\"key\"},[_vm._v(_vm._s(_vm.$t('material.info.color_family')))])],1)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed } from '@vue/composition-api';\nimport isDatapipe from '@/utils/is-data-pipe-url';\nimport image2DataUrl from '@/utils/image-to-dataurl';\nimport MaterialSourceSwiper from './core-info/MaterialSourceSwiper.vue';\nimport { MaterialGoods, countSettledAxios } from './utils';\nimport UnitField from './components/UnitField.vue';\nimport ColorViewer from './components/ColorViewer.vue';\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  components: {\n    MaterialSourceSwiper,\n    UnitField,\n    ColorViewer,\n  },\n  props: {\n    goodInfo: {\n      type: Object as () => MaterialGoods,\n    },\n    colorSwatchs: {\n      type: Array as () => MaterialGoods[],\n      default: () => [] as MaterialGoods[],\n    },\n  },\n  setup(props) {\n    function handleLoadEnd(e: Event) {\n      const dataurl = image2DataUrl(e.path[0] as HTMLImageElement);\n      e.path[0].src = dataurl;\n      this.addCount();\n    }\n    return {\n      imgJson: computed(() => props.goodInfo?.imgJson),\n      price: computed(() => props.goodInfo?.samplePrice?.toFixed(2)),\n      isDatapipe,\n      handleLoadEnd,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CoreInfo.vue?vue&type=template&id=ee357fd0&scoped=true&\"\nimport script from \"./CoreInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./CoreInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CoreInfo.vue?vue&type=style&index=0&id=ee357fd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee357fd0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}