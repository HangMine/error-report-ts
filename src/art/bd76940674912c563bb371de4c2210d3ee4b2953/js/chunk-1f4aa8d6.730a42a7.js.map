{"version":3,"sources":["webpack:///./src/api/permission.js","webpack:///./src/api/email.js","webpack:///./src/mixins/form-validation.js","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue?8e04","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue?9d3c","webpack:///src/views/file-list/components/workspace/MemberInvitationPermission.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue?d180","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue?79bf","webpack:///src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue?d420","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue","webpack:///src/views/file-list/components/workspace/MemberInvitationWrapper.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue?0b63","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue?c4a0","webpack:///./src/views/profile/account/components/FormShareableLink.vue?ed1c","webpack:///./src/api/previlege.js","webpack:///./src/loaders/workspace-member.ts","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue?271f","webpack:///./src/views/file-list/components/workspace/mixin.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./src/views/file-list/components/workspace/TableList.vue?6752","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue?5b37","webpack:///src/views/file-list/components/workspace/PermissionDetail.vue","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue?992e","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue?8879","webpack:///./src/utils/tokenizeEmails.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue?6a1b","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue?5dca","webpack:///src/views/file-list/components/workspace/MemberManagement.vue","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue?a81e","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue?9ca9","webpack:///./src/views/file-list/components/workspace/TableList.vue?8604","webpack:///src/views/file-list/components/workspace/TableList.vue","webpack:///./src/views/file-list/components/workspace/TableList.vue?3669","webpack:///./src/views/file-list/components/workspace/TableList.vue","webpack:///./src/views/profile/account/components/FormShareableLink.vue?3c5e","webpack:///src/views/profile/account/components/FormShareableLink.vue","webpack:///./src/views/profile/account/components/FormShareableLink.vue?1ac2","webpack:///./src/views/profile/account/components/FormShareableLink.vue"],"names":["ApiGroupappList","id","axios","method","url","params","appId","ApiSingleWorkpaceTable","headers","groupAppId","getWorkspaceConfig","workspaceId","getWorkspaceConfigSelf","updateWorkspaceWatermart","openWatermark","data","ApiDismissWorkpace","ApiRenameWorkspace","name","ApiAddWorkspace","ApiQuitWorkpace","checkEmailExistent","email","cancelToken","CancelToken","originAxios","source","req","token","cancel","checkVerificationCodeMatching","verifyCode","type","ApiResetMail","generateInvitationLink","sendEmailByType","getInviterInfo","inviteId","methods","acceptInvitation","InviteMultipleMembers","sendVerifyCodeByRegistration","lang","sendVerifyCodeByChangingEmail","sendVerifyCodeByResetingPassword","sendVerifyCodeByLogin","mixinValidateForm","validateForm","Object","keys","form","forEach","prop","trim","replace","validateFormFields","$refs","$emit","console","warn","Error","i18n","t","resetFields","this","mixinValidateFormField","validateFormField","field","value","validate","valid","invalidFields","mixinCheckPasswordAsPrevious","validatePasswordConfirm","rule","callback","pass","passwordConfirm","rules","validator","requirement","charLengthMini","handlePasswordChange","validateField","render","_vm","_h","$createElement","_c","_self","staticClass","multiMode","on","$event","_v","_s","modeInvite","$t","attrs","currentComponent","componentList","directives","rawName","expression","ref","spaceRoleId","showPermissionDetail","_e","okAvailable","$isActing","handleConfirm","$act","staticRenderFns","staticStyle","model","role","$$v","$set","multipleInvitationPlaceholder","showRemarks","link","_m","props","Boolean","String","Number","tokenizeEmails","roleId","mails","remarks","clipboard","mounted","generateLink","$closest","computed","emailIsEmpty","singleEmailValid","test","multipleEmailsValid","watch","newv","destroyed","destroy","component","components","FormShareableLink","formShareableLink","dialogify","closeOnClickModal","width","default","MemberInvitationPermission","MemberInvitationWorkspacePass","isLoading","beforeMount","permissionInvitor","workspacePassInvitor","changeUserPrivilege","userId","addMembersInRooms","targetIds","JSON","stringify","deleteMembersInRooms","refreshByWorkspaceId","members","users","each","assign","insertOrUpdate","query","where","member","get","addMembers","memberIds","delMember","memberId","delete","m","changeMemberPrivilege","memberRoleId","update","getMemberInfoByUserId","target","user","relateId","currentWorkspaceId","$route","currentWorkspace","WorkspaceOrm","find","enterFirstWorkspace","firstWorkspace","enterWorkspaceByReplaceURL","$router","appType","enterWorkspace","ws","push","isQt","workspaceBusinessType","businessType","userAbout","roleList","roleId2Role","4","5","6","7","8","OWNER","ADMIN","MEMBER","GUEST","WORKSPACEPASS","selfRoleId","WorkspaceUserRoleOrm","roles","WorkspaceRoleOrm","all","ownerUsableRole","arr","filter","item","adminUsableRole","list","roleTypeC2E","chinese","requireObjectCoercible","quot","module","exports","string","tag","attribute","S","p1","$","createHTML","forcedStringHTMLMethod","proto","forced","class","has","dataInfo","usersMails","split","every","match","$Error","fails","METHOD_NAME","toLowerCase","length","memberList","$can","handleInvite","handleAddMembers","title","titleAlign","TableList","created","$watch","immediate","getUserTypeFromTypeId","typeId","filters","en","$loadingState","mailW","scopedSlots","_u","key","fn","row","account","mail","nameW","permissionW","_l","charactor","slot","handleDeleteUser","mixins","Array","roleColumnVisible","BaseUser","ownerRole","adminRole","multiple","mode","radio","PickerOptions","changeTime","dateRange","tipVisible","reg","score","now","Date","disabledDate","_disabledRangeDate","startTime","endTime","companyName","isSendImg","hasFormError","handlePasswordVisible","blur","daysRemaining","emails","dateValid","formAndDateValid","multipleFormAndDateValid","getTime","initForm","time","todaytoday","end"],"mappings":"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","file":"js/chunk-1f4aa8d6.730a42a7.js","sourcesContent":["/**\n * 该文件记录与系统权限相关的接口\n */\n\nimport axios from './axios';\n\n/* ========================= 系统权限 ============================ */\n/* ======================== 获取 system 权限相关 ============================ */\n/**\n * 登录用户系统权限列表\n * @returns {Promise}\n */\nexport const getSystemPermissionList = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/system',\n  });\n};\n\n/* ======================== 获取 workspace 权限相关 ============================ */\n/**\n * 单个workspace的权限列表\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpacePermissionList = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/workspace',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取 workspace 所属公司的名称； 没有则返回用户的名称\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpaceCompnayInfo = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/company',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取登录人拥有的workpace个数\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiGroupappList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiroleList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 修改权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiUpdateRole = (data, id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/role/change',\n    headers: {\n      groupAppId: id,\n    },\n    data,\n  });\n};\n\n/**\n * 移除账号\n * @param {String} id workspaceId\n * @param {String} userId 用户id\n * @returns {Promise}\n */\nexport const ApiRemoveAccount = (id, userId) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove',\n    headers: {\n      groupAppId: id,\n      targetIds: JSON.stringify([userId]),\n    },\n  });\n};\n\n/**\n * 获取单个workspace的列表数据\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiSingleWorkpaceTable = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/users',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfig = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/byWorkspaceId',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置（个人）\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfigSelf = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/needOpenWatermark',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 更变workspace的水印配置\n * @param {String} id workspaceId\n * @param {Number} openWatermark 1开启，0关闭\n * @returns {Promise}\n */\nexport const updateWorkspaceWatermart = (id, openWatermark) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/config/workspace/openWatermark',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      workspaceId: id,\n      openWatermark,\n    },\n  });\n};\n\n/**\n * 解散workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiDismissWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/clear',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 用户workspace统计信息\n * @returns {Promise}\n */\nexport const ApiGetTotalWorkpaces = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/self/detail',\n  });\n};\n\n/**\n *  重命名workspace\n * @param {String} id workspaceId\n * @param {String} name 新名称\n * @returns {Promise}\n */\nexport const ApiRenameWorkspace = (id, name) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/rename',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      name,\n    },\n  });\n};\n\n/**\n *  新增workspace\n * @param {String} name 名称\n */\nexport const ApiAddWorkspace = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/add',\n    data,\n  });\n};\n\n/**\n * 退出workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiQuitWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove/self',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 权限角色\n * @param {String}\n * @returns {Promise}\n */\nexport const getDictionaryByType = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: 2,\n    },\n  });\n};\n","import originAxios from 'axios';\nimport axios from './axios';\n\n/**\n * 校验邮箱是否已注册\n * @param {String} email 邮箱地址\n * @returns {Promise}\n */\nexport const checkEmailExistent = (email, cancelToken = {}) => {\n  const { CancelToken } = originAxios;\n  const source = CancelToken.source();\n  const req = axios({\n    method: 'get',\n    url: '/authcenter/user/email/check',\n    params: { email },\n    cancelToken: source.token,\n  });\n  cancelToken.cancel = source.cancel;\n  return req;\n};\n\n/**\n * 通过邮箱获取验证码\n * @param {String} email 邮箱地址\n * @returns {Promise}\n */\n// 已废弃\n// export const getVerifyCodeByEmail = (email) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/email/verify/code',\n//     data: { email },\n//   });\n// };\n\n/**\n * 校验邮箱验证码是否匹配\n * @param {String} verifyCode 验证码\n * @param {String} email 邮箱地址\n * @returns {Promise}\n */\nexport const checkVerificationCodeMatching = ({ verifyCode, email, type }) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/email/check/code',\n    // params: { verifyCode, email },\n    url: '/authcenter/code/verify',\n    data: { verifyCode, email, type },\n  });\n};\n\n// 重新绑定邮箱\nexport const ApiResetMail = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/email/reset',\n    data,\n  });\n};\n\n/**\n * 生成邀请链接\n * @param {Object} data type(邮件类型)：1：关联外部人员到公司邀请邮件，2：关联外部人员到workspace\n * @returns {Promise}\n */\nexport const generateInvitationLink = (data) => {\n  return axios({\n    method: 'post',\n    url: '/msgcenter/mail/url',\n    data,\n  });\n};\n/**\n * 发送邮件接口\n * @param {Object} data type(邮件类型)：1：关联外部人员到公司邀请邮件，2：关联外部人员到workspace，3”：新增人员发送通知邮件\n * @returns {Promise}\n */\nexport const sendEmailByType = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/invite',\n    data,\n  });\n};\n\n/* ===============================  邀请相关 ========================= */\n/**\n * 获取邀请者信息\n * @param {String} inviteId 邀请的ID\n * @returns {Promise}\n */\nexport const getInviterInfo = (inviteId) => {\n  return axios({\n    methods: 'get',\n    url: '/msgcenter/mail/inviter',\n    params: { inviteId },\n  });\n};\n\n// 处理邀请信息\nexport const acceptInvitation = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/outer',\n    data,\n  });\n};\n\n// 邀请多人（可新建账号）\nexport const InviteMultipleMembers = data => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/batch/invite',\n    data,\n  });\n};\n\n/* =============================== 通过邮箱获取验证码 ========================= */\n/**\n * 注册账号\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByRegistration = (email, lang) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/email/verify/code',\n    // data: { email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 1,\n    },\n    headers: {\n      'sdstc-language': lang,\n    },\n  });\n};\n\n/**\n * 修改账号邮箱\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByChangingEmail = (email) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/email/update/code',\n    // data: { email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 5,\n    },\n  });\n};\n\n/**\n * 重置账号密码\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByResetingPassword = (email) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/verification/code',\n    // data: { account: email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 3,\n    },\n  });\n};\n\n/**\n * 邮箱验证码登录\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByLogin = (email) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/login/send',\n    // data: { email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 2,\n    },\n  });\n};\n","import i18n from 'i18next';\nimport validator, { validateFormFields } from '@/utils/validators/rules-validation';\n\n// 校验表单是否通过校验\nexport const mixinValidateForm = {\n  methods: {\n    async validateForm() {\n      Object.keys(this.form).forEach((prop) => {\n        if (typeof this.form[prop] === 'string') {\n          // 去掉首尾空格\n          // 防止XSS攻击（html方面）\n          this.form[prop] = this.form[prop]\n            .trim()\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;');\n        }\n      });\n\n      try {\n        await validateFormFields(this.$refs.form);\n        this.$emit('validate', this.form);\n        return this.form;\n      } catch (err) {\n        console.warn(err);\n        throw new Error(i18n.t('validator.form_val_fail'));\n      }\n    },\n    resetFields() {\n      this.$refs.form.resetFields();\n    },\n  },\n};\n\n// 校验表单中特定的field有没有通过校验；校验成功，返回其值\nexport const mixinValidateFormField = {\n  methods: {\n    validateFormField(field, value) {\n      this.$refs.form.validate((valid, invalidFields) => {\n        // 判断该属性是否在校验失败的field对象里面，如果校验通过则通知父组件\n        if (!invalidFields[field]) this.$emit('validate-field', { field, value });\n      });\n    },\n  },\n};\n\n// 校验再次输入的密码是否与上一次相同\nexport const mixinCheckPasswordAsPrevious = {\n  data() {\n    const validatePasswordConfirm = (rule, value, callback) => {\n      if (value !== this.form.pass) {\n        return callback(new Error(i18n.t('validator.same_as_prev')));\n      }\n      return callback();\n    };\n\n    return {\n      form: {\n        pass: '',\n        passwordConfirm: '',\n      },\n      rules: {\n        passwordConfirm: [\n          validator.requirement(),\n          validator.charLengthMini(6, 20),\n          { validator: validatePasswordConfirm },\n        ],\n      },\n    };\n  },\n  methods: {\n    // 当密码框输入变化时，要校验密码确认内容\n    // （此监听方法需添加到 password 上）\n    handlePasswordChange() {\n      if (this.form.passwordConfirm) this.$refs.form.validateField('passwordConfirm');\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"invitation-container\"},[_c('div',{staticClass:\"invitation-component-selector\"},[_c('div',{staticClass:\"permission-and-charactor-selector\"},[_c('div',{staticClass:\"toggle-target color-primary\"},[(!_vm.multiMode)?_c('div',{on:{\"click\":function($event){_vm.multiMode = true}}},[_c('i',{staticClass:\"iconfont icon-bulk-invitation-o\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.modeInvite ? _vm.$t(\"workspace.invite_multiple_partners\") : _vm.$t(\"workspace.create_multiple_partners\"))+\" \")])]):_c('div',{on:{\"click\":function($event){_vm.multiMode = false}}},[_c('i',{staticClass:\"iconfont icon-single-invitation-o\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.modeInvite ? _vm.$t(\"workspace.invite_a_partner\") : _vm.$t(\"workspace.create_a_partner\"))+\" \")])])])]),_c('transition',{attrs:{\"name\":\"translate-x\",\"mode\":\"out-in\"}},[(_vm.currentComponent === _vm.componentList[0])?[_c('MemberInvitationPermission',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"permissionInvitor\",attrs:{\"multiMode\":_vm.multiMode,\"groupAppId\":_vm.groupAppId,\"spaceRoleId\":_vm.spaceRoleId},on:{\"showPermissionDetail\":_vm.showPermissionDetail,\"changeComponent\":function (t) { return (_vm.currentComponent = t); }}})]:(_vm.currentComponent === _vm.componentList[1])?[_c('MemberInvitationWorkspacePass',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"workspacePassInvitor\",attrs:{\"multiMode\":_vm.multiMode,\"groupAppId\":_vm.groupAppId},on:{\"showPermissionDetail\":_vm.showPermissionDetail,\"changeComponent\":function (t) { return (_vm.currentComponent = t); }}})]:_vm._e()],2),_c('footer',{staticClass:\"button-group flex-justify-flex-end\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.cancel\"))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.okAvailable || _vm.$isActing(_vm.handleConfirm)},on:{\"click\":function($event){return _vm.$act(_vm.handleConfirm)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.confirm\"))+\" \")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"permission-invitation-container\"},[_c('h3',{staticClass:\"flex-center\",staticStyle:{\"margin-bottom\":\"38px\",\"font-size\":\"20px\",\"color\":\"#2D2E30\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.invite_people'))+\" \")]),_c('h4',{staticClass:\"invitation-header\",staticStyle:{\"width\":\"280px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.select_permission'))+\" \"),_c('i',{staticClass:\"iconfont icon-help\",on:{\"click\":function($event){return _vm.$emit('showPermissionDetail')}}})]),_c('el-radio-group',{staticClass:\"permission-selector flex-space-around\",model:{value:(_vm.role.roleId),callback:function ($$v) {_vm.$set(_vm.role, \"roleId\", $$v)},expression:\"role.roleId\"}},[(_vm.spaceRoleId < 7)?_c('el-radio',{attrs:{\"label\":7}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.guest'))+\" \")]):_vm._e(),(_vm.spaceRoleId < 6)?_c('el-radio',{attrs:{\"label\":6}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.member'))+\" \")]):_vm._e(),(_vm.spaceRoleId < 5)?_c('el-radio',{attrs:{\"label\":5}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.admin'))+\" \")]):_vm._e()],1),_c('el-divider'),(!_vm.multiMode)?_c('h4',{staticClass:\"invitation-header\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.choose_invitation_mode'))+\" \")]):_vm._e(),_c('section',{staticClass:\"email-invitation-container\",staticStyle:{\"margin-top\":\"20px\"}},[(!_vm.multiMode)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('workspace.email_invitation'))+\" \")]):_c('h4',{staticClass:\"invitation-header\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.email_invitation'))+\" \")]),_c('div',{staticClass:\"email-box\",staticStyle:{\"margin-top\":\"15px\"}},[_c('div',{staticStyle:{\"width\":\"20%\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.email'))+\": \")]),(!_vm.multiMode)?_c('el-input',{attrs:{\"placeholder\":_vm.$t('workspace.email_input_placeholder'),\"label\":\"mainbox\"},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.role.email),callback:function ($$v) {_vm.$set(_vm.role, \"email\", $$v)},expression:\"role.email\"}}):_c('el-input',{staticClass:\"multi-textarea\",attrs:{\"type\":\"textarea\",\"rows\":\"5\",\"placeholder\":_vm.multipleInvitationPlaceholder},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.role.mails),callback:function ($$v) {_vm.$set(_vm.role, \"mails\", $$v)},expression:\"role.mails\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRemarks),expression:\"showRemarks\"}],staticClass:\"email-box\",staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticStyle:{\"width\":\"20%\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.remarks'))+\": \")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('workspace.remarks_tip')},model:{value:(_vm.role.remarks),callback:function ($$v) {_vm.$set(_vm.role, \"remarks\", $$v)},expression:\"role.remarks\"}})],1)]),(!_vm.multiMode)?_c('section',{staticClass:\"Link-invitation-container\"},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.link_invitation'))+\" \")]),_c('button',{staticClass:\"link-copy-wrapper flex\",attrs:{\"data-clipboard-text\":_vm.link}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('workspace.copy_invitation_link'))+\" \")])])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('strong',{staticStyle:{\"margin-left\":\"10px\"}},[_c('i',{staticClass:\"iconfont icon-link link-icon\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"permission-invitation-container\">\n\n    <h3 class=\"flex-center\" style=\"margin-bottom: 38px; font-size: 20px; color: #2D2E30;\">\n      {{ $t('workspace.invite_people')}}\n    </h3>\n\n    <!-- 标题 -->\n    <h4 class=\"invitation-header\" style=\"width: 280px;\">\n      {{ $t('workspace.select_permission') }}\n      <i @click=\"$emit('showPermissionDetail')\" class=\"iconfont icon-help\"></i>\n    </h4>\n\n    <!-- 权限选择器 -->\n    <el-radio-group class=\"permission-selector flex-space-around\" v-model=\"role.roleId\">\n      <el-radio :label=\"7\" v-if=\"spaceRoleId < 7\">\n        {{ $t('workspace.guest') }}\n      </el-radio>\n      <el-radio :label=\"6\" v-if=\"spaceRoleId < 6\">\n        {{ $t('workspace.member') }}\n      </el-radio>\n      <el-radio :label=\"5\" v-if=\"spaceRoleId < 5\">\n        {{ $t('workspace.admin') }}\n      </el-radio>\n    </el-radio-group>\n\n    <!-- 创建并绑定虚拟账号 -->\n    <!-- <div style=\"margin-top: 20px;\">\n      Or&nbsp;<span class=\"color-primary\"\n        @click=\"$emit('changeComponent', 'MemberInvitationWorkspacePass')\">\n        Create Workspace Pass</span>\n    </div> -->\n\n    <el-divider />\n\n    <!-- 邮箱和备注 -->\n    <h4 class=\"invitation-header\" v-if=\"!multiMode\">\n      {{ $t('workspace.choose_invitation_mode') }}\n    </h4>\n    <section class=\"email-invitation-container\" style=\"margin-top: 20px;\">\n      <div v-if=\"!multiMode\">\n        {{ $t('workspace.email_invitation') }}\n      </div>\n      <h4 v-else class=\"invitation-header\">\n        {{ $t('workspace.email_invitation') }}\n      </h4>\n      <div class=\"email-box\" style=\"margin-top:15px;\">\n        <div style=\"width:20%;\">\n          {{ $t('workspace.email') }}:\n        </div>\n        <el-input v-if=\"!multiMode\" v-model=\"role.email\" @focus=\"showRemarks=true\"\n          :placeholder=\"$t('workspace.email_input_placeholder')\"\n          label=\"mainbox\"></el-input>\n        <el-input v-else type=\"textarea\" v-model=\"role.mails\" @focus=\"showRemarks=true\" rows=\"5\"\n          class=\"multi-textarea\"\n          :placeholder=\"multipleInvitationPlaceholder\"></el-input>\n      </div>\n      <div v-show=\"showRemarks\" class=\"email-box\" style=\"margin-top:10px;\">\n        <div style=\"width:20%;\">\n          {{$t('workspace.remarks')}}:\n        </div>\n        <el-input type=\"textarea\" v-model=\"role.remarks\"\n          :placeholder=\"$t('workspace.remarks_tip')\"></el-input>\n      </div>\n    </section>\n\n    <!-- 复制生成的链接 -->\n    <section class=\"Link-invitation-container\" v-if=\"!multiMode\">\n      <div style=\"margin-bottom: 15px;\">\n        {{ $t('workspace.link_invitation') }}\n      </div>\n      <button class=\"link-copy-wrapper flex\"\n        :data-clipboard-text=\"link\">\n        <strong style=\"margin-left: 10px;\">\n          <i class=\"iconfont icon-link link-icon\"></i>\n        </strong>\n        <span>\n          {{ $t('workspace.copy_invitation_link') }}\n        </span>\n      </button>\n    </section>\n  </section>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport Clipboard from 'clipboard';\nimport { generateInvitationLink, sendEmailByType, InviteMultipleMembers } from '@/api/email';\nimport tokenizeEmails from '@/utils/tokenizeEmails';\n\nexport default {\n  props: {\n    multiMode: Boolean,\n    groupAppId: String,\n    spaceRoleId: [Number, String],\n  },\n  data() {\n    this.multipleInvitationPlaceholder = i18n.t('workspace.multiple_invitation_placeholder');\n    this.tokenizeEmails = tokenizeEmails;\n    return {\n      role: {\n        roleId: 7,\n        email: '',\n        mails: '',\n        remarks: '',\n      },\n      showRemarks: false,\n      link: '',\n      clipboard: {},\n    };\n  },\n  mounted() {\n    this.clipboard = new Clipboard('.link-copy-wrapper');\n    this.clipboard.on('success', () => {\n      this.$closest('InvitationWrapper').okAvailable = true;\n      this.$message.success(i18n.t('workspace.copy_success_tip'));\n    });\n    this.clipboard.on('error', () => {\n      this.$message.warning(i18n.t('workspace.copy_fail_tip'));\n    });\n    this.generateLink();\n    this.$closest('InvitationWrapper').okAvailable = false;\n  },\n  computed: {\n    emailIsEmpty() {\n      return this.role.email;\n    },\n    singleEmailValid() {\n      return /\\w+@\\w+.\\w+/.test(this.role.email);\n    },\n    multipleEmailsValid() {\n      try {\n        tokenizeEmails(this.role.mails);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n  },\n  methods: {\n    async generateLink() {\n      const { groupAppId } = this;\n      const params = {\n        type: 2,\n        groupAppId,\n        roleId: this.role.roleId,\n      };\n      const { data } = await generateInvitationLink(params);\n      this.link = data;\n    },\n    async handleSingleInvitation() {\n      const params = {\n        ...this.role,\n        groupAppId: this.groupAppId,\n      };\n      await sendEmailByType({\n        email: params.email,\n        params,\n        type: 3,\n      });\n    },\n    async handleMultipleInvitation(emails) {\n      // eslint-disable-next-line\n      let { roleId: role, remarks } = this.role;\n      await InviteMultipleMembers({\n        newAccount: false,\n        emails,\n        role,\n        remarks,\n        groupAppId: this.groupAppId,\n      });\n    },\n  },\n  watch: {\n    // eslint-disable-next-line func-names\n    'role.roleId': function () {\n      this.generateLink();\n    },\n    multiMode() {\n      this.showRemarks = false;\n      this.$closest('InvitationWrapper').okAvailable = false;\n    },\n    singleEmailValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n    multipleEmailsValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n  },\n  destroyed() {\n    this.clipboard.destroy();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.permission-invitation-container {\n  .email-box {\n    display: flex;\n    align-items: center;\n  }\n  .link-copy-wrapper {\n    height: 46px;\n    line-height: 46px;\n    width: 100%;\n    cursor: pointer;\n    background-color: transparent;\n    border: 1px solid #dbe0e6;\n    outline: none;\n    border-radius: 4px;\n  }\n  .Link-invitation-container {\n    margin: 25px 0 0;\n  }\n  .link-icon {\n    @include resize-icon(1.2);\n    margin-right: 0.3em;\n  }\n  .multi-textarea {\n    /deep/ textarea {\n      word-break: normal;\n    }\n  }\n}\n.icon-help {\n  color: #ccc;\n  font-weight: 100;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationPermission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationPermission.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberInvitationPermission.vue?vue&type=template&id=1b40aba4&scoped=true&\"\nimport script from \"./MemberInvitationPermission.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberInvitationPermission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberInvitationPermission.vue?vue&type=style&index=0&id=1b40aba4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b40aba4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"craete-workspace-pass-container\"},[_c('h4',{staticClass:\"invitation-header flex-center\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('workspace.create_workspace_pass'))+\" \")]),_c('span',{staticClass:\"iconfont icon-help\",on:{\"click\":function($event){return _vm.$emit('showPermissionDetail')}}})]),_c('FormShareableLink',{ref:\"formShareableLink\",attrs:{\"mode\":\"createAndInvite\",\"multiple\":_vm.multiMode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"craete-workspace-pass-container\">\n    <!-- <div class=\"go-back\" @click=\"$emit('changeComponent', 'MemberInvitationPermission')\">\n      <i class=\"iconfont icon-angle-left\"></i>\n      <span>&nbsp;Back</span>\n    </div> -->\n    <h4 class=\"invitation-header flex-center\">\n      <span>\n        {{ $t('workspace.create_workspace_pass')}}\n      </span>\n      <span @click=\"$emit('showPermissionDetail')\" class=\"iconfont icon-help\"></span>\n    </h4>\n\n    <FormShareableLink mode='createAndInvite' :multiple=\"multiMode\"\n      ref=\"formShareableLink\" />\n  </section>\n</template>\n\n<script>\nimport FormShareableLink from '@/views/profile/account/components/FormShareableLink';\nimport {\n  createVirtualAccount,\n  ApiConnectAccount,\n} from '@/api/account';\nimport { InviteMultipleMembers } from '@/api/email';\n\nexport default {\n  props: {\n    multiMode: Boolean,\n    groupAppId: String,\n  },\n  components: {\n    FormShareableLink,\n  },\n  mounted() {\n    this.$closest('InvitationWrapper').okAvailable = false;\n  },\n  computed: {\n    formShareableLink() {\n      return this.$refs.formShareableLink;\n    },\n  },\n  methods: {\n    async handleSingleInvitation() {\n      const res = await this.formShareableLink.validateForm();\n      if (!res) return;\n      const form = res;\n      const { data: userId } = await createVirtualAccount(form);\n      await ApiConnectAccount({\n        list: [{\n          roleId: '8',\n          userId,\n        }],\n        isSendImg: this.formShareableLink.isSendImg,\n      }, {\n        groupAppId: this.groupAppId,\n      });\n    },\n    async handleMultipleInvitation(emails) {\n      const { startTime, endTime, remarks } = this.formShareableLink.form;\n      const { groupAppId } = this;\n      await InviteMultipleMembers({\n        newAccount: true,\n        emails,\n        role: 8,\n        remarks,\n        groupAppId,\n        startTime,\n        endTime,\n        isSendImg: this.formShareableLink.isSendImg,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.craete-workspace-pass-container {\n  .go-back {\n    width: 60px;\n    margin-bottom: 30px;\n    cursor: pointer;\n  }\n}\n.icon-help {\n  color: #ccc;\n  font-weight: 100;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberInvitationWorkspacePass.vue?vue&type=template&id=0f710eec&scoped=true&\"\nimport script from \"./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberInvitationWorkspacePass.vue?vue&type=style&index=0&id=0f710eec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f710eec\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"invitation-container\">\n    <div class=\"invitation-component-selector\">\n      <!-- 分为两部分，权限（角色）选择器和单人多人选择器 -->\n      <div class=\"permission-and-charactor-selector\">\n        <!-- 绝对定位到左下角的单人多人切换 -->\n        <div class=\"toggle-target color-primary\">\n          <div v-if=\"!multiMode\" @click=\"multiMode = true\">\n            <i class=\"iconfont icon-bulk-invitation-o\"></i>\n            <span>\n              {{ modeInvite ? $t(\"workspace.invite_multiple_partners\") : $t(\"workspace.create_multiple_partners\") }}\n            </span>\n          </div>\n          <div v-else @click=\"multiMode = false\">\n            <i class=\"iconfont icon-single-invitation-o\"></i>\n            <span>\n              {{ modeInvite ? $t(\"workspace.invite_a_partner\") : $t(\"workspace.create_a_partner\") }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 动态决定用哪个组件 -->\n      <transition name=\"translate-x\" mode=\"out-in\">\n        <template v-if=\"currentComponent === componentList[0]\">\n          <MemberInvitationPermission\n            v-loading=\"isLoading\"\n            ref=\"permissionInvitor\"\n            :multiMode=\"multiMode\"\n            :groupAppId=\"groupAppId\"\n            :spaceRoleId=\"spaceRoleId\"\n            @showPermissionDetail=\"showPermissionDetail\"\n            @changeComponent=\"(t) => (currentComponent = t)\"\n          />\n        </template>\n        <template v-else-if=\"currentComponent === componentList[1]\">\n          <MemberInvitationWorkspacePass\n            v-loading=\"isLoading\"\n            ref=\"workspacePassInvitor\"\n            :multiMode=\"multiMode\"\n            :groupAppId=\"groupAppId\"\n            @showPermissionDetail=\"showPermissionDetail\"\n            @changeComponent=\"(t) => (currentComponent = t)\"\n          />\n        </template>\n      </transition>\n\n      <footer class=\"button-group flex-justify-flex-end\">\n        <el-button @click=\"$emit('cancel')\">\n          {{ $t(\"public.dialog.cancel\") }}\n        </el-button>\n        <el-button @click=\"$act(handleConfirm)\" type=\"primary\" :disabled=\"!okAvailable || $isActing(handleConfirm)\">\n          {{ $t(\"public.dialog.confirm\") }}\n        </el-button>\n      </footer>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { MessageBox } from 'element-ui';\nimport i18n from 'i18next';\nimport tokenizeEmails from '@/utils/tokenizeEmails';\nimport { refreshByWorkspaceId } from '@/loaders/workspace-member';\nimport PermissionDetail from './PermissionDetail';\nimport MemberInvitationPermission from './MemberInvitationPermission';\nimport MemberInvitationWorkspacePass from './MemberInvitationWorkspacePass';\n\n\nexport default {\n  name: 'InvitationWrapper',\n  dialogify: {\n    props: {\n      closeOnClickModal: false,\n      width: '560px',\n    },\n  },\n  props: {\n    spaceRoleId: [String, Number],\n    groupAppId: String,\n    modeInvite: {\n      default: true,\n      type: Boolean,\n    },\n  },\n  components: {\n    MemberInvitationPermission,\n    MemberInvitationWorkspacePass,\n  },\n  data() {\n    return {\n      componentList: ['MemberInvitationPermission', 'MemberInvitationWorkspacePass'],\n      currentComponent: '',\n      multiMode: false,\n\n      okAvailable: false,\n      isLoading: false,\n    };\n  },\n  beforeMount() {\n    if (this.modeInvite) {\n      // eslint-disable-next-line prefer-destructuring\n      this.currentComponent = this.componentList[0];\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      this.currentComponent = this.componentList[1];\n    }\n  },\n  computed: {\n    permissionInvitor() {\n      return this.$refs.permissionInvitor;\n    },\n    workspacePassInvitor() {\n      return this.$refs.workspacePassInvitor;\n    },\n  },\n  methods: {\n    async handleConfirm() {\n      this.isLoading = true;\n      try {\n        // 赋予权限\n        if (this.currentComponent === this.componentList[0]) {\n          // 单个赋予\n          if (!this.multiMode) {\n            // 当没填邮箱，但可以调用该函数，说明是复制了链接，所以操作为直接关闭弹框\n            if (!this.permissionInvitor.emailIsEmpty) {\n              this.$emit('cancel');\n              return;\n            }\n            await this.permissionInvitor.handleSingleInvitation();\n          } else {\n            // 多个赋予\n            const unnormalizedEmails = this.permissionInvitor.role.mails;\n            const emails = tokenizeEmails(unnormalizedEmails);\n            await this.permissionInvitor.handleMultipleInvitation(emails);\n          }\n          this.$message.success(i18n.t('workspace.invite_success_tip'));\n        } else if (this.currentComponent === this.componentList[1]) { // 创建虚拟账号\n          // 单个创建\n          if (!this.multiMode) {\n            await this.workspacePassInvitor.handleSingleInvitation();\n            // 创建多个\n          } else {\n            const { formShareableLink } = this.workspacePassInvitor;\n            const unnormalizedEmails = formShareableLink.form.mails;\n            const emails = tokenizeEmails(unnormalizedEmails);\n            await this.workspacePassInvitor.handleMultipleInvitation(emails);\n          }\n          await refreshByWorkspaceId(this.groupAppId);\n          this.$message.success(i18n.t('workspace.workspace_pass_create_success_tip'));\n        }\n        this.$emit('confirm');\n      } catch (e) {\n        if (e.message === 'params invalidate: invited user already in your company') {\n          MessageBox.alert(i18n.t('workspace.exist_in_company'), i18n.t('public.dialog.notice'));\n        } else {\n          this.$errHandler(e);\n        }\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async showPermissionDetail() {\n      await this.$Dialog.dialogify({\n        is: PermissionDetail,\n      }, {\n        props: {\n          title: i18n.t('workspace.workspace_permission'),\n          width: '720px',\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.invitation-container {\n  position: relative;\n  /deep/ .invitation-header {\n    margin-top: -10px;\n    margin-bottom: 20px;\n    font-size: 18px;\n    color: #333;\n    .iconfont {\n      cursor: pointer;\n      margin-left: 5px;\n    }\n  }\n\n  /deep/ .color-primary {\n    color: $color-primary;\n    cursor: pointer;\n  }\n\n  /deep/ .el-divider {\n    margin: 35px 0;\n  }\n\n  .button-group {\n    margin-top: 40px;\n  }\n}\n\n.permission-and-charactor-selector {\n}\n.hr {\n  margin-top: 30px;\n  height: 1px;\n  border: none;\n  background-color: #dcdfe6;\n}\n.toggle-target {\n  position: absolute;\n  bottom: 15px;\n  left: 0;\n  .iconfont {\n    @include resize-icon(1.3);\n    margin-right: 0.3em;\n  }\n}\n.translate-x {\n}\n.translate-x-enter-active,\n.translate-x-leave-active {\n  transition: opacity 0.3s;\n}\n.translate-x-enter,\n.translate-x-leave-to {\n  opacity: 0;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberInvitationWrapper.vue?vue&type=template&id=0a2817bc&scoped=true&\"\nimport script from \"./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberInvitationWrapper.vue?vue&type=style&index=0&id=0a2817bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a2817bc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberManagement.vue?vue&type=style&index=0&id=2af0e24e&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormShareableLink.vue?vue&type=style&index=0&id=15bd3d0b&lang=scss&scoped=true&\"","import axios from './axios';\n\n// roleId对应的中文\nexport const getDictionaryByType = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: 2,\n    },\n  });\n};\n\n// 获取登录者在空间内的权限\nexport const getUserPrivilege = (groupAppId) => {\n  return axios({\n    method: 'get',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/role',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 获取空间内的角色列表及其roleId\nexport const getUsersInRoom = (groupAppId) => {\n  return axios({\n    method: 'get',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/users',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 修改角色权限\nexport const changeUserPrivilege = (groupAppId, roleId, userId) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/role/change',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      roleId,\n      userId,\n    },\n  });\n};\n\n// 添加成员到协同空间\nexport const addMembersInRooms = (groupAppId, data) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/add/default/mutiple/workspace',\n    headers: {\n      groupAppId,\n      targetIds: JSON.stringify(data),\n    },\n  });\n};\n\n// 协同空间里的删除成员\nexport const deleteMembersInRooms = (groupAppId, userId) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/remove',\n    headers: {\n      groupAppId,\n      targetIds: JSON.stringify([userId]),\n    },\n  });\n};\n","import {\n  ApiSingleWorkpaceTable as FetchWorkspaceMembersInfo, // 获取单个workspace的成员信息\n} from '@/api/permission';\nimport {\n  addMembersInRooms,\n  deleteMembersInRooms,\n  changeUserPrivilege,\n} from '@/api/previlege';\nimport { WorkspaceMemberOrm } from '@/models';\n\nexport async function refreshByWorkspaceId(workspaceId: string) {\n  // this.delete(each => each.groupAppId === workspaceId);\n  const members = await FetchWorkspaceMembersInfo(workspaceId);\n  // 增加groupAppId作为外键\n  members.data.users.forEach(each => Object.assign(each, { groupAppId: workspaceId }));\n  await WorkspaceMemberOrm.insertOrUpdate({\n    data: members.data.users,\n  });\n  return WorkspaceMemberOrm.query().where(member => {\n    return member.groupAppId === workspaceId;\n  }).get();\n}\n\nexport async function addMembers(groupAppId: string, memberIds: string) {\n  await addMembersInRooms(groupAppId, memberIds);\n  await refreshByWorkspaceId(groupAppId);\n}\n\nexport async function delMember(groupAppId: string, memberId: string) {\n  WorkspaceMemberOrm.delete(m => m.userId === memberId && m.groupAppId === groupAppId);\n  await deleteMembersInRooms(groupAppId, memberId);\n}\n\nexport async function changeMemberPrivilege(groupAppId: string, memberId: string, memberRoleId: string) {\n  WorkspaceMemberOrm.update({\n    where: m => m.groupAppId === groupAppId && m.userId === memberId,\n    data: {\n      roleId: memberRoleId,\n    },\n  });\n  changeUserPrivilege(groupAppId, memberRoleId, memberId);\n}\n\nexport function getMemberInfoByUserId(groupAppId: string, memberId: string) {\n  const target = WorkspaceMemberOrm.query().where(user => {\n    return user.userId === memberId && user.groupAppId === groupAppId;\n  }).get();\n  return target;\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWorkspacePass.vue?vue&type=style&index=0&id=0f710eec&lang=scss&scoped=true&\"","import i18n from 'i18next';\nimport { WorkspaceRoleOrm, WorkspaceOrm, WorkspaceUserRoleOrm } from '@/models';\nimport isQt from '@/utils/is-qt';\n\n\nexport default {\n  props: {\n    relateId: {\n      type: String,\n    },\n  },\n  computed: {\n    currentWorkspaceId() {\n      // eslint-disable-next-line\n      return this.relateId || (this.$route.query.relateId\n        ? this.$route.query.relateId\n        : null);\n    },\n    currentWorkspace() {\n      return this.currentWorkspaceId\n        ? WorkspaceOrm.find(this.currentWorkspaceId)\n        : null;\n    },\n  },\n  methods: {\n    async enterFirstWorkspace() {\n      const firstWorkspace = WorkspaceOrm.query().get()[0];\n      await this.enterWorkspaceByReplaceURL(firstWorkspace.groupAppId);\n    },\n    async enterWorkspaceByReplaceURL(groupAppId) {\n      await this.$router.replace({\n        query: {\n          appType: 13,\n          relateId: groupAppId,\n        },\n      });\n    },\n    async enterWorkspace(groupAppId, ws) {\n      await this.$router.push({\n        name: isQt() ? 'QtFileList' : 'FileList',\n        query: {\n          appType: 13,\n          workspaceBusinessType: ws?.businessType,\n          relateId: groupAppId,\n        },\n      });\n    },\n  },\n};\nexport const userAbout = {\n  data() {\n    const roleList = [\n      i18n.t('workspace.unknown_role'),\n      i18n.t('workspace.owner'),\n      i18n.t('workspace.admin'),\n      i18n.t('workspace.member'),\n      i18n.t('workspace.guest'),\n      i18n.t('workspace.workspace_pass'),\n    ];\n    return {\n      roleId2Role: {\n        4: roleList[1],\n        5: roleList[2],\n        6: roleList[3],\n        7: roleList[4],\n        8: roleList[5],\n      },\n      OWNER: roleList[1],\n      ADMIN: roleList[2],\n      MEMBER: roleList[3],\n      GUEST: roleList[4],\n      WORKSPACEPASS: roleList[5],\n    };\n  },\n  computed: {\n    selfRoleId() {\n      return WorkspaceUserRoleOrm.find(this.groupAppId).roleId;\n    },\n    roles() {\n      return WorkspaceRoleOrm.all();\n    },\n    ownerUsableRole() {\n      // eslint-disable-next-line\n      const arr = this.roles.filter(item => item.roleId != 4 && item.roleId != 8);\n      return arr;\n    },\n    adminUsableRole() {\n      const list = this.roles.filter(item => +item.roleId === 6 || +item.roleId === 7);\n      return list;\n    },\n  },\n  methods: {\n    roleTypeC2E(chinese) {\n      if (chinese) {\n        switch (chinese) {\n          case '空间创建者':\n            return 'Owner';\n          case '下载者':\n            return 'Admin';\n          case '编辑者':\n            return 'Member';\n          case '查看者':\n            return 'Guest';\n          case '参与者':\n            return 'Invited';\n          default: return 'Undefined Role';\n        }\n      }\n      return chinese;\n    },\n  },\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableList.vue?vue&type=style&index=0&id=4c0d1e72&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info-wrap\"},[_c('ul',{staticClass:\"info-inner info-title\"},[_c('li',{staticClass:\"info-row-first\"}),_c('li',{staticClass:\"info-row-second\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.workspace_pass'))+\" \")]),_c('li',{staticClass:\"info-row\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.guest'))+\" \")]),_c('li',{staticClass:\"info-row\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.member'))+\" \")]),_c('li',{staticClass:\"info-row\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.admin'))+\" \")])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.view_file'))+\" \")]),_c('li',{staticClass:\"info-row-second\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.edit_design'))+\" \")]),_c('li',{staticClass:\"info-row-second\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.view_activity_history'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.view_workspace_content'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.invite_guest'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.remove_guest'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.import_design'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.import_material'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first gray-title-color\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.import_file'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['gray-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['gray-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.export_design'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.export_material'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.export_sample_form'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.rename_workspace'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"info-wrap\">\n    <ul class=\"info-inner info-title\">\n      <li class=\"info-row-first\"></li>\n      <li class=\"info-row-second\">\n        {{ $t('workspace.workspace_pass') }}\n      </li>\n      <li class=\"info-row\">\n        {{ $t('workspace.guest') }}\n      </li>\n      <li class=\"info-row\">\n        {{ $t('workspace.member') }}\n      </li>\n      <li class=\"info-row\">\n        {{ $t('workspace.admin') }}\n      </li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.view_file') }}\n      </li>\n      <li class=\"info-row-second\">\n        <i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.edit_design') }}\n      </li>\n      <li class=\"info-row-second\">\n        <i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i>\n      </li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.view_activity_history') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.view_workspace_content') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.invite_guest') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.remove_guest') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.import_design') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.import_material') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first gray-title-color\">\n        {{ $t('workspace.import_file') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['gray-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['gray-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.export_design') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.export_material') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.export_sample_form') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.rename_workspace') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n  </div>\n</template>\n<script>\n\nexport default {\n  data() {\n    return {\n      has: true,\n      dataInfo: [\n        {\n          title: 'Import Model',\n          row: {\n            col1: true, invited: 'no', guset: 'no', member: true, admin: true,\n          },\n        },\n        {\n          title: 'Import Material',\n          row: {\n            col1: true, invited: 'no', guset: 'no', member: true, admin: true,\n          },\n        },\n        {\n          title: 'Import File',\n          row: {\n            col1: false, invited: 'no', guset: 'no', member: false, admin: false,\n          },\n        },\n      ],\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.info-title {\n  height: 40px;\n  line-height: 40px;\n  background: rgba(245, 245, 245, 1);\n  border-radius: 4px;\n}\n.blue-color {\n  color: #2878ff;\n  font-size: 18px;\n  font-weight: 600;\n}\n.gray-color {\n  color: #dddddd;\n  font-size: 18px;\n  font-weight: 600;\n}\n.gray-title-color {\n  color: #dddddd;\n}\n.info-inner {\n  display: flex;\n  li {\n    height: 40px;\n    line-height: 40px;\n    border-bottom: 1px solid #eeeeee;\n  }\n  .info-row-first {\n    flex: 4;\n  }\n  .info-row-two {\n    flex: 2;\n  }\n  .info-row-second {\n    text-align: center;\n    flex: 2;\n  }\n  .info-row {\n    text-align: center;\n    flex: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionDetail.vue?vue&type=template&id=fae211be&scoped=true&\"\nimport script from \"./PermissionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PermissionDetail.vue?vue&type=style&index=0&id=fae211be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fae211be\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationPermission.vue?vue&type=style&index=0&id=1b40aba4&lang=scss&scoped=true&\"","export default function tokenizeEmails(mails) {\n  const usersMails = mails.trim().split(/\\s+/g);\n  if (usersMails.every(each => each.match(/\\w+@\\w+\\.\\w/))) {\n    return usersMails;\n  }\n  throw new this.$Error('Some input is not email address');\n}\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWrapper.vue?vue&type=style&index=0&id=0a2817bc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('TableList',{attrs:{\"memberList\":_vm.memberList,\"spaceRoleId\":_vm.spaceRoleId,\"groupAppId\":_vm.groupAppId},on:{\"deleteMember\":function($event){return _vm.$emit('refreshMembers')}}}),_c('div',{staticClass:\"button-group\"},[_c('el-tooltip',{attrs:{\"content\":_vm.$t('workspace.share_and_invite_partners'),\"placement\":\"top\"}},[(_vm.$can(_vm.groupAppId, 'OP0029'))?_c('el-button',{staticClass:\"invite-members\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleInvite}},[_c('i',{staticClass:\"iconfont icon-invitation-o\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.share_and_invite_permission\"))+\" \")]):_vm._e()],1),_c('el-button',{staticClass:\"add-members\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.$can(_vm.groupAppId, 'OP0029')},on:{\"click\":function($event){_vm.$act(_vm.handleAddMembers, [], _vm.$t('workspace.add_members_success_tip'))}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.add_members\"))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <TableList\n      :memberList=\"memberList\"\n      :spaceRoleId=\"spaceRoleId\"\n      :groupAppId=\"groupAppId\"\n      @deleteMember=\"$emit('refreshMembers')\"\n    >\n    </TableList>\n\n    <div class=\"button-group\">\n      <el-tooltip :content=\"$t('workspace.share_and_invite_partners')\" placement=\"top\">\n        <el-button type=\"text\" class=\"invite-members\" @click=\"handleInvite\" v-if=\"$can(groupAppId, 'OP0029')\">\n          <i class=\"iconfont icon-invitation-o\"></i>\n          {{ $t(\"workspace.share_and_invite_permission\") }}\n        </el-button>\n      </el-tooltip>\n\n      <!-- <el-tooltip content=\"test test test\" placement=\"top\"> -->\n      <el-button\n        type=\"primary\"\n        class=\"add-members\"\n        :disabled=\"!$can(groupAppId, 'OP0029')\"\n        @click=\"$act(handleAddMembers, [], $t('workspace.add_members_success_tip'))\"\n      >\n        {{ $t(\"workspace.add_members\") }}\n      </el-button>\n      <!-- </el-tooltip> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { WorkspaceMemberOrm, WorkspaceUserRoleOrm } from '@/models';\nimport { refreshByWorkspaceId, addMembers } from '@/loaders/workspace-member';\nimport MemberSelector from './MemberSelector';\n// import MemberInvitation from './MemberInvitation';\nimport MemberInvitationWrapper from './MemberInvitationWrapper';\nimport TableList from './TableList';\n\nexport default {\n  dialogify: {\n    props: {\n      title: 'Workspace',\n      titleAlign: 'left',\n      width: '700px',\n    },\n  },\n  props: {\n    title: String,\n    groupAppId: [String, Number],\n  },\n  components: {\n    TableList,\n  },\n  computed: {\n    spaceRoleId() {\n      return WorkspaceUserRoleOrm.find(this.groupAppId).roleId;\n    },\n    memberList() {\n      return WorkspaceMemberOrm.query().where('groupAppId', this.groupAppId).get()\n        ? WorkspaceMemberOrm.query().where('groupAppId', this.groupAppId).get()\n        : this.$loadingState;\n    },\n  },\n  created() {\n    this.$watch(() => {\n      return this.groupAppId;\n    }, (groupAppId) => {\n      refreshByWorkspaceId(groupAppId);\n    }, {\n      immediate: true,\n    });\n  },\n  methods: {\n    async handleInvite() {\n      // eslint-disable-next-line no-unused-vars\n      await this.$Dialog.dialogify({\n        is: MemberInvitationWrapper,\n        props: {\n          groupAppId: this.groupAppId,\n          spaceRoleId: this.spaceRoleId,\n        },\n      });\n      this.$emit('refreshMembers');\n    },\n    async handleAddMembers() {\n      const list = await this.$Dialog.dialogify({\n        is: MemberSelector,\n        props: {\n          groupAppId: this.groupAppId,\n        },\n      }, {\n        props: {\n          titleAlign: 'left',\n          width: '700px',\n          title: i18n.t('workspace.add_members'),\n        },\n      });\n      await addMembers(\n        this.groupAppId, list.map((member) => member.id),\n      );\n      this.$emit('refreshMembers');\n    },\n    // eslint-disable-next-line\n    getUserTypeFromTypeId(typeId) {\n      // eslint-disable-next-line\n      switch (Number(typeId)) {\n        case 4:\n          return i18n.t('workspace.owner');\n        case 5:\n          return i18n.t('workspace.admin');\n        case 6:\n          return i18n.t('workspace.member');\n        case 7:\n          return i18n.t('workspace.guest');\n        case 8:\n          return i18n.t('workspace.invited');\n        // \"企业关联账户\";\n      }\n    },\n  },\n  filters: {\n    en: value => {\n      if (value) {\n        // eslint-disable-next-line\n        switch (value) {\n          case '空间创建者':\n            return 'Owner';\n          case '下载者':\n            return 'Admin';\n          case '编辑者':\n            return 'Member';\n          case '查看者':\n            return 'Guest';\n          case '参与者':\n            return 'Invited';\n        }\n      }\n      return value;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.button-group {\n  display: flex;\n  margin-top: 30px;\n  justify-content: space-between;\n  align-items: center;\n  .iconfont {\n    @include resize-icon(1.3);\n    margin-right: 0.3em;\n  }\n}\n.member-management-title {\n  text-align: center;\n  width: 100%;\n  margin-bottom: 26px;\n  font-size: 18px;\n  font-weight: 700;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberManagement.vue?vue&type=template&id=2af0e24e&scoped=true&\"\nimport script from \"./MemberManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberManagement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberManagement.vue?vue&type=style&index=0&id=2af0e24e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2af0e24e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDetail.vue?vue&type=style&index=0&id=fae211be&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.memberList === _vm.$loadingState)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticClass:\"loading\",staticStyle:{\"height\":\"400px\"}}):_c('el-table',{staticClass:\"custom-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.memberList,\"height\":\"400\"}},[_c('el-table-column',{attrs:{\"prop\":\"E-mail\",\"label\":_vm.$t('workspace.email_or_id'),\"width\":_vm.mailW,\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar member = ref.row;\nreturn [_c('BaseUser',{attrs:{\"user\":member,\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(member.account || member.mail)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('workspace.username'),\"prop\":\"name\",\"width\":_vm.nameW,\"show-overflow-tooltip\":true}}),_c('el-table-column',{attrs:{\"width\":_vm.permissionW,\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar member = ref.row;\nreturn [(member.roleId == '8')?_c('span',{staticClass:\"text-width width-20\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.workspace_pass\"))+\" \")]):(member.roleId != '4' && _vm.spaceRoleId == '4')?_c('span',[_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":function($event){_vm.$act(\n                _vm.changeUserPrivilege,\n                [_vm.groupAppId, member.roleId, member.userId],\n                _vm.$t('workspace.priviledge_change_info')\n              )}},model:{value:(member.roleId),callback:function ($$v) {_vm.$set(member, \"roleId\", $$v)},expression:\"member.roleId\"}},_vm._l((_vm.ownerRole),function(charactor){return _c('el-option',{key:charactor.roleId,attrs:{\"label\":_vm.roleId2Role[+charactor.roleId],\"value\":charactor.roleId}})}),1)],1):((member.roleId == '6' || member.roleId == '7') && (_vm.spaceRoleId == '5' || _vm.spaceRoleId == '4'))?_c('span',[_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":function($event){return _vm.$act(_vm.changeUserPrivilege, [_vm.groupAppId, member.roleId, member.userId])}},model:{value:(member.roleId),callback:function ($$v) {_vm.$set(member, \"roleId\", $$v)},expression:\"member.roleId\"}},_vm._l((_vm.adminRole),function(charactor){return _c('el-option',{key:charactor.roleId,attrs:{\"label\":_vm.roleId2Role[+charactor.roleId],\"value\":charactor.roleId}})}),1)],1):_c('span',{staticClass:\"text-width width-20\"},[_vm._v(\" \"+_vm._s(_vm.roleId2Role[+member.roleId])+\" \")])]}}])},[_c('template',{slot:\"header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.permission\"))+\" \"),_c('a',{staticClass:\"iconfont icon-help\",attrs:{\"href\":\"javascript:\"},on:{\"click\":_vm.showPermissionDetail}})])],2),(_vm.roleColumnVisible)?_c('el-table-column',{attrs:{\"width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var member = ref.row;\nreturn [(\n            (member.roleId == '5' && _vm.spaceRoleId == '4') ||\n            ((member.roleId == '6' || member.roleId == '7' || member.roleId == '8') &&\n              (_vm.spaceRoleId == '5' || _vm.spaceRoleId == '4')) ||\n            (member.roleId == '7' && _vm.spaceRoleId == '6')\n          )?_c('i',{staticClass:\"iconfont icon-file-delete\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.$act(_vm.handleDeleteUser, [member])}}}):_vm._e()]}}],null,false,2200615100)}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-loading=\"true\" class=\"loading\" v-if=\"memberList === $loadingState\" style=\"height: 400px\"></div>\n    <el-table v-else :data=\"memberList\" class=\"custom-table\" height=\"400\" style=\"width: 100%\">\n      <el-table-column prop=\"E-mail\" :label=\"$t('workspace.email_or_id')\" :width=\"mailW\" :show-overflow-tooltip=\"true\">\n        <template slot-scope=\"{ row: member }\">\n          <BaseUser :user=\"member\" size=\"small\">\n            {{ member.account || member.mail }}\n          </BaseUser>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('workspace.username')\" prop=\"name\" :width=\"nameW\" :show-overflow-tooltip=\"true\">\n      </el-table-column>\n      <el-table-column :width=\"permissionW\" :show-overflow-tooltip=\"true\">\n        <template slot=\"header\">\n          {{ $t(\"workspace.permission\") }}\n          <a href=\"javascript:\" class=\"iconfont icon-help\" @click=\"showPermissionDetail\" />\n        </template>\n        <template slot-scope=\"{ row: member }\">\n          <span v-if=\"member.roleId == '8'\" class=\"text-width width-20\">\n            {{ $t(\"workspace.workspace_pass\") }}\n          </span>\n          <span v-else-if=\"member.roleId != '4' && spaceRoleId == '4'\">\n            <el-select\n              v-model=\"member.roleId\"\n              size=\"small\"\n              @change=\"\n                $act(\n                  changeUserPrivilege,\n                  [groupAppId, member.roleId, member.userId],\n                  $t('workspace.priviledge_change_info')\n                )\n              \"\n            >\n              <el-option\n                v-for=\"charactor of ownerRole\"\n                :key=\"charactor.roleId\"\n                :label=\"roleId2Role[+charactor.roleId]\"\n                :value=\"charactor.roleId\"\n              ></el-option>\n            </el-select>\n          </span>\n          <span\n            v-else-if=\"(member.roleId == '6' || member.roleId == '7') && (spaceRoleId == '5' || spaceRoleId == '4')\"\n          >\n            <el-select\n              v-model=\"member.roleId\"\n              size=\"small\"\n              @change=\"$act(changeUserPrivilege, [groupAppId, member.roleId, member.userId])\"\n            >\n              <el-option\n                v-for=\"charactor of adminRole\"\n                :key=\"charactor.roleId\"\n                :label=\"roleId2Role[+charactor.roleId]\"\n                :value=\"charactor.roleId\"\n              ></el-option>\n            </el-select>\n          </span>\n          <span v-else class=\"text-width width-20\">\n            {{ roleId2Role[+member.roleId] }}\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"roleColumnVisible\" width=\"40\">\n        <template slot-scope=\"{ row: member }\">\n          <i\n            class=\"iconfont icon-file-delete\"\n            v-if=\"\n              (member.roleId == '5' && spaceRoleId == '4') ||\n              ((member.roleId == '6' || member.roleId == '7' || member.roleId == '8') &&\n                (spaceRoleId == '5' || spaceRoleId == '4')) ||\n              (member.roleId == '7' && spaceRoleId == '6')\n            \"\n            @click=\"$act(handleDeleteUser, [member])\"\n            style=\"cursor: pointer\"\n          />\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport BaseUser from '@/components/base/User';\nimport { WorkspaceMemberOrm, WorkspaceRoleOrm, WorkspaceUserRoleOrm } from '@/models';\nimport { changeMemberPrivilege, delMember } from '@/loaders/workspace-member';\nimport PermissionDetail from './PermissionDetail';\nimport {\n  userAbout,\n} from './mixin';\n\nexport default {\n  mixins: [userAbout],\n  props: {\n    groupAppId: [String, Number],\n    memberList: [Object, Array],\n    mailW: {\n      type: [String, Number],\n      default: 280,\n    },\n    nameW: {\n      type: [String, Number],\n      default: 170,\n    },\n    permissionW: {\n      type: [String, Number],\n      default: 150,\n    },\n    roleColumnVisible: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    BaseUser,\n  },\n  computed: {\n    selfRoleId() {\n      return WorkspaceUserRoleOrm.find(this.groupAppId).roleId;\n    },\n    roles() {\n      return WorkspaceRoleOrm.all();\n    },\n    ownerRole() {\n      // eslint-disable-next-line\n      const arr = this.roles.filter(item => item.roleId != 4 && item.roleId != 8);\n      return arr;\n    },\n    adminRole() {\n      // eslint-disable-next-line\n      const list = this.roles.filter(item => {\n        // eslint-disable-next-line\n        if (item.roleId == 6 || item.roleId == 7) {\n          return item;\n        }\n      });\n      return list;\n    },\n  },\n  methods: {\n    changeUserPrivilege(groupAppId, memberRoleId, memberId) {\n      // 注意顺序有变\n      changeMemberPrivilege(\n        groupAppId, memberId, memberRoleId,\n      );\n    },\n    async showPermissionDetail() {\n      await this.$Dialog.dialogify({\n        is: PermissionDetail,\n      }, {\n        props: {\n          title: i18n.t('workspace.workspace_permission'),\n          width: '720px',\n        },\n      });\n    },\n    async handleDeleteUser(member) {\n      if (await this.$confirmBool('Confirm to remove this account from workspace ?', 'Info', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        closeOnClickModal: false,\n        type: 'warning',\n      })) {\n        try {\n          await delMember(this.groupAppId, member.userId);\n          this.$emit('deleteMember');\n          this.$message.success('Delete success!');\n        } catch (e) {\n          this.$errHandler(e);\n        }\n        // await this.getMembers();\n      }\n    },\n    getUserTypeFromTypeId(typeId) {\n      switch (Number(typeId)) {\n        case 4:\n          return 'Owner';\n        case 5:\n          return 'Admin';\n        case 6:\n          return 'Member';\n        case 7:\n          return 'Guest';\n        case 8:\n          return 'Pass';\n        default:\n          return 'Undefined User';\n      }\n    },\n  },\n  filters: {\n    en: value => {\n      if (value) {\n        // eslint-disable-next-line\n        switch (value) {\n          case '空间创建者':\n            return 'Owner';\n          case '下载者':\n            return 'Admin';\n          case '编辑者':\n            return 'Member';\n          case '查看者':\n            return 'Guest';\n          case '参与者':\n            return 'Invited';\n        }\n      }\n      return value;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// /deep/ .custom-table.el-table .el-table__header th {\n//   padding: 8px 0;\n// }\n// /deep/ .custom-table.el-table .el-table__header {\n//   border-radius: 8px;\n// }\n\n.icon-help {\n  color: #aaa;\n}\n.icon-file-delete {\n  color: #848b97;\n}\n.custom-table.el-table .el-table__header {\n  border-radius: 8px !important;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableList.vue?vue&type=template&id=4c0d1e72&scoped=true&\"\nimport script from \"./TableList.vue?vue&type=script&lang=js&\"\nexport * from \"./TableList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableList.vue?vue&type=style&index=0&id=4c0d1e72&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c0d1e72\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"workspace-pass-wrapper\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"right\",\"label-width\":!_vm.multiple ? '200px' : '130px'}},[(!_vm.multiple)?_c('el-form-item',{class:{'margin-bottom': _vm.mode !== 'create'},attrs:{\"prop\":\"account\",\"label\":_vm.$t('profile.account.workspace_pass_id') + ':'}},[_c('el-input',{model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.account\"}})],1):_vm._e(),(!_vm.multiple)?_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.temporary_password') + ':',\"prop\":\"pass\"}},[_c('el-input',{ref:\"pass\",attrs:{\"type\":\"password\",\"show-password\":\"\",\"placeholder\":_vm.$t('profile.account.password')},model:{value:(_vm.form.pass),callback:function ($$v) {_vm.$set(_vm.form, \"pass\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.pass\"}})],1):_vm._e(),(!_vm.multiple)?_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.recipient_email') + ':',\"prop\":\"mail\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('profile.account.email')},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.form.mail),callback:function ($$v) {_vm.$set(_vm.form, \"mail\", $$v)},expression:\"form.mail\"}})],1):_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.recipient_email') + ':'}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"5\",\"placeholder\":_vm.multipleInvitationPlaceholder},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.form.mails),callback:function ($$v) {_vm.$set(_vm.form, \"mails\", $$v)},expression:\"form.mails\"}})],1),(_vm.mode !== 'create' && _vm.showRemarks)?_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.remarks') + ':'}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('profile.account.remarks_tip')},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}})],1):_vm._e(),(!_vm.multiple)?_c('el-form-item',{attrs:{\"prop\":\"companyName\",\"label\":_vm.$t('profile.account.company') + ':'}},[_c('el-input',{model:{value:(_vm.form.companyName),callback:function ($$v) {_vm.$set(_vm.form, \"companyName\", $$v)},expression:\"form.companyName\"}})],1):_vm._e(),_c('el-divider'),_c('el-radio-group',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\" \"+_vm._s(_vm.$t('profile.account.same_as_subs_plan')))]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(_vm._s(_vm.$t('profile.account.cus_acct_exp_date')))]),_c('el-date-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.radio === 2),expression:\"radio === 2\"}],attrs:{\"default-time\":['00:00:00', '23:59:59'],\"picker-options\":_vm.PickerOptions,\"type\":\"daterange\",\"format\":\"MM/dd/yyyy\",\"start-placeholder\":_vm.$t('profile.account.start_date'),\"end-placeholder\":_vm.$t('profile.account.end_date')},on:{\"change\":_vm.changeTime},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),(_vm.mode === 'create')?_c('i',{staticClass:\"iconfont icon-circle-help\",on:{\"mouseenter\":function($event){_vm.tipVisible = true},\"mouseleave\":function($event){_vm.tipVisible = false}}}):_vm._e(),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tipVisible),expression:\"tipVisible\"}],staticClass:\"tip-time\"},[_vm._v(_vm._s(_vm.$t('profile.account.email_no_notification_tip')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-form\n    class=\"workspace-pass-wrapper\"\n    :model=\"form\"\n    :rules=\"rules\"\n    label-position=\"right\"\n    :label-width=\"!multiple ? '200px' : '130px'\"\n    ref=\"form\">\n    <el-form-item\n      v-if=\"!multiple\"\n      prop=\"account\"\n      :label=\"$t('profile.account.workspace_pass_id') + ':'\"\n      :class=\"{'margin-bottom': mode !== 'create'}\">\n      <el-input v-model.trim=\"form.account\" />\n    </el-form-item>\n\n    <el-form-item v-if=\"!multiple\"\n      :label=\"$t('profile.account.temporary_password') + ':'\" prop=\"pass\">\n      <el-input\n        v-model.trim=\"form.pass\"\n        type=\"password\"\n        show-password\n        :placeholder=\"$t('profile.account.password')\"\n        ref=\"pass\" />\n    </el-form-item>\n\n    <el-form-item\n      :label=\"$t('profile.account.recipient_email') + ':'\" prop=\"mail\" v-if=\"!multiple\">\n      <el-input v-model=\"form.mail\"\n        :placeholder=\"$t('profile.account.email')\" @focus=\"showRemarks=true\" />\n    </el-form-item>\n    <el-form-item :label=\"$t('profile.account.recipient_email') + ':'\" v-else>\n      <el-input type=\"textarea\" v-model=\"form.mails\" rows=\"5\"\n        :placeholder=\"multipleInvitationPlaceholder\" @focus=\"showRemarks=true\"></el-input>\n    </el-form-item>\n\n    <el-form-item\n      :label=\"$t('profile.account.remarks') + ':'\" v-if=\"mode !== 'create' && showRemarks\">\n      <el-input v-model=\"form.remarks\" type=\"textarea\"\n        :placeholder=\"$t('profile.account.remarks_tip')\"/>\n    </el-form-item>\n\n    <el-form-item v-if=\"!multiple\" prop=\"companyName\" :label=\"$t('profile.account.company') + ':'\">\n      <el-input v-model=\"form.companyName\"></el-input>\n    </el-form-item>\n\n    <!-- <el-form-item label=\"\" v-if=\"mode !== 'create'\">\n      <el-checkbox style=\"font-size: 12px;\"\n        v-model=\"isSendImg\"\n        class=\"word-break-normal flex\">Include relevant Workspace image when initial Workspace\n        Pass e-mail invitation is sent.</el-checkbox>\n    </el-form-item> -->\n\n    <el-divider />\n\n    <el-radio-group v-model=\"radio\">\n      <el-radio :label=\"1\">\n        {{ $t('profile.account.same_as_subs_plan') }}</el-radio>\n      <el-radio :label=\"2\">{{ $t('profile.account.cus_acct_exp_date') }}</el-radio>\n      <el-date-picker\n        v-show=\"radio === 2\"\n        v-model=\"dateRange\"\n        :default-time=\"['00:00:00', '23:59:59']\"\n        :picker-options=\"PickerOptions\"\n        type=\"daterange\"\n        format=\"MM/dd/yyyy\"\n        :start-placeholder=\"$t('profile.account.start_date')\"\n        :end-placeholder=\"$t('profile.account.end_date')\"\n        @change=\"changeTime\" />\n    </el-radio-group>\n\n    <i\n      v-if=\"mode === 'create'\"\n      class=\"iconfont icon-circle-help\"\n      @mouseenter=\"tipVisible = true\"\n      @mouseleave=\"tipVisible = false\" />\n\n    <!-- eslint-disable-next-line -->\n    <p v-show=\"tipVisible\" class=\"tip-time\">{{ $t('profile.account.email_no_notification_tip') }}</p>\n  </el-form>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { randomString } from '_/random-string';\nimport { startOfDate } from '_/date';\nimport tokenizeEmails from '@/utils/tokenizeEmails';\nimport validator, { validateFormFields } from '@/utils/validators/rules-validation';\nimport validPassword from '@/utils/validators/valid-password';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport { mixinValidateForm } from '../../../../mixins/form-validation';\nimport { getContextUser } from '../../../../loaders/context';\n\n\nexport default {\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    mode: {\n      type: String,\n      default: 'create',\n    },\n  },\n  mixins: [mixinValidateForm],\n  data() {\n    this.tokenizeEmails = tokenizeEmails;\n    const accountValidator = (rule, value, callback) => {\n      const reg = /^[a-zA-Z_0-9]+$/g;\n      if (reg.test(value)) {\n        const hasNum = /\\d/.test(value);\n        const hasLetter = /[a-zA-Z]/.test(value);\n        const hasUnderLine = /[_]/.test(value);\n        const score = [hasNum, hasLetter, hasUnderLine].reduce(((total, v) => total + (v ? 1 : 0)), 0);\n        if (score >= 2) {\n          callback();\n        } else {\n          callback(new Error(i18n.t('profile.account.account_validator_tip')));\n        }\n      } else {\n        callback(new Error(i18n.t('profile.account.account_validator_tip')));\n      }\n    };\n\n    this.multipleInvitationPlaceholder = i18n.t('profile.account.multiple_invitation_placeholder');\n    return {\n      now: new Date(),\n      tipVisible: false,\n      dateRange: '',\n      PickerOptions: {\n        disabledDate: this._disabledRangeDate,\n      },\n      radio: 1,\n      form: {\n        account: randomString(6),\n        pass: 'Hello123~',\n        mail: '',\n        mails: '',\n        remarks: '',\n        startTime: '',\n        endTime: '',\n        companyName: '',\n      },\n      isSendImg: false,\n      rules: {\n        account: [\n          validator.requirement(),\n          ...validator.charLengthRange(6, 25),\n          { validator: accountValidator },\n        ],\n        pass: [\n          validator.requirement(),\n          // ...validator.charLengthRange(6, 20),\n          // validator.charTypeNotOnlyDigitOrLatin(),\n          validator2ElemRule(validPassword),\n        ],\n        mail: validator.email(),\n        companyName: [\n          validator.spaceTrim(),\n          ...validator.charLengthRange(1, 64),\n        ],\n      },\n      hasFormError: true,\n      showRemarks: false,\n    };\n  },\n  mounted() {\n    // 把密码类型的input默认设置为明文\n    this.$refs.pass.handlePasswordVisible();\n    this.$refs.pass.blur();\n  },\n  created() {\n    // 类似于computed：里加一个hasFormError属性\n    this.$watch(async () => {\n      if (!this.$refs.form || this.mode === 'create') return true;\n      try {\n        await validateFormFields(this.$refs.form);\n      } catch (err) {\n        console.warn(err);\n        return true;\n      }\n      const errorLen = this.$refs.form.fields\n        .filter(field => field.validateState !== 'success').length;\n      // debugger;\n      return !!errorLen;\n    }, async (_p) => {\n      this.hasFormError = await _p;\n    }, {\n      immediate: true,\n    });\n  },\n  computed: {\n    daysRemaining() {\n      return getContextUser().daysRemaining;\n    },\n    multipleEmailsValid() {\n      try {\n        const emails = tokenizeEmails(this.form.mails);\n        if (!emails) return false;\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n    dateValid() {\n      return this.radio === 1 || (this.radio === 2 && this.form.startTime && this.form.endTime);\n    },\n    formAndDateValid() {\n      return !this.hasFormError && this.dateValid;\n    },\n    multipleFormAndDateValid() {\n      return this.multipleEmailsValid && this.dateValid;\n    },\n  },\n  methods: {\n    // 对 datapicker 返回类型处理为时间戳\n    changeTime([startTime, endTime]) {\n      this.form.startTime = startTime.getTime();\n      this.form.endTime = endTime.getTime();\n    },\n    // 初始化表单的内容\n    initForm() {\n      this.$refs.form.resetFields();\n      this.dateRange = '';\n    },\n    // 控制日期选中组件中，不可选择日期的范围\n    _disabledRangeDate(time) {\n      const todaytoday = +startOfDate(new Date());\n      const end = todaytoday + (this.daysRemaining + 1) * 24 * 3600 * 1000 - 1;\n      return time < todaytoday || time > end;\n    },\n  },\n  watch: {\n    multiple(newv) {\n      this.showRemarks = false;\n      if (newv) {\n        this.$closest('InvitationWrapper').okAvailable = this.multipleFormAndDateValid;\n      } else {\n        this.$closest('InvitationWrapper').okAvailable = this.formAndDateValid;\n      }\n    },\n    multipleFormAndDateValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n    formAndDateValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-form {\n  position: relative;\n  padding-right: 26px;\n  margin-bottom: 30px;\n\n  .el-form-item {\n    margin-bottom: 28px;\n  }\n\n  > .icon-circle-help {\n    position: absolute;\n    right: 30px;\n    top: 145px;\n    z-index: 2;\n    padding: 5px;\n    font-size: 17px;\n    color: $color-primary;\n    cursor: pointer;\n  }\n\n  .tip-time {\n    position: absolute;\n    right: 26px;\n    top: 175px;\n    z-index: 2;\n    width: 296px;\n    padding: 15px 18px;\n    font-size: 12px;\n    line-height: 1.4;\n    word-break: break-word;\n    color: #7f7f7f;\n    background: rgba(255, 255, 255, 1);\n    border-radius: 4px;\n    box-shadow: 0px 2px 8px 0px rgba(95, 95, 95, 0.3);\n  }\n}\n\n.el-radio-group {\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n\n  .el-radio {\n    margin-top: 20px;\n    &:first-child {\n      margin-bottom: 10px;\n    }\n  }\n}\n.workspace-pass-wrapper {\n  /deep/ ::-webkit-input-placeholder {\n    white-space: normal;\n    word-break: normal;\n  }\n  /deep/ ::-moz-placeholder {\n    white-space: normal;\n    word-break: normal;\n  }\n  /deep/ :-ms-input-placeholder {\n    white-space: normal;\n    word-break: normal;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormShareableLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormShareableLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormShareableLink.vue?vue&type=template&id=15bd3d0b&scoped=true&\"\nimport script from \"./FormShareableLink.vue?vue&type=script&lang=js&\"\nexport * from \"./FormShareableLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormShareableLink.vue?vue&type=style&index=0&id=15bd3d0b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15bd3d0b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}