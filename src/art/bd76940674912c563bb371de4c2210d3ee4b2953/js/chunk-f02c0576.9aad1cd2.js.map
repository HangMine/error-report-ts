{"version":3,"sources":["webpack:///./src/views/profile/info/components/upload/UploadCompanyLogo.vue?ec49","webpack:///src/views/profile/info/components/upload/UploadCompanyLogo.vue","webpack:///./src/views/profile/info/components/upload/UploadCompanyLogo.vue?9634","webpack:///./src/views/profile/info/components/upload/UploadCompanyLogo.vue","webpack:///./src/utils/oss/uploadToOSS.js","webpack:///./src/views/profile/info/components/upload/UploadCompanyLogo.vue?2ab2","webpack:///./src/utils/oss/uploadBlobToOSS.js","webpack:///./src/components/upload/styles/UploadStyle1.vue?7cff","webpack:///src/components/upload/styles/UploadStyle1.vue","webpack:///./src/components/upload/styles/UploadStyle1.vue?1f16","webpack:///./src/components/upload/styles/UploadStyle1.vue","webpack:///./src/components/upload/styles/UploadStyle1.vue?feac","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue?7f45","webpack:///src/components/dictionary/DictionaryCountrySelector.vue","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue?230a","webpack:///./src/components/dictionary/DictionaryCountrySelector.vue","webpack:///./src/api/dictionary.js","webpack:///./src/components/dictionary/DictionarySelector.vue?1a09","webpack:///src/components/dictionary/DictionarySelector.vue","webpack:///./src/components/dictionary/DictionarySelector.vue?6550","webpack:///./src/components/dictionary/DictionarySelector.vue","webpack:///./src/utils/validators/rules-validation.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","label","attrs","$can","on","handleUploadFile","img","$t","staticRenderFns","components","UploadArea","UploadStyle","props","url","type","String","required","default","data","watch","value","methods","component","uploadToOSS","blobOrDataUrl","sourceType","onUpload","body","isDataUrl","dataUrl2Blob","OSSUploader","send","key","placeholder","disabled","$event","$emit","selectedValue","model","callback","$$v","expression","_l","item","id","lang","name","usName","Number","Boolean","options","handler","val","immediate","getDictionaryByTypeCode","typeCode","language","axios","method","headers","params","getCountryList","keyword","handleChange","$i18n","i18next","selectedOptions","validateFormFields","validateForm","validator","strLength","passwordConfirm","password","Error","i18n","t","roleGenerator","rules","validations","length","map","prop","spaceTrim","pattern","message","requirement","trigger","selection","email","number","numberPositive","numberNatural","integerPositive","charTypeWithNormal","charTypeWithoutEmail","numberAndAlphabet","numAlphabetUnderscore","charLength","min","max","validator2ElemRule","checkPasswordRepeat","phone","mobilePhoneChina","charLengthRange","len","charLengthMini","charLengthMax","charTypeNormal","charTypeNormal1","charTypeNotOnlyDigitOrLatin","charTypeDigitAndLatin","charTypeDigitOrLatin","charTypeDigitAndHyphen","Object","keys","forEach","charAt","toUpperCase","substr"],"mappings":"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","file":"js/chunk-f02c0576.9aad1cd2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-company-logo\"},[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"upload-content\"},[_c('upload-area',{staticClass:\"upload-logo-area\",attrs:{\"accept\":\".gif, .jpg, .jpeg, .png\",\"max-size\":64*1024,\"disabled\":!_vm.$can('system', 'OP0007')},on:{\"upload\":_vm.handleUploadFile}},[_c('upload-style',{attrs:{\"url\":_vm.img}})],1),_c('p',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.$t('profile.info.upload_company_logo_tip')))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"upload-company-logo\">\n    <label class=\"label\">{{ label }}</label>\n    <div class=\"upload-content\">\n      <upload-area\n        accept=\".gif, .jpg, .jpeg, .png\"\n        :max-size=\"64*1024\"\n        :disabled=\"!$can('system', 'OP0007')\"\n        class=\"upload-logo-area\"\n        @upload=\"handleUploadFile\">\n        <upload-style :url=\"img\" />\n      </upload-area>\n\n      <p class=\"tip\">{{ $t('profile.info.upload_company_logo_tip') }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport UploadArea from '@/components/upload';\nimport UploadStyle from '@/components/upload/styles/UploadStyle1';\n\nimport uploadBlobToOSS from '@/utils/oss/uploadBlobToOSS';\n\nexport default {\n  components: {\n    UploadArea,\n    UploadStyle,\n  },\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n    label: {\n      type: String,\n      default: `${i18n.t('profile.info.logo')}:`,\n    },\n  },\n  data() {\n    return {\n      img: this.url,\n    };\n  },\n  watch: {\n    url(value) {\n      this.img = value;\n    },\n  },\n  methods: {\n    // 处理上传图片\n    async handleUploadFile(file) {\n      // 生成 img 地址，并显示在页面上\n      const imgUrl = window.URL.createObjectURL(file);\n      this.img = imgUrl;\n\n      // 把图片上传到OSS\n      try {\n        const path = await uploadBlobToOSS(file, 'BRAND_IMG');\n        // 按规定格式传给父组件\n        this.$emit('upload', { field: 'logo', value: path });\n      } catch (err) {\n        this.$errHandler(err);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-company-logo {\n  .label {\n    display: block;\n    margin-bottom: 15px;\n    font-size: 14px;\n    font-weight: 400;\n    color: #7f7f7f;\n  }\n  .upload-content {\n    display: flex;\n    align-items: flex-end;\n  }\n}\n\n.upload-content {\n  .upload-logo-area {\n    width: 136px;\n    height: 136px;\n  }\n  .tip {\n    padding: 0 30px 0 20px;\n    font-size: 12px;\n    color: #333;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadCompanyLogo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadCompanyLogo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadCompanyLogo.vue?vue&type=template&id=30ecb467&scoped=true&\"\nimport script from \"./UploadCompanyLogo.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadCompanyLogo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadCompanyLogo.vue?vue&type=style&index=0&id=30ecb467&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30ecb467\",\n  null\n  \n)\n\nexport default component.exports","import { OSSUploader } from '@/utils/oss/uploader';\nimport isDataUrl from '_/is-data-url';\nimport { dataUrl2Blob } from '_/blob-utils';\n\n/**\n *\n * @param {Blob|string} blobOrDataUrl 一个dataUrl或者Blob对象（包括File）\n * @param {string} [sourceType] 资源类型 - @see {@link http://api.4dshoetech.com/project/61/interface/api/4387}\n * @param {(event: unknown,\n    fileLoaded: number,\n    fileSize: number,\n    process: number,\n    options: ComputedUploaderOptions<Params, Query>\n  ) => any} [onUpload] 上传进度 - 具体自己看结果或者源码\n * @return {Promise<string>}\n */\nconst uploadToOSS = async (blobOrDataUrl, sourceType, onUpload) => {\n  let body;\n  if (typeof blobOrDataUrl === 'string' && isDataUrl(blobOrDataUrl)) {\n    // 转化blob对象\n    body = dataUrl2Blob(blobOrDataUrl);\n  } else {\n    body = blobOrDataUrl;\n  }\n  // OSSUploader 会自动处理后缀名的问题，不需要额外的处理\n  // 上传到oss\n  /** @see {@link vscode://../from/a} */\n  const { key } = await OSSUploader.send({\n    sourceType,\n    body,\n    onUpload,\n  });\n\n  return key;\n};\n\nexport default uploadToOSS;\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadCompanyLogo.vue?vue&type=style&index=0&id=30ecb467&lang=scss&scoped=true&\"","/**\n * @deprecated\n * @see {@link ./uploadToOSS}\n */\n\nimport uploadToOSS from './uploadToOSS';\n\nexport { uploadToOSS as uploadBlobToOSS };\nexport default uploadToOSS;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-style1\"},[(_vm.url)?_c('div',{staticClass:\"previewer-box\"},[_c('el-image',{staticClass:\"previewer\",attrs:{\"src\":_vm.url,\"fit\":\"cover\"}}),_c('div',{staticClass:\"previewer-veil\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.reupload')))])])],1):_c('div',{staticClass:\"upload-area\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"upload-style1\">\n    <!-- 上传预览图 -->\n    <div v-if=\"url\" class=\"previewer-box\">\n      <el-image :src=\"url\" fit=\"cover\" class=\"previewer\" />\n      <div class=\"previewer-veil\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.reupload') }}</p>\n      </div>\n    </div>\n    <!-- 上传按钮 -->\n    <div v-else class=\"upload-area\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-style1 {\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  cursor: pointer;\n  overflow: hidden;\n\n  &:hover {\n    background-color: #f7faff;\n  }\n  &:hover .upload-area {\n    border-color: $color-primary;\n  }\n}\n\n.upload-area {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n    font-weight: 400;\n  }\n  .iconfont {\n    font-size: 25px;\n    font-weight: 500;\n  }\n}\n\n.previewer-box {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  &:hover .previewer-veil {\n    display: flex;\n  }\n\n  .previewer-veil {\n    display: none;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.6);\n\n    .upload-text {\n      margin-top: 5px;\n      font-size: 14px;\n      font-weight: 500;\n    }\n    .iconfont {\n      font-size: 35px;\n      font-weight: 500;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadStyle1.vue?vue&type=template&id=456c7186&scoped=true&lang=html&\"\nimport script from \"./UploadStyle1.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadStyle1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadStyle1.vue?vue&type=style&index=0&id=456c7186&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"456c7186\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadStyle1.vue?vue&type=style&index=0&id=456c7186&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"filterable\":\"\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.$emit('change', _vm.selectedValue)}},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":_vm.lang === 'cn' ? item.name : item.usName,\"value\":item.id}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-select\n    v-model=\"selectedValue\"\n    :placeholder=\"placeholder\"\n    :disabled=\"disabled\"\n    filterable\n    clearable\n    @change=\"$emit('change', selectedValue)\">\n    <el-option\n      v-for=\"item in options\"\n      :key=\"item.id\"\n      :label=\"lang === 'cn' ? item.name : item.usName\"\n      :value=\"item.id\" />\n  </el-select>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { getCountryList } from '@/api/dictionary';\n\nexport default {\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: '',\n    },\n    placeholder: {\n      type: String,\n      default: i18n.t('login.country_palceholder'),\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    this.lang = i18n.language;\n    return {\n      selectedValue: '',\n      options: [],\n    };\n  },\n  async created() {\n    try {\n      const res = await getCountryList();\n      this.options = res.data;\n    } catch (err) {\n      this.$message.error(err.message);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val || '';\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DictionaryCountrySelector.vue?vue&type=template&id=a0a6c192&\"\nimport script from \"./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./DictionaryCountrySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getDictByType as _getDictByType } from '@/loaders/dictionary';\nimport axios from './axios';\n\n/**\n * 根据类型获取该字典数据\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const getDictByType = async (type) => {\n  return {\n    data: await _getDictByType({ type }),\n  };\n};\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} countryId 国家ID\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCityList = (countryId, keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCity',\n    params: { countryId, keyword },\n  });\n};\n\n\nexport const getOSSAuth = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSAuth',\n  });\n};\n\nexport const getOSSUrl = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSUrl',\n  });\n};\n\n// 获取国家下的城市\n\n\n/* ==================== 标签相关 ================== */\n/**\n * 新增标签\n * @param {Object} data { shareId: string, tags: string[], type: string }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6116\n */\nexport const addTags = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/addTags',\n    data,\n  });\n};\n\n/**\n * 删除标签\n * @param {Array} tagIds { string[] }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6128\n */\nexport const removeTags = (tagIds) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/deleteTag',\n    data: tagIds,\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":_vm.$i18n.i18next.language === 'en' ?\n      (item.usName || item.name) : (item.name || item.usName),\"value\":item.value}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-select\n    v-model=\"selectedValue\"\n    :placeholder=\"placeholder\"\n    :disabled=\"disabled\"\n    clearable\n    @change=\"handleChange\">\n    <el-option\n      v-for=\"item in options\"\n      :key=\"item.value\"\n      :label=\"$i18n.i18next.language === 'en' ?\n        (item.usName || item.name) : (item.name || item.usName)\"\n      :value=\"item.value\" />\n  </el-select>\n</template>\n\n<script>\nimport { getDictByType } from '@/loaders/dictionary';\n\nexport default {\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: '',\n    },\n    // 字典类型\n    type: {\n      type: String,\n      required: true,\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      selectedValue: '',\n      options: [],\n    };\n  },\n  async created() {\n    try {\n      this.options = (await getDictByType(this.type));\n    } catch (err) {\n      this.$message.error(err.message);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleChange() {\n      const selectedOptions = this.options.find(item => item.value === this.selectedValue);\n      this.$emit('on-change', this.selectedValue, selectedOptions);\n    },\n  },\n\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DictionarySelector.vue?vue&type=template&id=f5079b80&\"\nimport script from \"./DictionarySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./DictionarySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * \\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\n * 请不要再在这个文件添加并且使用element-ui的校验器\n * 为了确保大家都已读，请在该备注尾部署名\n * /\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\n *\n * 校验器（validator）在后续的版本的定义将更改为\n * “一个不返回任何东西，只抛出错误的函数或异步函数”\n * 当前文件会被按情况废弃\n *\n * 【validator是什么】\n * 比如下面的一个校验器：\n * @example\n * // 第一个参数必须是校验的对象，第二参数是一个对象，用于校验的其他判断条件\n * function required(value) {\n *    // 如果已经填了，则return;\n *    if (value) return;\n *    // 否则抛出错误\n *    throw new Error('此值必填')\n * }\n *\n * 【在element-ui使用校验器】\n * 使用validator2ElemValidator、validator2ElemRule\n * @see {./index}\n * @example\n *\n * rules: {\n *    name: validator2ElemRule(required)\n * }\n *\n * 注意的是，由于validate.js的bug，rule并不能存在由两个validator2ElemRule转换的rule\n * 如需使用两个校验器\n *\n * rules: {\n *    name: validator2ElemRule([required, required2])\n * }\n *\n * 【校验器写在哪？】\n * 写在当前你正在看的文件所在文件夹底下，并在index.js import并export，\n * 尽量以一个完整归类的校验器集合或者单个校验器作为一个文件\n *\n * 【署名】\n * 浩锋 黄月成\n */\n\nimport i18n from 'i18next';\nimport strLength from './str-length';\nimport validateForm from './validate-form';\nimport validator2ElemRule from './utils/validator-to-elem-validator';\n/**\n * 校验form表单（校验不通过会返回校验不同的fields);\n * @param {DOM} form\n * @returns {Promise}\n */\nexport const validateFormFields = validateForm;\n\n\nexport const validator = {\n  // 校验字符串长度\n  strLength,\n  // 校验两次密码是否相同\n  passwordConfirm(passwordConfirm, {\n    password,\n  }) {\n    if (password === '') {\n      throw new Error(i18n.t('validator.not_empty'));\n    }\n    if (password !== passwordConfirm) {\n      throw new Error(i18n.t('validator.same_as_prev'));\n    }\n  },\n};\n\nconst roleGenerator = {\n\n  /**\n   * 用于多个条件规则校验，校验的顺序按传入参数的顺序\n   * @param {validations}\n   * @returns {Array} rules 规则的数组集合\n   */\n  rules(...validations) {\n    if (!validations.length) throw new Error('require at lest one parameter');\n\n    return validations.map(prop => this[prop]());\n  },\n\n  /* ============================= 字符相关 =============================== */\n\n  // 开头和结尾不能为空校验\n  spaceTrim: () => ({\n    pattern: /(^\\S.*\\S$)|^\\S$/,\n    message: i18n.t('validator.space_not_start_end'),\n  }),\n\n  // 内容不能为空\n  requirement(trigger) {\n    return {\n      trigger,\n      required: true,\n      message: i18n.t('validator.not_empty'),\n    };\n  },\n  // 至少选择其中一个\n  selection() {\n    return {\n      required: true,\n      message: i18n.t('validator.at_least_one_option'),\n    };\n  },\n\n  // 验证邮箱\n  email(trigger) {\n    return {\n      trigger,\n      type: 'email',\n      message: i18n.t('validator.invalid_email'),\n    };\n  },\n\n\n  // 正数、负数、和小数\n  number() {\n    return {\n      pattern: /^(-|\\+)?\\d+(\\.\\d+)?$/,\n      message: i18n.t('validator.must_be_num'),\n    };\n  },\n  // 正整数\n  numberPositive() {\n    return {\n      pattern: /^((0\\.\\d+)|([1-9]\\d*\\.\\d+)|([1-9]+\\d*))$/,\n      message: i18n.t('validator.num_positive'),\n    };\n  },\n  // 非零的正整数\n  numberNatural() {\n    return {\n      pattern: /^[1-9]+$/,\n      message: i18n.t('validator.num_natural'),\n    };\n  },\n  // 正整数\n  integerPositive() {\n    return {\n      pattern: /^[0-9]+$/,\n      message: i18n.t('validator.integer_positive'),\n    };\n  },\n\n\n  // 不能包含特殊字符（除字母和数字外）\n  charTypeWithNormal(message = i18n.t('validator.not_special_char')) {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_]+$/,\n      message,\n    };\n  },\n\n  // 不能包含特殊字符（除字母和数字@外）\n  charTypeWithoutEmail() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_@.]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n\n\n  //\n  numberAndAlphabet() {\n    return {\n      pattern: /^(?![^a-zA-Z]+$)(?![^_]+$)|^(?![^a-zA-Z]+$)(?!\\D+$)/,\n      message: i18n.t('validator.num_and_alpha'),\n    };\n  },\n\n  numAlphabetUnderscore() {\n    return {\n      pattern: /(?:\\d.*_)|(?:_.*\\d)|(?:[A-Za-z].*_)|(?:_.*[A-Za-z])|(?:[A-Za-z].*\\d)|(?:\\d.*[A-Za-z])/,\n      message: i18n.t('validator.num_alpha_underscore'),\n    };\n  },\n\n  // 字符长度在一定区间内\n  charLength(min = 0, max = 0) {\n    return validator2ElemRule(validator.strLength, {\n      min,\n      max,\n    });\n  },\n\n  // 检验两次密码是否相同\n  passwordConfirm(password) {\n    return validator2ElemRule(validator.checkPasswordRepeat, {\n      password,\n    });\n  },\n\n\n  phone: () => ({\n    pattern: /^[0-9-\\s]{6,30}$/,\n    message: i18n.t('validator.invalid_phone'),\n  }),\n\n  mobilePhoneChina: () => ({\n    pattern: /^1(3|4|5|6|7|8|9)\\d{9}$/,\n    message: i18n.t('validator.invalid_phone'),\n  }),\n\n\n  // 字符长度在一定区间内\n  charLengthRange: (min = 1, max = 2) => {\n    return [\n\n      {\n        min,\n        message: i18n.t('validator.under_min_char_count', { min }),\n      },\n      {\n        max,\n        message: i18n.t('validator.exceeds_char_limit', { len: max }),\n      },\n    ];\n  },\n  // 字符最少长度\n  charLengthMini: (min) => ({\n    min,\n    message: i18n.t('validator.under_min_char_count', { min }),\n  }),\n  // 字符最少长度\n  charLengthMax: (max) => ({\n    max,\n    message: i18n.t('validator.exceeds_char_limit', { len: max }),\n  }),\n\n  // 包含中文、大小字母、数字、下划线、空格\n  charTypeNormal() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9_\\s]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n  // 包含中文、大小字母、数字、空格\n  charTypeNormal1() {\n    return {\n      pattern: /^[\\u4E00-\\u9FA5A-Za-z0-9\\s]+$/,\n      message: i18n.t('validator.not_special_char'),\n    };\n  },\n  // 由任意字符组成，不能为纯数字或纯字母\n  charTypeNotOnlyDigitOrLatin() {\n    return {\n      pattern: /^(?![0-9]+$)(?![a-zA-Z]+$).+$/,\n      message: i18n.t('validator.not_only_digit_letter'),\n    };\n  },\n  // 由数字和字母组成，并且要同时含有数字和字母\n  charTypeDigitAndLatin() {\n    return {\n      pattern: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]+$/,\n      message: i18n.t('validator.must_digit_letter'),\n    };\n  },\n  // 由数字和字母组成，并且要同时含有数字和字母\n  charTypeDigitOrLatin() {\n    return {\n      pattern: /^[a-zA-Z0-9]+$/,\n      message: i18n.t('validator.only_digit_letter'),\n    };\n  },\n  // 由数字和-组成\n  charTypeDigitAndHyphen() {\n    return {\n      pattern: /^[0-9-]+$/,\n      message: i18n.t('validator.only_digit_hyphen'),\n    };\n  },\n};\n\nObject.keys(roleGenerator).forEach(key => {\n  roleGenerator[`validate${key.charAt(0).toUpperCase()}${key.substr(1)}`] = roleGenerator[key];\n});\n\nexport default roleGenerator;\n"],"sourceRoot":""}