{"version":3,"sources":["webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/views/material-mall/mobile-material-goods/QrCodeWrapper.vue?f7b6","webpack:///./src/views/material-mall/mobile-material-goods/QrCodeWrapper.vue?4871","webpack:///./src/views/material-mall/mobile-material-goods/QrCodeWrapper.vue?358a","webpack:///./src/views/material-mall/mobile-material-goods/QrCodeWrapper.vue","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?a2d1","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?fc88","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?d80e","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?31cc","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?497a","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue","webpack:///./src/assets/img/ideation.svg","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?862d","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?4d15","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue?28cc","webpack:///./src/views/material-mall/mobile-material-goods/core-info/MaterialSourceSwiper.vue","webpack:///./src/utils/image-to-dataurl.ts","webpack:///./src/views/material-mall/mobile-material-goods/DetailPage.vue?a599","webpack:///./src/views/material-mall/mobile-material-goods/Topbar.vue","webpack:///./src/views/material-mall/mobile-material-goods/Topbar.vue?598d","webpack:///./src/views/material-mall/mobile-material-goods/Topbar.vue?7969","webpack:///./src/views/material-mall/mobile-material-goods/QrCodeWrapper.vue?06ea","webpack:///./src/views/material-mall/mobile-material-goods/Topbar.vue?76b4","webpack:///./src/views/material-mall/mobile-material-goods/DetailPage.vue?772a","webpack:///./src/views/material-mall/mobile-material-goods/DetailPage.vue?5de4","webpack:///./src/views/material-mall/mobile-material-goods/DetailPage.vue?3ba3","webpack:///./src/views/material-mall/mobile-material-goods/DetailPage.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/ColorViewer.vue?87d5","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?892f","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?cd69","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue?633e","webpack:///./src/views/material-mall/mobile-material-goods/CoreInfo.vue","webpack:///./src/assets/img/material-mart/top.svg"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","default","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defaultOptions","initialValue","undefined","loadingValue","oldValue","useLoader","loader","oldWatcher","params","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","ref","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","watch","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","this","immediate","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","_default","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$t","staticRenderFns","getHost","mode","document","domain","https","http","protocalMap","mg","mp","pre","uat","art","map1","map2","props","id","String","setup","qrcode","qr","el","host","envs","VUE_APP_MODE","link","join","console","log","config","size","qrCanvas","toDataUrl","dataUrl","img","Image","crossOrigin","src","appendChild","component","label","_t","_l","content","split","color","class","white","style","backgroundColor","getColorHexByName","getColorNameByLang","materialColorPicker","name","cnName","heximal","active","colorItem","find","item","language","type","required","module","attrs","computedImgJson","isDatapipe","on","handleLoadEnd","mixins","imgJson","e","dataurl","path","addCount","map","k","concat","images","swipe","image2DataUrl","image","width","height","c","createElement","getContext","drawImage","toDataURL","position","top","background","padding","margin","marginBottom","goodInfo","colorSwatchs","model","callback","$$v","count","expression","_e","components","CoreInfo","BaseInfo","QrCodeWrapper","Topbar","refs","emit","data","gi","supplierArticleName","axios","get","pageNumber","pageSize","res","records","validFieldsCount","v","allCount","materialName","colorSwitch","$event","$router","query","flat","tags","tag","price","samplePriceUnit","staticStyle","samplePriceNumber","colorFamily","MaterialSourceSwiper","UnitField","ColorViewer","Array","samplePrice","toFixed"],"mappings":"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","file":"js/chunk-c8211926.a9a5283e.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"qrcode-wrapper flex-column flex-center\"},[_c('div',{staticClass:\"qr-outer flex-center\"},[_c('div',{staticClass:\"qr-border-left-top\"}),_c('div',{staticClass:\"qr-border-right-top\"}),_c('div',{staticClass:\"qr-border-left-bottom\"}),_c('div',{staticClass:\"qr-border-right-bottom\"}),_c('div',{ref:\"qrcode\"})]),_c('div',{staticClass:\"footer\"},[_vm._v(\" \"+_vm._s(_vm.$t('material-mall.scan_qr_code'))+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport useLoader from '_/composables/use-loader';\nimport { defineComponent, ref } from '@vue/composition-api';\nimport { QRCodeCanvas } from '@cheprasov/qrcode';\nimport envs from '@/utils/envs';\n// import logo from './ideation.svg';\n\nfunction getHost(mode: string) {\n  if (document.domain === 'localhost') return 'http://localhost:1234';\n  const https = 'https://';\n  const http = 'http://';\n  const protocalMap = {\n    [mode]: http,\n    uat: https,\n    art: https,\n  };\n  const mg = 'm-';\n  const mp = 'm.';\n  const pre = {\n    uat: mg,\n    art: mg,\n  };\n  const map1 = {\n    [mode]: mode,\n    staging: 'sit',\n    development: 'dev',\n    uat: 'uat',\n    production: '',\n  };\n  const map2 = {\n    [mode]: 'local',\n    staging: 'local',\n    development: 'local',\n    uat: 'com',\n    production: 'com',\n  };\n  return `${protocalMap[mode] ?? http}${pre[mode] ?? mp}${map1[mode] ? `${map1[mode]}.` : ''}4dshoetech.${map2[mode]}`;\n}\n\nexport default defineComponent({\n  props: {\n    id: String,\n  },\n  setup(props) {\n    const qrcode = ref<HTMLDivElement | null>(null);\n    useLoader(async (qr) => {\n      // @ts-ignore\n      const el = qr.value as HTMLDivElement;\n      if (el) {\n        const host = getHost(envs.VUE_APP_MODE);\n        const link = [host, `material-goods-detail?id=${props.id}`].join('/');\n        console.log(link);\n        // const tImg = new Image();\n        // tImg.src = logo;\n        // tImg.style.width = '60px';\n        // tImg.style.height = '60px';\n        const config = {\n          // image: {\n          //   source: tImg,\n          //   width: 70,\n          //   height: 70,\n          // },\n          size: 258,\n        };\n        const qrCanvas = new QRCodeCanvas(link, config);\n        const dataUrl = await qrCanvas.toDataUrl() as string;\n        const img = new Image();\n        img.crossOrigin = 'anonymous';\n        img.src = dataUrl;\n        el.appendChild(img);\n      }\n    }, qrcode);\n    return {\n      qrcode,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QrCodeWrapper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QrCodeWrapper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./QrCodeWrapper.vue?vue&type=template&id=e9f9c20a&scoped=true&\"\nimport script from \"./QrCodeWrapper.vue?vue&type=script&lang=ts&\"\nexport * from \"./QrCodeWrapper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./QrCodeWrapper.vue?vue&type=style&index=0&id=e9f9c20a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9f9c20a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreInfo.vue?vue&type=style&index=0&id=ee357fd0&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialSourceSwiper.vue?vue&type=style&index=0&id=62f2f3ee&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-color-viewer\"},[_c('label',{staticClass:\"label text-one-line\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"content-box\"},[_vm._t(\"default\",[(_vm.content)?[_c('span',{staticClass:\"content\"},_vm._l((_vm.content.split(',')),function(color){return _c('span',{key:color,staticClass:\"color-item\"},[_c('i',{staticClass:\"icon-color-point\",class:{ white: color === 'White' },style:({ backgroundColor: _vm.getColorHexByName(color) })}),_c('span',{staticClass:\"icon-color-font\"},[_vm._v(_vm._s(_vm.getColorNameByLang(color)))])])}),0)]:[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent, ref, watchEffect } from '@vue/composition-api';\n\n\nexport const materialColorPicker = [\n  {\n    name: 'Red', cnName: '红', heximal: '#f00', active: false,\n  },\n  {\n    name: 'Orange', cnName: '橙', heximal: '#FF6300', active: false,\n  },\n  {\n    name: 'Yellow', cnName: '黄', heximal: '#FFE50F', active: false,\n  },\n  {\n    name: 'Green', cnName: '绿', heximal: '#3EED4F', active: false,\n  },\n  {\n    name: 'Blue', cnName: '蓝', heximal: '#2FB9F3', active: false,\n  },\n  {\n    name: 'Purple', cnName: '紫', heximal: '#DE54E8', active: false,\n  },\n  {\n    name: 'Black', cnName: '黑', heximal: '#000', active: false,\n  },\n  {\n    name: 'Gray', cnName: '灰', heximal: '#808080', active: false,\n  },\n  {\n    name: 'White', cnName: '白', heximal: '#fff', active: false,\n  },\n];\n\n\nfunction getColorNameByLang(color: string) {\n  const colorItem = materialColorPicker.find(item => item.name === color);\n  if (!colorItem) return color;\n  return i18n.language === 'cn' ? colorItem.cnName : colorItem.name;\n}\nfunction getColorHexByName(color: string) {\n  const colorItem = materialColorPicker.find(item => item.name === color);\n  if (!colorItem) return '#fff';\n  return colorItem.heximal;\n}\n\nexport default defineComponent({\n  name: 'MaterialColorViewer',\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String],\n      default: '',\n    },\n  },\n  setup(props) {\n    return {\n      getColorHexByName,\n      getColorNameByLang,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorViewer.vue?vue&type=template&id=231b8d26&scoped=true&\"\nimport script from \"./ColorViewer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorViewer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorViewer.vue?vue&type=style&index=0&id=231b8d26&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"231b8d26\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/ideation.2f51a4ce.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"swipe-item\"},[_c('img',{staticClass:\"swipe-item__image\",attrs:{\"src\":_vm.computedImgJson[0],\"alt\":_vm.computedImgJson[0],\"crossorigin\":_vm.isDatapipe(_vm.computedImgJson[0]) ? 'use-credentials' : 'anonymous'},on:{\"load\":_vm.handleLoadEnd}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed, ref } from '@vue/composition-api';\nimport image2DataUrl from '@/utils/image-to-dataurl';\nimport isDatapipe from '@/utils/is-data-pipe-url';\nimport { ImgJson, countSettledAxios } from '../utils';\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  props: {\n    imgJson: {\n      type: Object as () => ImgJson,\n    },\n  },\n  setup(props) {\n    function handleLoadEnd(e: Event) {\n      const dataurl = image2DataUrl(e.path[0] as HTMLImageElement);\n      e.path[0].src = dataurl;\n      this.addCount();\n    }\n    return {\n      computedImgJson: computed(() => {\n        if (!props.imgJson) return [];\n        return (\n          ['thumbnail', 'flat', 'texture'] as (keyof ImgJson)[]\n        ).map(k => props.imgJson![k]).concat(props.imgJson.images).filter(i => i);\n      }),\n      swipe: ref(null),\n      isDatapipe,\n      handleLoadEnd,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialSourceSwiper.vue?vue&type=template&id=62f2f3ee&scoped=true&\"\nimport script from \"./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialSourceSwiper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialSourceSwiper.vue?vue&type=style&index=0&id=62f2f3ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62f2f3ee\",\n  null\n  \n)\n\nexport default component.exports","export default function image2DataUrl(image: HTMLImageElement) {\n  const { width, height } = image;\n  const c = document.createElement('canvas');\n  c.width = width;\n  c.height = height;\n  c.getContext('2d')!.drawImage(image, 0, 0, width, height);\n  return c.toDataURL('image/png');\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPage.vue?vue&type=style&index=0&id=75b38736&lang=scss&scoped=true&\"","var render, staticRenderFns\nimport script from \"./Topbar.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Topbar.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./Topbar.vue?vue&type=style&index=0&id=0cf289b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cf289b2\",\n  null\n  \n)\n\nexport default component.exports","\nimport { defineComponent } from '@vue/composition-api';\nimport logo from '@/assets/img/ideation.svg';\nimport imgSvg from '@/assets/img/material-mart/top.svg';\n\nexport default defineComponent({\n  render() {\n    return <section class=\"topbar-container\">\n      <img src={imgSvg} alt={imgSvg} style={{ width: '100%' }} crossorigin=\"anonymous\" />\n      <div class=\"flex-column flex-center\" style={{\n        position: 'absolute', width: '100%', height: '100%', top: 0,\n      }}>\n        <img src={logo} alt={logo} crossorigin=\"anonymous\" />\n        {\n        }\n        <div class=\"title\">—{this.$t('material-mall.digital_collaboration_platform')}—</div>\n      </div>\n    </section>;\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topbar.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topbar.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QrCodeWrapper.vue?vue&type=style&index=0&id=e9f9c20a&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topbar.vue?vue&type=style&index=0&id=0cf289b2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.goodInfo)?_c('div',{style:({background: '#3175EB', padding:'20px'})},[_c('Topbar',{style:({margin: '-20px',marginBottom:'0'})}),_c('CoreInfo',{staticClass:\"decorator\",attrs:{\"goodInfo\":_vm.goodInfo,\"colorSwatchs\":_vm.colorSwatchs},model:{value:(_vm.count),callback:function ($$v) {_vm.count=$$v},expression:\"count\"}}),_c('BaseInfo',{staticClass:\"decorator\",style:({margin: '30px 0'}),attrs:{\"goodInfo\":_vm.goodInfo},model:{value:(_vm.count),callback:function ($$v) {_vm.count=$$v},expression:\"count\"}}),_c('QrCodeWrapper',{staticClass:\"decorator\",attrs:{\"id\":_vm.id}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { defineComponent, reactive, ref } from '@vue/composition-api';\nimport axios from '@/utils/axios';\nimport useLoader from '@4dst-saas/public-utils/dist/composables/use-loader';\nimport delay from '@4dst-saas/public-utils/dist/delay';\nimport html2canvas from 'html2canvas';\nimport { MaterialGoods, getMaterialDetail, ImgJson } from './utils';\nimport CoreInfo from './CoreInfo.vue';\nimport BaseInfo from './BaseInfo.vue';\nimport QrCodeWrapper from './QrCodeWrapper.vue';\nimport Topbar from './Topbar.vue';\n\nexport default defineComponent({\n  name: 'GoodsDetailPage',\n  components: {\n    CoreInfo,\n    BaseInfo,\n    QrCodeWrapper,\n    Topbar,\n  },\n  props: {\n    id: {\n      type: String,\n    },\n  },\n  // @ts-ignore\n  setup(props, { refs, emit }) {\n    console.log(props);\n    const goodInfo = useLoader(async ({ id }) => {\n      return (await getMaterialDetail(id)).data as MaterialGoods;\n    }, props);\n    // eslint-disable-next-line consistent-return\n    const colorSwatchs = useLoader(async (gi) => {\n      // @ts-ignore\n      if (gi.value) {\n        const { supplierArticleName } = gi.value as MaterialGoods;\n        const res = ((await axios.get('/mall/mall/colorSwatch/list', {\n          params: {\n            supplierArticleName,\n            pageNumber: 1,\n            pageSize: 12,\n          },\n        })).data.records as MaterialGoods[]);\n        return res;\n      }\n    }, reactive(goodInfo));\n\n    // 现已请求的个数\n    const count = ref(0);\n    // 表单中的请求个数，由GoodsBaseInfo组件用closest更改\n    const validFieldsCount = ref(0);\n\n    useLoader(({ count: c, validFieldsCount: v, colorSwatchs: _c }) => {\n      // 要等到表单中的请求个数不为零时才计算\n      if (v === 0 || !_c) return;\n      // 总请求数=表单中的请求个数+面料大图+色卡版图片数量+价格单位+面料面积单位\n      const allCount = v\n        + 1\n        + colorSwatchs.value!.length\n        + 2;\n      if (allCount === c) emit('loadend', goodInfo.value!.materialName);\n    }, reactive({ count, validFieldsCount, colorSwatchs }));\n    return {\n      goodInfo,\n      colorSwatchs,\n      count,\n      validFieldsCount,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DetailPage.vue?vue&type=template&id=75b38736&scoped=true&\"\nimport script from \"./DetailPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./DetailPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DetailPage.vue?vue&type=style&index=0&id=75b38736&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75b38736\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorViewer.vue?vue&type=style&index=0&id=231b8d26&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container flex-column\"},[(_vm.imgJson)?_c('MaterialSourceSwiper',{staticClass:\"source-swiper\",attrs:{\"imgJson\":_vm.imgJson,\"count\":_vm.count},on:{\"update\":_vm.addCount}}):_vm._e(),(_vm.colorSwatchs && _vm.colorSwatchs.length)?_c('ul',{staticClass:\"flex-center\"},_vm._l((_vm.colorSwatchs),function(colorSwitch){return _c('li',{key:colorSwitch.id,staticClass:\"color-swatch-item\",on:{\"click\":function($event){return _vm.$router.push({\n      query: { id: colorSwitch.id }\n    })}}},[_c('img',{style:({width: '100%'}),attrs:{\"src\":colorSwitch.imgJson.flat,\"crossorigin\":_vm.isDatapipe(colorSwitch.imgJson.flat) ? 'use-credentials' : 'anonymous'},on:{\"load\":_vm.handleLoadEnd}})])}),0):_vm._e(),_c('div',{staticClass:\"divider\"}),(_vm.goodInfo)?_c('main',{staticClass:\"flex-column core-info\"},[_c('h3',{staticClass:\"m-title\"},[_vm._v(_vm._s(_vm.goodInfo.materialName))]),(_vm.goodInfo.tags && _vm.goodInfo.tags.length)?_c('ul',{staticClass:\"m-tags flex-wrap\"},_vm._l((_vm.goodInfo.tags),function(tag,i){return _c('li',{key:i,staticClass:\"m-tags__tag\"},[_vm._v(_vm._s(tag.tag))])}),0):_vm._e(),_c('div',{staticClass:\"m-color-and-price flex\"},[_c('div',{staticClass:\"flex-center flex-column\"},[_c('div',{staticClass:\"m-price\"},[_vm._v(_vm._s(_vm.price))]),_c('div',{staticClass:\"key\"},[_c('UnitField',{key:\"priceUnit\",attrs:{\"count\":_vm.count,\"type\":\"priceUnit\",\"value\":_vm.goodInfo.samplePriceUnit},on:{\"update\":_vm.addCount}}),_vm._v(\" / \"),_c('UnitField',{key:\"sizeNumber\",staticStyle:{\"margin-left\":\"0\"},attrs:{\"count\":_vm.count,\"type\":\"sizeNumber\",\"value\":_vm.goodInfo.samplePriceNumber},on:{\"update\":_vm.addCount}})],1)]),_c('div',{staticClass:\"flex-center flex-column\"},[_c('div',{staticClass:\"m-color\"},[_vm._v(_vm._s(_vm.goodInfo.color))]),_c('div',{staticClass:\"key\"},[_vm._v(_vm._s(_vm.$t('material.info.color')))])]),_c('div',{staticClass:\"flex-center flex-column\"},[_c('ColorViewer',{staticClass:\"m-color-family\",attrs:{\"label\":'',\"content\":_vm.goodInfo.colorFamily}}),_c('div',{staticClass:\"key\"},[_vm._v(_vm._s(_vm.$t('material.info.color_family')))])],1)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed } from '@vue/composition-api';\nimport isDatapipe from '@/utils/is-data-pipe-url';\nimport image2DataUrl from '@/utils/image-to-dataurl';\nimport MaterialSourceSwiper from './core-info/MaterialSourceSwiper.vue';\nimport { MaterialGoods, countSettledAxios } from './utils';\nimport UnitField from './components/UnitField.vue';\nimport ColorViewer from './components/ColorViewer.vue';\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  components: {\n    MaterialSourceSwiper,\n    UnitField,\n    ColorViewer,\n  },\n  props: {\n    goodInfo: {\n      type: Object as () => MaterialGoods,\n    },\n    colorSwatchs: {\n      type: Array as () => MaterialGoods[],\n      default: () => [] as MaterialGoods[],\n    },\n  },\n  setup(props) {\n    function handleLoadEnd(e: Event) {\n      const dataurl = image2DataUrl(e.path[0] as HTMLImageElement);\n      e.path[0].src = dataurl;\n      this.addCount();\n    }\n    return {\n      imgJson: computed(() => props.goodInfo?.imgJson),\n      price: computed(() => props.goodInfo?.samplePrice?.toFixed(2)),\n      isDatapipe,\n      handleLoadEnd,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoreInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CoreInfo.vue?vue&type=template&id=ee357fd0&scoped=true&\"\nimport script from \"./CoreInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./CoreInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CoreInfo.vue?vue&type=style&index=0&id=ee357fd0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee357fd0\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/top.b5f04c8d.svg\";"],"sourceRoot":""}