{"version":3,"sources":["webpack:///./src/views/model/detail/version/OperationRecordList.vue?696d","webpack:///./src/api/account.js","webpack:///./src/views/model/detail/version/VersionList.vue?7dda","webpack:///./src/assets/img/header/default_avatar.png","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/views/model/detail/version/index.vue?aeb6","webpack:///./src/views/model/detail/version/index.vue?bbb3","webpack:///./src/views/model/detail/version/OperationRecordList.vue?e488","webpack:///src/views/model/detail/version/OperationRecordList.vue","webpack:///./src/views/model/detail/version/OperationRecordList.vue?0651","webpack:///./src/views/model/detail/version/OperationRecordList.vue","webpack:///./src/views/model/detail/version/VersionList.vue?0f65","webpack:///src/views/model/detail/version/VersionList.vue","webpack:///./src/views/model/detail/version/VersionList.vue?4873","webpack:///./src/views/model/detail/version/VersionList.vue","webpack:///src/views/model/detail/version/index.vue","webpack:///./src/views/model/detail/version/index.vue?3137","webpack:///./src/views/model/detail/version/index.vue"],"names":["registerAccount","data","axiosEncrypt","method","url","headers","token","applyAccountForTrial","axios","subscribeOurWebsite","getUserInfo","getUsersInfoByIds","_userIds","userIds","Array","from","Set","filter","id","length","fill","res","users","Object","fromEntries","map","user","updateUserInfo","updateUserPasswordByVerificatioCode","createPaidSubaccount","fetchGroupMembers","keyword","groupAppId","createVirtualAccount","ApiConnectAccount","searchUsersToAdd","params","module","exports","$","addToUnscopables","target","proto","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","list","on","handleToggleActiveVersion","_v","_s","$t","version","contentThumbnail","activeStatus","viewHistoryModel","_e","staticStyle","class","disabled","$can","$event","$act","openDialogRestore","staticRenderFns","domProps","_l","item","i","key","records","generateIconByIndex","operationName","operation","j","props","type","required","methods","idx","current","$emit","vCode","name","$route","query","defaultAvatar","userInfo","icon","_f","gmtCreateTime","versions","components","dialogify","compact","modal","width","BaseImage","VersionList","OperationRecordList","modifiedContentBrief","modifier","sourceCode","host","computed","workspaceId","catalogId","relateType","_generateOperationsRecords","arr","forEach","newArr","push","component","oldValue","newValue","envName","envLightIntensity","otherEnvSetting","setting","IBLRotationDegree","lightGroupSettingChange","showSkybox","showShadow","cameraMode","0","1"],"mappings":"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","file":"js/chunk-26b6708d.49d62226.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationRecordList.vue?vue&type=style&index=0&id=d93a3e32&lang=scss&scoped=true&\"","import axios, { axiosEncrypt } from '@/utils/axios';\n\n/* =========================== 账号相关 =========================== */\nexport const registerAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/register',\n    headers: {\n      token: '',\n    },\n    data,\n  });\n};\n\nexport const loginByName = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/login/login',\n    data,\n  });\n};\n\n// 重置密码\n// 已废弃\n// export const resetPassword = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/pass/reset',\n//     data,\n//   });\n// };\n\n// 发送验证码\n// 已废弃\n// export const sendVerifyCode = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/verification/code',\n//     data,\n//   });\n// };\n\n// 校验验证码\n// 已废弃\n// export const checkVerifyCode = (code, account) => {\n//   return axios({\n//     method: 'get',\n//     url: `/authcenter/user/check/verify?verifyCode=${code}&account=${account}`,\n//   });\n// };\n\n// 验证邮箱接口\nexport const emailVerify = (email) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/email/verify?email=${email}`,\n  });\n};\n\n// 校验账号是否为主账号或普通账号\nexport const checkRole = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/check/role?account=${account}`,\n  });\n};\n\n// 账号购买套餐的信息\nexport const getUserPurchaseInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/info/all',\n  });\n};\n\n/**\n * 申请试用\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const applyAccountForTrial = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/trial/add',\n    data,\n  });\n};\n\n/**\n * 订阅更新信息\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const subscribeOurWebsite = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/subscribe',\n    data,\n  });\n};\n\n/**\n * 校验账户是否重复\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const checkAcountExistent = (account) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/account/check',\n    params: {\n      account,\n    },\n  });\n};\n\n/* =========================== 当前登录用户 =========================== */\n/**\n * 根据token来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUserInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/info/get',\n  });\n};\n\n/**\n * 根据用户ID来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUsersInfoByIds = async (_userIds = []) => {\n  const userIds = Array.from(new Set(_userIds.filter(id => !!id)));\n  if (!userIds.length) {\n    const data = new Array(_userIds.length);\n    data.fill(null);\n    return { data };\n  }\n  const res = await axios({\n    method: 'post',\n    url: '/authcenter/user/im/info',\n    data: userIds,\n  });\n  const users = Object.fromEntries(res.data.map(user => ([user.id, user])));\n  res.data = _userIds.map(id => users[id] ?? null);\n  return res;\n};\n\n/**  ???????????????????????????\n * 根据token来获取当前登录用户信息\n * @param {Object} data 登录信息\n * @returns {Promise}\n */\nexport const uploadAccountInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/update',\n    data,\n  });\n};\n\n/**\n * 修改用户信息\n * @param {Object} data 支持 name, email, headImg 三个属性修改\n * @returns {Promise}\n */\nexport const updateUserInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update/self',\n    data,\n  });\n};\n\n/**\n * 根据邮箱或账号重置账号密码\n * @param {Object} data 邮箱和信息密码\n * @returns {Promise}\n */\nexport const updateUserPasswordByVerificatioCode = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/password/reset',\n    data,\n  });\n};\n\n/**\n * 获取是否有剩余的子账号（true/fase）(deprecated)\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetLeaveSubaccount = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/check?resourceType=${type}`,\n  });\n};\n\n/**\n * 新增收费子账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createPaidSubaccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/add',\n    data,\n  });\n};\n\n/**\n * 新增免费账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const ApiAddFreeAccount = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/free/add',\n    data,\n  });\n};\n\n/* =========================== 账号中心 =========================== */\n/**\n * 公司列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiCompanyList = (groupAppId, keyword = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiAddressList = (keyWord, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: `/authcenter/contacts/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 虚拟账号列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiVirtualList = (keyWord) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/virtual/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 协同空间群设置的成员列表（可搜索）\n * @param {String} keyword 搜索\n * @returns {Promise}\n */\nexport const fetchGroupMembers = ({\n  keyword,\n  groupAppId,\n}) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/ugroup/users/search?keyword=${keyword}`,\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n  });\n};\n\n/**\n * 公司账号的子账号列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getSubaccountListOfCompany = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getContactList = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/contacts/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 虚拟账号列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getVirtualList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/virtual/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 编辑\n * @param {String} data 编辑信息对象\n * @returns {Promise}\n */\nexport const ApiupdateUserAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update',\n    data,\n  });\n};\n\n/**\n * 删除单个 非邀请Delete\n * @param {String} id 删除id  <!-- null 和0 都是，1 是邀请 Disconnect-->\n * @returns {Promise}\n */\nexport const ApiDelAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/delete?userId=${id}`,\n  });\n};\n\n/**\n * 删除单个 邀请 Disconnect\n * @param {String} id 删除id\n * @returns {Promise}\n */\nexport const ApiDisconnectAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/contacts/disconnect?relateUserId=${id}`,\n  });\n};\n\n/**\n * 获取新增子账号剩余多少\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetCanUseWorkspace = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/info?resourceType=${type}`,\n  });\n};\n\n/**\n * 检查名称是否重复\n * @param {String} account 名称\n * @returns {Promise}\n */\nexport const ApicheckUsable = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/check?account=${account}`,\n  });\n};\n\n/**\n * 清除到期账号\n * @returns {Promise}\n */\nexport const ApiDelOverdue = () => {\n  return axios({\n    method: 'get',\n    url: '/user/overdue/delete',\n  });\n};\n\n/**\n * 查询是否遮罩\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApigetShade = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/shade/get?type=${type}`,\n  });\n};\n\n/**\n * 关闭遮罩\n * @param {String} data 类型\n * @returns {Promise}\n */\nexport const ApiaddShade = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/shade/add',\n    data,\n  });\n};\n\n/**\n * 新增虚拟账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createVirtualAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/virtual/add',\n    data,\n  });\n};\n\n// 头和目标账号信息\nexport const ApiConnectAccount = (data, headers) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/add/mutiple',\n    data,\n    headers,\n  });\n};\n\n/**\n * 公司套餐workspace数量(deprecated)\n * @param {String}\n * @returns {Promise}\n */\nexport const getWorkspacesNumberOfPackage = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/package/workspace/number',\n  });\n};\n\n/**\n * 添加协同空间成员时搜索可添加的列表\n * @param {String}\n * @returns {Promise}\n */\nexport const searchUsersToAdd = (keyword, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/search',\n    params: {\n      keyword,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionList.vue?vue&type=style&index=0&id=66ee1400&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=74e7e396&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"dialog-wrapper\"},[_c('aside',{staticClass:\"dialog-aside scrollable-y\"},[_c('version-list',{attrs:{\"versions\":_vm.list},on:{\"change-status\":_vm.handleToggleActiveVersion}})],1),_c('main',{staticClass:\"dialog-content\"},[_c('h2',{staticClass:\"content-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.design_version'))+\" \")]),_c('div',{staticClass:\"preview-box\"},[_c('base-image',{staticClass:\"shoe-preview\",attrs:{\"fit\":\"contain\",\"src\":_vm.version.contentThumbnail}}),(_vm.list.length)?_c('el-button',{attrs:{\"disabled\":_vm.list[0].activeStatus,\"type\":_vm.list[0].activeStatus ? 'normal' : 'primary',\"size\":\"small\"},on:{\"click\":_vm.viewHistoryModel}},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.view_version'))+\" \")]):_vm._e()],1),_c('operation-record-list',{staticStyle:{\"margin-bottom\":\"30px\"},attrs:{\"version\":_vm.version}}),(_vm.list.length)?_c('button',{staticClass:\"recover-version premission-wrapper\",class:{ disabled: _vm.list[0].activeStatus || !_vm.$can('workspace', 'OP0055') },attrs:{\"disabled\":!_vm.$can('workspace', 'OP0055') || _vm.list[0].activeStatus},on:{\"click\":function($event){return _vm.$act(_vm.openDialogRestore)}}},[_c('i',{staticClass:\"iconfont icon-restore\"}),_vm._v(\" \"+_vm._s(_vm.$t('model.detail.restore'))+\" \")]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record-container scrollable-y\"},[(_vm.version.sourceCode)?_c('div',[_c('h2',{staticClass:\"operation-type\"},[_c('i',{staticClass:\"iconfont icon-restore\"}),_vm._v(\" \"+_vm._s(_vm.$t('model.detail.revert_to_original'))+\" \")]),_c('p',{staticClass:\"operation-detail\",domProps:{\"innerHTML\":_vm._s(_vm.$t('model.detail.version_restore_info', { version: _vm.version }))}})]):_vm._e(),_c('ul',{staticStyle:{\"line-height\":\"2\"}},_vm._l((_vm.version.records),function(item,i){return _c('li',{key:i},[(item.records.length)?_c('h2',{staticClass:\"operation-type\"},[_c('i',{staticClass:\"iconfont\",class:_vm.generateIconByIndex(i)}),_vm._v(\" \"+_vm._s(item.operationName)+\" \")]):_vm._e(),_vm._l((item.records),function(operation,j){return _c('ul',{key:j},[_c('li',{staticClass:\"operation-detail\",domProps:{\"innerHTML\":_vm._s(operation)}})])})],2)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"record-container scrollable-y\">\n    <!-- 版本回复文字 -->\n    <div v-if=\"version.sourceCode\">\n      <h2 class=\"operation-type\"><i class=\"iconfont icon-restore\" />\n        {{ $t('model.detail.revert_to_original') }}\n      </h2>\n      <p class=\"operation-detail\" v-html=\"$t('model.detail.version_restore_info', { version })\">\n      </p>\n    </div>\n    <!-- 版本变化的文字 -->\n    <ul style=\"line-height: 2;\">\n        <li v-for=\"(item, i) in version.records\"  :key=\"i\">\n          <h2 v-if=\"item.records.length\" class=\"operation-type\">\n            <i class=\"iconfont\" :class=\"generateIconByIndex(i)\" />\n            {{ item.operationName }}\n          </h2>\n          <ul v-for=\"(operation, j) in item.records\" :key=\"j\">\n            <li v-html=\"operation\" class=\"operation-detail\" />\n          </ul>\n        </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    version: {\n      type: Object,\n      required: true,\n    },\n  },\n  methods: {\n    generateIconByIndex(idx) {\n      if (idx === 0) return 'icon-material-print';\n      if (idx === 1) return 'icon-material-o';\n      if (idx === 2) return 'icon-material-change';\n      return 'icon-material-print';\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.record-container {\n  height: 260px;\n  overflow: auto;\n\n  .operation-type {\n    display: flex;\n    align-items: center;\n    // margin-bottom: 10px;\n    font-size: 16px;\n    font-weight: 600;\n    color: #333;\n  }\n  .operation-detail {\n    margin-left: 25px;\n    color: #636363;\n    line-height: 30px;\n    word-break: normal;\n    &::before {\n      content: \"\";\n      display: inline-block;\n      position: relative;\n      top: -1px;\n      width: 8px;\n      height: 8px;\n      margin-right: 5px;\n      vertical-align: middle;\n      background-color: #848b97;\n      border-radius: 50%;\n    }\n    > strong {\n      color: #333;\n    }\n  }\n  .iconfont {\n    margin-right: 3px;\n    font-size: 20px;\n    font-weight: 400;\n    color: $color-primary;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationRecordList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OperationRecordList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OperationRecordList.vue?vue&type=template&id=d93a3e32&scoped=true&lang=html&\"\nimport script from \"./OperationRecordList.vue?vue&type=script&lang=js&\"\nexport * from \"./OperationRecordList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OperationRecordList.vue?vue&type=style&index=0&id=d93a3e32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d93a3e32\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',_vm._l((_vm.versions),function(item){return _c('li',{key:item.id,staticClass:\"version-item\",class:{ current: item.activeStatus },on:{\"click\":function($event){return _vm.$emit('change-status',item)}}},[_c('h2',{staticClass:\"version-name\"},[_vm._v(_vm._s(item.vCode ? _vm.$t('model.detail.version_name', { vCode: item.vCode }) : item.name))]),(_vm.$route.query.workspaceId)?_c('p',{staticClass:\"version-user\"},[(item.userInfo)?[_c('base-image',{staticClass:\"user-avatar\",attrs:{\"defaultImage\":_vm.defaultAvatar,\"src\":item.userInfo.icon,\"lazy\":false}}),_c('span',{staticClass:\"user-name text-one-line\"},[_vm._v(_vm._s(item.userInfo.name))])]:[_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":require('@/assets/img/public/default-image.png')}}),_c('span',{staticClass:\"user-name text-one-line\"},[_vm._v(_vm._s(_vm.$t('model.detail.unknown_user')))])]],2):_vm._e(),_c('time',{staticClass:\"version-time\"},[_vm._v(_vm._s(_vm._f(\"date\")(item.gmtCreateTime,'MM/DD/YYYY HH:mm')))])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul>\n    <li\n      v-for=\"item in versions\"\n      :key=\"item.id\"\n      class=\"version-item\"\n      :class=\"{ current: item.activeStatus }\"\n      @click=\"$emit('change-status',item)\">\n\n      <h2 class=\"version-name\">{{ item.vCode ? $t('model.detail.version_name', { vCode: item.vCode }) : item.name}}</h2>\n\n      <p v-if=\"$route.query.workspaceId\" class=\"version-user\">\n        <template v-if=\"item.userInfo\">\n          <base-image :defaultImage=\"defaultAvatar\"\n            :src=\"item.userInfo.icon\" class=\"user-avatar\" :lazy=\"false\" />\n          <span class=\"user-name text-one-line\">{{ item.userInfo.name }}</span>\n        </template>\n        <template v-else>\n          <img class=\"user-avatar\" :src=\"require('@/assets/img/public/default-image.png')\" />\n          <span class=\"user-name text-one-line\">{{ $t('model.detail.unknown_user') }}</span>\n        </template>\n      </p>\n\n      <time class=\"version-time\">{{ item.gmtCreateTime | date('MM/DD/YYYY HH:mm') }}</time>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport BaseImage from '@/components/base/Image';\nimport defaultAvatar from '@/assets/img/header/default_avatar.png';\n\nexport default {\n  props: {\n    versions: {\n      type: Array,\n      required: true,\n    },\n  },\n  components: { BaseImage },\n  data() {\n    return {\n      defaultAvatar,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.version-item {\n  padding: 10px 18px;\n  padding-bottom: 8px;\n  margin: 6px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all linear 150ms;\n\n  &.current {\n    background-color: $color-primary;\n  }\n  &.current .version-name,\n  &.current .version-user .user-name,\n  &.current .version-time {\n    color: #fff;\n  }\n\n  .version-name {\n    font-size: 18px;\n    font-weight: 500;\n    color: #333;\n  }\n  .version-user {\n    display: flex;\n    align-items: center;\n    padding: 5px 0;\n\n    .user-avatar {\n      width: 25px;\n      height: 25px;\n      border-radius: 50%;\n    }\n    .user-name {\n      flex: 1;\n      margin-left: 5px;\n      font-weight: 200;\n      color: #7f7f7f;\n    }\n  }\n  .version-time {\n    font-size: 12px;\n    font-weight: 200;\n    color: #7f7f7f;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VersionList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VersionList.vue?vue&type=template&id=66ee1400&scoped=true&\"\nimport script from \"./VersionList.vue?vue&type=script&lang=js&\"\nexport * from \"./VersionList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VersionList.vue?vue&type=style&index=0&id=66ee1400&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66ee1400\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"dialog-wrapper\">\n      <!-- 侧边栏版本列表 -->\n      <aside class=\"dialog-aside scrollable-y\">\n        <version-list :versions=\"list\" @change-status=\"handleToggleActiveVersion\" />\n      </aside>\n\n      <!-- 右侧显示版本详情 -->\n      <main class=\"dialog-content\">\n        <h2 class=\"content-title\">\n          {{ $t('model.detail.design_version') }}\n        </h2>\n\n        <!-- 版本模型预览图 -->\n        <div class=\"preview-box\">\n          <base-image fit=\"contain\" :src=\"version.contentThumbnail\" class=\"shoe-preview\" />\n          <el-button\n            v-if=\"list.length\"\n            :disabled=\"list[0].activeStatus\"\n            :type=\"list[0].activeStatus ? 'normal' : 'primary'\"\n            size=\"small\"\n            @click=\"viewHistoryModel\">\n            {{ $t('model.detail.view_version') }}\n          </el-button>\n        </div>\n\n        <!-- 操作记录 -->\n        <operation-record-list :version=\"version\" style=\"margin-bottom: 30px\" />\n\n        <!-- 回复按钮 -->\n        <button\n          v-if=\"list.length\"\n          class=\"recover-version premission-wrapper\"\n          :class=\"{ disabled: list[0].activeStatus || !$can('workspace', 'OP0055') }\"\n          :disabled=\"!$can('workspace', 'OP0055') || list[0].activeStatus\"\n          @click=\"$act(openDialogRestore)\">\n          <i class=\"iconfont icon-restore\" />\n          {{ $t('model.detail.restore') }}\n        </button>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport BaseImage from '@/components/base/Image';\n\nimport { openSingleton } from '@/utils/open-window';\nimport { getHost } from '@/utils/exec';\n\nimport {\n  getVersionList,\n  getVersionDetail,\n  applyVersionToNewest,\n} from '@/api/shoe';\nimport { getUsersInfoByIds } from '@/api/account';\nimport OperationRecordList from './OperationRecordList';\nimport VersionList from './VersionList';\n\nexport default {\n  dialogify: {\n    props: {\n      compact: true,\n      // showClose: false,\n      modal: false,\n      width: '700px',\n    },\n  },\n  components: {\n    BaseImage,\n    VersionList,\n    OperationRecordList,\n  },\n  async created() {\n    this._initialData();\n\n    this.host = await getHost();\n  },\n  data() {\n    return {\n      list: [],\n      version: {\n        name: '',\n        contentThumbnail: '',\n        modifiedContentBrief: [],\n        modifier: {\n          name: '',\n        },\n        sourceCode: '',\n        host: null,\n      },\n    };\n  },\n  computed: {\n    /** @return { string | (string | null)[] } */\n    workspaceId() {\n      return this.$route.query.workspaceId;\n    },\n    /** @return { string | (string | null)[] } */\n    catalogId() {\n      return this.$route.query.catalogId;\n    },\n    /** @return { string | (string | null)[] } */\n    relateType() {\n      return this.$route.query.relateType;\n    },\n  },\n  methods: {\n    // 切换不同的版本\n    async handleToggleActiveVersion(versionObj) {\n      // 点击当前活跃的版本，不做任何操作\n      if (!versionObj.activeStatus) {\n        // 切换活跃状态\n        this.list.forEach(item => {\n          item.activeStatus = false;\n        });\n        versionObj.activeStatus = true;\n\n        // 请求切换的版本的数据\n        this.version = await this._getVersionDetailInfo('', versionObj.id, this.workspaceId);\n\n        // 将更改的信息保存为可读性的文字\n        // eslint\n        this.version.records = this._generateOperationsRecords(this.version.modifiedContentBrief);\n      }\n    },\n    // 浏览历史版本\n    async viewHistoryModel() {\n      if (this.host) {\n        // 查看历史版本\n        this.$emit('confirm', {\n          catalogId: this.catalogId, workspaceId: this.workspaceId, ...this.version, history: true,\n        });\n        return;\n      }\n      console.log('afei=========2222222', this.relateType);\n      await openSingleton({\n        name: 'ModelPreview',\n        params: {\n          modelId: this.version.relateId,\n        },\n        query: {\n          workspaceId: this.workspaceId,\n          catalogId: this.catalogId,\n          relateType: this.relateType,\n        },\n      }, true, 'ModelPreview');\n    },\n    // 初始化历史版本的数据\n    async _initialData() {\n      const { catalogId } = this.$route.query;\n\n      // 获取版本列表\n      const result = await getVersionList(catalogId);\n      // 为 active 状态，每个数据添加一个属性\n      result.data.forEach((item, i) => {\n        item.activeStatus = i <= 0;\n      });\n\n      // 分别去获取用户信息\n      const usersInfo = (await getUsersInfoByIds(result.data.map(item => item.modifierId))).data;\n      // 将用户信息放入对应的userId中\n      result.data.forEach((item, idx) => {\n        item.userInfo = usersInfo[idx];\n      });\n\n      this.list = result.data;\n\n      this.version = await this._getVersionDetailInfo(catalogId, '', this.workspaceId);\n      // 将更改的信息保存为可读性的文字\n      this.version.records = this._generateOperationsRecords(this.version.modifiedContentBrief);\n    },\n    // 回复旧版本到最新的版本\n    async openDialogRestore() {\n      // eslint-disable-next-line\n      await this.$confirm(i18n.t('model.detail.restore_caution', { vCode: this.version.vCode || this.version.name }), i18n.t('model.detail.process_of_recovery'), {\n        confirmButtonText: i18n.t('public.dialog.confirm'),\n        cancelButtonText: i18n.t('public.dialog.cancel'),\n      });\n      const { data: newVersion } = await applyVersionToNewest(this.version.id, this.workspaceId);\n      this.$emit('confirm', { catalogId: this.catalogId, workspaceId: this.workspaceId, ...newVersion });\n    },\n    // 根据不同版本修改的信息，生成对应的字段\n    _generateOperationsRecords(arr) {\n      const newArr = [\n        { operationName: i18n.t('model.detail.material_print_modifications'), records: [] },\n        { operationName: i18n.t('model.detail.base_material_modifications'), records: [] },\n        { operationName: i18n.t('model.detail.material_modifications'), records: [] },\n        { operationName: i18n.t('model.detail.env_setting'), records: [] },\n        { operationName: i18n.t('model.detail.camera_setting'), records: [] },\n      ];\n      arr.forEach(item => {\n        const type = item.property;\n        const { component } = item;\n\n        // 材质修改\n        if (type === 'material_name') {\n          // eslint-disable-next-line\n          newArr[2].records.push(i18n.t('model.detail.material_name_change', {\n            component,\n            item,\n          }));\n        }\n\n        // 材质操作\n        if (type === 'material_pan') {\n          // eslint-disable-next-line\n          newArr[1].records.push(i18n.t('model.detail.material_pan_change', {\n            component,\n          }));\n        }\n        if (type === 'material_rotate') {\n          // eslint-disable-next-line\n          newArr[1].records.push(i18n.t('model.detail.material_rotate_change', {\n            component,\n          }));\n        }\n\n        // 印花操作\n        if (type === 'print_map') {\n          if (item.oldValue && !item.newValue) {\n            // eslint-disable-next-line\n            newArr[0].records.push(i18n.t('model.detail.print_map_remove', { component }));\n          } else if (item.oldValue) {\n            // eslint-disable-next-line\n            newArr[0].records.push(i18n.t('model.detail.print_map_replace', { component }))\n          } else {\n            // eslint-disable-next-line\n            newArr[0].records.push(i18n.t('model.detail.print_map_add', { component }));\n          }\n        }\n        // eslint-disable-next-line\n        if (type === 'print_pan') newArr[0].records.push(i18n.t('model.detail.print_pan_change', {\n          component,\n        }));\n\n\n        // eslint-disable-next-line\n        if (type === 'print_rotate') newArr[0].records.push(i18n.t('model.detail.print_rotate', { component }));\n        // eslint-disable-next-line\n        if (type === 'print_scale') newArr[0].records.push(i18n.t('model.detail.print_scale', { component }));\n\n        // eslint-disable-next-line\n        if (type === 'print_wrap') newArr[0].records.push(i18n.t('model.detail.print_wrap', { component }));\n        // eslint-disable-next-line\n        if (type === 'print_mirrorH') newArr[0].records.push(i18n.t('model.detail.print_mirrorH', { component }));\n        // eslint-disable-next-line\n        if (type === 'print_mirrorV') newArr[0].records.push(i18n.t('model.detail.print_mirrorV', { component }));\n\n        // newArr[0].records.push('unkonw changed.');\n        if (type === 'environmentSetting') {\n          // console.log('environmentSetting============', )\n          /*\n          {\n              \"component\": \"environmentSetting\",\n              \"newValue\": {\n                  \"envLightIntensity\": 321,\n                  \"envName\": \"RenderLight\",\n                  \"lightGroupSettingChange\": false,\n                  \"otherEnvSetting\": [\n                      {\n                          \"IBLRotationDegree\": 200.00003051757812,\n                          \"envLightIntensity\": 20000,\n                          \"envName\": \"LakeZurich\"\n                      },\n                      {\n                          \"IBLRotationDegree\": 200.00003051757812,\n                          \"envLightIntensity\": 123,\n                          \"envName\": \"LightBooth\"\n                      }\n                  ],\n                  \"showShadow\": true,\n                  \"showSkybox\": false\n              },\n              \"oldValue\": {\n                  \"envLightIntensity\": 123,\n                  \"envName\": \"LightBooth\",\n                  \"showShadow\": true,\n                  \"showSkybox\": false\n              },\n              \"property\": \"environmentSetting\"\n          }\n          */\n          if (item.oldValue.envName !== item.newValue.envName || item.oldValue.envLightIntensity !== item.newValue.envLightIntensity) {\n            if (item.oldValue.envName !== item.newValue.envName) {\n              // eslint-disable-next-line\n              newArr[3].records.push(i18n.t('model.detail.env_name_change',\n                { oldName: item.oldValue.envName, newName: item.newValue.envName, light: item.newValue.envLightIntensity }));\n            } else {\n              newArr[3].records.push(i18n.t('model.detail.env_light_change', { light: item.newValue.envLightIntensity }));\n            }\n          }\n          if (item.newValue.otherEnvSetting && item.newValue.otherEnvSetting.length > 0) {\n            item.newValue.otherEnvSetting.forEach(setting => {\n              setting.envLightIntensity && newArr[3].records.push(i18n.t('model.detail.other_env_light_change',\n                { envName: setting.envName, light: setting.envLightIntensity }));\n              setting.IBLRotationDegree && newArr[3].records.push(i18n.t('model.detail.other_env_ibl_degree_change',\n                { envName: setting.envName }));\n            });\n          }\n          if (item.newValue.lightGroupSettingChange) {\n            newArr[3].records.push(i18n.t('model.detail.lighting_change'));\n          }\n          if (item.newValue.showSkybox !== item.oldValue.showSkybox\n            || item.newValue.backgroundColor !== item.oldValue.backgroundColor) {\n            newArr[3].records.push(i18n.t('model.detail.sky_box_change'));\n          }\n          if (item.newValue.showShadow !== item.oldValue.showShadow) {\n            if (item.newValue.showShadow) {\n              newArr[3].records.push(i18n.t('model.detail.show_shadow_on'));\n            } else {\n              newArr[3].records.push(i18n.t('model.detail.show_shadow_off'));\n            }\n          }\n          if (item.newValue.cameraMode !== item.oldValue.cameraMode) {\n            const cameraModeNames = {\n              0: i18n.t('model.detail.camera_mode_transparency'),\n              1: i18n.t('model.detail.camera_mode_orthographic'),\n            };\n            newArr[4].records.push(i18n.t('model.detail.camera_mode_change', [\n              cameraModeNames[item.oldValue.cameraMode],\n              cameraModeNames[item.newValue.cameraMode],\n            ]));\n          }\n        }\n      });\n\n      return newArr;\n    },\n    async _getVersionDetailInfo(...args) {\n      const version = (await getVersionDetail(...args)).data;\n      // 分别去获取用户信息\n      const usersInfo = (await getUsersInfoByIds([version.modifierId])).data[0];\n      // 将用户信息放入对应的userId中\n      version.userInfo = usersInfo;\n      return version;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-wrapper {\n  display: flex;\n  position: relative;\n\n  .dialog-aside {\n    width: 180px;\n    max-height: 600px;\n    background-color: #f7f7f7;\n  }\n  .dialog-content {\n    flex: 1;\n    max-height: 600px;\n    padding: 20px 30px;\n  }\n}\n\n.content-title {\n  font-size: 18px;\n  color: #333;\n}\n.preview-box {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  margin: 20px 0;\n\n  .shoe-preview {\n    width: 300px;\n    height: 200px;\n  }\n}\n\n.premission-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 20px;\n  right: 30px;\n  z-index: 2;\n  width: 110px;\n  height: 40px;\n  font-size: 14px;\n  color: #848b97;\n  border: none;\n  border-radius: 4px;\n  outline: none;\n  overflow: hidden;\n  cursor: pointer;\n  background-color: transparent;\n\n  &.disabled {\n    cursor: not-allowed;\n    color: #ddd;\n    background-color: transparent;\n  }\n  &:hover {\n    background-color: #eee;\n  }\n  &.disabled:hover {\n    background-color: transparent;\n  }\n\n  .iconfont {\n    margin-right: 5px;\n    font-size: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=74e7e396&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=74e7e396&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74e7e396\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}