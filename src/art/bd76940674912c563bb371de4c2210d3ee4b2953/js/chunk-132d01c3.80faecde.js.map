{"version":3,"sources":["webpack:///./src/views/supplier-backend/goods-manager/Home.vue","webpack:///./src/views/supplier-backend/goods-manager/Home.vue?af64","webpack:///./src/views/supplier-backend/goods-manager/Home.vue?c292","webpack:///./src/components/base/TagsAuto.vue?6744","webpack:///src/components/base/TagsAuto.vue","webpack:///./src/components/base/TagsAuto.vue?3fda","webpack:///./src/components/base/TagsAuto.vue","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/views/supplier-backend/goods-manager/GoodsTable.vue","webpack:///./src/views/supplier-backend/goods-manager/GoodsTable.vue?0bc5","webpack:///./src/views/supplier-backend/goods-manager/GoodsTable.vue?deb4","webpack:///./src/views/supplier-backend/goods-manager/Home.vue?92e2","webpack:///./src/components/base/TagsAuto.vue?9ec2","webpack:///./src/views/supplier-backend/goods-manager/GoodsTable.vue?3b1a","webpack:///./src/views/supplier-backend/preview/materials/Searchbar.tsx","webpack:///./src/views/supplier-backend/goods-manager/GoodsTable.vue?ad5c"],"names":["staticRenderFns","statusTypes","t","goodsManager","name","render","self","this","selectAll","keyword","goodsList","selectItemsIds","paginationInfo","hasChecked","changeStatus","query","$route","$router","handleSelectAllOrNot","handleChangeItem","storeStatus","type","undefined","page","judgeIsActive","currentStatusType","$act","confirmUnpublish","updateList","removeList","height","backgroundColor","width","margin","e","replace","props","String","default","Number","Boolean","setup","root","pageSize","_type","indexOf","params","size","searchs","orders","value","filters","push","axios","method","url","data","res","total","records","initialValue","newRoute","oldRoute","immediate","newVal","length","map","materialId","confirmPublish","$confirm","$message","warning","id","includes","splice","component","_vm","_h","$createElement","_c","_self","staticClass","class","_l","tag","key","attrs","disabled","on","$event","handleClose","_v","_s","inputVisible","ref","maxlength","handleInputConfirm","nativeOn","_k","keyCode","model","callback","$$v","inputValue","expression","tags2","tags","maxTagsLen","showInput","popoverClass","innerInputVisible","innerInputValue","showInnerInput","_e","slot","className","staticStyle","Array","tagColor","tags1","visible","created","Date","getTime","toString","mounted","_initTagsLayout","watch","methods","$nextTick","$emit","tagName","from","forEach","widthTotal","parseFloat","getComputedStyle","visibleWidth","inputWidth","itemNum","i","slice","_interopRequireDefault","Object","defineProperty","exports","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","getOwnPropertyDescriptors","defineProperties","defaultOptions","loadingValue","oldValue","useLoader","loader","oldWatcher","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","_default","goodsTable","components","TagsAuto","required","row","list","imgJson","flat","li","publishStatus","header","scopedSlots","lastUpdateTime","path","searchbar","val"],"mappings":"0QAAI,EAAQA,E,6ICYCC,EAAc,CACzB,OAAKC,EAAE,8CACP,OAAKA,EAAE,kDACP,OAAKA,EAAE,oDACP,OAAKA,EAAE,sDACP,OAAKA,EAAE,iDACP,OAAKA,EAAE,mDAQHC,EAAe,6BAAgB,CACnCC,KAAM,mBACNC,OAFmC,WAE7B,mBACEC,EAAOC,KAGXC,EACEF,EADFE,UAAWC,EACTH,EADSG,QAASC,EAClBJ,EADkBI,UAAWC,EAC7BL,EAD6BK,eAAgBC,EAC7CN,EAD6CM,eAAgBC,EAC7DP,EAD6DO,WAG/DC,EACER,EADFQ,aAAwBC,EACtBT,EADYU,OAAUD,MAASE,EAC/BX,EAD+BW,QAASC,EACxCZ,EADwCY,qBAAsBC,EAC9Db,EAD8Da,iBAAkBC,EAChFd,EADgFc,YAEpF,uBACc,kCADd,gBAEe,sBAFf,eAGgB,OAHhB,MAG6B,uBAH7B,6BAKyB,KALzB,YAUc,CACJL,MAAO,iCACFA,GADA,IAEHM,KAAMpB,EAAY,GAClBQ,aAASa,EACTC,KAAM,MAflB,MAMU,CACE,qBAAsBjB,EAAKkB,cAAcT,EAAO,GAChD,aAAa,IARzB,CAiBY,OAAKb,EAAE,gDAjBnB,4BAkByB,KAlBzB,YAkBwC,CAC9Ba,MAAO,iCACFA,GADA,IAEHM,KAAMpB,EAAY,GAClBQ,aAASa,EACTC,KAAM,MAvBlB,MA0BU,CACE,qBAAsBjB,EAAKkB,cAAcT,EAAO,GAChD,aAAa,IA5BzB,CA8BW,OAAKb,EAAE,oDA9BlB,4BA+ByB,KA/BzB,YA+BwC,CAC9Ba,MAAO,iCACFA,GADA,IAEHM,KAAMpB,EAAY,GAClBQ,aAASa,EACTC,KAAM,MApClB,MAuCU,CACE,qBAAsBjB,EAAKkB,cAAcT,EAAO,GAChD,aAAa,IAzCzB,CA2CW,OAAKb,EAAE,sDA3ClB,4BA4CyB,KA5CzB,YA4CwC,CAC9Ba,MAAO,iCACFA,GADA,IAEHN,aAASa,EACTD,KAAMpB,EAAY,GAClBsB,KAAM,MAjDlB,MAoDU,CACE,qBAAsBjB,EAAKkB,cAAcT,EAAO,GAChD,aAAa,IAtDzB,CAwDW,OAAKb,EAAE,0DAxDlB,cA2DgB,qBA3DhB,gCA4D6B,OAAKA,EAAE,kDA5DpC,OA4D8F,SA5D9F,6BA6D2B,KA7D3B,YA6D0C,CAC9Ba,MAAO,iCACFA,GADA,IAEHM,KAAMpB,EAAY,GAClBQ,aAASa,EACTC,KAAM,MAlEpB,MAoEoB,CACR,2BAA2B,EAC3B,qBAAsBjB,EAAKkB,cAAcT,EAAO,QAtE5D,+BAyE6B,OAAKb,EAAE,kDAzEpC,OAyE8F,SAzE9F,6BA0E2B,KA1E3B,YA0E0C,CAC9Ba,MAAO,iCACFA,GADA,IAEHM,KAAMpB,EAAY,GAClBsB,KAAM,EACNd,aAASa,MA/EvB,MAiFoB,CACR,6BAA6B,EAC7B,qBAAsBhB,EAAKkB,cAAcT,EAAO,YAnF5D,mBAyFmB,qBAzFnB,MAyF8C,oBAzF9C,gBA0FiB,+BA1FjB,+BA2F4BP,GA3F5B,WA4FoBU,GA5FpB,MA4FgD,uBA5FhD,CA4FuE,OAAKhB,EAAE,uDAS1C,IAA3BI,EAAKmB,kBAAL,qBACoB,SADpB,YACkC,UADlC,KACiD,SADjD,UAEY,kBAAMZ,KAAgBP,EAAKoB,KAAKpB,EAAKqB,iBAAkB,GAC9D,OAAKzB,EAAE,0DAHZ,CAII,OAAKA,EAAE,sDACR,KAEwB,IAA3BI,EAAKmB,kBAAL,qBACoB,SADpB,YACkC,UADlC,KACiD,SADjD,UAEY,kBAAMZ,KAAgBP,EAAKoB,KAAKpB,EAAKsB,eAFjD,CAE+D,OAAK1B,EAAE,uDACnE,KAEwB,IAA3BI,EAAKmB,kBAAL,qBACoB,SADpB,YACkC,UADlC,KACiD,SADjD,UAEY,kBAAMZ,KAAgBP,EAAKoB,KAAKpB,EAAKuB,eAFjD,CAE+D,OAAK3B,EAAE,mDACnE,KAIF,EAAII,EAAKmB,mBAAqBnB,EAAKmB,kBAAoB,EAAvD,eACgB,CACZK,OAAQ,OAAQC,gBAAiB,OAAQC,MAAO,MAAOC,OAAQ,YACrD,KAEa,IAA3B3B,EAAKmB,mBAAsD,IAA3BnB,EAAKmB,kBAAtC,qBACoB,SADpB,YACkC,UADlC,KACiD,SADjD,UACkE,kBAAMZ,KAAgBC,EAAa,MADrG,CAEI,OAAKZ,EAAE,qDACR,KAEyB,IAA3BI,EAAKmB,mBAAsD,IAA3BnB,EAAKmB,kBAAtC,qBACoB,SADpB,YACkC,UADlC,KACiD,SADjD,UACkE,kBAAMZ,KAAgBC,EAAa,MADrG,CAEI,OAAKZ,EAAE,yDACR,OArIZ,+BAyI0BO,GAzI1B,WAyI6C,SAACyB,GACtCjB,EAAQkB,QAAQ,CACdpB,MAAO,iCACFA,GADA,IAEHN,QAASyB,QA7IrB,MAgJe,gBAhJf,iCAmJ2BxB,EAnJ3B,eAmJsDC,EAnJtD,eAoJkDC,EApJlD,YAqJmBQ,GArJnB,WAoJgBD,QAKlBiB,MAAO,CACLf,KAAM,CACJA,KAAMgB,OACNC,QAASrC,EAAY,IAGvBsB,KAAM,CACJF,KAAMkB,OACND,QAAS,GAGX7B,QAAS,CACPY,KAAMgB,QAERjB,YAAa,CACXC,KAAMmB,QACNF,aAAShB,IAGbmB,MAvLmC,SAuL7BL,EAvL6B,GAuLd,IAANM,EAAM,EAANA,KACP9B,EAAiB,iBAAI,MACrB+B,EAAW,GACXjC,EAAY,IAAS,yDAAC,4HAASW,KAAMuB,OAAf,MAAuB3C,EAAY,GAAnC,EAAuCsB,EAAvC,EAAuCA,KAC3DF,EAAOpB,EAAY4C,QAAQD,GAE3BE,EAAS,CACbvB,KAAMA,GAAQ,EACdwB,KAAMJ,EACNK,QAASZ,EAAM3B,QACfwC,OAAQ,CACN7C,KAAM,iBACN8C,OAAO,GAETC,aAA+B7B,IAAtBc,EAAMhB,YAA4B,CAAC,CAC1ChB,KAAM,cACN8C,MAAOd,EAAMhB,cACV,MAEHC,EAAO,GAhBe,wBAiBX,IAATA,GACFyB,EAAOK,QAAQC,KAAK,CAClBhD,KAAM,gBACN8C,MAAO7B,IApBa,SAwBX,OAAAgC,EAAA,MAAM,CACjBC,OAAQ,OACRC,IAAK,2BACLC,KAAMV,IA3BgB,OAwBxBW,EAxBwB,OA4BpBD,KA5BoB,2BA6BN,IAATnC,EA7Be,kCA+BX,OAAAgC,EAAA,MAAM,CACjBC,OAAQ,OACRC,IAAK,kCACLC,KAAMV,IAlCgB,QA+BxBW,EA/BwB,OAmCpBD,KAnCoB,2BAoCN,IAATnC,EApCe,kCAsCX,OAAAgC,EAAA,MAAM,CACjBC,OAAQ,OACRC,IAAK,kCACLC,KAAMV,IAzCgB,QAsCxBW,EAtCwB,OA0CpBD,KA1CoB,WA4CP,WAAf,eAAOC,GA5Ce,0BA6CAA,EAAhBC,EA7CgB,EA6ChBA,MAAOX,EA7CS,EA6CTA,KACfnC,EAAesC,MAAQ,CACrBQ,QACAX,QAhDsB,kBAkDjBU,EAAIE,SAlDa,iCAoDnB,IApDmB,4CAAD,sDAqDxBvB,EAAO,CACRwB,aAAc,KAEVpD,EAAY,kBAAI,GAChBG,EAAiB,iBAAI,IAC3B,oBAAM,kBAAM+B,EAAM1B,UAAQ,SAAC6C,EAAUC,IACvB,OAARD,QAAQ,IAARA,OAAA,EAAAA,EAAU9C,MAAMM,SAAhB,OAAyByC,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAU/C,MAAMM,QAChC,OAARwC,QAAQ,IAARA,OAAA,EAAAA,EAAU9C,MAAMQ,SAAhB,OAAyBuC,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAU/C,MAAMQ,QAC5Cf,EAAU0C,OAAQ,EAClBvC,EAAeuC,MAAQ,MAExB,CACDa,WAAW,IAEb,IAAMtC,EAAoB,uBAAS,kBAAMxB,EAAY4C,QAAQT,EAAMf,SAEnE,SAASH,EAAqB8C,GAAe,MACvC,UAACtD,EAAUwC,aAAX,OAAC,EAAiBe,SACtBzD,EAAU0C,MAAQc,EAEhBrD,EAAeuC,MADbc,EACqBtD,EAAUwC,MAAMgB,KAAI,SAAChC,GAAD,OAA+BA,EAAEiC,cAErD,IA9ER,SAkFJC,IAlFI,6FAkFnB,8GACQ1B,EAAK2B,SAAS,OAAKnE,EAAE,2DAD7B,uBAEqB,OAAAmD,EAAA,MAAM,CACvBC,OAAQ,OACRC,IAAK,kCACLC,KAAM7C,EAAeuC,QALzB,cAMMM,KACJ,iBAPF,2CAlFmB,iCA4FJ7B,IA5FI,6FA4FnB,8GACQe,EAAK2B,SAAS,OAAKnE,EAAE,6DAD7B,uBAEqB,OAAAmD,EAAA,MAAM,CACvBC,OAAQ,OACRC,IAAK,mCACLC,KAAM7C,EAAeuC,QALzB,cAMMM,KACJ,iBAPF,2CA5FmB,iCAsGJ1C,EAtGI,gGAsGnB,WAA4BO,GAA5B,8FACQkC,EAAe,IAATlC,EACR,mCACA,oCAHN,SAKqB,OAAAgC,EAAA,MAAM,CACvBC,OAAQ,OACRC,MACAC,KAAM7C,EAAeuC,QARzB,cASMM,KACJ,iBAVF,2CAtGmB,iCAmHJ5B,IAnHI,6FAmHnB,8GACQc,EAAK2B,SAAS,OAAKnE,EAAE,8DAD7B,uBAEqB,OAAAmD,EAAA,MAAM,CACvBC,OAAQ,OACRC,IAAK,iCACLC,KAAM7C,EAAeuC,QALzB,cAMMM,KACJ,iBAPF,2CAnHmB,iCA6HJ3B,IA7HI,6FA6HnB,8GACQa,EAAK2B,SAAS,OAAKnE,EAAE,0DAD7B,uBAEqB,OAAAmD,EAAA,MAAM,CACvBC,OAAQ,OACRC,IAAK,gCACLC,KAAM7C,EAAeuC,QALzB,cAMMM,KACJ,iBAPF,2CA7HmB,wBAuInB,SAAS3C,IAIP,OAHKF,EAAeuC,MAAMe,QACxBvB,EAAK4B,SAASC,QAAQ,OAAKrE,EAAE,qEAEtBS,EAAeuC,MAAMe,OAGhC,MAAO,CACLxC,oBACAjB,YACAG,iBAEAD,YACAE,iBAEAE,eACAI,uBACAU,aACAC,aACAuC,iBACAzC,mBACAd,aACAM,iBAAkB,SAACqD,GACb7D,EAAeuC,MAAMuB,SAASD,IAChC7D,EAAeuC,MAAMwB,OAAO/D,EAAeuC,MAAML,QAAQ2B,GAAK,GAC1DhE,EAAU0C,QACZ1C,EAAU0C,OAAQ,KAGpBvC,EAAeuC,MAAME,KAAKoB,GACtB9D,EAAUwC,MAAMgB,KAClB,SAAChC,GAAD,OAAuBA,EAAEsC,MACzBP,SAAWtD,EAAeuC,MAAMe,SAChCzD,EAAU0C,OAAQ,KAIxB1B,cAAe,SAACT,EAA+CM,GAC7D,QAAa,IAATA,GAAe,OAACN,QAAD,IAACA,KAAOM,MAAQN,EAAMM,OAASpB,EAAY,MAE/C,IAAToB,GAAcN,EAAMM,OAASpB,EAAY,KAEhC,IAAToB,GAAcN,EAAMM,OAASpB,EAAY,KAEhC,IAAToB,GAAcN,EAAMM,OAASpB,EAAY,KAEhC,IAAToB,GAAcN,EAAMM,OAASpB,EAAY,IAEhC,IAAToB,GAAcN,EAAMM,OAASpB,EAAY,YAQxC,IChZqZ,I,wBFQha0E,EAAY,eACd,EACA,EACA3E,GACA,EACA,KACA,WACA,MAIa,aAAA2E,E,6CGnBf,IAAItE,EAAS,WAAa,IAAIuE,EAAIrE,KAASsE,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAMN,EAAI7B,KAAQ,MAAQ6B,EAAI7B,KAAO,IAAI,CAACgC,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACL,EAAIO,GAAIP,EAAS,OAAE,SAASQ,GAAK,OAAOL,EAAG,SAAS,CAACM,IAAID,EAAIE,MAAM,CAAC,UAAYV,EAAIW,SAAS,uBAAsB,GAAOC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,YAAYN,MAAQ,CAACL,EAAG,OAAO,CAACE,YAAY,cAAcC,MAAM,CAAC,eAAiBN,EAAIW,UAAUD,MAAM,CAAC,MAAQF,IAAM,CAACR,EAAIe,GAAGf,EAAIgB,GAAGR,WAAcR,EAAIiB,aAA83Cd,EAAG,WAAW,CAACe,IAAI,eAAeb,YAAY,gBAAgBK,MAAM,CAAC,KAAO,OAAO,UAAYV,EAAImB,WAAWP,GAAG,CAAC,KAAOZ,EAAIoB,oBAAoBC,SAAS,CAAC,MAAQ,SAASR,GAAQ,OAAIA,EAAOpE,KAAKwB,QAAQ,QAAQ+B,EAAIsB,GAAGT,EAAOU,QAAQ,QAAQ,GAAGV,EAAOJ,IAAI,SAAkB,KAAcT,EAAIoB,mBAAmBP,KAAUW,MAAM,CAAClD,MAAO0B,EAAc,WAAEyB,SAAS,SAAUC,GAAM1B,EAAI2B,WAAWD,GAAKE,WAAW,gBAAvwDzB,EAAG,MAAM,EAAGH,EAAI6B,MAAMxC,SAAWW,EAAIW,UAAYX,EAAI8B,KAAKzC,OAASW,EAAI+B,WAAY5B,EAAG,IAAI,CAACE,YAAY,oBAAoBO,GAAG,CAAC,MAAQZ,EAAIgC,aAAchC,EAAI6B,MAAY,OAAE1B,EAAG,aAAa,CAACO,MAAM,CAAC,UAAY,SAAS,QAAU,QAAQ,MAAQ,QAAQ,CAACP,EAAG,MAAM,CAACE,YAAY,2CAA2CC,MAAM,CAACN,EAAI7B,KAAQ,MAAQ6B,EAAI7B,KAAO,GAAI6B,EAAIiC,eAAe,CAACjC,EAAIO,GAAIP,EAAS,OAAE,SAASQ,GAAK,OAAOL,EAAG,SAAS,CAACM,IAAID,EAAIE,MAAM,CAAC,UAAYV,EAAIW,SAAS,uBAAsB,GAAOC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,YAAYN,MAAQ,CAACL,EAAG,OAAO,CAACE,YAAY,cAAcC,MAAM,CAAC,eAAiBN,EAAIW,UAAUD,MAAM,CAAC,MAAQF,IAAM,CAACR,EAAIe,GAAGf,EAAIgB,GAAGR,YAAcR,EAAIW,UAAYX,EAAI8B,KAAKzC,OAASW,EAAI+B,WAAY,CAAG/B,EAAIkC,kBAA6F/B,EAAG,WAAW,CAACe,IAAI,aAAab,YAAY,gBAAgBK,MAAM,CAAC,KAAO,OAAO,UAAYV,EAAImB,WAAWP,GAAG,CAAC,KAAOZ,EAAIoB,oBAAoBC,SAAS,CAAC,MAAQ,SAASR,GAAQ,OAAIA,EAAOpE,KAAKwB,QAAQ,QAAQ+B,EAAIsB,GAAGT,EAAOU,QAAQ,QAAQ,GAAGV,EAAOJ,IAAI,SAAkB,KAAcT,EAAIoB,mBAAmBP,KAAUW,MAAM,CAAClD,MAAO0B,EAAmB,gBAAEyB,SAAS,SAAUC,GAAM1B,EAAImC,gBAAgBT,GAAKE,WAAW,qBAAzezB,EAAG,IAAI,CAACE,YAAY,oBAAoBO,GAAG,CAAC,MAAQZ,EAAIoC,mBAAucpC,EAAIqC,MAAM,GAAGlC,EAAG,IAAI,CAACE,YAAY,yBAAyBK,MAAM,CAAC,KAAO,aAAa4B,KAAK,gBAAgBtC,EAAIqC,MAAM,IAA2a,GAAGlC,EAAG,MAAM,CAACG,MAAO,QAAUN,EAAIuC,UAAWC,YAAY,CAAC,WAAa,WAAWxC,EAAIO,GAAIP,EAAQ,MAAE,SAASQ,GAAK,OAAOL,EAAG,SAAS,CAACM,IAAID,EAAIH,YAAY,WAAWK,MAAM,CAAC,SAAW,KAAK,CAACV,EAAIe,GAAG,IAAIf,EAAIgB,GAAGR,GAAK,UAAS,MACjiFpF,EAAkB,G,sIC0EtB,uBACEoC,MAAO,CACLoB,KAAM,CACJnC,KAAMgG,MACN/E,QAFN,WAGQ,MAAO,KAGXiD,SAAU,CACRlE,KAAMmB,QACNF,SAAS,GAGXyD,UAAW,CACT1E,KAAMkB,OACND,QAAS,KAGXqE,WAAY,CACVtF,KAAMkB,OACND,QAAS,IAGXS,KAAM,CACJ1B,KAAMgB,OACNC,QAAS,IAGXgF,SAAU,CACRjG,KAAMgB,QAERwE,aAAc,CACZxF,KAAMgB,SAGVmB,KAnCF,WAoCI,MAAO,CACLkD,KAAMnG,KAAKiD,KACX+D,MAAO,GACPd,MAAO,GACPZ,cAAc,EACdiB,mBAAmB,EACnBP,WAAY,GACZQ,gBAAiB,GACjBI,UAAW,GACXK,SAAS,IAGbC,QAhDF,WAiDIlH,KAAK4G,WAAY,IAAIO,MAAOC,UAAUC,YAExCC,QAnDF,WAoDItH,KAAKuH,mBAEPC,MAAO,CACLvE,KADJ,SACA,GACMjD,KAAKmG,KAAOxD,EACZ3C,KAAKuH,oBAGTE,QAAS,CACPtC,YADJ,SACA,cACMnF,KAAKmG,KAAKhC,OAAOnE,KAAKmG,KAAK7D,QAAQuC,GAAM,GACzC7E,KAAK0H,WAAU,WACb,EAAR,qBAEM1H,KAAK2H,MAAM,SAAU9C,GACrB7E,KAAK2H,MAAM,SAAU3H,KAAKmG,OAE5BV,mBATJ,WASA,WACA,wCACUmC,IAAY5H,KAAKmG,KAAKjC,SAAS0D,KACjC5H,KAAKmG,KAAKtD,KAAK+E,GACf5H,KAAK0H,WAAU,WACb,EAAV,qBAEQ1H,KAAK2H,MAAM,SAAUC,GACrB5H,KAAK2H,MAAM,SAAU3H,KAAKmG,OAE5BnG,KAAKsF,cAAe,EACpBtF,KAAKuG,mBAAoB,EACzBvG,KAAKgG,WAAa,GAClBhG,KAAKwG,gBAAkB,IAEzBH,UAxBJ,WAwBA,WACMrG,KAAKsF,cAAe,EACpBtF,KAAK0H,WAAU,WACb,EAAR,2CAGIjB,eA9BJ,WA8BA,WACMzG,KAAKuG,mBAAoB,EACzBvG,KAAK0H,WAAU,WACb,EAAR,yCAGIH,gBApCJ,WAoCA,WACA,0EACA,kDACA,wCACA,sBACA,KACA,IACA,IAEMT,MAAMe,KAAK1B,GAAM2B,SAAQ,SAA/B,KACQC,GAAcC,WAAWC,iBAAiBpD,GAAKpD,MAAO,IAClDsG,GAAcG,EAAeC,EAAa,GAAtD,KACUC,EAAUC,EAEV,EAAV,cAIMrI,KAAKgH,MAAQhH,KAAKmG,KAAKmC,MAAM,EAAGF,EAAU,GAC1CpI,KAAKkG,MAAQlG,KAAKmG,KAAKmC,MAAMF,EAAU,OC9LoT,I,wBCQ7VhE,EAAY,eACd,EACAtE,EACAL,GACA,EACA,KACA,WACA,MAIa,OAAA2E,E,6CCjBf,IAAImE,EAAyB,EAAQ,QAErC,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAERC,OAAOC,eAAeC,EAAS,aAAc,CAC3C/F,OAAO,IAET+F,EAAQ3G,aAAU,EAElB,IAAI4G,EAAeJ,EAAuB,EAAQ,SAElD,EAAQ,QAER,IAAIK,EAAqBL,EAAuB,EAAQ,SAEpDM,EAAmBN,EAAuB,EAAQ,SAElDO,EAAkB,EAAQ,QAE9B,SAASC,EAAQC,EAAQC,GAAkB,IAAIC,EAAOV,OAAOU,KAAKF,GAAS,GAAIR,OAAOW,sBAAuB,CAAE,IAAIC,EAAUZ,OAAOW,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOd,OAAOe,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKrG,KAAK4G,MAAMP,EAAME,GAAY,OAAOF,EAE9U,SAASQ,EAAcC,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIuB,UAAUlG,OAAQ2E,IAAK,CAAE,IAAIwB,EAAyB,MAAhBD,UAAUvB,GAAauB,UAAUvB,GAAK,GAAQA,EAAI,EAAKU,EAAQP,OAAOqB,IAAS,GAAM/B,SAAQ,SAAUhD,IAAO,EAAI+D,EAAiB9G,SAAS4H,EAAQ7E,EAAK+E,EAAO/E,OAAsB0D,OAAOsB,0BAA6BtB,OAAOuB,iBAAiBJ,EAAQnB,OAAOsB,0BAA0BD,IAAmBd,EAAQP,OAAOqB,IAAS/B,SAAQ,SAAUhD,GAAO0D,OAAOC,eAAekB,EAAQ7E,EAAK0D,OAAOe,yBAAyBM,EAAQ/E,OAAe,OAAO6E,EAE3hB,IAAIK,EAAiB,CACnB3G,kBAActC,EACdkJ,aAAc,SAAsBC,GAClC,OAAOA,IAIX,SAASC,EAAUC,GACjB,IA8DIC,EA9DA9H,EAASqH,UAAUlG,OAAS,QAAsB3C,IAAjB6I,UAAU,GAAmBA,UAAU,GAAK,GAE7EU,EAAOV,UAAUlG,OAAS,QAAsB3C,IAAjB6I,UAAU,GAAmBA,UAAU,GAAKI,EAC3EO,EAAoBD,EAAKjH,aACzBA,OAAqC,IAAtBkH,EAA+BP,EAAe3G,aAAekH,EAC5EC,EAAoBF,EAAKL,aACzBA,OAAqC,IAAtBO,EAA+BR,EAAeC,aAAeO,EAE5EC,GAAI,EAAI3B,EAAgB4B,UAAUnI,GAElCoI,EAAc,WAChB,OAAOjB,EAAc,GAAIe,IAGvBG,GAAY,EAAI9B,EAAgBvD,KAAKlC,GACrCwH,GAAM,EAAI/B,EAAgBvD,KAAK,MAC/BuF,GAAO,EAAIhC,EAAgBiC,sBAC3BC,GAAmB,EAAIlC,EAAgBvD,OAC3C,GAAKuF,EAiFL,OAhFAA,EAAKG,IAAI,gBAA6B,EAAIrC,EAAmB7G,SAAuB4G,EAAa5G,QAAQmJ,MAAK,SAASC,IACrH,OAAOxC,EAAa5G,QAAQqJ,MAAK,SAAmBC,GAClD,MAAO,EACL,OAAQA,EAAUC,KAAOD,EAAUE,MACjC,KAAK,EA8BH,OA7BAP,EAAiBrI,MAAQyH,EAAOO,MAChC,EAAI7B,EAAgBtB,OAAOwD,EAA+B,WACxD,IAAIQ,GAAQ,EAAI5C,EAAmB7G,SAAuB4G,EAAa5G,QAAQmJ,MAAK,SAASO,EAAQC,GACnG,OAAO/C,EAAa5G,QAAQqJ,MAAK,SAAkBO,GACjD,MAAO,EACL,OAAQA,EAASL,KAAOK,EAASJ,MAC/B,KAAK,EAGH,OAFAX,EAAUjI,MAAQsH,EAAaW,EAAUjI,OACzCgJ,EAASJ,KAAO,EACTG,EAET,KAAK,EACHb,EAAIlI,MAAQgJ,EAASC,KAEvB,KAAK,EACL,IAAK,MACH,OAAOD,EAASE,UAGrBJ,OAGL,OAAO,SAAUK,GACf,OAAON,EAAM/B,MAAMzJ,KAAM4J,YAtB6B,GAwBrD,CACHpG,WAAW,IAEb6H,EAAUE,KAAO,EACVP,EAAiBrI,MAE1B,KAAK,EACL,IAAK,MACH,OAAO0I,EAAUQ,UAGtBV,SAGL,EAAIrC,EAAgBtB,OAAOmD,GAAa,SAAUoB,GAC5C1B,GACFA,IAGFW,EAAiBrI,MAAQyH,EAAO2B,OAElC,EAAIjD,EAAgBtB,OAAOqD,EAAkB,WAC3C,IAAImB,GAAQ,EAAIpD,EAAmB7G,SAAuB4G,EAAa5G,QAAQmJ,MAAK,SAASe,EAASC,GACpG,OAAOvD,EAAa5G,QAAQqJ,MAAK,SAAmBe,GAClD,MAAO,EACL,OAAQA,EAAUb,KAAOa,EAAUZ,MACjC,KAAK,GACC,EAAIzC,EAAgBsD,OAAOF,GAC7B7B,GAAa,EAAIvB,EAAgBtB,OAAO0E,GAAM,SAAUG,GACtDzB,EAAUjI,MAAQ0J,IACjB,CACD7I,WAAW,IAGboH,EAAUjI,MAAQuJ,EAGtB,KAAK,EACL,IAAK,MACH,OAAOC,EAAUN,UAGtBI,OAGL,OAAO,SAAUK,GACf,OAAON,EAAMvC,MAAMzJ,KAAM4J,YAzBgB,IA6BtCgB,EAGT,IAAI2B,EAAWpC,EACfzB,EAAQ3G,QAAUwK,G,yLCpJd,EAAQ9M,E,yGCSN+M,EAAa,6BAAgB,CACjC3M,KAAM,aACN4M,WAAY,CACVC,WAAA,MAGF7K,MAAO,CACL1B,UAAW,CACTW,KAAMgG,OAER1G,eAAgB,CACdU,KAAMgG,MACN6F,UAAU,GAEZtM,eAAgB,CACdS,KAAM0H,QAER3H,YAAa,CACXC,KAAMmB,QACNF,aAAShB,IAGbjB,OAtBiC,WAsB3B,uBACEC,EAAOC,KACLU,EAAoBX,EAApBW,QAASD,EAAWV,EAAXU,OACjB,0BACiB,yBADjB,2BAEoBV,EAAKI,YAFzB,mCAI6B,GAJ7B,MASe,OATf,YAI6C,CACrC4B,QADqC,YACjB,IAAV6K,EAAU,EAAVA,IACR,qCAA2B7M,EAAKK,eAAe8D,SAAS0I,EAAIhJ,aAA5D,WACY,kBAAM7D,EAAK4H,MAAM,SAAUiF,EAAIhJ,oBAPrD,kCAce,OAAKjE,EAAE,iDAdtB,YAcoF,CAC1EoC,QAD0E,YACtD,IAAV6K,EAAU,EAAVA,IACFC,EAAOD,EAAIE,QACjB,yCAAwBD,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAME,MAA9B,MAA0C,mCAjBtD,kCAqB8B,OAAKpN,EAAE,+CArBrC,KAsBa,eAtBb,gEAyB8B,OAAKA,EAAE,uCAzBrC,MA0Bc,OA1Bd,YA2BqB,CACXoC,QADW,YACS,IAAV6K,EAAU,EAAVA,IACFC,EAAOD,EAAIzG,KAAKxC,KAAI,SAACkB,GACzB,MAAmB,kBAARA,EACF,CAAEA,OAEJA,KAET,qBACO+H,EAAI3I,GADX,wBAGO,QAHP,aAKe,2BALf,KAMQ4I,EAAKlJ,KAAI,SAACqJ,GAAD,OAAaA,EAAGnI,QANjC,MAIQ,iBAJR,IAOM,aA1ClB,kCA8C8B,OAAKlF,EAAE,+CA9CrC,KA+Ca,cA/Cb,gEAiD8B,OAAKA,EAAE,iDAjDrC,KAkDa,iBAlDb,YAkD0C,CAChCoC,QADgC,YACO,IAAtBkL,EAAsB,EAA7BL,IAAOK,cACf,gBACG,iBAAYA,SArD3B,kCA2Dc,OA3Dd,YA4DqB,CACXlL,QADW,YAC6C,IAAvClB,EAAuC,EAA9C+L,IAAO/L,YACf,gBACGA,EACG,OAAKlB,EAAE,2CACP,OAAKA,EAAE,kDAIfuN,OATW,WAUT,gDACuB,QADvB,UACyC,UADzC,YAC6D,SAAC,GAC1DxM,EAAQkB,QAAQ,CACdpB,MAAO,iCACFT,EAAKU,OAAOD,OADZ,IAEHK,YAAW,OAAE,QAAF,IAAE,OAAF,EAAE,EAASwG,kBAL9B,iBASgB,qBAThB,EAU4B,IAArBtH,EAAKc,YAAuB,OAAKlB,EAAE,4CACb,IAArBI,EAAKc,YAAwB,OAAKlB,EAAE,+CAChC,OAAKA,EAAE,mDAZnB,aAce,wBAdf,MAc6C,qCAd7C,2BAgB2B,WAhB3B,MAgB4C,uBAhB5C,2CAiBiCoB,IAjBjC,mBAkBuCA,IAArBhB,EAAKc,YAA4B,gBAAkB,KAlBrE,UAmBe,OAAKlB,EAAE,+CAnBtB,sCAqBiC,IArBjC,eAsBuC,IAArBI,EAAKc,YAAuB,gBAAkB,KAtBhE,UAuBe,OAAKlB,EAAE,+CAvBtB,sCAyBiC,IAzBjC,eA0BuC,IAArBI,EAAKc,YAAwB,gBAAkB,KA1BjE,UA2Be,OAAKlB,EAAE,6DAjGlC,uCA0G8B,OAAKA,EAAE,gDACzB,CACFwN,YAAa,CACXpL,QAAS,YAAwD,IAA9CqL,EAA8C,EAArDR,IAAOQ,eACjB,OAAO,eAAK,IAAIjG,KAAKiG,GAAiB,uBA9GpD,0EAoH6B,IApH7B,YAoH6C,CACrCrL,QADqC,YACQ,QAAnC6K,IAAmC,IAA5BhJ,kBAA4B,MAAf,GAAe,MAAXK,UAAW,MAAN,GAAM,EAC3C,sBAAkB,QAAlB,gBACa,eADb,UACqC,WACjCvD,EAAQmC,KAAK,CACXwK,KAAM,GAAF,OAAK,iBAAS,MAAQ,GAAtB,gDACJ7M,MAAO,iCACFC,EAAOD,OADP,IAEHoD,aACAK,YAPR,CAWK,OAAKtE,EAAE,yCAXZ,eAaa,YAbb,UAakC,WAC9Be,EAAQmC,KAAK,CACXwK,KAAM,GAAF,OAAK,iBAAS,MAAQ,GAAtB,8CACJ7M,MAAO,CACLoD,aACAK,WAlBR,CAsBK,OAAKtE,EAAE,iDA5ItB,eAoJe,6BApJf,MAoJkD,eApJlD,gDAqJuC,oBArJvC,OAsJe,UAAAI,EAAKM,sBAAL,eAAqB8C,QAAS,EAtJ7C,aAuJmB,UAAApD,EAAKM,sBAAL,eAAqBmC,OAAQ,GAvJhD,gBAwJuBzC,EAAKU,OAAOD,MAAMQ,MAAQ,GAxJjD,qBAyJ0B,SAACA,GACjBN,EAAQkB,QAAQ,CACdpB,MAAO,iCACFT,EAAKU,OAAOD,OADZ,IAEHQ,KAAMA,EAAKqG,0BAUd,ICzM2Z,I,kCFStajD,EAAY,eACd,EACA,EACA3E,GACA,EACA,KACA,WACA,MAIa,aAAA2E,E,oEGpBf,W,oCCAA,W,kCCAA,W,kCCAA,mCAGMkJ,EAAY,6BAAgB,CAChCzL,MAAO,CACL3B,QAAS,CACPY,KAAMgB,SAIVhC,OAPgC,WAO1B,mBACEC,EAAOC,KACb,iCAAsB,QAAtB,MAAqCD,EAAKG,QAA1C,cAEY,iBAFZ,YAE0C,OAAKP,EAAE,oCAFjD,UACS,SAAC4N,GAAD,OAAiBxN,EAAK4H,MAAM,SAAU4F,UAMpC,gB,yDCnBf","file":"js/chunk-132d01c3.80faecde.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./Home.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Home.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=cdb60e9e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cdb60e9e\",\n  null\n  \n)\n\nexport default component.exports","\nimport {\n  defineComponent, ref, watch, computed,\n} from '@vue/composition-api';\nimport i18n from 'i18next';\nimport { Dictionary } from 'vue-router/types/router';\nimport refreshRoute from '@/router/utils/refresh-route';\nimport useLoader from '_/composables/use-loader';\nimport Searchbar from '../preview/materials/Searchbar';\nimport axios from '../../../api/axios';\nimport GoodsTable from './GoodsTable.vue';\n\nexport const statusTypes = [\n  i18n.t('supplier-backend.preview.goods-manager.all'),\n  i18n.t('supplier-backend.preview.goods-manager.watting'),\n  i18n.t('supplier-backend.preview.goods-manager.published'),\n  i18n.t('supplier-backend.preview.goods-manager.unpublished'),\n  i18n.t('supplier-backend.preview.goods-manager.update'),\n  i18n.t('supplier-backend.preview.goods-manager.deleted'),\n];\n\nexport type pagination = {\n  total: number,\n  size?: number,\n};\n\nconst goodsManager = defineComponent({\n  name: 'GoodsManagerHome',\n  render() {\n    const self = this as InstanceType<typeof goodsManager>;\n    let {\n      // eslint-disable-next-line prefer-const\n      selectAll, keyword, goodsList, selectItemsIds, paginationInfo, hasChecked,\n    } = self;\n    const {\n      changeStatus, $route: { query }, $router, handleSelectAllOrNot, handleChangeItem, storeStatus,\n    } = self;\n    return (\n      <main style='width: 100%; background: #fff;'>\n        <nav class='flex-space-between'>\n          <ul class=\"flex\" style='padding: 20px 30px;'>\n            {/* 高亮：exact覆盖type和page这两个query的情况，另外query为空时高亮也为all */}\n            <router-link tag='li' exact class={\n              {\n                'router-link-active': self.judgeIsActive(query, 0),\n                'link-item': true,\n              }\n            } to={{\n              query: {\n                ...query,\n                type: statusTypes[0],\n                keyword: undefined,\n                page: 1,\n              },\n            }}>{i18n.t('supplier-backend.preview.goods-manager.all')}</router-link>\n            <router-link tag='li' exact to={{\n              query: {\n                ...query,\n                type: statusTypes[1],\n                keyword: undefined,\n                page: 1,\n              },\n            }} class={\n              {\n                'router-link-active': self.judgeIsActive(query, 1),\n                'link-item': true,\n              }\n            }>{i18n.t('supplier-backend.preview.goods-manager.watting')}</router-link>\n            <router-link tag='li' exact to={{\n              query: {\n                ...query,\n                type: statusTypes[2],\n                keyword: undefined,\n                page: 1,\n              },\n            }} class={\n              {\n                'router-link-active': self.judgeIsActive(query, 2),\n                'link-item': true,\n              }\n            }>{i18n.t('supplier-backend.preview.goods-manager.published')}</router-link>\n            <router-link tag='li' exact to={{\n              query: {\n                ...query,\n                keyword: undefined,\n                type: statusTypes[3],\n                page: 1,\n              },\n            }} class={\n              {\n                'router-link-active': self.judgeIsActive(query, 3),\n                'link-item': true,\n              }\n            }>{i18n.t('supplier-backend.preview.goods-manager.unpublished')}</router-link>\n          </ul>\n\n          <ul class='flex icon-wrapper'>\n            <el-tooltip content={i18n.t('supplier-backend.preview.goods-manager.updates')} effect=\"dark\" >\n              <router-link tag='li' exact to={{\n                query: {\n                  ...query,\n                  type: statusTypes[4],\n                  keyword: undefined,\n                  page: 1,\n                },\n              }} class={{\n                'iconfont icondaigengxin': true,\n                'router-link-active': self.judgeIsActive(query, 4),\n              }}></router-link>\n            </el-tooltip>\n            <el-tooltip content={i18n.t('supplier-backend.preview.goods-manager.deleted')} effect=\"dark\">\n              <router-link tag='li' exact to={{\n                query: {\n                  ...query,\n                  type: statusTypes[5],\n                  page: 1,\n                  keyword: undefined,\n                },\n              }} class={{\n                'iconfont icon-file-delete': true,\n                'router-link-active': self.judgeIsActive(query, 5),\n              }}></router-link>\n            </el-tooltip>\n          </ul>\n        </nav>\n\n        <section class='flex-space-between' style='padding: 0 30px;'>\n          <div class='operation-group flex-center'>\n            <el-checkbox value={selectAll}\n              onchange={handleSelectAllOrNot} style='margin-right: 30px;'>{i18n.t('supplier-backend.preview.goods-manager.select_all')}</el-checkbox>\n            {/**\n  {self.currentStatusType === 3 || self.currentStatusType === 1\n    ? <el-button class='op-btn' type='primary' size='small'\n    onclick={() => hasChecked() && self.$act(self.confirmPublish, [],\n      i18n.t('supplier-backend.preview.goods-manager.published'))}>{ i18n.t('supplier-backend.preview.goods-manager.publish') }</el-button>\n    : null\n  }\n*/}\n            {self.currentStatusType === 2\n              ? <el-button class='op-btn' type='primary' size='small'\n                onclick={() => hasChecked() && self.$act(self.confirmUnpublish, [],\n                  i18n.t('supplier-backend.preview.goods-manager.unpublished'))}>\n                {i18n.t('supplier-backend.preview.goods-manager.unpublish')}</el-button>\n              : null\n            }\n            {self.currentStatusType === 4\n              ? <el-button class='op-btn' type='primary' size='small'\n                onclick={() => hasChecked() && self.$act(self.updateList)}>{i18n.t('supplier-backend.preview.goods-manager.update_now')}</el-button>\n              : null\n            }\n            {self.currentStatusType === 5\n              ? <el-button class='op-btn' type='primary' size='small'\n                onclick={() => hasChecked() && self.$act(self.removeList)}>{i18n.t('supplier-backend.preview.goods-manager.remove')}</el-button>\n              : null\n            }\n            {\n              // eslint-disable-next-line\n              0 < self.currentStatusType && self.currentStatusType < 4\n                ? <div style={{\n                  height: '26px', backgroundColor: '#eee', width: '1px', margin: '0 20px',\n                }}></div> : null\n            }\n            {(self.currentStatusType !== 4 && self.currentStatusType !== 5)\n              ? <el-button class='op-btn' type='primary' size='small' onclick={() => hasChecked() && changeStatus(3)}>\n                {i18n.t('supplier-backend.preview.goods-manager.in_stock')}</el-button>\n              : null\n            }\n            {(self.currentStatusType !== 4 && self.currentStatusType !== 5)\n              ? <el-button class='op-btn' type='primary' size='small' onclick={() => hasChecked() && changeStatus(4)}>\n                {i18n.t('supplier-backend.preview.goods-manager.out_of_stock')}</el-button>\n              : null\n            }\n          </div>\n\n          <Searchbar keyword={keyword} onchange={(e: string) => {\n            $router.replace({\n              query: {\n                ...query,\n                keyword: e,\n              },\n            });\n          }} class='searchbar' />\n        </section>\n\n        <GoodsTable goodsList={goodsList} selectItemsIds={selectItemsIds}\n          onchange={handleChangeItem} paginationInfo={paginationInfo}\n          storeStatus={storeStatus} />\n      </main>\n    );\n  },\n  props: {\n    type: {\n      type: String,\n      default: statusTypes[0],\n      // required: true,\n    },\n    page: {\n      type: Number,\n      default: 1,\n      // required: true,\n    },\n    keyword: {\n      type: String,\n    },\n    storeStatus: {\n      type: Boolean,\n      default: undefined,\n    },\n  },\n  setup(props, { root }) {\n    const paginationInfo = ref(null as null | pagination);\n    const pageSize = 50;\n    const goodsList = useLoader(async ({ type: _type = statusTypes[0], page }) => {\n      const type = statusTypes.indexOf(_type);\n      let res;\n      const params = {\n        page: page || 1,\n        size: pageSize,\n        searchs: props.keyword,\n        orders: {\n          name: 'lastUpdateTime',\n          value: false,\n        },\n        filters: props.storeStatus !== undefined ? [{\n          name: 'storeStatus',\n          value: props.storeStatus,\n        }] : [] as any[],\n      };\n      if (type < 4) {\n        if (type !== 0) {\n          params.filters.push({\n            name: 'publishStatus',\n            value: type,\n          });\n        }\n\n        res = (await axios({\n          method: 'post',\n          url: '/mall/supplier/materials',\n          data: params,\n        })).data;\n      } else if (type === 4) {\n        // 待更新\n        res = (await axios({\n          method: 'post',\n          url: 'mall/supplier/materials/updated',\n          data: params,\n        })).data;\n      } else if (type === 5) {\n        // 已删除\n        res = (await axios({\n          method: 'post',\n          url: 'mall/supplier/materials/deleted',\n          data: params,\n        })).data;\n      }\n      if (typeof res === 'object') {\n        const { total, size } = res;\n        paginationInfo.value = {\n          total,\n          size,\n        };\n        return res.records;\n      }\n      return [];\n    }, props, {\n      initialValue: [],\n    });\n    const selectAll = ref(false);\n    const selectItemsIds = ref([] as Array<string>);\n    watch(() => root!.$route, (newRoute, oldRoute) => {\n      if (newRoute?.query.type !== oldRoute?.query.type\n        || newRoute?.query.page !== oldRoute?.query.page) {\n        selectAll.value = false;\n        selectItemsIds.value = [];\n      }\n    }, {\n      immediate: true,\n    });\n    const currentStatusType = computed(() => statusTypes.indexOf(props.type));\n\n    function handleSelectAllOrNot(newVal: boolean) {\n      if (!goodsList.value?.length) return;\n      selectAll.value = newVal;\n      if (newVal) {\n        selectItemsIds.value = goodsList.value.map((e: { materialId: string }) => e.materialId);\n      } else {\n        selectItemsIds.value = [];\n      }\n    }\n    // const keyword = ref(null as null | string);\n    async function confirmPublish() {\n      await root.$confirm(i18n.t('supplier-backend.preview.goods-manager.confirm_publish'));\n      const res = (await axios({\n        method: 'post',\n        url: '/mall/material/operate/shelf/on',\n        data: selectItemsIds.value,\n      })).data;\n      refreshRoute();\n    }\n\n    async function confirmUnpublish() {\n      await root.$confirm(i18n.t('supplier-backend.preview.goods-manager.confirm_unpublish'));\n      const res = (await axios({\n        method: 'post',\n        url: '/mall/material/operate/shelf/off',\n        data: selectItemsIds.value,\n      })).data;\n      refreshRoute();\n    }\n\n    async function changeStatus(type: number) {\n      const url = type === 3\n        ? '/mall/material/operate/stock/has'\n        : '/mall/material/operate/stock/none';\n\n      const res = (await axios({\n        method: 'post',\n        url,\n        data: selectItemsIds.value,\n      })).data;\n      refreshRoute();\n    }\n\n    async function updateList() {\n      await root.$confirm(i18n.t('supplier-backend.preview.goods-manager.confirm_update_now'));\n      const res = (await axios({\n        method: 'post',\n        url: '/mall/material/operate/updates',\n        data: selectItemsIds.value,\n      })).data;\n      refreshRoute();\n    }\n\n    async function removeList() {\n      await root.$confirm(i18n.t('supplier-backend.preview.goods-manager.confirm_remove'));\n      const res = (await axios({\n        method: 'post',\n        url: '/mall/material/operate/delete',\n        data: selectItemsIds.value,\n      })).data;\n      refreshRoute();\n    }\n\n    function hasChecked() {\n      if (!selectItemsIds.value.length) {\n        root.$message.warning(i18n.t('supplier-backend.preview.goods-manager.please-select-a-product'));\n      }\n      return !!selectItemsIds.value.length;\n    }\n\n    return {\n      currentStatusType,\n      selectAll,\n      selectItemsIds,\n      // keyword,\n      goodsList,\n      paginationInfo,\n\n      changeStatus,\n      handleSelectAllOrNot,\n      updateList,\n      removeList,\n      confirmPublish,\n      confirmUnpublish,\n      hasChecked,\n      handleChangeItem: (id: string) => {\n        if (selectItemsIds.value.includes(id)) {\n          selectItemsIds.value.splice(selectItemsIds.value.indexOf(id), 1);\n          if (selectAll.value) {\n            selectAll.value = false;\n          }\n        } else {\n          selectItemsIds.value.push(id);\n          if (goodsList.value.map(\n            (e: { id: string }) => e.id,\n          ).length === selectItemsIds.value.length) {\n            selectAll.value = true;\n          }\n        }\n      },\n      judgeIsActive: (query: Dictionary<string | (string | null)[]>, type: number) => {\n        if (type === 0 && (!query?.type || query.type === statusTypes[0])) {\n          return true;\n        } if (type === 1 && query.type === statusTypes[1]) {\n          return true;\n        } if (type === 2 && query.type === statusTypes[2]) {\n          return true;\n        } if (type === 3 && query.type === statusTypes[3]) {\n          return true;\n        } if (type === 4 && query.type === statusTypes[4]) {\n          return true;\n        } if (type === 5 && query.type === statusTypes[5]) {\n          return true;\n        }\n        return false;\n      },\n    };\n  },\n});\nexport default goodsManager;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags-container\",class:_vm.size ? (\"is-\" + _vm.size): ''},[_c('div',{staticClass:\"tags-wrap flex-vertical-center\"},[_vm._l((_vm.tags1),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":!_vm.disabled,\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(tag)}}},[_c('span',{staticClass:\"tag-content\",class:{'is-closable' : !_vm.disabled},attrs:{\"title\":tag}},[_vm._v(_vm._s(tag))])])}),(!_vm.inputVisible)?_c('div',[(!_vm.tags2.length && !_vm.disabled && _vm.tags.length < _vm.maxTagsLen)?_c('i',{staticClass:\"iconfont icon-add\",on:{\"click\":_vm.showInput}}):(_vm.tags2.length)?_c('el-popover',{attrs:{\"placement\":\"bottom\",\"trigger\":\"hover\",\"width\":\"400\"}},[_c('div',{staticClass:\"tags-wrap flex-vertical-center flex-wrap\",class:[_vm.size ? (\"is-\" + _vm.size): '', _vm.popoverClass]},[_vm._l((_vm.tags2),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":!_vm.disabled,\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(tag)}}},[_c('span',{staticClass:\"tag-content\",class:{'is-closable' : !_vm.disabled},attrs:{\"title\":tag}},[_vm._v(_vm._s(tag))])])}),(!_vm.disabled && _vm.tags.length < _vm.maxTagsLen)?[(!_vm.innerInputVisible)?_c('i',{staticClass:\"iconfont icon-add\",on:{\"click\":_vm.showInnerInput}}):_c('el-input',{ref:\"innerInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"mini\",\"maxlength\":_vm.maxlength},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.innerInputValue),callback:function ($$v) {_vm.innerInputValue=$$v},expression:\"innerInputValue\"}})]:_vm._e()],2),_c('i',{staticClass:\"iconfont icon-ellipsis\",attrs:{\"slot\":\"reference\"},slot:\"reference\"})]):_vm._e()],1):_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"mini\",\"maxlength\":_vm.maxlength},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}})],2),_c('div',{class:(\"tags-\" + _vm.className),staticStyle:{\"visibility\":\"hidden\"}},_vm._l((_vm.tags),function(tag){return _c('el-tag',{key:tag,staticClass:\"tag-item\",attrs:{\"closable\":\"\"}},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tags-container\" :class=\"size ? `is-${size}`: ''\">\n    <div class=\"tags-wrap flex-vertical-center\">\n      <el-tag\n        v-for=\"tag in tags1\"\n        :key=\"tag\"\n        :closable=\"!disabled\"\n        :disable-transitions=\"false\"\n        @close=\"handleClose(tag)\">\n        <span class=\"tag-content\" :class=\"{'is-closable' : !disabled}\"\n          :title=\"tag\">{{tag}}</span>\n      </el-tag>\n\n      <div v-if=\"!inputVisible\">\n        <i v-if=\"!tags2.length && !disabled && tags.length < maxTagsLen\" class=\"iconfont icon-add\" @click=\"showInput\" />\n\n        <!-- 显示剩余的tags -->\n        <el-popover v-else-if=\"tags2.length\" placement=\"bottom\" trigger=\"hover\" width=\"400\">\n          <div class=\"tags-wrap flex-vertical-center flex-wrap\"\n            :class=\"[size ? `is-${size}`: '', popoverClass]\">\n            <el-tag\n              v-for=\"tag in tags2\"\n              :key=\"tag\"\n              :closable=\"!disabled\"\n              :disable-transitions=\"false\"\n              @close=\"handleClose(tag)\">\n              <span class=\"tag-content\" :class=\"{'is-closable' : !disabled}\"\n                :title=\"tag\">{{tag}}</span>\n            </el-tag>\n            <template v-if=\"!disabled && tags.length < maxTagsLen\">\n              <i v-if=\"!innerInputVisible\"\n                class=\"iconfont icon-add\"\n                @click=\"showInnerInput\" />\n              <el-input\n                v-else\n                v-model=\"innerInputValue\"\n                class=\"input-new-tag\"\n                ref=\"innerInput\"\n                size=\"mini\"\n                :maxlength=\"maxlength\"\n                @keyup.enter.native=\"handleInputConfirm\"\n                @blur=\"handleInputConfirm\" />\n            </template>\n          </div>\n          <i slot=\"reference\" class=\"iconfont icon-ellipsis\" />\n        </el-popover>\n      </div>\n\n      <el-input\n        v-else\n        v-model=\"inputValue\"\n        class=\"input-new-tag\"\n        ref=\"saveTagInput\"\n        size=\"mini\"\n        :maxlength=\"maxlength\"\n        @keyup.enter.native=\"handleInputConfirm\"\n        @blur=\"handleInputConfirm\" />\n    </div>\n\n    <!-- 临时tag标签，用来计算标签的宽度 -->\n    <div style=\"visibility: hidden;\" :class=\"`tags-${className}`\">\n      <el-tag\n        v-for=\"tag in tags\"\n        :key=\"tag\"\n        closable\n        class=\"tag-item\">\n        {{tag}}\n      </el-tag>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: {\n    data: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    // 最多输入的字符长度\n    maxlength: {\n      type: Number,\n      default: 100,\n    },\n    // 最多输入的标签数\n    maxTagsLen: {\n      type: Number,\n      default: 10,\n    },\n\n    size: {\n      type: String,\n      default: '',\n    },\n\n    tagColor: {\n      type: String,\n    },\n    popoverClass: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      tags: this.data,\n      tags1: [],\n      tags2: [],\n      inputVisible: false,\n      innerInputVisible: false,\n      inputValue: '',\n      innerInputValue: '',\n      className: '',\n      visible: false,\n    };\n  },\n  created() {\n    this.className = new Date().getTime().toString();\n  },\n  mounted() {\n    this._initTagsLayout();\n  },\n  watch: {\n    data(value) {\n      this.tags = value;\n      this._initTagsLayout();\n    },\n  },\n  methods: {\n    handleClose(tag) {\n      this.tags.splice(this.tags.indexOf(tag), 1);\n      this.$nextTick(() => {\n        this._initTagsLayout();\n      });\n      this.$emit('delete', tag);\n      this.$emit('change', this.tags);\n    },\n    handleInputConfirm() {\n      const tagName = this.inputValue || this.innerInputValue;\n      if (tagName && !this.tags.includes(tagName)) {\n        this.tags.push(tagName);\n        this.$nextTick(() => {\n          this._initTagsLayout();\n        });\n        this.$emit('create', tagName);\n        this.$emit('change', this.tags);\n      }\n      this.inputVisible = false;\n      this.innerInputVisible = false;\n      this.inputValue = '';\n      this.innerInputValue = '';\n    },\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    showInnerInput() {\n      this.innerInputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.innerInput.$refs.input.focus();\n      });\n    },\n    _initTagsLayout() {\n      const tags = document.querySelectorAll(`.tags-${this.className} .tag-item`);\n      const visibleArea = document.querySelectorAll('.tags-container')[0];\n      const visibleWidth = parseFloat(getComputedStyle(visibleArea).width);\n      const inputWidth = this.disabled ? 0 : 100;\n      const gapWidth = 10;\n      let widthTotal = 0;\n      let itemNum = 0;\n\n      Array.from(tags).forEach((tag, i) => {\n        widthTotal += parseFloat(getComputedStyle(tag).width, 10);\n        if (widthTotal <= visibleWidth - inputWidth - (gapWidth * (i + 1))) {\n          itemNum = i;\n        } else {\n          this.visible = true;\n        }\n      });\n\n      this.tags1 = this.tags.slice(0, itemNum + 1);\n      this.tags2 = this.tags.slice(itemNum + 1);\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.tag-content {\n  display: inline-block;\n  vertical-align: middle;\n  margin-top: -2px;\n  &.is-closable {\n    max-width: calc(100% - 16px);\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n.el-tag {\n  height: 30px;\n  padding: 0px 18px;\n  margin: 2px;\n  margin-right: 10px;\n  font-size: 14px;\n  line-height: 30px;\n  background-color: #fff;\n  border-radius: 15px;\n}\n\n.icon-add,\n.icon-ellipsis {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30px;\n  height: 30px;\n  border: 1px solid #a3c2f6;\n  border-radius: 50%;\n  cursor: pointer;\n  color: #2878ff;\n  font-weight: 900;\n}\n\n.tags-wrap {\n  max-width: 100%;\n}\n.el-tag {\n  max-width: 100%;\n}\n.tags-container {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  height: 30px;\n  margin: 3px 0;\n  margin-right: -10px;\n  .tags-wrap {\n    max-width: calc(100% - 50px);\n  }\n}\n\n.is-small {\n  line-height: 20px;\n  .el-tag{\n    height: 20px;\n    line-height: 20px;\n    border-radius: 10px;\n    padding: 0px 10px;\n  }\n  .icon-add,\n  .icon-ellipsis {\n    height: 20px;\n    width: 20px;\n  }\n  .input-new-tag{\n    /deep/ .el-input__inner{\n      border-radius: 10px;\n    }\n  }\n}\n\n.input-new-tag {\n  display: inline-block;\n  width: 100px;\n\n  /deep/ .el-input__inner {\n    width: 100px;\n    padding: 0 18px;\n    vertical-align: bottom;\n    border: 1px solid #a3c2f6;\n    border-radius: 15px;\n    margin-bottom: 4px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAuto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAuto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TagsAuto.vue?vue&type=template&id=c8b0ebca&scoped=true&\"\nimport script from \"./TagsAuto.vue?vue&type=script&lang=js&\"\nexport * from \"./TagsAuto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TagsAuto.vue?vue&type=style&index=0&id=c8b0ebca&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8b0ebca\",\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","var render, staticRenderFns\nimport script from \"./GoodsTable.vue?vue&type=script&lang=tsx&\"\nexport * from \"./GoodsTable.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./GoodsTable.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./GoodsTable.vue?vue&type=style&index=1&id=613f1bea&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"613f1bea\",\n  null\n  \n)\n\nexport default component.exports","\nimport i18n from 'i18next';\nimport { defineComponent } from '@vue/composition-api';\nimport TagsAuto from '@/components/base/TagsAuto.vue';\nimport { date } from '@/filters';\nimport isQt from '@/utils/is-qt';\nimport { MaterialGoods } from '@/models/MaterialGood';\nimport { pagination, statusTypes } from './Home.vue';\n\nconst goodsTable = defineComponent({\n  name: 'GoodsTable',\n  components: {\n    TagsAuto,\n  },\n\n  props: {\n    goodsList: {\n      type: Array as () => MaterialGoods[],\n    },\n    selectItemsIds: {\n      type: Array as () => string[],\n      required: true,\n    },\n    paginationInfo: {\n      type: Object as () => pagination | null,\n    },\n    storeStatus: {\n      type: Boolean,\n      default: undefined,\n    },\n  },\n  render() {\n    const self = this as InstanceType<typeof goodsTable>;\n    const { $router, $route } = self;\n    return (\n      <section style='padding: 30px 30px 0;'>\n        <el-table data={self.goodsList}>\n          {/* 选中状态 */}\n          <el-table-column label='' scopedSlots={{\n            default({ row }: any) {\n              return <el-checkbox value={self.selectItemsIds.includes(row.materialId)}\n                onchange={() => self.$emit('change', row.materialId)}></el-checkbox>;\n            },\n          }} width='100'>\n          </el-table-column>\n\n          {/* 商品图 */}\n          <el-table-column\n            label={i18n.t('supplier-backend.goods-manager.product_image')} scopedSlots={{\n              default({ row }: any) {\n                const list = row.imgJson;\n                return <base-image src={list?.flat} style='height: 96px; width: 96px;' />;\n              },\n            }}></el-table-column>\n\n          <el-table-column label={i18n.t('supplier-backend.goods-manager.product_name')}\n            prop='materialName' show-overflow-tooltip></el-table-column>\n\n          {/* 标签 */}\n          <el-table-column label={i18n.t('supplier-backend.goods-manager.tags')}\n            width=\"330\"\n            scopedSlots={{\n              default({ row }: any) {\n                const list = row.tags.map((tag: string | Object) => {\n                  if (typeof tag === 'string') {\n                    return { tag };\n                  }\n                  return tag;\n                });\n                return <TagsAuto\n                  key={row.id}\n                  disabled\n                  size=\"small\"\n                  class=\"tags-auto-wrap\"\n                  popoverClass=\"goods-table-tags-popover\"\n                  data={list.map((li: any) => li.tag)}\n                  ref=\"tags\"></TagsAuto>;\n              },\n            }}></el-table-column>\n\n          <el-table-column label={i18n.t('supplier-backend.goods-manager.sample_price')}\n            prop='samplePrice' show-overflow-tooltip></el-table-column>\n\n          <el-table-column label={i18n.t('supplier-backend.goods-manager.product_status')}\n            prop='publishStatus' scopedSlots={{\n              default({ row: { publishStatus } }: any) {\n                return <div>\n                  {statusTypes[publishStatus]}\n                </div>;\n              },\n            }}></el-table-column>\n\n          <el-table-column\n            width=\"140\"\n            scopedSlots={{\n              default({ row: { storeStatus } }: { row: MaterialGoods }) {\n                return <div>\n                  {storeStatus\n                    ? i18n.t('supplier-backend.goods-manager.in_stock')\n                    : i18n.t('supplier-backend.goods-manager.out_of_stock')\n                  }\n                </div>;\n              },\n              header() {\n                return <div>\n                  <el-dropdown trigger=\"hover\" placement=\"bottom\" onCommand={(command: boolean | undefined) => {\n                    $router.replace({\n                      query: {\n                        ...self.$route.query,\n                        storeStatus: command?.toString(),\n                      },\n                    });\n                  }}>\n                    <span class=\"store-status-link\">\n                      {self.storeStatus === true ? i18n.t('supplier-backend.goods-manager.in_stock') : (\n                        self.storeStatus === false ? i18n.t('supplier-backend.goods-manager.out_of_stock')\n                          : i18n.t('supplier-backend.goods-manager.inventory_status')\n                      )}\n                      <i class=\"iconfont iconshaixuan\" style=\"color: #333; margin-left: 2px;\"></i>\n                    </span>\n                    <el-dropdown-menu slot=\"dropdown\" class=\"store-status-filter\">\n                      <el-dropdown-item command={undefined}>\n                        <i class={self.storeStatus === undefined ? 'el-icon-check' : ''}></i>\n                        <font>{i18n.t('supplier-backend.goods-manager.show_all')}</font>\n                      </el-dropdown-item>\n                      <el-dropdown-item command={true}>\n                        <i class={self.storeStatus === true ? 'el-icon-check' : ''}></i>\n                        <font>{i18n.t('supplier-backend.goods-manager.in_stock')}</font>\n                      </el-dropdown-item>\n                      <el-dropdown-item command={false}>\n                        <i class={self.storeStatus === false ? 'el-icon-check' : ''}></i>\n                        <font>{i18n.t('supplier-backend.goods-manager.out_of_stock')}</font>\n                      </el-dropdown-item>\n                    </el-dropdown-menu>\n                  </el-dropdown>\n                </div>;\n              },\n            }}>\n          </el-table-column>\n\n          <el-table-column label={i18n.t('supplier-backend.goods-manager.update_time')}\n            {...{\n              scopedSlots: {\n                default: ({ row: { lastUpdateTime } }: { row: MaterialGoods }) => {\n                  return date(new Date(lastUpdateTime), 'DD/MM/YYYY HH:mm');\n                },\n              },\n            }} show-overflow-tooltip>\n          </el-table-column>\n\n          <el-table-column label='' scopedSlots={{\n            default({ row: { materialId = '', id = '' } }) {\n              return <div class=\"flex\">\n                <div class='preview-link' onclick={() => {\n                  $router.push({\n                    path: `${isQt() ? '/qt' : ''}/supplier-backend/goods-manager/goods-detail`,\n                    query: {\n                      ...$route.query,\n                      materialId,\n                      id,\n                    },\n                  });\n                }}>\n                  {i18n.t('supplier-backend.goods-manager.view')}\n                </div>\n                <div class='edit-link' onclick={() => {\n                  $router.push({\n                    path: `${isQt() ? '/qt' : ''}/supplier-backend/goods-manager/goods-edit`,\n                    query: {\n                      materialId,\n                      id,\n                    },\n                  });\n                }}>\n                  {i18n.t('supplier-backend.goods-manager.edit')}\n                </div>\n              </div>;\n            },\n          }}></el-table-column>\n\n        </el-table>\n\n        <div style='width: 100%; height: 80px;' class='flex-center'>\n          <el-pagination background layout='prev, pager, next'\n            total={self.paginationInfo?.total || 0}\n            page-size={self.paginationInfo?.size || 50}\n            current-page={+self.$route.query.page || 1}\n            oncurrent-change={(page: number) => {\n              $router.replace({\n                query: {\n                  ...self.$route.query,\n                  page: page.toString(),\n                },\n              });\n            }}></el-pagination>\n        </div>\n      </section>\n    );\n  },\n\n});\nexport default goodsTable;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsTable.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsTable.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=cdb60e9e&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsAuto.vue?vue&type=style&index=0&id=c8b0ebca&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsTable.vue?vue&type=style&index=1&id=613f1bea&lang=scss&scoped=true&\"","import { defineComponent } from '@vue/composition-api';\nimport i18n from 'i18next';\n\nconst searchbar = defineComponent({\n  props: {\n    keyword: {\n      type: String as () => string | null,\n      // default: null,\n    },\n  },\n  render() {\n    const self = this as InstanceType<typeof searchbar>;\n    return <el-input size='small' value={self.keyword}\n    oninput={(val: string) => self.$emit('change', val)}\n    prefix-icon=\"el-icon-search\" placeholder={i18n.t('supplier-backend.preview.search')}>\n    </el-input>;\n  },\n});\n\nexport default searchbar;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsTable.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}