{"version":3,"sources":["webpack:///./src/views/supplier-backend/components/HForm/utils.ts","webpack:///./src/views/supplier-backend/components/HTable/utils.ts","webpack:///./src/views/supplier-backend/components/HTable/HTableColumn.vue?e778","webpack:///./src/views/supplier-backend/components/HTable/HTableColumn.vue?4580","webpack:///./src/views/supplier-backend/components/HTable/HTableColumn.vue?52ce","webpack:///./src/views/supplier-backend/components/HTable/HTableColumn.vue?ddfa","webpack:///./src/views/supplier-backend/components/HTable/HTableColumn.vue"],"names":["getClosetScrollEl","el","scrollHeight","clientHeight","parentElement","focus","offsetTop","HTMLElement","includes","tagName","scrollEl","scrollTo","unFalsy","_value","resetParams","formItems","params","item","type","key","multiple","childType","defaultValue","value","undefined","form2params","showFormItems","filter","show","_toString","Object","prototype","toString","toRawType","call","slice","getInitValue","Date","getInitObj","originObj","preValueObj","obj","entries","hasOwnProperty","deepCopy","cache","hit","c","original","copy","Array","isArray","push","keys","forEach","getPx","num","val","textarea","document","createElement","body","appendChild","select","execCommand","parentNode","removeChild","getColumnKeys","column","children","helper","arr","render","_vm","this","_h","$createElement","_c","_self","_b","attrs","title","minWidth","minWid","align","sort","scopedSlots","_u","fn","ref","row","$index","_t","_v","_s","_l","childColumn","columnKey","index","_e","staticRenderFns","name","props","default","data","methods","component"],"mappings":"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","file":"js/chunk-0319d85d.5f220383.js","sourcesContent":["import Vue from 'vue';\nimport { FormItems, Obj } from './type';\n\ntype FocusComp = Vue & { focus?:Function };\ntype FocusEl = HTMLElement & { focus?:Function };\ntype FocusObj = FocusComp | FocusEl;\nconst getClosetScrollEl = (el:HTMLElement):HTMLElement|null => {\n  const { scrollHeight, clientHeight } = el;\n  if (scrollHeight > clientHeight) {\n    return el;\n  }\n  if (el.parentElement) {\n    return getClosetScrollEl(el.parentElement);\n  }\n  return null;\n};\nexport function focus(el:FocusComp, offsetTop:number):void;\nexport function focus(el:FocusEl, offsetTop:number):void;\nexport function focus(el:FocusObj, offsetTop = 0):void {\n  if (el instanceof Vue) {\n    el.focus && el.focus();\n    return;\n  }\n  if (el instanceof HTMLElement) {\n    // 只写这几种先\n    if (['INPUT', 'TEXTAREA', 'SELECT'].includes(el.tagName)) {\n      el.focus();\n    } else {\n      const scrollEl = getClosetScrollEl(el);\n\n      if (scrollEl) {\n        scrollEl.scrollTo(0, el.offsetTop + offsetTop);\n      }\n    }\n  }\n}\nexport const unFalsy = (_value:any) => _value || _value === 0;\n\nexport const resetParams = (formItems:FormItems) => {\n  const params:Obj = {};\n  // eslint-disable-next-line no-restricted-syntax\n  for (const item of formItems) {\n    switch (item.type) {\n      case 'input':\n      default:\n        params[item.key] = '';\n        break;\n      case 'select':\n        params[item.key] = item.multiple ? [] : '';\n        break;\n      case 'date':\n        switch (item.childType) {\n          case 'daterange':\n          case 'datetimerange':\n            params[item.key] = [];\n            break;\n          default:\n            params[item.key] = '';\n            break;\n        }\n        break;\n      case 'checkbox':\n        params[item.key] = [];\n        break;\n      case 'switch':\n        params[item.key] = false;\n        break;\n      case 'block':\n        break;\n    }\n    const defaultValue = item.value;\n    if (defaultValue !== undefined) params[item.key] = defaultValue;\n  }\n  return params;\n};\n\nexport const form2params = (formItems:FormItems) => {\n  const showFormItems = formItems.filter(item => {\n    return item.show !== false;\n  });\n  return resetParams(showFormItems);\n};\n","import { Obj, Column, Columns } from './type';\n\nconst _toString = Object.prototype.toString;\nexport const toRawType = (value:any) => _toString.call(value).slice(8, -1);\n\n// 根据类型设置默认值\nexport const getInitValue = (value:any) => {\n  const type = toRawType(value);\n  switch (type) {\n    case 'Array':\n      return [];\n    case 'Object':\n      return {};\n    case 'Date':\n      return new Date();\n    case 'Number':\n      return 0;\n    case 'Null':\n    case 'Undefined':\n    case 'Function':\n      return value;\n    default:\n      return '';\n  }\n};\n\nexport const getInitObj = (originObj:Obj = {}, preValueObj:Obj = {}) => {\n  const obj:Obj = {};\n  // eslint-disable-next-line no-restricted-syntax\n  for (const [key, value] of Object.entries(originObj)) {\n    // eslint-disable-next-line no-prototype-builtins\n    obj[key] = preValueObj.hasOwnProperty(key) ? preValueObj[key] : getInitValue(value);\n  }\n  return obj;\n};\n\n/**\n * @des: 深复制(es6，不添加原型版本)，需考虑循环引用对象的兼容处理:https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value\n * @param {Any} data 需要复制的数据\n * @param {Array} cache 保存已经遍历过的对象，是为了处理循环引用对象\n * @return {Any} 复制后的数据\n */\nexport const deepCopy = (obj:any, cache:{original:Obj, copy:Obj}[] = []) => {\n  if (obj === null || typeof obj !== 'object') {\n    return obj;\n  }\n  const hit = cache.filter(c => c.original === obj)[0];\n  if (hit) {\n    return hit.copy;\n  }\n  const copy:Obj = Array.isArray(obj) ? [] : {};\n  cache.push({\n    original: obj,\n    copy,\n  });\n  Object.keys(obj).forEach(key => {\n    copy[key] = deepCopy(obj[key], cache);\n  });\n  return copy;\n};\n\n/**\n * @description:\n * @param {Number | String} num\n * @return\n */\nexport const getPx = (num:number|string) => (toRawType(num) === 'Number' ? `${num}px` : num);\n\n/**\n * @description: 复制内容到剪贴版\n * @param {String} val 需要复制的内容\n * @return:\n */\nexport const copy = (val:string) => {\n  // 使用textarea才可以换行\n  const textarea = document.createElement('textarea');\n  textarea.value = val;\n  document.body.appendChild(textarea);\n  textarea.select();\n  document.execCommand('Copy');\n  return textarea.parentNode?.removeChild(textarea);\n};\n\nexport const getColumnKeys = (column:Column) => {\n  if (!column.children) return [column.key];\n\n  const keys:string[] = [];\n  const helper = (arr:Columns) => {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of arr) {\n      if (item.children) helper(item.children);\n      keys.push(item.key);\n    }\n  };\n  helper(column.children);\n  return keys;\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HTableColumn.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table-column',_vm._b({key:_vm.column.key,attrs:{\"prop\":_vm.column.key,\"label\":_vm.column.title,\"min-width\":_vm.column.minWidth || _vm.column.minWid,\"align\":_vm.column.align || 'center',\"sortable\":_vm.column.sort ? 'custom' : undefined,\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_vm._t(_vm.column.key,[_vm._v(\" \"+_vm._s(_vm.column.key === \"tool\" || _vm.unFalsy(row[_vm.column.key]) ? row[_vm.column.key] : \"--\")+\" \")],{\"row\":row,\"index\":$index})]}}],null,true)},'el-table-column',_vm.column,false),[(_vm.column.children)?_vm._l((_vm.column.children),function(childColumn){return _c('h-table-column',{key:childColumn.key,attrs:{\"column\":childColumn},scopedSlots:_vm._u([_vm._l((_vm.getColumnKeys(_vm.column)),function(columnKey){return {key:columnKey,fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._t(columnKey,null,{\"row\":row,\"index\":index})]}}})],null,true)})}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { unFalsy } from '../HForm/utils';\nimport { getColumnKeys } from './utils';\n\nexport default {\n  name: 'h-table-column',\n  props: {\n    column: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return {\n      getColumnKeys,\n    };\n  },\n  methods: {\n    unFalsy(value:any) {\n      return unFalsy(value);\n    },\n  },\n};\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HTableColumn.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HTableColumn.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HTableColumn.vue?vue&type=template&id=6b44b584&\"\nimport script from \"./HTableColumn.vue?vue&type=script&lang=ts&\"\nexport * from \"./HTableColumn.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HTableColumn.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}