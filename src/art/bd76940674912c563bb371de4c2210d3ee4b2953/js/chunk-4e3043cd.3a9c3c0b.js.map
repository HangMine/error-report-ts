{"version":3,"sources":["webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/index.js","webpack:///./src/assets/img/file-list/raw-file-icon/video.png","webpack:///./src/views/up-meeting/components/RenderPicture.vue?cf7d","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/utils/oss/uploadToOSS.js","webpack:///./src/components/upload/src/upload-style-normal.vue?0466","webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/SelectType2.js","webpack:///./src/views/up-meeting/components/Album.vue?c016","webpack:///./src/views/up-meeting/components/Album.vue?9d09","webpack:///./src/views/up-meeting/components/Album.vue?bce2","webpack:///./src/views/up-meeting/components/Album.vue","webpack:///./src/assets/img/file-list/raw-file-icon sync ^\\.\\/.*\\.png$","webpack:///./src/views/up-meeting/components/RenderPhotoItem.vue?59fa","webpack:///./src/assets/img/file-list/raw-file-icon/audio.png","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./src/views/up-meeting/utils/utils.ts","webpack:///./src/assets/img/file-list/raw-file-icon/ps.png","webpack:///./src/assets/img/file-list/raw-file-icon/sheet.png","webpack:///./src/assets/img/file-list/raw-file-icon/text.png","webpack:///./src/assets/img/file-list/raw-file-icon/img.png","webpack:///./src/views/up-meeting/dialogComponents/Attachment.vue?bda9","webpack:///./src/views/up-meeting/dialogComponents/Attachment.vue?c23f","webpack:///./src/assets/img/file-list/raw-file-icon/ppt.png","webpack:///./src/views/up-meeting/dialogComponents/Attachment.vue?7ece","webpack:///./src/views/up-meeting/dialogComponents/Attachment.vue","webpack:///./src/views/up-meeting/dialogComponents/Attachment.vue?1dd6","webpack:///./src/assets/img/file-list/raw-file-icon/ai.png","webpack:///./src/assets/img/file-list/raw-file-icon/compressed.png","webpack:///./src/assets/img/file-list/raw-file-icon/model.png","webpack:///./src/components/upload/index.vue","webpack:///./src/components/upload/src/upload-drag.vue?bd3b","webpack:///./src/components/upload/src/upload-style-normal.vue?468a","webpack:///src/components/upload/src/upload-style-normal.vue","webpack:///./src/components/upload/src/upload-style-normal.vue?f0ac","webpack:///./src/components/upload/src/upload-style-normal.vue","webpack:///src/components/upload/src/upload-drag.vue","webpack:///./src/components/upload/src/upload-drag.vue?edcf","webpack:///./src/components/upload/src/upload-drag.vue","webpack:///./src/components/upload/src/upload-file-input.vue?00c4","webpack:///src/components/upload/src/upload-file-input.vue","webpack:///./src/components/upload/src/upload-file-input.vue?9a5b","webpack:///./src/components/upload/src/upload-file-input.vue","webpack:///src/components/upload/index.vue","webpack:///./src/components/upload/index.vue?d890","webpack:///./src/assets/img/file-list/raw-file-icon/word.png","webpack:///./src/assets/img/file-list/raw-file-icon/pdf.png","webpack:///./src/views/up-meeting/components/Album.vue?dd50","webpack:///./src/components/upload/index.vue?3c63","webpack:///./src/views/up-meeting/components/RenderPicture.vue","webpack:///./src/views/up-meeting/components/RenderPhotoItem.vue?02d0","webpack:///./src/views/up-meeting/components/RenderPhotoItem.vue?d97f","webpack:///./src/views/up-meeting/components/RenderPhotoItem.vue?6db8","webpack:///./src/views/up-meeting/components/RenderPhotoItem.vue","webpack:///./src/views/up-meeting/components/RenderPicture.vue?723c","webpack:///./src/views/up-meeting/components/RenderPicture.vue?ec83","webpack:///./src/assets/img/file-list/raw-file-icon/gif.png"],"names":["_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","exports","value","enumerable","get","_JSONschema2Type","default","_IntegerType","_JSONschema","_NumberType","_SelectType","MultipleSeleteType","_SelectType2","_StringType","_default","module","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defaultOptions","initialValue","undefined","loadingValue","oldValue","useLoader","loader","oldWatcher","params","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","ref","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","watch","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","this","immediate","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","uploadToOSS","blobOrDataUrl","sourceType","onUpload","body","isDataUrl","dataUrl2Blob","OSSUploader","send","_typeof2","_default2","defineComponent","name","props","builder","type","String","subbuilder","valueKey","labelKey","options","Array","val","model","prop","event","render","_this","h","isObject","$attrs","n","$emit","map","op","index","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_s","$t","album","_l","albumItem","idx","id","attrs","url","isGesture","_e","imgType","AlbumType","IMG_NORMAL","IMG_360","IMG_720","on","$event","remove","$act","previewImage","isCover","v","changeCover","e","handleDropdownCommand","directives","rawName","max","expression","$isActing","slot","staticRenderFns","BLOB_KEY","Symbol","allowExts","r360","RegExp","join","getSize","items","x","y","item","indexs","split","_y","Math","fileList2Album","files","_files","file","includes","img360Map","imgNormal","m","webkitRelativePath","_webkitRelativePath","match","folderName","Promise","all","path","URL","createObjectURL","size","result","entries","itemMap","_ext","ext","Error","i18n","t","centerIndex","floor","values","progress","fileSize","imgArgument","list","reduce","memo","centerImage","find","imgDetail","businessType","concat","updateProgress","_item","uploaded","total","__item","calcTotalProgress","albumList","uploadItem","callback","abortController","abortOptions","signal","abortError","code","CODE_USER_ABORT","IMG_CURRENT_MODEL","fileLoaded","uploadAlbum","o","INNER_VALUE","required","autoupload","Boolean","hasRelateCatalog","Number","catalogId","hasRelateModel","types","setup","emit","root","change","files2albums","newItems","count","splice","pickFile","folder","multiple","command","$injectDialog","is","RenderPicture","relateType","maxLength","renderPhotos","imgList","img","$ImageViewer","show","srcList","targetElems","_albumList","JSON","parse","stringify","_album","validateUploaded","upload","component","webpackContext","req","webpackContextResolve","__webpack_require__","resolve","DESCRIPTORS","global","isForced","inheritIfRequired","f","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","setInternalState","set","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","RegExpPrototype","prototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","flags","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","constructor","call","indexOf","replace","proxy","configurable","it","getRelativePathFromUrl","test","getModelCTMList","modelId","modelType","method","headers","binaryFileInfoList","downloadPath","fileInfo","_formatFileItem","isArray","console","info","window","getBinaryFileList","fileList","acc","cur","needUpload","uploadedItems","Items","Attachment","requierd","handlePreviewImage","handleUploadFile","slice","$message","warning","defaultImageSrc","UNKNOWN_ICON","vType","class","dragoverStatus","preventDefault","dataTransfer","handleDragOver","_t","styleType","buffer","imgUrl","stopPropagation","vm","visible","toggleVisible","inject","data","methods","components","UploadStyleNormal","accept","uploadFiles","disabled","$refs","inputFile","click","UploadDrag","UploadFileInput","maxSize","Infinity","minSize","draggable","provide","imgs","unmatchFiles","mounted","destroyed","handleDeleteFile","handleToggleVisible","status","_checkFiles","extensionList","extension","unmatchFilesLength","active","selectedPhoto","findIndex","p","pictureCatalogId","picture","thumbnail","resolution","from","width","parseInt","groupAppId","modelTypeMap","0","3","4","axios","pictureAlbumType","dialogify","title","flex","top","bottom","closeOnClickModal","workspaceId","serializePhotos","photo","fontWeight","vCode","fontSize","photos","handleMagnifyPhoto","_p","goToRenderPhotoPreview","len","message","submit","loading","host","res","loadPath","vCodes","Set","sort","a","b","ver","versionPohots","arr","imgUrls","pic","viewers","localStorage","setItem","_host","location","openWin","protocol","btoa","renderRelateId","albumId","renderAlbumId","query","convertType","originImgType","getCover","centerIdx","center","getImageList","imgArugmentJson"],"mappings":"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","file":"js/chunk-4e3043cd.3a9c3c0b.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"JSONschema2Type\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema2Type.default;\n  }\n});\nObject.defineProperty(exports, \"IntegerType\", {\n  enumerable: true,\n  get: function get() {\n    return _IntegerType.default;\n  }\n});\nObject.defineProperty(exports, \"JSONschema\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema.default;\n  }\n});\nObject.defineProperty(exports, \"NumberType\", {\n  enumerable: true,\n  get: function get() {\n    return _NumberType.default;\n  }\n});\nObject.defineProperty(exports, \"SelectType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.default;\n  }\n});\nObject.defineProperty(exports, \"MultipleSeleteType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.MultipleSeleteType;\n  }\n});\nObject.defineProperty(exports, \"SelectType2\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType2.default;\n  }\n});\nObject.defineProperty(exports, \"StringType\", {\n  enumerable: true,\n  get: function get() {\n    return _StringType.default;\n  }\n});\nexports.default = void 0;\n\nvar _JSONschema2Type = _interopRequireDefault(require(\"./JSONschema2Type\"));\n\nvar _IntegerType = _interopRequireDefault(require(\"./IntegerType\"));\n\nvar _JSONschema = _interopRequireDefault(require(\"./JSONschema\"));\n\nvar _NumberType = _interopRequireDefault(require(\"./NumberType\"));\n\nvar _SelectType = _interopRequireWildcard(require(\"./SelectType\"));\n\nvar _SelectType2 = _interopRequireDefault(require(\"./SelectType2\"));\n\nvar _StringType = _interopRequireDefault(require(\"./StringType\"));\n\nvar _default = _JSONschema2Type.default;\nexports.default = _default;","module.exports = __webpack_public_path__ + \"img/video.ec18b812.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPicture.vue?vue&type=style&index=0&id=add879b4&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","import { OSSUploader } from '@/utils/oss/uploader';\nimport isDataUrl from '_/is-data-url';\nimport { dataUrl2Blob } from '_/blob-utils';\n\n/**\n *\n * @param {Blob|string} blobOrDataUrl 一个dataUrl或者Blob对象（包括File）\n * @param {string} [sourceType] 资源类型 - @see {@link http://api.4dshoetech.com/project/61/interface/api/4387}\n * @param {(event: unknown,\n    fileLoaded: number,\n    fileSize: number,\n    process: number,\n    options: ComputedUploaderOptions<Params, Query>\n  ) => any} [onUpload] 上传进度 - 具体自己看结果或者源码\n * @return {Promise<string>}\n */\nconst uploadToOSS = async (blobOrDataUrl, sourceType, onUpload) => {\n  let body;\n  if (typeof blobOrDataUrl === 'string' && isDataUrl(blobOrDataUrl)) {\n    // 转化blob对象\n    body = dataUrl2Blob(blobOrDataUrl);\n  } else {\n    body = blobOrDataUrl;\n  }\n  // OSSUploader 会自动处理后缀名的问题，不需要额外的处理\n  // 上传到oss\n  /** @see {@link vscode://../from/a} */\n  const { key } = await OSSUploader.send({\n    sourceType,\n    body,\n    onUpload,\n  });\n\n  return key;\n};\n\nexport default uploadToOSS;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-style-normal.vue?vue&type=style&index=0&id=0eab218a&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _default2 = (0, _compositionApi.defineComponent)({\n  name: 'SingleSeletor',\n  props: {\n    builder: {\n      type: String,\n      default: 'el-select'\n    },\n    subbuilder: {\n      type: String,\n      default: 'el-option'\n    },\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    options: {\n      type: Array,\n      default: function _default() {\n        return [1, 2, 3, 4, 5];\n      }\n    },\n    val: {\n      type: String,\n      default: ''\n    }\n  },\n  model: {\n    prop: 'val',\n    event: 'change'\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var isObject = (0, _typeof2.default)(this.options[0]) === 'object';\n    return h(this.builder, {\n      \"attrs\": _objectSpread({\n        \"value\": this.val\n      }, this.$attrs),\n      \"on\": {\n        \"change\": function change(n) {\n          _this.$emit('change', n);\n        }\n      }\n    }, [this.options.map( // @ts-ignore\n    function (op, index) {\n      return h(_this.subbuilder, {\n        \"attrs\": {\n          \"value\": isObject ? op[_this.valueKey] : op,\n          \"label\": isObject ? op[_this.labelKey] : op\n        },\n        \"key\": index\n      });\n    })]);\n  }\n});\n\nexports.default = _default2;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex-space-between album-label\"},[_c('span',[_c('span',{staticStyle:{\"font-size\":\"24px\",\"color\":\"#f56c6c\"}},[_vm._v(\"*\")]),_vm._v(\" \"+_vm._s(_vm.$t(\"up-meeting.detail.showcase_photo_album\")))]),_c('span',{staticStyle:{\"color\":\"#999\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(_vm.album.length)+\" / 20\")])]),_c('div',{staticClass:\"album-list\"},[_vm._l((_vm.album),function(albumItem,idx){return _c('div',{key:albumItem.id || idx,staticClass:\"flex-column album-item\",staticStyle:{\"margin\":\"10px 0 0 0\",\"align-item\":\"center\"}},[_c('figure',{staticClass:\"item-image\"},[_c('base-image',{attrs:{\"src\":albumItem.url,\"fit\":\"contain\"}}),(_vm.isGesture(albumItem))?_c('span',{staticClass:\"flex-center rotate-360\"},[_vm._v(\"360°\")]):_vm._e(),(\n            albumItem.imgType === _vm.AlbumType.IMG_NORMAL ||\n            albumItem.imgType === _vm.AlbumType.IMG_360 ||\n            albumItem.imgType === _vm.AlbumType.IMG_720\n          )?_c('i',{staticClass:\"i-file-delete\",on:{\"click\":function($event){return _vm.remove(albumItem)}}}):_vm._e(),(albumItem.imgType === 4)?_c('i',{staticClass:\"i-3d\"}):_vm._e(),_c('i',{staticClass:\"i-zoom\",on:{\"click\":function($event){return _vm.$act(_vm.previewImage, [idx])}}})],1),_c('el-radio',{attrs:{\"label\":1,\"value\":albumItem.isCover},on:{\"input\":function (v) { return _vm.changeCover(albumItem); }}},[_vm._v(_vm._s(_vm.$t(\"up-meeting.detail.set_as_cover\"))+\" \")])],1)}),_c('el-dropdown',{attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\"},on:{\"command\":function (e) { return _vm.$act(_vm.handleDropdownCommand, [e]); }}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.album.length < _vm.max),expression:\"album.length < max\"},{name:\"loading\",rawName:\"v-loading\",value:(_vm.$isActing(_vm.handleDropdownCommand)),expression:\"$isActing(handleDropdownCommand)\"}],staticClass:\"item-add\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('span',[_vm._v(_vm._s(_vm.$t(\"up-meeting.detail.upload\")))])]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"single\"}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.album.image\")))]),_c('el-dropdown-item',{attrs:{\"command\":\"multi\"}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.album.folder\")))]),(_vm.hasRelateModel)?_c('el-dropdown-item',{attrs:{\"command\":\"renderPhoto\"}},[_vm._v(_vm._s(_vm.$t(\"virtual-meetup.home.album.model\")))]):_vm._e()],1)],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable camelcase */\n/* eslint-disable no-loop-func */\n/* eslint-disable no-restricted-syntax */\nimport {\n  computed, defineComponent, ref, watch,\n} from '@vue/composition-api';\nimport {\n  AlbumNormalItem as _AlbumNormalItem,\n  Album360_720Item as _Album360_720Item,\n  Album360_720ItemImgArgument,\n  Picture360_720Item as _Picture360_720Item,\n  AlbumType,\n} from '@/models/Catalog';\nimport selectFiles from '@/utils/select-files';\nimport { getParams } from '@/utils/oss/utils';\n// import getDpi from '@/utils/get-dpi';\n// import loadImage from '@4dst-saas/public-utils/dist/load-image';\nimport OSSUploader from '@/utils/oss/uploader';\nimport useClosest from '_/composables/use-closest';\nimport remove from '_/remove';\n// import isImage from '_/is-image';\nimport getExt from '@4dst-saas/public-utils/dist/get-ext';\nimport { validFiles } from '@/utils/validators/valid-file';\nimport AppError from '@/utils/error';\nimport i18n from '@/i18n';\nimport RenderPicture from './RenderPicture.vue';\n\n\ntype FFile = File & { webkitRelativePath?: string } & {_webkitRelativePath?:string};\nconst BLOB_KEY = Symbol('blob');\ntype AlbumNormalItem = Omit<_AlbumNormalItem, 'sort'> & {\n  progress: null | number,\n  imgDetail: _AlbumNormalItem['imgDetail']\n  [BLOB_KEY]?: Blob\n};\ntype Picture360_720Item = _Picture360_720Item & {\n  fileSize: number,\n  progress: null | number,\n  [BLOB_KEY]?: Blob\n};\ntype Album360_720Item = Omit<_Album360_720Item, 'imgArgument' | 'sort'> & {\n  progress: null | number,\n  imgArgument: Album360_720ItemImgArgument<Picture360_720Item> & {\n    size: [number, number]\n  },\n};\ntype AlbumItem = AlbumNormalItem | Album360_720Item;\ntype Indexs = `${number}_${number}`;\ntype TotalProgress = { uploaded: number, total: number };\n\nconst allowExts = ['jpg', 'jpeg', 'png'];\nconst r360 = new RegExp(`^(?:(.+)[\\\\/])?(\\\\d+_\\\\d+)\\\\.(?:${allowExts.join('|')})$`);\nfunction getSize(items: { index: Indexs }[]): [number, number] {\n  let x = 0;\n  let y = 0;\n  items.forEach(item => {\n    const indexs = item.index.split('_') as unknown as [number, number];\n    const [_y, _x] = indexs;\n    x = Math.max(x, _x);\n    y = Math.max(y, _y);\n  });\n  return [y + 1, x + 1];\n}\nexport async function fileList2Album(files: Iterable<FFile>) {\n  const _files = [...files].filter(file => allowExts.includes(getExt(file)));\n  const img360Map: { [x: string]: { [BLOB_KEY]: FFile, index: Indexs }[] } = {};\n  const imgNormal: FFile[] = [];\n  _files.forEach(file => {\n    const m = (file.webkitRelativePath || file._webkitRelativePath || file.name).match(r360);\n    if (m) {\n      const folderName = m[1] ?? '';\n      img360Map[folderName] ??= [];\n      img360Map[folderName].push({ [BLOB_KEY]: file, index: m[2] as Indexs });\n    } else {\n      imgNormal.push(file);\n    }\n  });\n  return ([] as AlbumItem[]).concat(\n    await Promise.all(imgNormal.map(async file => {\n      const { key: path } = await getParams(file, { sourceType: 'BINARY_FILE' } as any);\n      // const [\n      //   dpi,\n      //   { naturalWidth: width, naturalHeight: height },\n      // ] = await Promise.all([\n      //   // getDpi(file),\n      //   3000,\n      //   // loadImage(file),\n      //   { naturalWidth: 1000, naturalHeight: 1000 },\n      // ]);\n      const result: AlbumNormalItem = {\n        [BLOB_KEY]: file,\n        url: URL.createObjectURL(file),\n        path,\n        progress: null,\n        imgType: AlbumType.IMG_NORMAL,\n        imgArgument: null,\n        fileSize: file.size,\n        isCover: 0,\n        businessType: 1,\n        imgDetail: null,\n        // imgDetail: { width, height, dpi },\n      };\n\n      return result;\n    })),\n    await Promise.all(Object.entries(img360Map).map(async ([, items]) => {\n      const size = getSize(items);\n      type ItemMap = {\n        [i: string]: { index: Indexs, [BLOB_KEY]: FFile }\n      };\n      const itemMap: ItemMap = {};\n\n      let ext: string | undefined;\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        const _ext = getExt(item[BLOB_KEY]);\n        if (ext && ext !== _ext) {\n          throw new Error(i18n.t('virtual-meetup.check.360.ext'));\n          // throw new Error('360/720相册不能同时存在不同后缀名的图片资源');\n        }\n        ext = _ext;\n      }\n\n      items.forEach(item => {\n        if (itemMap[item.index]) {\n          throw new Error(i18n.t('virtual-meetup.check.360.name'));\n          // throw new Error(`360/720相册存在多余的文件名为${item.index}的图片`);\n        } else {\n          itemMap[item.index] = item;\n        }\n      });\n\n      for (let y = 0; y < size[0]; y++) {\n        for (let x = 0; x < size[1]; x++) {\n          const index = `${y}_${x}`;\n          if (!itemMap[`${y}_${x}`]) {\n            throw new Error(i18n.t('virtual-meetup.check.360.order'));\n            // throw new Error(`360/720相册缺少文件名为${index}的图片`);\n          }\n        }\n      }\n      const centerIndex = `${Math.floor(size[0] / 2)}_${Math.floor(size[1] / 2)}` as Indexs;\n      const imgArgument = {\n        size,\n        centerIndex,\n        list: await Promise.all(Object.values(itemMap).map(async item => {\n          const { key: path } = await getParams(item[BLOB_KEY], { sourceType: 'BINARY_FILE' } as any);\n          return {\n            progress: null,\n            fileSize: item[BLOB_KEY].size,\n            url: URL.createObjectURL(item[BLOB_KEY]),\n            path,\n            ...item,\n          };\n        })),\n      };\n      const fileSize = imgArgument.list.reduce((memo, item) => memo + item.fileSize, 0);\n      const centerImage = imgArgument.list.find(item => item.index === centerIndex)!;\n      return {\n        url: centerImage.url,\n        path: centerImage.path,\n        imgType: size[0] > 1 ? AlbumType.IMG_720 : AlbumType.IMG_360,\n        progress: null,\n        imgDetail: null,\n        imgArgument,\n        fileSize,\n        isCover: 0,\n        businessType: 1,\n      } as Album360_720Item;\n    })),\n  );\n}\n\nfunction updateProgress(_item: Album360_720Item) {\n  let uploaded: number = 0;\n  let total: number = 0;\n  _item.imgArgument.list.forEach(__item => {\n    uploaded += __item.fileSize * (__item.progress ?? 0);\n    total += __item.fileSize;\n  });\n  _item.progress = uploaded / total;\n}\n\nexport function calcTotalProgress(albumList: AlbumItem[]) {\n  const total = albumList.reduce((memo, item) => memo + item.fileSize!, 0);\n  const uploaded = albumList.reduce((memo, item) => memo + item.fileSize! * item.progress!, 0);\n  return { total, uploaded };\n}\nasync function uploadItem(item: AlbumItem, callback = () => { }, abortController?:AbortController) {\n  const abortOptions = abortController ? {\n    signal: abortController.signal,\n    abortError() {\n      return new AppError(i18n.t('virtual-meetup.public.abort_upload'), { code: AppError.CODE_USER_ABORT });\n    },\n  } : {};\n\n  item.progress = 0;\n  if (item.imgType === AlbumType.IMG_NORMAL\n    || item.imgType === AlbumType.IMG_CURRENT_MODEL\n  ) {\n    await OSSUploader.send({\n      params: {\n        key: item.path,\n      },\n      body: item[BLOB_KEY],\n      onUpload(event: Event, fileLoaded: number, fileSize: number, progress: number) {\n        item.progress = progress;\n        callback();\n      },\n      ...abortOptions,\n    });\n    item.progress = 1;\n    callback();\n  } else if (item.imgType === AlbumType.IMG_360\n    || item.imgType === AlbumType.IMG_720) {\n    for (const m of item.imgArgument.list) {\n      const body = m[BLOB_KEY];\n      m.progress = 0;\n      await OSSUploader.send({\n        params: {\n          key: m.path,\n        },\n        body,\n        onUpload(event: Event, fileLoaded: number, fileSize: number, progress: number) {\n          m.progress = progress;\n          updateProgress(item);\n          callback();\n        },\n        ...abortOptions,\n      });\n      m.progress = 1;\n      updateProgress(item);\n      callback();\n    }\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const uploadAlbum = async (albumList: AlbumItem[], callback = (o: TotalProgress) => { }, abortController?:AbortController) => {\n  for (const item of albumList) {\n    await uploadItem(item, () => { callback(calcTotalProgress(albumList)); }, abortController);\n  }\n};\n\nconst INNER_VALUE = Symbol('innerValue');\nexport default defineComponent({\n  props: {\n    albumList: {\n      type: Array as unknown as () => AlbumItem[],\n      required: true,\n      default: () => [],\n    },\n    autoupload: {\n      type: Boolean,\n      default: false,\n    },\n    hasRelateCatalog: {\n      type: Boolean,\n      default: false,\n    },\n    max: {\n      type: Number,\n      default: 20,\n    },\n    catalogId: {\n      type: String,\n      default: '',\n    },\n    hasRelateModel: {\n      type: Boolean,\n      default: false,\n    },\n    types: {\n      type: Array as ()=>string[],\n      default: ['jpg', 'png'],\n    },\n  },\n  model: {\n    event: 'update:albumList',\n    prop: 'albumList',\n  },\n  setup(props, { emit, root }) {\n    const album = ref<AlbumItem[]>([]);\n\n    const change = (o: TotalProgress) => emit('update:albumList', album.value, o);\n\n    watch(() => props.albumList, (_albumList) => {\n      // @ts-ignore\n      if (_albumList[INNER_VALUE]) {\n        return;\n      }\n      const albumList = JSON.parse(JSON.stringify(_albumList)) as AlbumItem[];\n      // @ts-ignore\n      albumList[INNER_VALUE] = true;\n      album.value = albumList;\n    }, {\n      immediate: true,\n    });\n\n    watch(album, (_album) => {\n      emit('update:albumList', _album);\n    });\n\n    // 外部拖进来文件时进行的操作,外部组件有调用\n    async function files2albums(files: File[]) {\n      validFiles(files);\n      const newItems = await fileList2Album(files);\n      const count = album.value.length + newItems.length;\n      if (count > props.max) {\n        newItems.splice(newItems.length - count - props.max, count - props.max);\n      }\n      album.value.push(...newItems);\n      change({ uploaded: 0, total: 0 });\n      if (props.autoupload) {\n        await uploadAlbum(newItems, change);\n      }\n    }\n\n    async function pickFile(folder: boolean) {\n      const files = await selectFiles({\n        types: props.types,\n        folder,\n        multiple: !folder,\n      });\n\n      await files2albums(files);\n    }\n\n    async function handleDropdownCommand(command: string) {\n      switch (command) {\n        case 'single': {\n          await pickFile(false);\n          break;\n        }\n        case 'multi': {\n          await pickFile(true);\n          break;\n        }\n        case 'renderPhoto': {\n          const renderPhotos = await root.$injectDialog({\n            is: RenderPicture,\n            props: {\n              id: props.catalogId,\n              // workspaceId: useClosest('ModelInfo')!.workspaceId,\n              relateType: props.relateType,\n              maxLength: 20 - album.value.length,\n            },\n          }) as AlbumItem[];\n\n          album.value = [\n            ...album.value,\n            ...renderPhotos,\n          ];\n\n          change({ uploaded: 0, total: 0 });\n          break;\n        }\n        default:\n      }\n    }\n\n    async function previewImage(index: number) {\n      // const imgList = album.value.reduce((acc, cur) => {\n      //   // @ts-ignore\n      //   if (cur.imgType === AlbumType.IMG_NORMAL) acc.push(cur.url);\n      //   return acc;\n      // }, []);\n      const imgList = album.value.map(img => img.url!);\n      await root.$ImageViewer.show(imgList as string[], {\n        index,\n        srcList: imgList,\n        targetElems: '.item-image',\n      });\n    }\n\n    function isGesture(albumItem: AlbumItem): albumItem is Album360_720Item {\n      return albumItem.imgType === AlbumType.IMG_360 || albumItem.imgType === AlbumType.IMG_720;\n    }\n    return {\n      isGesture,\n      AlbumType,\n      BLOB_KEY,\n      pickFile,\n      album,\n      previewImage,\n      handleDropdownCommand,\n      files2albums,\n      remove(item: AlbumItem) {\n        remove(album.value, item);\n        change({ uploaded: 0, total: 0 });\n      },\n      validateUploaded() {\n        album.value.forEach(item => {\n          if (item.progress !== 1) throw new Error('正在上传');\n        });\n      },\n      upload(callback = () => { }, abortController?:AbortController) {\n        const items = album.value.filter(item => item.progress === null);\n        return uploadAlbum(items, (o) => { change(o); callback(o); }, abortController);\n      },\n      changeCover(item: AlbumItem) {\n        // const v = (+!item.isCover) as 0 | 1\n        const v = 1;\n        album.value.forEach((_item) => {\n          if (item === _item) {\n            _item.isCover = v;\n          } else if (v) {\n            _item.isCover = 0;\n          }\n        });\n        change({ uploaded: 0, total: 0 });\n      },\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Album.vue?vue&type=template&id=30a61490&scoped=true&\"\nimport script from \"./Album.vue?vue&type=script&lang=ts&\"\nexport * from \"./Album.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Album.vue?vue&type=style&index=0&id=30a61490&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30a61490\",\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./ai.png\": \"c5dd\",\n\t\"./audio.png\": \"4845\",\n\t\"./compressed.png\": \"c8a6\",\n\t\"./gif.png\": \"fed4\",\n\t\"./img.png\": \"9680\",\n\t\"./model.png\": \"cf2d\",\n\t\"./pdf.png\": \"e4e5\",\n\t\"./ppt.png\": \"b5a9\",\n\t\"./ps.png\": \"672c\",\n\t\"./sheet.png\": \"93a4\",\n\t\"./text.png\": \"94f5\",\n\t\"./video.png\": \"06d6\",\n\t\"./word.png\": \"df61\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"34e5\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPhotoItem.vue?vue&type=style&index=0&id=0a4769dc&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/audio.ec18b812.png\";","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","import { axios } from '@/utils/axios';\n\nexport function getRelativePathFromUrl(url: string) {\n  if (/\\/datapipe\\/repository\\//.test(url)) {\n    return url.match(/\\/datapipe\\/repository\\/(.+)\\?/)?.[1] || '';\n  }\n  return url.match(/\\.aliyuncs\\.com\\/(.+?)(\\?|$)/)?.[1] || '';\n}\n\nexport const getModelCTMList = (modelId:string, modelType:'SHOE'|'HANDBAG') => {\n  return axios({\n    method: 'get',\n    url: 'show/application/model/ctms',\n    params: {\n      modelId,\n    },\n    headers: {\n      'Resource-Checkout': true,\n      'requester-type': 'web',\n      'model-type': modelType,\n    },\n  });\n};\n\n\nexport default {};\n","module.exports = __webpack_public_path__ + \"img/ps.ec18b812.png\";","module.exports = __webpack_public_path__ + \"img/sheet.a7c1b92b.png\";","module.exports = __webpack_public_path__ + \"img/text.ec18b812.png\";","module.exports = __webpack_public_path__ + \"img/img.c104a91c.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachment.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachment.vue?vue&type=style&index=0&id=91aa8f88&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/ppt.bb2bf9b3.png\";","\nimport {\n  defineComponent, ref, watch,\n} from '@vue/composition-api';\nimport UploadArea from '@/components/upload/index.vue';\nimport { i18n } from '@/i18n';\nimport { validFiles } from '@/utils/validators/valid-file';\nimport getExt from '_/get-ext';\nimport { getTypeFormExt } from '@/utils/get-file-validation-options';\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport { getRelativePathFromUrl } from '@/utils/normalize-component';\n\n\ntype FileItem = {\n  downloadPath?: string,\n  url: string,\n  id?: string,\n  name: string,\n  file?: File | null,\n  type: string,\n};\n\nexport const binaryFileInfoList2FileList = (binaryFileInfoList:any[]) => {\n  return binaryFileInfoList.map(item => ({\n    id: item.id,\n    // file: null,\n    url: item.url || item.downloadPath || item.fileInfo.downloadPath,\n    downloadPath: getRelativePathFromUrl(item.downloadPath || '') || getRelativePathFromUrl(item.fileInfo?.downloadPath || ''),\n    name: item.name,\n    type: getTypeFormExt(getExt(item.downloadPath || item.fileInfo.downloadPath)),\n  })) as FileItem[];\n};\n\n// 校验、整理files\nfunction _formatFileItem(files: File | File[]) {\n  if (!Array.isArray(files)) {\n    files = [files];\n  }\n\n  console.info(files);\n\n  validFiles(files);\n\n  return files.map(file => ({\n    file,\n    name: file.name,\n    // thumbnail: window.URL.createObjectURL(file),\n    url: window.URL.createObjectURL(file),\n    // downloadPath: window.URL.createObjectURL(file),\n    type: getTypeFormExt(getExt(file)),\n  } as FileItem));\n}\n\n// 获取上传文件oss地址的列表（外部调用）\nexport async function getBinaryFileList(fileList:FileItem[]): Promise<FileItem[]> {\n  const result = fileList.reduce((acc, cur) => {\n    if (cur.file) {\n      acc.needUpload.push(cur);\n    } else {\n      acc.uploaded.push(cur);\n    }\n    return acc;\n  }, { uploaded: [] as FileItem[], needUpload: [] as FileItem[] });\n  const uploadedItems = result.uploaded.map(item => ({\n    id: item.id,\n    downloadPath: item.downloadPath,\n    name: item.name,\n  })) as FileItem[];\n  const Items = await Promise.all(result.needUpload.map(async file => {\n    const url = await uploadToOSS(file.file!, 'BINARY_FILE');\n    return {\n      downloadPath: url,\n      name: file.name,\n    };\n  })) as FileItem[];\n  return [...uploadedItems, ...Items];\n}\n\nconst Attachment = defineComponent({\n  name: 'Attachment',\n  props: {\n    catalogId: {\n      type: String,\n      required: true,\n    },\n    binaryFileInfoList: {\n      type: Array,\n      requierd: true,\n    },\n    max: {\n      type: Number,\n      default: 20,\n    },\n  },\n  setup(props, { root }) {\n    const fileList = ref<FileItem[]>([]);\n\n    // 处理放大图片功能\n    function handlePreviewImage(i: number) {\n      root.$ImageViewer.show(fileList.value.map(file => file.downloadPath), {\n        index: i,\n        targetElems: '.file-item-image',\n      });\n    }\n\n    // 上传按钮点击事件\n    function handleUploadFile(files: File | File[]) {\n      // 处理files不是数组报错问题\n      fileList.value.push(..._formatFileItem(files));\n      if (fileList.value.length > props.max) {\n        fileList.value = fileList.value.slice(0, props.max);\n        root.$message.warning(i18n.t('upload.msg.exceed_max', { max: props.max }));\n      }\n    }\n\n    const defaultImageSrc = (type) => {\n      const UNKNOWN_ICON = require('@/assets/img/file-list/raw-file-icon/text.png');\n      const vType = type;\n      console.info(type);\n      if (vType) {\n        // eslint-disable-next-line import/no-dynamic-require\n        return require(`@/assets/img/file-list/raw-file-icon/${vType}.png`);\n      }\n      return UNKNOWN_ICON;\n    };\n\n\n    watch(() => ({\n      binaryFileInfoList: props.binaryFileInfoList as any[],\n      catalogId: props.catalogId,\n    }), async (v) => {\n      if (!v.catalogId && !v.binaryFileInfoList?.length) return;\n      fileList.value = binaryFileInfoList2FileList(v.binaryFileInfoList);\n    });\n\n    return {\n      getBinaryFileList,\n      fileList,\n      handleUploadFile,\n      handlePreviewImage,\n      defaultImageSrc,\n    };\n  },\n\n  render() {\n    const { fileList, handleUploadFile, defaultImageSrc } = this;\n\n    return <div>\n      <div class=\"flex-space-between\">\n        <span style=\"font-size: 16px;\">{i18n.t('up-meeting.detail.upload_files')}\n          <el-popover\n            placement=\"top\"\n            width=\"250\"\n            trigger=\"hover\"\n            popper-class=\"tip-style\"\n            content={i18n.t('virtual-meetup.check.upload_size_limit')}>\n            <i slot=\"reference\" class=\"i-bohuiyuanyin\" style=\"padding-left: 6px; font-size: 14px\" />\n          </el-popover>\n\n        </span>\n        <UploadArea multiple onupload={(files: File | File[]) => handleUploadFile(files)}>\n\n          <i class=\"iconfont iconws-add\" style=\"font-size: 24px; cursor:pointer\"></i>\n\n        </UploadArea>\n      </div>\n      <ul class=\"file-list flex-wrap\">\n        {fileList.map((file, i) => {\n          return <li class=\"flex-center\" style=\"width: 50%;padding:10px 10px 10px 0\">\n            <base-image\n              defaultImage={defaultImageSrc(file.type)}\n              src={['img', 'gif'].includes(file.type) ? file.url : ''}\n              fit=\"contain\"\n              class=\"file-item-image\"\n            />\n            <span class=\"text-one-line flex-1\" style=\"padding: 0 10px\">{file.name}</span>\n            <i class=\"i-file-delete\" onclick={() => { this.fileList.splice(i, 1); }}></i>\n          </li>;\n        })}\n\n      </ul>\n    </div>;\n  },\n});\n\nexport default Attachment;\n","var render, staticRenderFns\nimport script from \"./Attachment.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Attachment.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./Attachment.vue?vue&type=style&index=0&id=91aa8f88&lang=scss&scoped=true&\"\nimport style1 from \"./Attachment.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91aa8f88\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachment.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachment.vue?vue&type=script&lang=tsx&\"","module.exports = __webpack_public_path__ + \"img/ai.ec18b812.png\";","module.exports = __webpack_public_path__ + \"img/compressed.ec18b812.png\";","module.exports = __webpack_public_path__ + \"img/model.1c9ea92d.png\";","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6d242180&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d242180\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'dragover': _vm.dragoverStatus },staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.$emit('file', $event.dataTransfer.files)},\"dragover\":function($event){$event.preventDefault();return _vm.handleDragOver($event)},\"dragleave\":function($event){_vm.dragoverStatus = false}}},[_vm._t(\"default\",[(_vm.styleType === 'normal')?_c('upload-style-normal'):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-style-normal\"},[(_vm.buffer.imgUrl)?_c('div',{staticClass:\"previewer-box\"},[_c('img',{staticClass:\"previewer\",attrs:{\"src\":_vm.buffer.imgUrl}}),_c('div',{staticClass:\"previewer-veil\"},[_c('i',{staticClass:\"iconfont icon-file-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.vm.$emit('delete')}}}),_c('i',{staticClass:\"iconfont\",class:_vm.visible ? 'icon-eye-slash' : 'icon-eye',on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleVisible($event)}}})])]):_c('div',{staticClass:\"upload-area\"},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"upload-style-normal\">\n    <!-- 上传预览图 -->\n    <div v-if=\"buffer.imgUrl\" class=\"previewer-box\">\n      <img :src=\"buffer.imgUrl\" class=\"previewer\">\n      <div class=\"previewer-veil\">\n        <i class=\"iconfont icon-file-delete\" @click.stop=\"vm.$emit('delete')\" />\n        <i\n          class=\"iconfont\"\n          :class=\"visible ? 'icon-eye-slash' : 'icon-eye'\"\n          @click.stop=\"toggleVisible\" />\n      </div>\n    </div>\n    <!-- 上传按钮 -->\n    <div v-else class=\"upload-area\">\n      <i class=\"iconfont icon-upload-cloud-o\" />\n      <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inject: ['vm', 'buffer'],\n  data() {\n    return {\n      visible: true,\n    };\n  },\n  methods: {\n    toggleVisible() {\n      this.visible = !this.visible;\n      this.vm.$emit('toggle-visible', this.visible);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-style-normal {\n  width: 100px;\n  height: 100px;\n  border-radius: 4px;\n  cursor: pointer;\n  overflow: hidden;\n}\n\n.previewer-box {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  &:hover .previewer-veil {\n    display: flex;\n  }\n\n  .previewer {\n    width: 100%;\n    height: 100%;\n  }\n  .previewer-veil {\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    background-color: rgba(0, 0, 0, 0.6);\n\n    .iconfont {\n      position: absolute;\n      padding: 0 5px;\n      left: 0;\n      top: 6px;\n      z-index: 2;\n      font-size: 16px;\n      color: #fff;\n      transition: all linear 100ms;\n      &:hover {\n        color: $color-primary;\n      }\n    }\n    .icon-file-delete {\n      left: auto;\n      right: 0;\n      top: 5px;\n    }\n  }\n}\n\n.upload-area {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n  }\n  .iconfont {\n    font-size: 24px;\n    font-weight: 400;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-style-normal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-style-normal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload-style-normal.vue?vue&type=template&id=0eab218a&scoped=true&lang=html&\"\nimport script from \"./upload-style-normal.vue?vue&type=script&lang=js&\"\nexport * from \"./upload-style-normal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload-style-normal.vue?vue&type=style&index=0&id=0eab218a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0eab218a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    :class=\"{ 'dragover': dragoverStatus }\"\n    style=\"width: 100%; height: 100%;\"\n    @drop.prevent=\"$emit('file', $event.dataTransfer.files)\"\n    @dragover.prevent=\"handleDragOver\"\n    @dragleave=\"dragoverStatus = false\">\n    <slot>\n      <upload-style-normal v-if=\"styleType === 'normal'\" />\n    </slot>\n  </div>\n</template>\n\n<script>\nimport UploadStyleNormal from './upload-style-normal';\n\nexport default {\n  name: 'UploadDrag',\n  components: {\n    UploadStyleNormal,\n  },\n  inject: ['styleType'],\n  data() {\n    return {\n      dragoverStatus: false,\n    };\n  },\n  methods: {\n    handleDragOver() {\n      if (!this.dragoverStatus) this.dragoverStatus = true;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-drag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-drag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload-drag.vue?vue&type=template&id=2ff9226d&\"\nimport script from \"./upload-drag.vue?vue&type=script&lang=js&\"\nexport * from \"./upload-drag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{ref:\"inputFile\",staticClass:\"hidden\",attrs:{\"accept\":_vm.accept,\"multiple\":_vm.multiple,\"type\":\"file\"},on:{\"change\":_vm.uploadFiles}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input\n    :accept=\"accept\"\n    :multiple=\"multiple\"\n    type=\"file\"\n    class=\"hidden\"\n    ref=\"inputFile\"\n    @change=\"uploadFiles\" />\n</template>\n\n<script lang=\"javascript\">\nexport default {\n  name: 'UploadFileInput',\n  inject: ['accept', 'multiple'],\n  props: {\n    disabled: {\n      type: Boolean,\n    },\n  },\n  methods: {\n    triggerUpload() {\n      if (!this.disabled) this.$refs.inputFile.click();\n    },\n    uploadFiles() {\n      const { files } = this.$refs.inputFile;\n      if (files.length) {\n        this.$emit('file', files);\n\n        // 每次上传完，把input(file)的值设置空\n        // 解决两次选取同一个文件不能触发相应事件的问题\n        this.$refs.inputFile.value = '';\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-file-input.vue?vue&type=script&lang=javascript&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-file-input.vue?vue&type=script&lang=javascript&\"","import { render, staticRenderFns } from \"./upload-file-input.vue?vue&type=template&id=06a2a601&\"\nimport script from \"./upload-file-input.vue?vue&type=script&lang=javascript&\"\nexport * from \"./upload-file-input.vue?vue&type=script&lang=javascript&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport Vue from 'vue';\nimport i18n from 'i18next';\n\nimport UploadDrag from './src/upload-drag';\nimport UploadFileInput from './src/upload-file-input';\n\nexport default {\n  name: 'UploadArea',\n  components: {\n    UploadDrag,\n    UploadFileInput,\n  },\n  props: {\n    // 上传区域的样式\n    styleType: {\n      type: String,\n      default: 'normal',\n    },\n    // 上传文件最大限制\n    maxSize: {\n      type: Number,\n      default: Infinity,\n    },\n    // 上传文件最小限制\n    minSize: {\n      type: Number,\n      default: 1,\n    },\n    // 支持的格式：（可以用一下分隔符[,;、；|]）\n    accept: {\n      type: String,\n      default: '',\n    },\n    // 支持拖拽状态\n    draggable: {\n      type: Boolean,\n      default: true,\n    },\n    // 支持多文件上传状态\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    // 功能激活状态\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  provide() {\n    return {\n      vm: this.vm,\n      buffer: this.buffer,\n      accept: this.accept,\n      multiple: this.multiple,\n      styleType: this.styleType,\n      disabled: this.disabled,\n    };\n  },\n  data() {\n    return {\n      vm: new Vue(), // 示例化一个vue，做该部件的事件传递的中间者\n      buffer: { // 中间对象，做该部件的部分参数传递的中间者\n        imgUrl: '',\n      },\n      imgs: [],\n      unmatchFiles: [], // 没有符合规范的问题\n    };\n  },\n  mounted() {\n    // 局部事件监听\n    this.vm\n      .$on('delete', () => this.handleDeleteFile())\n      .$on('toggle-visible', (status) => this.handleToggleVisible(status));\n  },\n  destroyed() {\n    this.vm = null;\n  },\n  methods: {\n    async upload(files) {\n      this.unmatchFiles = [];\n      // 校验是否禁止状态\n      if (this.disabled) return;\n\n      // 如果当前上传的文件没有通过校验，不往下执行\n      const matchFiles = await this._checkFiles(Array.from(files));\n\n      if (!this.multiple) {\n        this.buffer.imgUrl = window.URL.createObjectURL(matchFiles[0]);\n        this.$emit('upload', matchFiles[0]);\n        return;\n      }\n\n      this.$emit('upload', matchFiles);\n    },\n    // 处理删除文件事件\n    handleDeleteFile() {\n      this.buffer.imgUrl = '';\n      this.$emit('delete');\n    },\n    // 处理重新上传文件事件\n    handleToggleVisible(status) {\n      this.$emit('toggle-visible', status);\n    },\n    // 检查文件是否符合上传规范\n    _checkFiles(files) {\n      return new Promise((resolve, reject) => {\n        const result = [];\n\n        files.forEach(file => {\n          console.info(file);\n          // 过滤空文件\n          if (file.size === 0) {\n            this.$message.warning(i18n.t('upload.msg.exceed_size', { filename: file.name }));\n            return;\n          }\n\n          // 校验文件是否符合上传格式; 如果没有格式要求，则不做格式校验\n          if (this.accept) {\n            const extensionList = this.accept\n              .toLowerCase()\n              .replace(/[\\s/.]/g, '')\n              .split(/[,;、；|]/);\n            const extension = file.name.split('.').pop().toLowerCase();\n            if (!extensionList.includes(extension)) {\n              this.unmatchFiles.push(file);\n              return;\n            }\n          }\n\n          // 校验文件是否符合大小规范\n          if (file.size > this.maxSize) {\n            this.$message.warning(i18n.t('upload.msg.exceed_size', { filename: file.name }));\n            return;\n          }\n\n          result.push(file);\n        });\n\n        // 根据没有符合格式的文件数量，显示不同的提示\n        const unmatchFilesLength = this.unmatchFiles.length;\n        if (unmatchFilesLength === 1) {\n          this.$message.warning(i18n.t('upload.msg.invalid_file_format', { filename: this.unmatchFiles[0].name }));\n        } else if (unmatchFilesLength >= 2) {\n          this.$message.warning(i18n.t('upload.msg.invalid_files_format', { filesNum: unmatchFilesLength }));\n        }\n\n        // eslint-disable-next-line\n        result.length > 0 ? resolve(result) : null;\n      });\n    },\n  },\n  render() {\n    const { draggable, disabled } = this;\n\n    // 容器的属性\n    const data = {\n      attrs: {\n        id: 'dropzone',\n      },\n      class: {\n        disabled,\n      },\n      on: {\n        click: () => {\n          this.$refs.uploadInput.triggerUpload();\n        },\n      },\n    };\n\n    return (\n      <div {...data}>\n        {draggable ? <upload-drag on-file={this.upload}>{this.$slots.default}</upload-drag>\n          : this.$slots.default\n        }\n        <upload-file-input disabled={this.disabled} on-file={this.upload} ref=\"uploadInput\"></upload-file-input>\n      </div>\n    );\n  },\n};\n</script>\n\n<style scoped>\n.disabled {\n  background-color: rgba(0, 0, 0, 0.05);\n  cursor: not-allowed;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","module.exports = __webpack_public_path__ + \"img/word.3fcc7e34.png\";","module.exports = __webpack_public_path__ + \"img/pdf.b48e1f76.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&id=30a61490&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6d242180&scoped=true&lang=css&\"","var render, staticRenderFns\nimport script from \"./RenderPicture.vue?vue&type=script&lang=tsx&\"\nexport * from \"./RenderPicture.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./RenderPicture.vue?vue&type=style&index=0&id=add879b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"add879b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"render-succeeded fullfilled\",class:{active: _vm.selectedPhoto.findIndex(function (p) { return p.pictureCatalogId === _vm.picture.pictureCatalogId; }) !== -1},on:{\"click\":function($event){return _vm.$emit('select', _vm.picture)}}},[_c('base-image',{attrs:{\"src\":_vm.picture.thumbnail,\"fit\":\"contain\"}}),_c('span',{staticClass:\"picture-label flex-center\"},[_vm._v(_vm._s(_vm.resolution))]),_c('i',{staticClass:\"iconfont iconyuanxing\"}),_c('i',{staticClass:\"iconfont iconchenggong selected-icon\"}),(_vm.picture.imgType === 0)?_c('i',{staticClass:\"iconfont icon-zoom\",on:{\"click\":function($event){return _vm.$emit('magnify')}}}):_c('i',{staticClass:\"iconfont icon-zoom\",on:{\"click\":function($event){return _vm.$emit('previewphotos')}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, computed } from '@vue/composition-api';\nimport i18n from 'i18next';\n\nexport default defineComponent({\n  props: {\n    picture: {\n      type: Object,\n      required: true,\n    },\n    from: {\n      type: String,\n    },\n    selectedPhoto: {\n      type: Array,\n    },\n  },\n  setup(props) {\n    const resolution = computed(() => {\n      if (props.picture.imgType === 1) return '360°';\n      const width = parseInt(props.picture.resolution, 10);\n      if (width === 1024) return i18n.t('model.photoSize.preview');\n      if (width === 1920) return i18n.t('model.photoSize.standard');\n      if (width === 4000) return i18n.t('model.photoSize.hd');\n      return i18n.t('model.photoSize.unknown');\n    });\n    return {\n      resolution,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPhotoItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPhotoItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RenderPhotoItem.vue?vue&type=template&id=0a4769dc&scoped=true&\"\nimport script from \"./RenderPhotoItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./RenderPhotoItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RenderPhotoItem.vue?vue&type=style&index=0&id=0a4769dc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a4769dc\",\n  null\n  \n)\n\nexport default component.exports","\n/* eslint-disable camelcase */\nimport { getUsersInfoByIds } from '@/api/account';\nimport User from '@/models/User';\nimport axios from '@/utils/axios';\nimport { getHost } from '@/utils/exec';\nimport useLoader from '@4dst-saas/public-utils/dist/composables/use-loader';\nimport {\n  computed, defineComponent, onMounted, ref,\n} from '@vue/composition-api';\nimport { openSingleton } from '@/utils/open-window';\nimport { Album360_720ItemImgArgument, AlbumItem, Picture360_720Item } from '@/models/Catalog';\nimport i18n, { i18next } from '@/i18n';\nimport { getRelativePathFromUrl } from '../utils/utils';\nimport RenderPhotoItem from './RenderPhotoItem.vue';\n\nconst apiGetModelRenderingPhotos = (catalogId: string, groupAppId: string, relateType = 0) => {\n  const modelTypeMap = {\n    0: 'SHOE',\n    // 3: 'HANDBAG',\n    3: 'SHOE',\n    4: 'CLOTHES',\n  };\n  return axios({\n    method: 'get',\n    url: '/bff-center/cloud-disk/list/getCatalogPictureAlbumList',\n    headers: { groupAppId },\n    params: {\n      catalogId,\n      pictureAlbumType: modelTypeMap[relateType],\n    },\n  });\n};\n\n\nexport default defineComponent({\n  dialogify: {\n    props: {\n      title: i18next.t('virtual-meetup.dialog.addWorkspace'),\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n      width: '580px',\n      closeOnClickModal: false,\n      size: 'medium',\n    },\n  },\n  props: {\n    id: {\n      type: String,\n    },\n    workspaceId: {\n      type: String,\n    },\n    relateType: {\n      type: Number as () => 0 | 3,\n    },\n    maxLength: {\n      type: Number,\n      default: 19,\n    },\n  },\n  render() {\n    const s = this;\n    return (\n      <div>\n        <div style=\"margin-bottom: 4px\">{i18next.t('virtual-meetup.dialog.addPhotoFromModel')}</div>\n        <div class=\"photo-container flex-column scrollable scrollable-y\">\n          {\n            this.serializePhotos && this.serializePhotos.length ? this.serializePhotos.map(photo => {\n              return <div class=\"photo-block\">\n                <div class=\"version-label\">\n                  <span style={{ fontWeight: '600' }}>{`${i18next.t('virtual-meetup.dialog.version')}${photo.vCode}`}</span>\n                  <span style={{ fontSize: '14px' }}>\n                    <i class=\"iconfont icon-angle-down\" vShow={true} />\n                    <i class=\"iconfont icon-angle-right\" vShow={false} />\n                  </span>\n                </div>\n                <div class=\"flex\" style=\"flex-wrap: wrap; gap: 10px;\">\n                  {\n                    photo.photos.map((p) => {\n                      return <RenderPhotoItem\n                        picture={p} selectedPhoto={this.selectedPhoto}\n                        from={this.workspaceId} key={p.pictureCatalogId}\n                        onmagnify={\n                          () => s.handleMagnifyPhoto(\n                            photo.photos.filter(_p => _p.status === 2), p.thumbnail,\n                          )\n                        }\n                        onpreviewphotos={\n                          () => s.goToRenderPhotoPreview(p)\n                        }\n                        onselect={\n                          (picture: any) => {\n                            const len = s.selectedPhoto.length;\n                            const idx = s.selectedPhoto.findIndex(_p => _p.pictureCatalogId === picture.pictureCatalogId);\n                            if (idx === -1) {\n                              if (len === s.maxLength) {\n                                s.$message.warning(i18n.t('virtual-meetup.check.length'));\n                                return;\n                              }\n                              s.selectedPhoto.push(picture);\n                            } else {\n                              s.selectedPhoto.splice(idx, 1);\n                            }\n                          }\n                        }\n                      />;\n                    })\n                  }\n                </div>\n              </div>;\n            })\n              : <error error={{ message: i18n.t('virtual-meetup.home.model_no_image'), code: 404 }} />\n          }\n        </div>\n        <div style=\"text-align: right\">\n          <el-button round onclick={\n            () => this.$emit('cancel')\n          }>{i18next.t('virtual-meetup.dialog.cancel')}</el-button>\n          <el-button round type=\"primary\" onclick={\n            () => s.submit()\n          }>{i18next.t('virtual-meetup.dialog.complete')}({`${this.selectedPhoto.length}/${s.maxLength}`})</el-button>\n        </div>\n      </div>\n    );\n  },\n  setup(props, { root, emit }) {\n    const loading = ref(false);\n    const host = ref<string>();\n    const selectedPhoto = ref<any[]>([]);\n    // const usersInfo = ref<User[]>([]);\n\n    onMounted(async () => {\n      host.value = await getHost();\n    });\n\n    const photos = useLoader(async () => {\n      loading.value = true;\n      const res = (await apiGetModelRenderingPhotos(\n        props.id!,\n        props.workspaceId || '',\n        props.relateType,\n      )\n      ).data;\n\n      if (res.length === 0) return [];\n      // 获取用户信息\n      // const userIds = [...new Set(res.map((photo) => photo.userId))];\n\n      // usersInfo.value = (await getUsersInfoByIds(userIds)).data;\n\n      // 如果渲染列表没有渲染中状态，停止定时器\n      // const renderingItems = res.filter((item) => item.status <= 1);\n      // if (!renderingItems.length) clearInterval(this.timer);\n\n      loading.value = false;\n      return res.filter(i => i.loadPath && i.thumbnail\n        && ((i.imgType === 1 && i.status === 2) || i.imgType !== 1));\n    });\n\n    const serializePhotos = computed(() => {\n      if (!photos.value) return [];\n      if (photos.value.length === 0) {\n        return [];\n      }\n      const vCodes = [...new Set(photos.value.map((photo) => photo.vCode))].sort(\n        (a, b) => b - a,\n      );\n      return vCodes.map((ver) => {\n        // 根据版本集合\n        const versionPohots = photos.value.filter(\n          (photo) => photo.vCode === ver,\n        );\n\n\n        return {\n          vCode: ver,\n          photos: versionPohots,\n        };\n      });\n    });\n\n    // 处理放大镜效果\n    async function handleMagnifyPhoto(arr: { thumbnail: string }[], imgUrl: string) {\n      // 获取图片中的host, token, index等参数用于放大镜\n      const imgUrls = arr\n        .filter((item) => item.thumbnail)\n        .map((pic) => pic.thumbnail);\n      const index = imgUrls.findIndex((item) => item === imgUrl);\n      const viewers = {\n        srcList: imgUrls,\n        index,\n      };\n\n      // 通知QT打开新的窗口显示放大镜\n      if (!host.value) {\n        root.$ImageViewer.show({\n          ...viewers,\n          targetElems: '.photo-item',\n        });\n      } else {\n        localStorage.setItem(\n          'imageViewer',\n          JSON.stringify({\n            ...viewers,\n            list: viewers.srcList,\n          }),\n        );\n        const { host: _host } = window.location;\n        host.value.openWin({\n          url: `//${_host}/qt/view-image`,\n          params: viewers,\n        });\n      }\n    }\n    // 跳转到360图片预览\n    function goToRenderPhotoPreview(picture: any) {\n      let path = picture.loadPath;\n      if (path.indexOf('?') !== -1) {\n        [path] = path.split('?');\n      }\n      if (host.value) {\n        const { protocol, host: _host } = window.location;\n        console.info(props.workspaceId);\n        host.value.openWin({\n          url: `${protocol}//${_host}/qt/render-photo-preview?p=${btoa(\n            JSON.stringify({\n              renderRelateId: picture.renderRelateId,\n              albumId: picture.renderAlbumId,\n              groupAppId: props.workspaceId,\n            }),\n          )}`,\n        });\n      } else {\n        openSingleton(\n          {\n            name: 'RenderPhotoPreview',\n            query: {\n              // renderRelateId: picture.renderRelateId,\n              // albumId: picture.renderAlbumId,\n              // groupAppId: this.from,\n              p: btoa(\n                JSON.stringify({\n                  renderRelateId: picture.renderRelateId,\n                  albumId: picture.renderAlbumId,\n                  groupAppId: props.workspaceId,\n                }),\n              ),\n            },\n          },\n          true,\n          'RenderPhotoPreview',\n        );\n      }\n    }\n\n    function convertType(originImgType: number) {\n      if (originImgType === 0) {\n        return 1;\n      }\n      if (originImgType === 1) {\n        return 2;\n      }\n      return 1;\n    }\n    type Picture = { index: `${number}_${number}`, path: string };\n    function getCover(items: Picture[]) {\n      const centerIdx = 0.75;\n      const center = items[Math.floor(items.length * centerIdx) + 1];\n      return {\n        // cover: center.path,\n        centerIndex: center.index,\n      };\n    }\n\n    async function getImageList() {\n      const res = await Promise.all(selectedPhoto.value.map(async (photo, idx) => {\n        const { imgType, renderRelateId, renderAlbumId } = photo;\n        let items: Picture[] = [];\n        let imgArugmentJson: Album360_720ItemImgArgument<Omit<Picture360_720Item, 'url'>> | undefined;\n        if (imgType === 1) {\n          items = (await axios.get(\n            'bff-center/cloud-disk/list/getPanoramaPictureList',\n            { params: { renderRelateId, albumId: renderAlbumId }, headers: { groupAppId: props.workspaceId } },\n          )).data.map((i: { index: string, url: string }) => {\n            return {\n              ...i,\n              url: i.url,\n              path: getRelativePathFromUrl(i.url),\n            };\n          });\n          imgArugmentJson = {\n            ...getCover(items),\n            list: items,\n          };\n        }\n        return {\n          path: getRelativePathFromUrl(photo.thumbnail),\n          url: photo.thumbnail,\n          imgArgument: imgType === 1 ? imgArugmentJson : '\"\"', // 图片参数\n          imgType: convertType(photo.imgType), // 图片类型;1-普通图片；2-360图；3-720图；4-缩略图；\n          businessType: 1, // 业务类型;1-鞋款相册； Integer\n          sort: idx, // 排序 Integer\n          imgDetail: '\"\"', // 图片详情;json String\n          fileSize: null, // 文件大小 Integer\n          isCover: 0, // 封面;1-是；0-否 Integer\n        };\n      }));\n      return res as AlbumItem[];\n    }\n\n    async function submit() {\n      const imgList = await getImageList();\n      emit('confirm', imgList);\n      // const data = {\n      //   meetingColumnId: 'xx',\n      //   bindRelated: null,\n      //   bindRelateCatalogId: null,\n      //   bindRelateOriginalId: null,\n      //   bindRelateType: null,\n      // };\n      // if (props.relateType === 0) {\n\n      // } else if (props.relateType === 3) {\n\n      // }\n    }\n\n    return {\n      photos,\n      serializePhotos,\n      handleMagnifyPhoto,\n      goToRenderPhotoPreview,\n      selectedPhoto,\n      submit,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPicture.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPicture.vue?vue&type=script&lang=tsx&\"","module.exports = __webpack_public_path__ + \"img/gif.c104a91c.png\";"],"sourceRoot":""}