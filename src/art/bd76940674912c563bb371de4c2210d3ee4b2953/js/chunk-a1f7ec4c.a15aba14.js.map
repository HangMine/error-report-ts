{"version":3,"sources":["webpack:///./src/loaders/workspace.ts","webpack:///./src/api/permission.js","webpack:///./src/views/profile/workspaceManager/WorkspaceCreator.vue?5463","webpack:///./src/api/email.js","webpack:///./src/mixins/form-validation.js","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue?8e04","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue?9d3c","webpack:///src/views/file-list/components/workspace/MemberInvitationPermission.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue?d180","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue?79bf","webpack:///src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue?d420","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue","webpack:///src/views/file-list/components/workspace/MemberInvitationWrapper.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue?0b63","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue","webpack:///./src/api/catalogue.js","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue?c4a0","webpack:///./src/components/form/BaseEditInput.vue?754c","webpack:///./src/utils/validators/valid-white-space.ts","webpack:///./src/utils/validators/valid-name.ts","webpack:///./src/utils/validators/checkers/valid-name.ts","webpack:///./src/views/profile/workspaceManager/WorkspaceCreator.vue?aca8","webpack:///src/views/profile/workspaceManager/WorkspaceCreator.vue","webpack:///./src/views/profile/workspaceManager/WorkspaceCreator.vue?280f","webpack:///./src/views/profile/workspaceManager/WorkspaceCreator.vue","webpack:///./src/views/profile/account/components/FormShareableLink.vue?ed1c","webpack:///./src/api/previlege.js","webpack:///./src/loaders/workspace-member.ts","webpack:///./src/views/file-list/components/workspace/MemberInvitationWorkspacePass.vue?271f","webpack:///./src/views/file-list/components/workspace/mixin.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./src/views/profile/WorkspacesManager.vue?cf36","webpack:///./src/views/profile/WorkspacesManager.vue?179a","webpack:///./src/views/profile/workspaceManager/SingleWorkspaceManager.vue?9792","webpack:///./src/views/profile/workspaceManager/WorkspaceManagerTopBar.vue?7732","webpack:///./src/components/form/BaseEditInput.vue?eca8","webpack:///src/components/form/BaseEditInput.vue","webpack:///./src/components/form/BaseEditInput.vue?0287","webpack:///./src/components/form/BaseEditInput.vue","webpack:///src/views/profile/workspaceManager/WorkspaceManagerTopBar.vue","webpack:///./src/views/profile/workspaceManager/WorkspaceManagerTopBar.vue?68dc","webpack:///./src/views/profile/workspaceManager/WorkspaceManagerTopBar.vue","webpack:///src/views/profile/workspaceManager/SingleWorkspaceManager.vue","webpack:///./src/views/profile/workspaceManager/SingleWorkspaceManager.vue?e3d0","webpack:///./src/views/profile/workspaceManager/SingleWorkspaceManager.vue","webpack:///src/views/profile/WorkspacesManager.vue","webpack:///./src/views/profile/WorkspacesManager.vue?e463","webpack:///./src/views/profile/WorkspacesManager.vue","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./src/views/file-list/components/workspace/TableList.vue?6752","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue?5b37","webpack:///src/views/file-list/components/workspace/PermissionDetail.vue","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue?992e","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue","webpack:///./src/views/file-list/components/workspace/MemberInvitationPermission.vue?8879","webpack:///./src/utils/tokenizeEmails.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/views/profile/workspaceManager/WorkspaceCreator.vue?fa9a","webpack:///./src/views/file-list/components/workspace/MemberInvitationWrapper.vue?6a1b","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue?5dca","webpack:///src/views/file-list/components/workspace/MemberManagement.vue","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue?a81e","webpack:///./src/views/file-list/components/workspace/MemberManagement.vue","webpack:///./src/views/file-list/components/workspace/PermissionDetail.vue?9ca9","webpack:///./src/views/file-list/components/workspace/TableList.vue?8604","webpack:///src/views/file-list/components/workspace/TableList.vue","webpack:///./src/views/file-list/components/workspace/TableList.vue?3669","webpack:///./src/views/file-list/components/workspace/TableList.vue","webpack:///./src/views/profile/workspaceManager/WorkspaceManagerTopBar.vue?a70a","webpack:///./src/views/profile/account/components/FormShareableLink.vue?3c5e","webpack:///src/views/profile/account/components/FormShareableLink.vue","webpack:///./src/views/profile/account/components/FormShareableLink.vue?1ac2","webpack:///./src/views/profile/account/components/FormShareableLink.vue","webpack:///./src/views/profile/workspaceManager/SingleWorkspaceManager.vue?3630"],"names":["refreshWorkspace","workspaces","insertOrUpdate","refreshWorkspaceWithoutMembers","addWorkspace","name","groupAppId","data","roleId","type","delWorkspace","delete","renameWorkspace","update","where","w","quitWorkspace","ApiGroupappList","id","axios","method","url","params","appId","ApiSingleWorkpaceTable","headers","getWorkspaceConfig","workspaceId","getWorkspaceConfigSelf","updateWorkspaceWatermart","openWatermark","ApiDismissWorkpace","ApiRenameWorkspace","ApiAddWorkspace","ApiQuitWorkpace","checkEmailExistent","email","cancelToken","CancelToken","originAxios","source","req","token","cancel","checkVerificationCodeMatching","verifyCode","ApiResetMail","generateInvitationLink","sendEmailByType","getInviterInfo","inviteId","methods","acceptInvitation","InviteMultipleMembers","sendVerifyCodeByRegistration","lang","sendVerifyCodeByChangingEmail","sendVerifyCodeByResetingPassword","sendVerifyCodeByLogin","mixinValidateForm","validateForm","Object","keys","form","forEach","prop","trim","replace","validateFormFields","$refs","$emit","console","warn","Error","i18n","t","resetFields","this","mixinValidateFormField","validateFormField","field","value","validate","valid","invalidFields","mixinCheckPasswordAsPrevious","validatePasswordConfirm","rule","callback","pass","passwordConfirm","rules","validator","requirement","charLengthMini","handlePasswordChange","validateField","render","_vm","_h","$createElement","_c","_self","staticClass","multiMode","on","$event","_v","_s","modeInvite","$t","attrs","currentComponent","componentList","directives","rawName","expression","ref","spaceRoleId","showPermissionDetail","_e","okAvailable","$isActing","handleConfirm","$act","staticRenderFns","staticStyle","model","role","$$v","$set","multipleInvitationPlaceholder","showRemarks","link","_m","props","Boolean","String","Number","tokenizeEmails","mails","remarks","clipboard","mounted","generateLink","$closest","computed","emailIsEmpty","singleEmailValid","test","multipleEmailsValid","watch","newv","destroyed","destroy","component","components","FormShareableLink","formShareableLink","dialogify","closeOnClickModal","width","default","MemberInvitationPermission","MemberInvitationWorkspacePass","isLoading","beforeMount","permissionInvitor","workspacePassInvitor","getMyUploadIds","getCatalogUrl","catalogId","get","getFileRelateIdByCatalogId","from","reloadModelRendererUrl","getPanelBoardList","fetchWorkspaces","changeSequence","updateResourceItemStatus","folderIds","status","getHiddenCatalog","validWhitespace","str","defaults","max","Infinity","min","validName","message","isValidName","e","workspaceMax","popoverVisible","hidePopover","slot","workspaceAddDisable","handleClickAddWorkspace","usedWorkspace","totalWorkspace","mixins","isVirtualAccount","user","$can","$root","$on","changeUserPrivilege","userId","addMembersInRooms","targetIds","JSON","stringify","deleteMembersInRooms","refreshByWorkspaceId","members","users","each","assign","query","member","addMembers","memberIds","delMember","memberId","m","changeMemberPrivilege","memberRoleId","getMemberInfoByUserId","target","relateId","currentWorkspaceId","$route","currentWorkspace","WorkspaceOrm","find","enterFirstWorkspace","firstWorkspace","enterWorkspaceByReplaceURL","$router","appType","enterWorkspace","ws","push","isQt","workspaceBusinessType","businessType","userAbout","roleList","roleId2Role","4","5","6","7","8","OWNER","ADMIN","MEMBER","GUEST","WORKSPACEPASS","selfRoleId","WorkspaceUserRoleOrm","roles","WorkspaceRoleOrm","all","ownerUsableRole","arr","filter","item","adminUsableRole","list","roleTypeC2E","chinese","requireObjectCoercible","quot","module","exports","string","tag","attribute","S","p1","addWorkspaceFlag","_l","workspaceInfo","key","workspaceMembers","length","class","count","nativeOn","deleteWorkspace","logOutWorkspace","stopPropagation","mode","text","placeholder","domProps","blurInput","composing","permissionCode","permissionType","toggleMode","maxLength","$message","error","BaseEditInput","WorkspaceManagerTopBar","TableList","WorkspaceCreator","SingleWorkspaceManager","workspacelist","$","createHTML","forcedStringHTMLMethod","proto","forced","has","dataInfo","usersMails","split","every","match","$Error","fails","METHOD_NAME","toLowerCase","memberList","handleInvite","handleAddMembers","title","titleAlign","created","$watch","immediate","getUserTypeFromTypeId","typeId","filters","en","$loadingState","mailW","scopedSlots","_u","fn","row","account","mail","nameW","permissionW","charactor","handleDeleteUser","Array","roleColumnVisible","BaseUser","ownerRole","adminRole","multiple","radio","PickerOptions","changeTime","dateRange","tipVisible","reg","score","now","Date","disabledDate","_disabledRangeDate","startTime","endTime","companyName","isSendImg","hasFormError","handlePasswordVisible","blur","daysRemaining","emails","dateValid","formAndDateValid","multipleFormAndDateValid","getTime","initForm","time","todaytoday","end"],"mappings":"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","file":"js/chunk-a1f7ec4c.a15aba14.js","sourcesContent":["import { WorkspaceOrm } from '@/models';\nimport { Workspace } from '@/models/Workspace';\nimport {\n  ApiGroupappList as FetchWorkspacesInfo, // 获取个人workpace信息\n  ApiDismissWorkpace as DeleteWorkspace, // 解散worksapce\n  ApiQuitWorkpace as QuitWorkspace, // 退出worksapce\n  ApiRenameWorkspace as RenameWorkspace, // 重命名worksapce\n  ApiAddWorkspace as CreateWorkspace, // 新建worksapce\n} from '@/api/permission';\nimport {\n  fetchWorkspaces,\n} from '@/api/catalogue';\nimport axios from '@/utils/axios';\n\nasync function getWorkspace(groupAppId: string) {\n  return (await axios.get<Workspace>('authcenter/manage/groupapp/detail', {\n    headers: { groupAppId },\n  })).data;\n}\n\nasync function updateWorkspace(groupAppId: string) {\n  const workspace = await getWorkspace(groupAppId);\n  await WorkspaceOrm.insertOrUpdate({ data: workspace });\n  return workspace;\n}\n\nexport async function refreshWorkspace() {\n  // this.deleteAll();\n  const workspaces = await FetchWorkspacesInfo('2');\n  await WorkspaceOrm.insertOrUpdate(workspaces);\n}\n\nexport async function refreshWorkspaceWithoutMembers() {\n  // this.deleteAll();\n  const workspaces = await fetchWorkspaces(2);\n  await WorkspaceOrm.insertOrUpdate(workspaces);\n}\n\nexport async function addWorkspace(name: string) {\n  const { data: groupAppId } = await CreateWorkspace({ name });\n  return (await WorkspaceOrm.insertOrUpdate({\n    data: [{\n      groupAppId,\n      name,\n      roleId: '4', // 创建者roleId为4\n      type: 1,\n    }],\n  })).workspaces[0];\n}\n\nexport async function delWorkspace(groupAppId: string) {\n  await DeleteWorkspace(groupAppId);\n  WorkspaceOrm.delete(groupAppId);\n}\n\nexport async function renameWorkspace(groupAppId: string, name: string) {\n  await RenameWorkspace(groupAppId, name);\n  WorkspaceOrm.update({\n    where: w => w.groupAppId === groupAppId,\n    data: { name },\n  });\n}\n\nexport async function quitWorkspace(groupAppId: string) {\n  await QuitWorkspace(groupAppId);\n  WorkspaceOrm.delete(groupAppId);\n}\n\nexport { getWorkspace, updateWorkspace };\n","/**\n * 该文件记录与系统权限相关的接口\n */\n\nimport axios from './axios';\n\n/* ========================= 系统权限 ============================ */\n/* ======================== 获取 system 权限相关 ============================ */\n/**\n * 登录用户系统权限列表\n * @returns {Promise}\n */\nexport const getSystemPermissionList = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/system',\n  });\n};\n\n/* ======================== 获取 workspace 权限相关 ============================ */\n/**\n * 单个workspace的权限列表\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpacePermissionList = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/workspace',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取 workspace 所属公司的名称； 没有则返回用户的名称\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpaceCompnayInfo = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/company',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取登录人拥有的workpace个数\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiGroupappList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiroleList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 修改权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiUpdateRole = (data, id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/role/change',\n    headers: {\n      groupAppId: id,\n    },\n    data,\n  });\n};\n\n/**\n * 移除账号\n * @param {String} id workspaceId\n * @param {String} userId 用户id\n * @returns {Promise}\n */\nexport const ApiRemoveAccount = (id, userId) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove',\n    headers: {\n      groupAppId: id,\n      targetIds: JSON.stringify([userId]),\n    },\n  });\n};\n\n/**\n * 获取单个workspace的列表数据\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiSingleWorkpaceTable = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/users',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfig = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/byWorkspaceId',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置（个人）\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfigSelf = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/needOpenWatermark',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 更变workspace的水印配置\n * @param {String} id workspaceId\n * @param {Number} openWatermark 1开启，0关闭\n * @returns {Promise}\n */\nexport const updateWorkspaceWatermart = (id, openWatermark) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/config/workspace/openWatermark',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      workspaceId: id,\n      openWatermark,\n    },\n  });\n};\n\n/**\n * 解散workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiDismissWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/clear',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 用户workspace统计信息\n * @returns {Promise}\n */\nexport const ApiGetTotalWorkpaces = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/self/detail',\n  });\n};\n\n/**\n *  重命名workspace\n * @param {String} id workspaceId\n * @param {String} name 新名称\n * @returns {Promise}\n */\nexport const ApiRenameWorkspace = (id, name) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/rename',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      name,\n    },\n  });\n};\n\n/**\n *  新增workspace\n * @param {String} name 名称\n */\nexport const ApiAddWorkspace = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/add',\n    data,\n  });\n};\n\n/**\n * 退出workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiQuitWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove/self',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 权限角色\n * @param {String}\n * @returns {Promise}\n */\nexport const getDictionaryByType = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: 2,\n    },\n  });\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspaceCreator.vue?vue&type=style&index=0&id=aae9deda&lang=scss&scoped=true&\"","import originAxios from 'axios';\nimport axios from './axios';\n\n/**\n * 校验邮箱是否已注册\n * @param {String} email 邮箱地址\n * @returns {Promise}\n */\nexport const checkEmailExistent = (email, cancelToken = {}) => {\n  const { CancelToken } = originAxios;\n  const source = CancelToken.source();\n  const req = axios({\n    method: 'get',\n    url: '/authcenter/user/email/check',\n    params: { email },\n    cancelToken: source.token,\n  });\n  cancelToken.cancel = source.cancel;\n  return req;\n};\n\n/**\n * 通过邮箱获取验证码\n * @param {String} email 邮箱地址\n * @returns {Promise}\n */\n// 已废弃\n// export const getVerifyCodeByEmail = (email) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/email/verify/code',\n//     data: { email },\n//   });\n// };\n\n/**\n * 校验邮箱验证码是否匹配\n * @param {String} verifyCode 验证码\n * @param {String} email 邮箱地址\n * @returns {Promise}\n */\nexport const checkVerificationCodeMatching = ({ verifyCode, email, type }) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/email/check/code',\n    // params: { verifyCode, email },\n    url: '/authcenter/code/verify',\n    data: { verifyCode, email, type },\n  });\n};\n\n// 重新绑定邮箱\nexport const ApiResetMail = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/email/reset',\n    data,\n  });\n};\n\n/**\n * 生成邀请链接\n * @param {Object} data type(邮件类型)：1：关联外部人员到公司邀请邮件，2：关联外部人员到workspace\n * @returns {Promise}\n */\nexport const generateInvitationLink = (data) => {\n  return axios({\n    method: 'post',\n    url: '/msgcenter/mail/url',\n    data,\n  });\n};\n/**\n * 发送邮件接口\n * @param {Object} data type(邮件类型)：1：关联外部人员到公司邀请邮件，2：关联外部人员到workspace，3”：新增人员发送通知邮件\n * @returns {Promise}\n */\nexport const sendEmailByType = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/invite',\n    data,\n  });\n};\n\n/* ===============================  邀请相关 ========================= */\n/**\n * 获取邀请者信息\n * @param {String} inviteId 邀请的ID\n * @returns {Promise}\n */\nexport const getInviterInfo = (inviteId) => {\n  return axios({\n    methods: 'get',\n    url: '/msgcenter/mail/inviter',\n    params: { inviteId },\n  });\n};\n\n// 处理邀请信息\nexport const acceptInvitation = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/outer',\n    data,\n  });\n};\n\n// 邀请多人（可新建账号）\nexport const InviteMultipleMembers = data => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/batch/invite',\n    data,\n  });\n};\n\n/* =============================== 通过邮箱获取验证码 ========================= */\n/**\n * 注册账号\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByRegistration = (email, lang) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/email/verify/code',\n    // data: { email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 1,\n    },\n    headers: {\n      'sdstc-language': lang,\n    },\n  });\n};\n\n/**\n * 修改账号邮箱\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByChangingEmail = (email) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/email/update/code',\n    // data: { email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 5,\n    },\n  });\n};\n\n/**\n * 重置账号密码\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByResetingPassword = (email) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/user/verification/code',\n    // data: { account: email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 3,\n    },\n  });\n};\n\n/**\n * 邮箱验证码登录\n * @param {String} email\n * @returns {Promise}\n */\nexport const sendVerifyCodeByLogin = (email) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/login/send',\n    // data: { email },\n    url: '/authcenter/code/send',\n    data: {\n      email,\n      type: 2,\n    },\n  });\n};\n","import i18n from 'i18next';\nimport validator, { validateFormFields } from '@/utils/validators/rules-validation';\n\n// 校验表单是否通过校验\nexport const mixinValidateForm = {\n  methods: {\n    async validateForm() {\n      Object.keys(this.form).forEach((prop) => {\n        if (typeof this.form[prop] === 'string') {\n          // 去掉首尾空格\n          // 防止XSS攻击（html方面）\n          this.form[prop] = this.form[prop]\n            .trim()\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;');\n        }\n      });\n\n      try {\n        await validateFormFields(this.$refs.form);\n        this.$emit('validate', this.form);\n        return this.form;\n      } catch (err) {\n        console.warn(err);\n        throw new Error(i18n.t('validator.form_val_fail'));\n      }\n    },\n    resetFields() {\n      this.$refs.form.resetFields();\n    },\n  },\n};\n\n// 校验表单中特定的field有没有通过校验；校验成功，返回其值\nexport const mixinValidateFormField = {\n  methods: {\n    validateFormField(field, value) {\n      this.$refs.form.validate((valid, invalidFields) => {\n        // 判断该属性是否在校验失败的field对象里面，如果校验通过则通知父组件\n        if (!invalidFields[field]) this.$emit('validate-field', { field, value });\n      });\n    },\n  },\n};\n\n// 校验再次输入的密码是否与上一次相同\nexport const mixinCheckPasswordAsPrevious = {\n  data() {\n    const validatePasswordConfirm = (rule, value, callback) => {\n      if (value !== this.form.pass) {\n        return callback(new Error(i18n.t('validator.same_as_prev')));\n      }\n      return callback();\n    };\n\n    return {\n      form: {\n        pass: '',\n        passwordConfirm: '',\n      },\n      rules: {\n        passwordConfirm: [\n          validator.requirement(),\n          validator.charLengthMini(6, 20),\n          { validator: validatePasswordConfirm },\n        ],\n      },\n    };\n  },\n  methods: {\n    // 当密码框输入变化时，要校验密码确认内容\n    // （此监听方法需添加到 password 上）\n    handlePasswordChange() {\n      if (this.form.passwordConfirm) this.$refs.form.validateField('passwordConfirm');\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"invitation-container\"},[_c('div',{staticClass:\"invitation-component-selector\"},[_c('div',{staticClass:\"permission-and-charactor-selector\"},[_c('div',{staticClass:\"toggle-target color-primary\"},[(!_vm.multiMode)?_c('div',{on:{\"click\":function($event){_vm.multiMode = true}}},[_c('i',{staticClass:\"iconfont icon-bulk-invitation-o\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.modeInvite ? _vm.$t(\"workspace.invite_multiple_partners\") : _vm.$t(\"workspace.create_multiple_partners\"))+\" \")])]):_c('div',{on:{\"click\":function($event){_vm.multiMode = false}}},[_c('i',{staticClass:\"iconfont icon-single-invitation-o\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.modeInvite ? _vm.$t(\"workspace.invite_a_partner\") : _vm.$t(\"workspace.create_a_partner\"))+\" \")])])])]),_c('transition',{attrs:{\"name\":\"translate-x\",\"mode\":\"out-in\"}},[(_vm.currentComponent === _vm.componentList[0])?[_c('MemberInvitationPermission',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"permissionInvitor\",attrs:{\"multiMode\":_vm.multiMode,\"groupAppId\":_vm.groupAppId,\"spaceRoleId\":_vm.spaceRoleId},on:{\"showPermissionDetail\":_vm.showPermissionDetail,\"changeComponent\":function (t) { return (_vm.currentComponent = t); }}})]:(_vm.currentComponent === _vm.componentList[1])?[_c('MemberInvitationWorkspacePass',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"workspacePassInvitor\",attrs:{\"multiMode\":_vm.multiMode,\"groupAppId\":_vm.groupAppId},on:{\"showPermissionDetail\":_vm.showPermissionDetail,\"changeComponent\":function (t) { return (_vm.currentComponent = t); }}})]:_vm._e()],2),_c('footer',{staticClass:\"button-group flex-justify-flex-end\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.cancel\"))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.okAvailable || _vm.$isActing(_vm.handleConfirm)},on:{\"click\":function($event){return _vm.$act(_vm.handleConfirm)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.confirm\"))+\" \")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"permission-invitation-container\"},[_c('h3',{staticClass:\"flex-center\",staticStyle:{\"margin-bottom\":\"38px\",\"font-size\":\"20px\",\"color\":\"#2D2E30\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.invite_people'))+\" \")]),_c('h4',{staticClass:\"invitation-header\",staticStyle:{\"width\":\"280px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.select_permission'))+\" \"),_c('i',{staticClass:\"iconfont icon-help\",on:{\"click\":function($event){return _vm.$emit('showPermissionDetail')}}})]),_c('el-radio-group',{staticClass:\"permission-selector flex-space-around\",model:{value:(_vm.role.roleId),callback:function ($$v) {_vm.$set(_vm.role, \"roleId\", $$v)},expression:\"role.roleId\"}},[(_vm.spaceRoleId < 7)?_c('el-radio',{attrs:{\"label\":7}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.guest'))+\" \")]):_vm._e(),(_vm.spaceRoleId < 6)?_c('el-radio',{attrs:{\"label\":6}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.member'))+\" \")]):_vm._e(),(_vm.spaceRoleId < 5)?_c('el-radio',{attrs:{\"label\":5}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.admin'))+\" \")]):_vm._e()],1),_c('el-divider'),(!_vm.multiMode)?_c('h4',{staticClass:\"invitation-header\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.choose_invitation_mode'))+\" \")]):_vm._e(),_c('section',{staticClass:\"email-invitation-container\",staticStyle:{\"margin-top\":\"20px\"}},[(!_vm.multiMode)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('workspace.email_invitation'))+\" \")]):_c('h4',{staticClass:\"invitation-header\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.email_invitation'))+\" \")]),_c('div',{staticClass:\"email-box\",staticStyle:{\"margin-top\":\"15px\"}},[_c('div',{staticStyle:{\"width\":\"20%\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.email'))+\": \")]),(!_vm.multiMode)?_c('el-input',{attrs:{\"placeholder\":_vm.$t('workspace.email_input_placeholder'),\"label\":\"mainbox\"},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.role.email),callback:function ($$v) {_vm.$set(_vm.role, \"email\", $$v)},expression:\"role.email\"}}):_c('el-input',{staticClass:\"multi-textarea\",attrs:{\"type\":\"textarea\",\"rows\":\"5\",\"placeholder\":_vm.multipleInvitationPlaceholder},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.role.mails),callback:function ($$v) {_vm.$set(_vm.role, \"mails\", $$v)},expression:\"role.mails\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRemarks),expression:\"showRemarks\"}],staticClass:\"email-box\",staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticStyle:{\"width\":\"20%\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.remarks'))+\": \")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('workspace.remarks_tip')},model:{value:(_vm.role.remarks),callback:function ($$v) {_vm.$set(_vm.role, \"remarks\", $$v)},expression:\"role.remarks\"}})],1)]),(!_vm.multiMode)?_c('section',{staticClass:\"Link-invitation-container\"},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.link_invitation'))+\" \")]),_c('button',{staticClass:\"link-copy-wrapper flex\",attrs:{\"data-clipboard-text\":_vm.link}},[_vm._m(0),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('workspace.copy_invitation_link'))+\" \")])])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('strong',{staticStyle:{\"margin-left\":\"10px\"}},[_c('i',{staticClass:\"iconfont icon-link link-icon\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"permission-invitation-container\">\n\n    <h3 class=\"flex-center\" style=\"margin-bottom: 38px; font-size: 20px; color: #2D2E30;\">\n      {{ $t('workspace.invite_people')}}\n    </h3>\n\n    <!-- 标题 -->\n    <h4 class=\"invitation-header\" style=\"width: 280px;\">\n      {{ $t('workspace.select_permission') }}\n      <i @click=\"$emit('showPermissionDetail')\" class=\"iconfont icon-help\"></i>\n    </h4>\n\n    <!-- 权限选择器 -->\n    <el-radio-group class=\"permission-selector flex-space-around\" v-model=\"role.roleId\">\n      <el-radio :label=\"7\" v-if=\"spaceRoleId < 7\">\n        {{ $t('workspace.guest') }}\n      </el-radio>\n      <el-radio :label=\"6\" v-if=\"spaceRoleId < 6\">\n        {{ $t('workspace.member') }}\n      </el-radio>\n      <el-radio :label=\"5\" v-if=\"spaceRoleId < 5\">\n        {{ $t('workspace.admin') }}\n      </el-radio>\n    </el-radio-group>\n\n    <!-- 创建并绑定虚拟账号 -->\n    <!-- <div style=\"margin-top: 20px;\">\n      Or&nbsp;<span class=\"color-primary\"\n        @click=\"$emit('changeComponent', 'MemberInvitationWorkspacePass')\">\n        Create Workspace Pass</span>\n    </div> -->\n\n    <el-divider />\n\n    <!-- 邮箱和备注 -->\n    <h4 class=\"invitation-header\" v-if=\"!multiMode\">\n      {{ $t('workspace.choose_invitation_mode') }}\n    </h4>\n    <section class=\"email-invitation-container\" style=\"margin-top: 20px;\">\n      <div v-if=\"!multiMode\">\n        {{ $t('workspace.email_invitation') }}\n      </div>\n      <h4 v-else class=\"invitation-header\">\n        {{ $t('workspace.email_invitation') }}\n      </h4>\n      <div class=\"email-box\" style=\"margin-top:15px;\">\n        <div style=\"width:20%;\">\n          {{ $t('workspace.email') }}:\n        </div>\n        <el-input v-if=\"!multiMode\" v-model=\"role.email\" @focus=\"showRemarks=true\"\n          :placeholder=\"$t('workspace.email_input_placeholder')\"\n          label=\"mainbox\"></el-input>\n        <el-input v-else type=\"textarea\" v-model=\"role.mails\" @focus=\"showRemarks=true\" rows=\"5\"\n          class=\"multi-textarea\"\n          :placeholder=\"multipleInvitationPlaceholder\"></el-input>\n      </div>\n      <div v-show=\"showRemarks\" class=\"email-box\" style=\"margin-top:10px;\">\n        <div style=\"width:20%;\">\n          {{$t('workspace.remarks')}}:\n        </div>\n        <el-input type=\"textarea\" v-model=\"role.remarks\"\n          :placeholder=\"$t('workspace.remarks_tip')\"></el-input>\n      </div>\n    </section>\n\n    <!-- 复制生成的链接 -->\n    <section class=\"Link-invitation-container\" v-if=\"!multiMode\">\n      <div style=\"margin-bottom: 15px;\">\n        {{ $t('workspace.link_invitation') }}\n      </div>\n      <button class=\"link-copy-wrapper flex\"\n        :data-clipboard-text=\"link\">\n        <strong style=\"margin-left: 10px;\">\n          <i class=\"iconfont icon-link link-icon\"></i>\n        </strong>\n        <span>\n          {{ $t('workspace.copy_invitation_link') }}\n        </span>\n      </button>\n    </section>\n  </section>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport Clipboard from 'clipboard';\nimport { generateInvitationLink, sendEmailByType, InviteMultipleMembers } from '@/api/email';\nimport tokenizeEmails from '@/utils/tokenizeEmails';\n\nexport default {\n  props: {\n    multiMode: Boolean,\n    groupAppId: String,\n    spaceRoleId: [Number, String],\n  },\n  data() {\n    this.multipleInvitationPlaceholder = i18n.t('workspace.multiple_invitation_placeholder');\n    this.tokenizeEmails = tokenizeEmails;\n    return {\n      role: {\n        roleId: 7,\n        email: '',\n        mails: '',\n        remarks: '',\n      },\n      showRemarks: false,\n      link: '',\n      clipboard: {},\n    };\n  },\n  mounted() {\n    this.clipboard = new Clipboard('.link-copy-wrapper');\n    this.clipboard.on('success', () => {\n      this.$closest('InvitationWrapper').okAvailable = true;\n      this.$message.success(i18n.t('workspace.copy_success_tip'));\n    });\n    this.clipboard.on('error', () => {\n      this.$message.warning(i18n.t('workspace.copy_fail_tip'));\n    });\n    this.generateLink();\n    this.$closest('InvitationWrapper').okAvailable = false;\n  },\n  computed: {\n    emailIsEmpty() {\n      return this.role.email;\n    },\n    singleEmailValid() {\n      return /\\w+@\\w+.\\w+/.test(this.role.email);\n    },\n    multipleEmailsValid() {\n      try {\n        tokenizeEmails(this.role.mails);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n  },\n  methods: {\n    async generateLink() {\n      const { groupAppId } = this;\n      const params = {\n        type: 2,\n        groupAppId,\n        roleId: this.role.roleId,\n      };\n      const { data } = await generateInvitationLink(params);\n      this.link = data;\n    },\n    async handleSingleInvitation() {\n      const params = {\n        ...this.role,\n        groupAppId: this.groupAppId,\n      };\n      await sendEmailByType({\n        email: params.email,\n        params,\n        type: 3,\n      });\n    },\n    async handleMultipleInvitation(emails) {\n      // eslint-disable-next-line\n      let { roleId: role, remarks } = this.role;\n      await InviteMultipleMembers({\n        newAccount: false,\n        emails,\n        role,\n        remarks,\n        groupAppId: this.groupAppId,\n      });\n    },\n  },\n  watch: {\n    // eslint-disable-next-line func-names\n    'role.roleId': function () {\n      this.generateLink();\n    },\n    multiMode() {\n      this.showRemarks = false;\n      this.$closest('InvitationWrapper').okAvailable = false;\n    },\n    singleEmailValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n    multipleEmailsValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n  },\n  destroyed() {\n    this.clipboard.destroy();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.permission-invitation-container {\n  .email-box {\n    display: flex;\n    align-items: center;\n  }\n  .link-copy-wrapper {\n    height: 46px;\n    line-height: 46px;\n    width: 100%;\n    cursor: pointer;\n    background-color: transparent;\n    border: 1px solid #dbe0e6;\n    outline: none;\n    border-radius: 4px;\n  }\n  .Link-invitation-container {\n    margin: 25px 0 0;\n  }\n  .link-icon {\n    @include resize-icon(1.2);\n    margin-right: 0.3em;\n  }\n  .multi-textarea {\n    /deep/ textarea {\n      word-break: normal;\n    }\n  }\n}\n.icon-help {\n  color: #ccc;\n  font-weight: 100;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationPermission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationPermission.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberInvitationPermission.vue?vue&type=template&id=1b40aba4&scoped=true&\"\nimport script from \"./MemberInvitationPermission.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberInvitationPermission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberInvitationPermission.vue?vue&type=style&index=0&id=1b40aba4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b40aba4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"craete-workspace-pass-container\"},[_c('h4',{staticClass:\"invitation-header flex-center\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('workspace.create_workspace_pass'))+\" \")]),_c('span',{staticClass:\"iconfont icon-help\",on:{\"click\":function($event){return _vm.$emit('showPermissionDetail')}}})]),_c('FormShareableLink',{ref:\"formShareableLink\",attrs:{\"mode\":\"createAndInvite\",\"multiple\":_vm.multiMode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"craete-workspace-pass-container\">\n    <!-- <div class=\"go-back\" @click=\"$emit('changeComponent', 'MemberInvitationPermission')\">\n      <i class=\"iconfont icon-angle-left\"></i>\n      <span>&nbsp;Back</span>\n    </div> -->\n    <h4 class=\"invitation-header flex-center\">\n      <span>\n        {{ $t('workspace.create_workspace_pass')}}\n      </span>\n      <span @click=\"$emit('showPermissionDetail')\" class=\"iconfont icon-help\"></span>\n    </h4>\n\n    <FormShareableLink mode='createAndInvite' :multiple=\"multiMode\"\n      ref=\"formShareableLink\" />\n  </section>\n</template>\n\n<script>\nimport FormShareableLink from '@/views/profile/account/components/FormShareableLink';\nimport {\n  createVirtualAccount,\n  ApiConnectAccount,\n} from '@/api/account';\nimport { InviteMultipleMembers } from '@/api/email';\n\nexport default {\n  props: {\n    multiMode: Boolean,\n    groupAppId: String,\n  },\n  components: {\n    FormShareableLink,\n  },\n  mounted() {\n    this.$closest('InvitationWrapper').okAvailable = false;\n  },\n  computed: {\n    formShareableLink() {\n      return this.$refs.formShareableLink;\n    },\n  },\n  methods: {\n    async handleSingleInvitation() {\n      const res = await this.formShareableLink.validateForm();\n      if (!res) return;\n      const form = res;\n      const { data: userId } = await createVirtualAccount(form);\n      await ApiConnectAccount({\n        list: [{\n          roleId: '8',\n          userId,\n        }],\n        isSendImg: this.formShareableLink.isSendImg,\n      }, {\n        groupAppId: this.groupAppId,\n      });\n    },\n    async handleMultipleInvitation(emails) {\n      const { startTime, endTime, remarks } = this.formShareableLink.form;\n      const { groupAppId } = this;\n      await InviteMultipleMembers({\n        newAccount: true,\n        emails,\n        role: 8,\n        remarks,\n        groupAppId,\n        startTime,\n        endTime,\n        isSendImg: this.formShareableLink.isSendImg,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.craete-workspace-pass-container {\n  .go-back {\n    width: 60px;\n    margin-bottom: 30px;\n    cursor: pointer;\n  }\n}\n.icon-help {\n  color: #ccc;\n  font-weight: 100;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberInvitationWorkspacePass.vue?vue&type=template&id=0f710eec&scoped=true&\"\nimport script from \"./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberInvitationWorkspacePass.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberInvitationWorkspacePass.vue?vue&type=style&index=0&id=0f710eec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f710eec\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"invitation-container\">\n    <div class=\"invitation-component-selector\">\n      <!-- 分为两部分，权限（角色）选择器和单人多人选择器 -->\n      <div class=\"permission-and-charactor-selector\">\n        <!-- 绝对定位到左下角的单人多人切换 -->\n        <div class=\"toggle-target color-primary\">\n          <div v-if=\"!multiMode\" @click=\"multiMode = true\">\n            <i class=\"iconfont icon-bulk-invitation-o\"></i>\n            <span>\n              {{ modeInvite ? $t(\"workspace.invite_multiple_partners\") : $t(\"workspace.create_multiple_partners\") }}\n            </span>\n          </div>\n          <div v-else @click=\"multiMode = false\">\n            <i class=\"iconfont icon-single-invitation-o\"></i>\n            <span>\n              {{ modeInvite ? $t(\"workspace.invite_a_partner\") : $t(\"workspace.create_a_partner\") }}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 动态决定用哪个组件 -->\n      <transition name=\"translate-x\" mode=\"out-in\">\n        <template v-if=\"currentComponent === componentList[0]\">\n          <MemberInvitationPermission\n            v-loading=\"isLoading\"\n            ref=\"permissionInvitor\"\n            :multiMode=\"multiMode\"\n            :groupAppId=\"groupAppId\"\n            :spaceRoleId=\"spaceRoleId\"\n            @showPermissionDetail=\"showPermissionDetail\"\n            @changeComponent=\"(t) => (currentComponent = t)\"\n          />\n        </template>\n        <template v-else-if=\"currentComponent === componentList[1]\">\n          <MemberInvitationWorkspacePass\n            v-loading=\"isLoading\"\n            ref=\"workspacePassInvitor\"\n            :multiMode=\"multiMode\"\n            :groupAppId=\"groupAppId\"\n            @showPermissionDetail=\"showPermissionDetail\"\n            @changeComponent=\"(t) => (currentComponent = t)\"\n          />\n        </template>\n      </transition>\n\n      <footer class=\"button-group flex-justify-flex-end\">\n        <el-button @click=\"$emit('cancel')\">\n          {{ $t(\"public.dialog.cancel\") }}\n        </el-button>\n        <el-button @click=\"$act(handleConfirm)\" type=\"primary\" :disabled=\"!okAvailable || $isActing(handleConfirm)\">\n          {{ $t(\"public.dialog.confirm\") }}\n        </el-button>\n      </footer>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { MessageBox } from 'element-ui';\nimport i18n from 'i18next';\nimport tokenizeEmails from '@/utils/tokenizeEmails';\nimport { refreshByWorkspaceId } from '@/loaders/workspace-member';\nimport PermissionDetail from './PermissionDetail';\nimport MemberInvitationPermission from './MemberInvitationPermission';\nimport MemberInvitationWorkspacePass from './MemberInvitationWorkspacePass';\n\n\nexport default {\n  name: 'InvitationWrapper',\n  dialogify: {\n    props: {\n      closeOnClickModal: false,\n      width: '560px',\n    },\n  },\n  props: {\n    spaceRoleId: [String, Number],\n    groupAppId: String,\n    modeInvite: {\n      default: true,\n      type: Boolean,\n    },\n  },\n  components: {\n    MemberInvitationPermission,\n    MemberInvitationWorkspacePass,\n  },\n  data() {\n    return {\n      componentList: ['MemberInvitationPermission', 'MemberInvitationWorkspacePass'],\n      currentComponent: '',\n      multiMode: false,\n\n      okAvailable: false,\n      isLoading: false,\n    };\n  },\n  beforeMount() {\n    if (this.modeInvite) {\n      // eslint-disable-next-line prefer-destructuring\n      this.currentComponent = this.componentList[0];\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      this.currentComponent = this.componentList[1];\n    }\n  },\n  computed: {\n    permissionInvitor() {\n      return this.$refs.permissionInvitor;\n    },\n    workspacePassInvitor() {\n      return this.$refs.workspacePassInvitor;\n    },\n  },\n  methods: {\n    async handleConfirm() {\n      this.isLoading = true;\n      try {\n        // 赋予权限\n        if (this.currentComponent === this.componentList[0]) {\n          // 单个赋予\n          if (!this.multiMode) {\n            // 当没填邮箱，但可以调用该函数，说明是复制了链接，所以操作为直接关闭弹框\n            if (!this.permissionInvitor.emailIsEmpty) {\n              this.$emit('cancel');\n              return;\n            }\n            await this.permissionInvitor.handleSingleInvitation();\n          } else {\n            // 多个赋予\n            const unnormalizedEmails = this.permissionInvitor.role.mails;\n            const emails = tokenizeEmails(unnormalizedEmails);\n            await this.permissionInvitor.handleMultipleInvitation(emails);\n          }\n          this.$message.success(i18n.t('workspace.invite_success_tip'));\n        } else if (this.currentComponent === this.componentList[1]) { // 创建虚拟账号\n          // 单个创建\n          if (!this.multiMode) {\n            await this.workspacePassInvitor.handleSingleInvitation();\n            // 创建多个\n          } else {\n            const { formShareableLink } = this.workspacePassInvitor;\n            const unnormalizedEmails = formShareableLink.form.mails;\n            const emails = tokenizeEmails(unnormalizedEmails);\n            await this.workspacePassInvitor.handleMultipleInvitation(emails);\n          }\n          await refreshByWorkspaceId(this.groupAppId);\n          this.$message.success(i18n.t('workspace.workspace_pass_create_success_tip'));\n        }\n        this.$emit('confirm');\n      } catch (e) {\n        if (e.message === 'params invalidate: invited user already in your company') {\n          MessageBox.alert(i18n.t('workspace.exist_in_company'), i18n.t('public.dialog.notice'));\n        } else {\n          this.$errHandler(e);\n        }\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async showPermissionDetail() {\n      await this.$Dialog.dialogify({\n        is: PermissionDetail,\n      }, {\n        props: {\n          title: i18n.t('workspace.workspace_permission'),\n          width: '720px',\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.invitation-container {\n  position: relative;\n  /deep/ .invitation-header {\n    margin-top: -10px;\n    margin-bottom: 20px;\n    font-size: 18px;\n    color: #333;\n    .iconfont {\n      cursor: pointer;\n      margin-left: 5px;\n    }\n  }\n\n  /deep/ .color-primary {\n    color: $color-primary;\n    cursor: pointer;\n  }\n\n  /deep/ .el-divider {\n    margin: 35px 0;\n  }\n\n  .button-group {\n    margin-top: 40px;\n  }\n}\n\n.permission-and-charactor-selector {\n}\n.hr {\n  margin-top: 30px;\n  height: 1px;\n  border: none;\n  background-color: #dcdfe6;\n}\n.toggle-target {\n  position: absolute;\n  bottom: 15px;\n  left: 0;\n  .iconfont {\n    @include resize-icon(1.3);\n    margin-right: 0.3em;\n  }\n}\n.translate-x {\n}\n.translate-x-enter-active,\n.translate-x-leave-active {\n  transition: opacity 0.3s;\n}\n.translate-x-enter,\n.translate-x-leave-to {\n  opacity: 0;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberInvitationWrapper.vue?vue&type=template&id=0a2817bc&scoped=true&\"\nimport script from \"./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberInvitationWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberInvitationWrapper.vue?vue&type=style&index=0&id=0a2817bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a2817bc\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 与目录相关的所有接口\n */\nimport axios from './axios';\n\n/* ======================= 与登录账号相关 ============================ */\n/**\n * 获取登录账号的鞋模型和材质的my-upload文件目录的Id\n * @returns {Promise}\n */\nexport const getMyUploadIds = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getPersonalUploadCIds',\n  });\n};\n\nexport const getCatalogUrl = (catalogId) => {\n  return axios.get('/catalogue/yunpanCatalog/getCatalogUrl', {\n    params: {\n      catalogId,\n    },\n  });\n};\n\n// 初始化目录树\nexport const initModuleCatelog = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/initOrg',\n  });\n};\n\n// 获取模块根目录的列表信息\nexport const getModuleRootCatalog = (appType, isAllFile, relateId, descs, ascs) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRelateCatalog',\n    params: {\n      appType,\n      isAllFile,\n      relateId,\n      descs,\n      ascs,\n    },\n  });\n};\n\n/**\n * @see http://yapi.4dshoetech.local/project/40/interface/api/3203\n * @param {(\n *  ({ from: string } | {groupAppId: string})\n *  && {catalogId: string, relateType: 1 | 0}\n * )} params\n * @returns {PromiseLike<{data: string}>}\n */\nexport const getFileRelateIdByCatalogId = ({\n  groupAppId,\n  from,\n  ...params\n}) => {\n  return axios({\n    headers: {\n      groupAppId: groupAppId || from || '',\n    },\n    method: 'get',\n    url: '/catalogue/appInteraction/getCurrentRelateId',\n    params,\n  });\n};\n\n\n// 创建文件夹\nexport const createCatalog = (appType, name, parentFolderId = '-1', relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/create',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      name,\n      parentFolderId,\n      // relateId,\n    },\n  });\n};\n\n// 重命名文件\nexport const renameCatalog = (id, name, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/rename',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      catalogId: id,\n      name,\n    },\n  });\n};\n\n// 删除文件\nexport const deleteCatalog = (data, groupAppId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/delete',\n    headers: {\n      groupAppId,\n    },\n    data,\n  });\n};\n\n// 移动文件\nexport const moveCatalog = (appType, oldFolderIds, targetFolderId, relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/move',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      oldFolderIds,\n      targetFolderId,\n    },\n  });\n};\n\n// 复制文件\nexport const copyCatalog = (appType, oldFolderIds, targetFolderId, relateId) => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/copy',\n    headers: {\n      groupAppId: relateId,\n    },\n    data: {\n      appType,\n      oldFolderIds,\n      targetFolderId,\n      fileType: -1,\n    },\n  });\n};\n\n// 解锁或锁定文件\nexport const toggleCatalogStatus = (folderIds, status) => {\n  return axios({\n    method: 'put',\n    url: '/catalogue/yunpanCatalog/status',\n    data: {\n      folderIds,\n      status,\n    },\n  });\n};\n\n// 在快捷方式栏添加文件的快捷方式\nexport const createShortcut = data => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/shortcut/addShortcut',\n    data,\n  });\n};\n\n// 获取快捷方式栏的快捷方式\nexport const fetchShortcut = () => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/shortcut/getShortcut',\n  });\n};\n\n// 删除快捷方式\nexport const deleteShortcut = data => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/shortcut/delShortcut',\n    data,\n  });\n};\n\n// 搜索文件\nexport const searchCatalog = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/homeSearch',\n    headers: {\n      groupAppId,\n    },\n    params,\n  });\n};\n\n// 重定向模型对应的渲染页url\nexport const reloadModelRendererUrl = (params) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/model',\n    headers: {\n      groupAppId: params.from === 0 ? '' : params.from,\n    },\n    params,\n  });\n};\n\n// 获取模型或面料详情\nexport const getModelOrMaterialDetail = ({\n  catalogId,\n  relateType,\n  relateId,\n}) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/appInteraction/getAppInfo',\n    headers: {\n      groupAppId: relateId,\n    },\n    params: {\n      catalogId,\n      relateType,\n    },\n  });\n};\n\n// 获取最近文件的路径\nexport const getCurrentFilePath = params => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRecentlyBrowsedPath',\n    params,\n  });\n};\n\n// 获取最近文件\nexport const getCurrentFiles = params => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getRecentlyBrowsedRecords',\n    params,\n  });\n};\n\n// 获取根目录文件夹和文件（分组）\nexport const getRootFoldersAndFiles = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/catalogue/yunpanCatalog/getRelateCatalogHome',\n    params,\n  });\n};\n\nexport const getFolderFoldersAndFiles = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/catalogue/yunpanCatalog/getChildCatalogHome',\n    params,\n  });\n};\n\nexport const getPanelBoardList = (groupAppId = '') => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getPanelBoardList',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/*  =====================================  workspace相关  =====================================  */\n\nexport const fetchWorkspaces = appId => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/list',\n    params: {\n      appId,\n    },\n  });\n};\n// 更改workspace列表的顺序\nexport const changeSequence = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/sort/update',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data,\n  });\n};\n// export const changeSequence = (groupAppId, data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/manage/groupapp/offset',\n//     headers: {\n//       groupAppId,\n//       'Content-Type': 'application/json',\n//     },\n//     data,\n//   });\n// };\n\n// 协同空间重命名\nexport const renameWorkspace = (groupAppId, name) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/rename',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      name,\n    },\n  });\n};\n\n// 获取内部成员列表\nexport const fetchInnerMembers = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list',\n    params: {\n      keyWord: '',\n      accountType: '',\n      isOuter: 0,\n    },\n  });\n};\n\n// 去重版\nexport const fetchDeduplicatedInnerMembers = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/invite',\n    headers: {\n      groupAppId,\n    },\n    params: {\n      accountType: 0,\n    },\n  });\n};\nexport const fetchDeduplicatedOuterMembers = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/invite',\n    headers: {\n      groupAppId,\n    },\n    params: {\n      accountType: 1,\n    },\n  });\n};\n\nexport const fetchOuterMembers = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/outer/nostatus/list',\n  });\n};\n\n// 最近邀请成员成员列表\nexport const fetchInvitMembers = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/current',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n\n// 获取子目录\nexport const getResourceSublist = (config, groupAppId = '') => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getChildCatalog',\n    params: config,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 创建新目录\nexport const createResourceItem = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/create',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 重命名目录名称\nexport const updateResourceItemName = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/rename',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 改变目录的状态\nexport const updateResourceItemStatus = (folderIds, status, groupAppId = '') => {\n  return axios({\n    method: 'put',\n    url: '/catalogue/yunpanCatalog/status',\n    data: {\n      folderIds,\n      status,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 删除目录 -- api只做单个删除\nexport const deleteResourceItem = (id, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/delete',\n    data: [id],\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 目录复制\nexport const copyFilesToFolders = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/copy',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 目录移动\nexport const removeFolder = (data, groupAppId = '') => {\n  return axios({\n    method: 'post',\n    url: '/catalogue/yunpanCatalog/move',\n    data,\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 获取固定工作版和临时工作版列表\nexport const getAllCategoriesList = (config) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getTempAndFixedCatalog',\n    params: config,\n  });\n};\n\n// 公共材质目录\nexport const getAllCatagoriesOfPublic = (config) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getMaterialLibrary',\n    params: config,\n  });\n};\n\n/* ================================ 资源中心 -- 搜索 ========================= */\n\nexport const searchResourceByKeyword = (params, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/search',\n    headers: {\n      groupAppId,\n    },\n    params,\n  });\n};\n\nexport const getHiddenCatalog = (catalogId, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/catalogue/yunpanCatalog/getHiddenCatalog',\n    params: {\n      catalogId,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberManagement.vue?vue&type=style&index=0&id=2af0e24e&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseEditInput.vue?vue&type=style&index=0&id=4746db47&lang=scss&scoped=true&\"","\nimport { i18n } from '@/i18n';\n\nfunction validWhitespace(str: string) {\n  if (str.trim() !== str) {\n    throw new Error(i18n.t('validator.white_space'));\n  }\n}\nexport default validWhitespace;\n","import validWhitespace from './valid-white-space';\nimport isFilled from './is-filled';\nimport strLength from './str-length';\n\nconst defaults = {\n  max: Infinity,\n  min: 0,\n};\nfunction validName(name: string, { max = defaults.max, min = defaults.min, message } : { max: number, min: number, message ? : string} = defaults) {\n  validWhitespace(name);\n  isFilled(name, { message });\n  strLength(name, { message, max, min });\n}\n\nexport default validName;\n","import validator2Checker from '@/utils/validators/utils/validator-to-checker';\nimport validName from '@/utils/validators/valid-name';\n\nexport const isValidName = validator2Checker(\n  validName,\n  true,\n  (e: Error) => e.message,\n);\n\nexport default isValidName;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-popover',{attrs:{\"disabled\":!_vm.workspaceMax,\"popper-class\":\"workspace-unavailable-tip\",\"width\":\"208\"},model:{value:(_vm.popoverVisible),callback:function ($$v) {_vm.popoverVisible=$$v},expression:\"popoverVisible\"}},[_c('div',[_c('p',{staticClass:\"text-align-left\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"profile.workspace.no_more_workspaces\"))+\" \")]),_c('div',{staticClass:\"text-align-right\"},[_c('el-button',{staticClass:\"button-got-it\",attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":_vm.hidePopover}},[_vm._v(_vm._s(_vm.$t(\"profile.workspace.got_it\"))+\"!\")])],1)]),_c('div',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-button',{ref:\"addButton\",staticClass:\"button-create-workspace\",attrs:{\"type\":\"text\",\"disabled\":_vm.workspaceAddDisable || _vm.workspaceMax},on:{\"click\":_vm.handleClickAddWorkspace}},[_c('div',{staticClass:\"button-content-box\"},[_c('i',{staticClass:\"iconfont iconaddmembers\"}),_c('span',[_vm._v(_vm._s(_vm.$t(\"profile.workspace.new_workspace\")))]),_c('span',[_vm._v(_vm._s(_vm.usedWorkspace)+\"/\"+_vm._s(_vm.totalWorkspace))])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-popover v-model=\"popoverVisible\" :disabled=\"!workspaceMax\" popper-class=\"workspace-unavailable-tip\" width=\"208\">\n    <!-- 当workspace空间不足时，显示提示框 -->\n    <div>\n      <p class=\"text-align-left\">\n        {{ $t(\"profile.workspace.no_more_workspaces\") }}\n      </p>\n      <div class=\"text-align-right\">\n        <el-button size=\"small\" type=\"text\" class=\"button-got-it\" @click=\"hidePopover\"\n          >{{ $t(\"profile.workspace.got_it\") }}!</el-button\n        >\n      </div>\n    </div>\n\n    <div slot=\"reference\">\n      <el-button\n        class=\"button-create-workspace\"\n        type=\"text\"\n        ref=\"addButton\"\n        :disabled=\"workspaceAddDisable || workspaceMax\"\n        @click=\"handleClickAddWorkspace\"\n      >\n        <div class=\"button-content-box\">\n          <i class=\"iconfont iconaddmembers\" />\n          <span>{{ $t(\"profile.workspace.new_workspace\") }}</span>\n          <span>{{ usedWorkspace }}/{{ totalWorkspace }}</span>\n        </div>\n      </el-button>\n    </div>\n  </el-popover>\n  <!-- eslint-disable-next-line max-len -->\n  <!-- @click=\"handleClickAddWorkspace\" -->\n  <!-- <div class=\"workspace-add\">\n    <el-popover :disabled=\"workspaceMax\" placement=\"bottom\"\n      popper-class=\"workspace-max-tooltip\" trigger=\"click\"\n      width=\"256\" v-model=\"popoverVisible\">\n      <div>\n        You have no more available workspaces.\n        Please purchase more workspaces or delete an existing workspace.\n        <el-button size=\"small\" @click=\"popoverVisible = false\"\n          class=\"popover-class\">Got it!</el-button>\n      </div>\n      <div slot=\"reference\">\n        <button class=\"add-button flex-space-between el-button el-button--default\"\n          :class=\"{ 'is-disabled': workspaceAddDisable || workspaceMax }\"\n          :disabled=\"workspaceAddDisable || workspaceMax\" ref=\"addButton\">\n          <div class=\"flex-space-between\" style=\"width: 100%;\">\n            <span class=\"iconfont iconaddmembers\"></span>&nbsp;\n            <span class=\"workspace-create-tag\">New Workspace</span>&nbsp;\n            <span>{{usedWorkspace}}/{{totalWorkspace}}</span>\n          </div>\n        </button>\n      </div>\n    </el-popover>\n  </div> -->\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport judgeInput from '@/utils/validators/checkers/valid-name';\nimport MemberManagement from '@/views/file-list/components/workspace/MemberManagement';\nimport wsMixin from '@/views/file-list/components/workspace/mixin';\nimport { WorkspaceOrm } from '@/models';\nimport { addWorkspace } from '@/loaders/workspace';\nimport { getContextUser, updateWorkspaceRolesAndPermissions } from '../../../loaders/context';\nimport { addUsedWorkspace } from '../../../loaders/user';\n\nexport default {\n  name: 'ButtonCreateWorkspace',\n  mixins: [wsMixin],\n  data() {\n    return {\n      popoverVisible: false,\n    };\n  },\n  computed: {\n    isVirtualAccount() {\n      return this.user?.roleId === '3';\n    },\n    user() {\n      return getContextUser();\n    },\n    usedWorkspace() {\n      return this.isVirtualAccount\n        ? 0\n        : this.user?.resourceInfo?.usedWorkspace;\n    },\n    totalWorkspace() {\n      return this.isVirtualAccount\n        ? 0\n        : this.user?.resourceInfo?.totalWorkspace;\n    },\n    workspaceMax() {\n      return this.usedWorkspace === this.totalWorkspace;\n    },\n    workspaceAddDisable() {\n      return !this.$can('system', 'OP0144');\n    },\n  },\n  mounted() {\n    this.$root.$on('show-dialog-create-workspace', this.handleClickAddWorkspace);\n  },\n  methods: {\n    hidePopover() {\n      this.popoverVisible = false;\n    },\n    // 处理点击新增协同空间操作\n    async handleClickAddWorkspace() {\n      // 处理已满的情况\n      if (this.workspaceMax) {\n        this.popoverVisible = true;\n        return;\n      }\n      try {\n        // eslint-disable-next-line\n        const workspaceName = (await this.$prompt('', i18n.t('profile.workspace.workspace_name'), {\n          confirmButtonText: i18n.t('public.dialog.confirm'),\n          cancelButtonText: i18n.t('public.dialog.cancel'),\n          inputValue: i18n.t('workspace.default_add_value'),\n          inputPlaceholder: i18n.t('profile.workspace.placeholder'),\n          closeOnClickModal: false,\n          inputValidator: input => judgeInput(input, { min: 1, max: 64 }),\n        })).value;\n        const workspace = await addWorkspace(workspaceName);\n        addUsedWorkspace(1);\n\n        await updateWorkspaceRolesAndPermissions(workspace.groupAppId);\n\n        try {\n          await this.$Dialog.dialogify({\n            is: MemberManagement,\n            props: {\n              groupAppId: workspace.groupAppId,\n              title: workspaceName,\n            },\n          }, {\n            props: {\n              title: workspaceName,\n              titleAlign: 'left',\n              width: '700px',\n            },\n          });\n        } catch (e) {\n          console.warn(e);\n        } finally {\n          // this.$router.push({\n          //   name: this.$route.name.startsWith('Qt') ? 'QtFileList' : 'FileList',\n          //   query: {\n          //     appType: 13,\n          //     relateId: workspace.groupAppId,\n          //   },\n          // });\n          this.enterWorkspace(workspace.groupAppId);\n        }\n        // eslint-disable-next-line no-empty\n      } catch (e) { } finally {\n        // this.$refs.addButton.blur();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.button-create-workspace {\n  width: 100%;\n  height: 36px;\n  padding: 0;\n  color: #2878ff;\n  border: 1px solid currentColor;\n  border-radius: 20px;\n\n  &.is-disabled {\n    color: #c0c4cc;\n    border-color: inherit;\n  }\n}\n\n.button-content-box {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 15px 0 5px;\n\n  .iconaddmembers {\n    font-size: 28px;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.workspace-unavailable-tip {\n  color: #fff;\n  background-color: $color-primary;\n\n  &.el-popper[x-placement^=\"bottom\"] .popper__arrow::after {\n    border-bottom-color: $color-primary;\n  }\n  .button-got-it {\n    width: 65px;\n    height: 30px;\n    margin-top: 5px;\n    color: #fff;\n    border: 1px solid #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspaceCreator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspaceCreator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkspaceCreator.vue?vue&type=template&id=aae9deda&scoped=true&\"\nimport script from \"./WorkspaceCreator.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkspaceCreator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkspaceCreator.vue?vue&type=style&index=0&id=aae9deda&lang=scss&scoped=true&\"\nimport style1 from \"./WorkspaceCreator.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aae9deda\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormShareableLink.vue?vue&type=style&index=0&id=15bd3d0b&lang=scss&scoped=true&\"","import axios from './axios';\n\n// roleId对应的中文\nexport const getDictionaryByType = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: 2,\n    },\n  });\n};\n\n// 获取登录者在空间内的权限\nexport const getUserPrivilege = (groupAppId) => {\n  return axios({\n    method: 'get',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/role',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 获取空间内的角色列表及其roleId\nexport const getUsersInRoom = (groupAppId) => {\n  return axios({\n    method: 'get',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/users',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n// 修改角色权限\nexport const changeUserPrivilege = (groupAppId, roleId, userId) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/role/change',\n    headers: {\n      groupAppId,\n    },\n    data: {\n      roleId,\n      userId,\n    },\n  });\n};\n\n// 添加成员到协同空间\nexport const addMembersInRooms = (groupAppId, data) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/add/default/mutiple/workspace',\n    headers: {\n      groupAppId,\n      targetIds: JSON.stringify(data),\n    },\n  });\n};\n\n// 协同空间里的删除成员\nexport const deleteMembersInRooms = (groupAppId, userId) => {\n  return axios({\n    method: 'post',\n    // url: '/authcenter/ugroup/users',\n    url: '/authcenter/ugroup/remove',\n    headers: {\n      groupAppId,\n      targetIds: JSON.stringify([userId]),\n    },\n  });\n};\n","import {\n  ApiSingleWorkpaceTable as FetchWorkspaceMembersInfo, // 获取单个workspace的成员信息\n} from '@/api/permission';\nimport {\n  addMembersInRooms,\n  deleteMembersInRooms,\n  changeUserPrivilege,\n} from '@/api/previlege';\nimport { WorkspaceMemberOrm } from '@/models';\n\nexport async function refreshByWorkspaceId(workspaceId: string) {\n  // this.delete(each => each.groupAppId === workspaceId);\n  const members = await FetchWorkspaceMembersInfo(workspaceId);\n  // 增加groupAppId作为外键\n  members.data.users.forEach(each => Object.assign(each, { groupAppId: workspaceId }));\n  await WorkspaceMemberOrm.insertOrUpdate({\n    data: members.data.users,\n  });\n  return WorkspaceMemberOrm.query().where(member => {\n    return member.groupAppId === workspaceId;\n  }).get();\n}\n\nexport async function addMembers(groupAppId: string, memberIds: string) {\n  await addMembersInRooms(groupAppId, memberIds);\n  await refreshByWorkspaceId(groupAppId);\n}\n\nexport async function delMember(groupAppId: string, memberId: string) {\n  WorkspaceMemberOrm.delete(m => m.userId === memberId && m.groupAppId === groupAppId);\n  await deleteMembersInRooms(groupAppId, memberId);\n}\n\nexport async function changeMemberPrivilege(groupAppId: string, memberId: string, memberRoleId: string) {\n  WorkspaceMemberOrm.update({\n    where: m => m.groupAppId === groupAppId && m.userId === memberId,\n    data: {\n      roleId: memberRoleId,\n    },\n  });\n  changeUserPrivilege(groupAppId, memberRoleId, memberId);\n}\n\nexport function getMemberInfoByUserId(groupAppId: string, memberId: string) {\n  const target = WorkspaceMemberOrm.query().where(user => {\n    return user.userId === memberId && user.groupAppId === groupAppId;\n  }).get();\n  return target;\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWorkspacePass.vue?vue&type=style&index=0&id=0f710eec&lang=scss&scoped=true&\"","import i18n from 'i18next';\nimport { WorkspaceRoleOrm, WorkspaceOrm, WorkspaceUserRoleOrm } from '@/models';\nimport isQt from '@/utils/is-qt';\n\n\nexport default {\n  props: {\n    relateId: {\n      type: String,\n    },\n  },\n  computed: {\n    currentWorkspaceId() {\n      // eslint-disable-next-line\n      return this.relateId || (this.$route.query.relateId\n        ? this.$route.query.relateId\n        : null);\n    },\n    currentWorkspace() {\n      return this.currentWorkspaceId\n        ? WorkspaceOrm.find(this.currentWorkspaceId)\n        : null;\n    },\n  },\n  methods: {\n    async enterFirstWorkspace() {\n      const firstWorkspace = WorkspaceOrm.query().get()[0];\n      await this.enterWorkspaceByReplaceURL(firstWorkspace.groupAppId);\n    },\n    async enterWorkspaceByReplaceURL(groupAppId) {\n      await this.$router.replace({\n        query: {\n          appType: 13,\n          relateId: groupAppId,\n        },\n      });\n    },\n    async enterWorkspace(groupAppId, ws) {\n      await this.$router.push({\n        name: isQt() ? 'QtFileList' : 'FileList',\n        query: {\n          appType: 13,\n          workspaceBusinessType: ws?.businessType,\n          relateId: groupAppId,\n        },\n      });\n    },\n  },\n};\nexport const userAbout = {\n  data() {\n    const roleList = [\n      i18n.t('workspace.unknown_role'),\n      i18n.t('workspace.owner'),\n      i18n.t('workspace.admin'),\n      i18n.t('workspace.member'),\n      i18n.t('workspace.guest'),\n      i18n.t('workspace.workspace_pass'),\n    ];\n    return {\n      roleId2Role: {\n        4: roleList[1],\n        5: roleList[2],\n        6: roleList[3],\n        7: roleList[4],\n        8: roleList[5],\n      },\n      OWNER: roleList[1],\n      ADMIN: roleList[2],\n      MEMBER: roleList[3],\n      GUEST: roleList[4],\n      WORKSPACEPASS: roleList[5],\n    };\n  },\n  computed: {\n    selfRoleId() {\n      return WorkspaceUserRoleOrm.find(this.groupAppId).roleId;\n    },\n    roles() {\n      return WorkspaceRoleOrm.all();\n    },\n    ownerUsableRole() {\n      // eslint-disable-next-line\n      const arr = this.roles.filter(item => item.roleId != 4 && item.roleId != 8);\n      return arr;\n    },\n    adminUsableRole() {\n      const list = this.roles.filter(item => +item.roleId === 6 || +item.roleId === 7);\n      return list;\n    },\n  },\n  methods: {\n    roleTypeC2E(chinese) {\n      if (chinese) {\n        switch (chinese) {\n          case '空间创建者':\n            return 'Owner';\n          case '下载者':\n            return 'Admin';\n          case '编辑者':\n            return 'Member';\n          case '查看者':\n            return 'Guest';\n          case '参与者':\n            return 'Invited';\n          default: return 'Undefined Role';\n        }\n      }\n      return chinese;\n    },\n  },\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspacesManager.vue?vue&type=style&index=0&id=987fa04a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"workspaces-management-wrapper\",staticStyle:{\"margin-left\":\"20px\"}},[_c('workspace-creator',{attrs:{\"addWorkspaceFlag\":_vm.addWorkspaceFlag}}),_c('div',{staticClass:\"workspaces-management\"},_vm._l((_vm.workspacelist),function(workspaceInfo){return _c('single-workspace-manager',{key:workspaceInfo.groupAppId,attrs:{\"workspaceInfo\":workspaceInfo}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"single-workspace-manager\"},[_c('workspace-manager-top-bar',{attrs:{\"workspaceInfo\":_vm.workspaceInfo,\"count\":_vm.workspaceMembers.length}}),_c('table-list',{staticClass:\"workspace-members\",attrs:{\"memberList\":_vm.workspaceMembers,\"group-app-id\":_vm.workspaceInfo.groupAppId,\"mailW\":\"auto\",\"nameW\":\"95\",\"permissionW\":\"110\",\"roleColumnVisible\":true}}),_c('div',{staticClass:\"entry-workspace-wrapper\"},[_c('el-button',{staticClass:\"workspace-entry\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.enterWorkspace}},[_vm._v(_vm._s(_vm.$t(\"profile.workspace.enter_workspace\")))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-vertical-center manager-top-bar\"},[_c('i',{staticClass:\"iconfont\",class:_vm.workspaceInfo.roleId === '4' ? 'icon-person' : 'icon-link-b'}),(!_vm.$can(_vm.workspaceInfo.groupAppId, 'OP0043'))?[_c('span',{staticClass:\"workspace-title text-one-line\"},[_vm._v(\" \"+_vm._s(_vm.workspaceInfo.name)+\" \")])]:[_c('base-edit-input',{staticClass:\"workspace-title flex-vertical-center\",attrs:{\"value\":_vm.workspaceInfo.name,\"permissionType\":_vm.workspaceInfo.groupAppId,\"permissionCode\":\"OP0043\",\"maxLength\":64},on:{\"on-change\":_vm.renameWorkspace}})],_c('span',{staticClass:\"total-members\"},[_vm._v(\"(\"+_vm._s(_vm.count)+\")\")]),_c('div',{staticClass:\"more-info flex-center\"},[_c('el-dropdown',[_c('i',{staticClass:\"iconfont iconmulu_more_nol\"}),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[(_vm.$can(_vm.workspaceInfo.groupAppId, 'OP0029'))?_c('el-dropdown-item',{attrs:{\"icon\":\"iconfont icon-bulk-invitation\"},nativeOn:{\"click\":function($event){_vm.$act(_vm.addMembers, [], _vm.$t('profile.workspace.invitation_successfully'))}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"profile.workspace.add_members\")))]):_vm._e(),(_vm.$can(_vm.workspaceInfo.groupAppId, 'OP0040'))?_c('el-dropdown-item',{attrs:{\"icon\":\"iconfont icon-dismiss\"},nativeOn:{\"click\":function($event){_vm.$act(_vm.deleteWorkspace, [], _vm.$t('profile.workspace.delete_success'))}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"profile.workspace.delete_workspace\")))]):_vm._e(),(_vm.$can(_vm.workspaceInfo.groupAppId, 'OP0058'))?_c('el-dropdown-item',{attrs:{\"icon\":\"iconfont icon-logout-small\"},nativeOn:{\"click\":function($event){_vm.$act(_vm.logOutWorkspace, [], _vm.$t('profile.workspace.exit_success'))}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"profile.workspace.left_the_workspace\")))]):_vm._e()],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-input\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"content-box\",class:_vm.mode === 'edit' ? 'edit' : ''},[(_vm.mode === 'text')?_c('span',{staticClass:\"edit-input-content text-one-line\"},[_vm._v(_vm._s(_vm.text))]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"input\",attrs:{\"placeholder\":_vm.placeholder,\"autofocus\":\"\"},domProps:{\"value\":(_vm.text)},on:{\"blur\":_vm.blurInput,\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]),(_vm.permissionCode && _vm.permissionType)?_c('i',{staticClass:\"iconfont icon-write\",attrs:{\"hidden\":!_vm.$can(_vm.permissionType, _vm.permissionCode)},on:{\"click\":_vm.toggleMode}}):_c('i',{staticClass:\"iconfont icon-write\",on:{\"click\":_vm.toggleMode}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div @click.stop class=\"edit-input\">\n    <div :class=\"mode === 'edit' ? 'edit' : ''\" class=\"content-box\">\n      <span\n        v-if=\"mode === 'text'\"\n        class=\"edit-input-content text-one-line\">{{ text }}</span>\n      <input\n        v-else\n        v-model=\"text\"\n        :placeholder=\"placeholder\"\n        class=\"input\"\n        autofocus\n        @blur=\"blurInput\" />\n    </div>\n    <!-- 权限控制 -->\n    <i\n      v-if=\"permissionCode && permissionType\"\n      :hidden=\"!$can(permissionType, permissionCode)\"\n      class=\"iconfont icon-write\"\n      @click=\"toggleMode\" />\n    <i v-else class=\"iconfont icon-write\" @click=\"toggleMode\" />\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n    maxLength: {\n      type: Number,\n      default: 9999,\n    },\n    placeholder: {\n      type: String,\n      default: i18n.t('public.form.enter_some_text'),\n    },\n    // 权限的 code\n    permissionCode: {\n      type: String,\n      default: '',\n    },\n    // 权限的类型\n    permissionType: {\n      type: String,\n      default: 'workspace',\n    },\n  },\n  data() {\n    return {\n      text: this.value,\n      mode: 'text',\n    };\n  },\n  watch: {\n    value(text) {\n      this.text = text;\n    },\n  },\n  methods: {\n    blurInput() {\n      // 只要改动数据时且数据不为空，才会发送信息到父组件\n      if (this.value !== this.text && this.text) {\n        if (this.text.length >= this.maxLength) {\n          this.$message.error(i18n.t('public.form.exceeds_char_limit', { len: this.maxLength }));\n          return;\n        }\n        this.$emit('on-change', this.text);\n        this.toggleMode();\n      }\n\n      if (!this.text) {\n        this.text = this.value;\n        this.$message.error(i18n.t('public.form.not_empty'));\n      }\n    },\n    toggleMode() {\n      this.mode = this.mode === 'text' ? 'edit' : 'text';\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.edit-input {\n  display: inline-block;\n  display: flex;\n  align-items: center;\n  user-select: none;\n\n  .content-box {\n    // height: 32px;\n    border-bottom: 1px solid transparent;\n\n    &.edit {\n      min-width: 120px;\n      border-color: #ddd;\n    }\n\n    .edit-input-content {\n      display: inline-block;\n      max-width: 200px;\n    }\n  }\n\n  .input {\n    width: 200px;\n    border: none;\n    outline: none;\n  }\n  .icon-pencil {\n    padding: 0 5px;\n    cursor: pointer;\n  }\n  .icon-write {\n    padding-left: 8px;\n    color: #848b97;\n    cursor: pointer;\n    font-weight: 400;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseEditInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseEditInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseEditInput.vue?vue&type=template&id=4746db47&scoped=true&\"\nimport script from \"./BaseEditInput.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseEditInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseEditInput.vue?vue&type=style&index=0&id=4746db47&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4746db47\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flex-vertical-center manager-top-bar\">\n    <i class=\"iconfont\" :class=\"workspaceInfo.roleId === '4' ? 'icon-person' : 'icon-link-b'\"></i>\n\n    <!-- workspace标题和编辑栏 -->\n    <template v-if=\"!$can(workspaceInfo.groupAppId, 'OP0043')\">\n      <span class=\"workspace-title text-one-line\">\n        {{ workspaceInfo.name }}\n      </span>\n    </template>\n    <template v-else>\n      <base-edit-input\n        :value=\"workspaceInfo.name\"\n        :permissionType=\"workspaceInfo.groupAppId\"\n        @on-change=\"renameWorkspace\"\n        permissionCode=\"OP0043\"\n        class=\"workspace-title flex-vertical-center\"\n        :maxLength=\"64\"\n      />\n    </template>\n\n    <!-- 总数 -->\n    <span class=\"total-members\">({{ count }})</span>\n\n    <!-- 下拉菜单 -->\n    <div class=\"more-info flex-center\">\n      <el-dropdown>\n        <i class=\"iconfont iconmulu_more_nol\"></i>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item\n            v-if=\"$can(workspaceInfo.groupAppId, 'OP0029')\"\n            icon=\"iconfont icon-bulk-invitation\"\n            @click.native=\"$act(addMembers, [], $t('profile.workspace.invitation_successfully'))\"\n          >\n            {{ $t(\"profile.workspace.add_members\") }}</el-dropdown-item\n          >\n          <el-dropdown-item\n            v-if=\"$can(workspaceInfo.groupAppId, 'OP0040')\"\n            icon=\"iconfont icon-dismiss\"\n            @click.native=\"$act(deleteWorkspace, [], $t('profile.workspace.delete_success'))\"\n          >\n            {{ $t(\"profile.workspace.delete_workspace\") }}</el-dropdown-item\n          >\n          <el-dropdown-item\n            v-if=\"$can(workspaceInfo.groupAppId, 'OP0058')\"\n            icon=\"iconfont icon-logout-small\"\n            @click.native=\"$act(logOutWorkspace, [], $t('profile.workspace.exit_success'))\"\n          >\n            {{ $t(\"profile.workspace.left_the_workspace\") }}</el-dropdown-item\n          >\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport BaseEditInput from '@/components/form/BaseEditInput';\nimport MemberSelector from '@/views/file-list/components/workspace/MemberSelector';\nimport { WorkspaceMemberOrm, WorkspaceOrm } from '@/models';\nimport { delWorkspace, quitWorkspace, renameWorkspace } from '@/loaders/workspace';\nimport { addMembers } from '@/loaders/workspace-member';\nimport { addUsedWorkspace } from '../../../loaders/user';\n\nexport default {\n  props: {\n    workspaceInfo: Object,\n    count: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return { WorkspaceOrm };\n  },\n  components: {\n    BaseEditInput,\n  },\n  methods: {\n    renameWorkspace(v) {\n      renameWorkspace(this.workspaceInfo.groupAppId, v);\n    },\n    async addMembers() {\n      const list = await this.$Dialog.dialogify({\n        is: MemberSelector,\n        props: {\n          groupAppId: this.workspaceInfo.groupAppId,\n        },\n      }, {\n        props: {\n          width: '700px',\n          title: i18n.t('profile.workspace.add_members'),\n        },\n      });\n      addMembers(this.workspaceInfo.groupAppId, list.map(e => e.id));\n    },\n    async deleteWorkspace() {\n      const res = await this.$alert(i18n.t('profile.workspace.delete_warn_message'),\n        i18n.t('profile.workspace.delete_warn_title', { name: this.workspaceInfo.name }),\n        {\n          confirmButtonText: i18n.t('profile.workspace.delete_workspace'),\n          // confirmButtonClass: 'el-button--default',\n          type: 'warning',\n        });\n      if (res) {\n        delWorkspace(this.workspaceInfo.groupAppId);\n        addUsedWorkspace(-1);\n      }\n    },\n    async logOutWorkspace() {\n      const res = await this.$alert(i18n.t('profile.workspace.left_warn_message'), i18n.t('profile.workspace.prompt'), {\n        confirmButtonText: i18n.t('public.dialog.confirm'),\n        type: 'warning',\n      });\n      if (res) {\n        quitWorkspace(this.workspaceInfo.groupAppId);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.manager-top-bar {\n  position: relative;\n  height: 60px;\n  margin-left: 20px;\n}\n.iconfont {\n  font-size: 22px;\n}\n.workspace-title {\n  padding: 0 10px;\n  font-size: 18px;\n  font-weight: 700;\n  max-width: 250px;\n}\n.more-info {\n  position: absolute;\n  top: 15px;\n  right: 10px;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  cursor: pointer;\n  &:hover {\n    background-color: rgba(#ddd, 0.5);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspaceManagerTopBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspaceManagerTopBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkspaceManagerTopBar.vue?vue&type=template&id=343dc2ce&scoped=true&\"\nimport script from \"./WorkspaceManagerTopBar.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkspaceManagerTopBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkspaceManagerTopBar.vue?vue&type=style&index=0&id=343dc2ce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"343dc2ce\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"single-workspace-manager\">\n    <workspace-manager-top-bar :workspaceInfo=\"workspaceInfo\" :count=\"workspaceMembers.length\" />\n\n    <table-list\n      :memberList=\"workspaceMembers\"\n      :group-app-id=\"workspaceInfo.groupAppId\"\n      mailW=\"auto\"\n      nameW=\"95\"\n      permissionW=\"110\"\n      :roleColumnVisible=\"true\"\n      class=\"workspace-members\"\n    />\n\n    <div class=\"entry-workspace-wrapper\">\n      <el-button type=\"primary\" class=\"workspace-entry\" @click=\"enterWorkspace\">{{\n        $t(\"profile.workspace.enter_workspace\")\n      }}</el-button>\n    </div>\n  </section>\n</template>\n\n<script>\nimport TableList from '@/views/file-list/components/workspace/TableList';\nimport isQt from '@/utils/is-qt';\nimport { WorkspaceMemberOrm } from '@/models';\nimport { refreshByWorkspaceId } from '@/loaders/workspace-member';\nimport { updateWorkspaceRolesAndPermissions } from '../../../loaders/context';\nimport WorkspaceManagerTopBar from './WorkspaceManagerTopBar';\n\nexport default {\n  props: {\n    workspaceInfo: Object,\n  },\n  components: {\n    WorkspaceManagerTopBar,\n    TableList,\n  },\n  computed: {\n    workspaceMembers() {\n      return WorkspaceMemberOrm.query().where('groupAppId', this.workspaceInfo.groupAppId).get();\n    },\n  },\n  async mounted() {\n    await updateWorkspaceRolesAndPermissions(this.workspaceInfo.groupAppId);\n    refreshByWorkspaceId(this.workspaceInfo.groupAppId);\n  },\n  methods: {\n    enterWorkspace() {\n      this.$router.push({\n        name: isQt() ? 'QtFileList' : 'FileList',\n        query: {\n          appType: 13,\n          relateId: this.workspaceInfo.groupAppId,\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.single-workspace-manager {\n  margin: 0 20px 20px 0;\n  width: 420px;\n  height: 540px;\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0px 0px 8px 0px rgba(54, 74, 107, 0.1);\n}\n.entry-workspace-wrapper {\n  height: 80px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  position: relative;\n  width: 100%;\n  // left: 2.5%;\n  border-top: 1px solid #eee;\n  .workspace-entry {\n    transform: translateX(-20px);\n  }\n}\n.workspace-members {\n  position: relative;\n  width: 95%;\n  left: 2.5%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleWorkspaceManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleWorkspaceManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingleWorkspaceManager.vue?vue&type=template&id=29b9d591&scoped=true&\"\nimport script from \"./SingleWorkspaceManager.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleWorkspaceManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingleWorkspaceManager.vue?vue&type=style&index=0&id=29b9d591&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29b9d591\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"workspaces-management-wrapper\" style=\"margin-left: 20px\">\n    <workspace-creator :addWorkspaceFlag=\"addWorkspaceFlag\" />\n\n    <div class=\"workspaces-management\">\n      <single-workspace-manager\n        v-for=\"workspaceInfo of workspacelist\"\n        :key=\"workspaceInfo.groupAppId\"\n        :workspaceInfo=\"workspaceInfo\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\nimport { WorkspaceOrm } from '@/models';\nimport { refreshWorkspace } from '@/loaders/workspace';\nimport WorkspaceCreator from './workspaceManager/WorkspaceCreator';\nimport SingleWorkspaceManager from './workspaceManager/SingleWorkspaceManager';\n\nexport default {\n  props: {\n    addWorkspaceFlag: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  components: {\n    WorkspaceCreator,\n    SingleWorkspaceManager,\n  },\n  mounted() {\n    refreshWorkspace();\n  },\n  computed: {\n    workspacelist() {\n      return WorkspaceOrm.query().get();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.workspaces-management {\n  display: flex;\n  flex-flow: row wrap;\n}\n.workspaces-management-wrapper {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspacesManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspacesManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkspacesManager.vue?vue&type=template&id=987fa04a&scoped=true&\"\nimport script from \"./WorkspacesManager.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkspacesManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkspacesManager.vue?vue&type=style&index=0&id=987fa04a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"987fa04a\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableList.vue?vue&type=style&index=0&id=4c0d1e72&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info-wrap\"},[_c('ul',{staticClass:\"info-inner info-title\"},[_c('li',{staticClass:\"info-row-first\"}),_c('li',{staticClass:\"info-row-second\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.workspace_pass'))+\" \")]),_c('li',{staticClass:\"info-row\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.guest'))+\" \")]),_c('li',{staticClass:\"info-row\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.member'))+\" \")]),_c('li',{staticClass:\"info-row\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.admin'))+\" \")])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.view_file'))+\" \")]),_c('li',{staticClass:\"info-row-second\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.edit_design'))+\" \")]),_c('li',{staticClass:\"info-row-second\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.view_activity_history'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.view_workspace_content'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.invite_guest'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.remove_guest'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.import_design'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.import_material'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first gray-title-color\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.import_file'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['gray-color']})]),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['gray-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.export_design'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.export_material'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.export_sample_form'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])]),_c('ul',{staticClass:\"info-inner\"},[_c('li',{staticClass:\"info-row-first\"},[_vm._v(\" \"+_vm._s(_vm.$t('workspace.rename_workspace'))+\" \")]),_c('li',{staticClass:\"info-row-second\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"}),_c('li',{staticClass:\"info-row\"},[_c('i',{staticClass:\"iconfont icon-tick-bold\",class:['blue-color']})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"info-wrap\">\n    <ul class=\"info-inner info-title\">\n      <li class=\"info-row-first\"></li>\n      <li class=\"info-row-second\">\n        {{ $t('workspace.workspace_pass') }}\n      </li>\n      <li class=\"info-row\">\n        {{ $t('workspace.guest') }}\n      </li>\n      <li class=\"info-row\">\n        {{ $t('workspace.member') }}\n      </li>\n      <li class=\"info-row\">\n        {{ $t('workspace.admin') }}\n      </li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.view_file') }}\n      </li>\n      <li class=\"info-row-second\">\n        <i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.edit_design') }}\n      </li>\n      <li class=\"info-row-second\">\n        <i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i>\n      </li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.view_activity_history') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.view_workspace_content') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.invite_guest') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.remove_guest') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.import_design') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.import_material') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first gray-title-color\">\n        {{ $t('workspace.import_file') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['gray-color']\"></i></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['gray-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.export_design') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.export_material') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.export_sample_form') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n    <ul class=\"info-inner\">\n      <li class=\"info-row-first\">\n        {{ $t('workspace.rename_workspace') }}\n      </li>\n      <li class=\"info-row-second\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"></li>\n      <li class=\"info-row\"><i class=\"iconfont icon-tick-bold\" :class=\"['blue-color']\"></i></li>\n    </ul>\n  </div>\n</template>\n<script>\n\nexport default {\n  data() {\n    return {\n      has: true,\n      dataInfo: [\n        {\n          title: 'Import Model',\n          row: {\n            col1: true, invited: 'no', guset: 'no', member: true, admin: true,\n          },\n        },\n        {\n          title: 'Import Material',\n          row: {\n            col1: true, invited: 'no', guset: 'no', member: true, admin: true,\n          },\n        },\n        {\n          title: 'Import File',\n          row: {\n            col1: false, invited: 'no', guset: 'no', member: false, admin: false,\n          },\n        },\n      ],\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.info-title {\n  height: 40px;\n  line-height: 40px;\n  background: rgba(245, 245, 245, 1);\n  border-radius: 4px;\n}\n.blue-color {\n  color: #2878ff;\n  font-size: 18px;\n  font-weight: 600;\n}\n.gray-color {\n  color: #dddddd;\n  font-size: 18px;\n  font-weight: 600;\n}\n.gray-title-color {\n  color: #dddddd;\n}\n.info-inner {\n  display: flex;\n  li {\n    height: 40px;\n    line-height: 40px;\n    border-bottom: 1px solid #eeeeee;\n  }\n  .info-row-first {\n    flex: 4;\n  }\n  .info-row-two {\n    flex: 2;\n  }\n  .info-row-second {\n    text-align: center;\n    flex: 2;\n  }\n  .info-row {\n    text-align: center;\n    flex: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionDetail.vue?vue&type=template&id=fae211be&scoped=true&\"\nimport script from \"./PermissionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PermissionDetail.vue?vue&type=style&index=0&id=fae211be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fae211be\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationPermission.vue?vue&type=style&index=0&id=1b40aba4&lang=scss&scoped=true&\"","export default function tokenizeEmails(mails) {\n  const usersMails = mails.trim().split(/\\s+/g);\n  if (usersMails.every(each => each.match(/\\w+@\\w+\\.\\w/))) {\n    return usersMails;\n  }\n  throw new this.$Error('Some input is not email address');\n}\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspaceCreator.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInvitationWrapper.vue?vue&type=style&index=0&id=0a2817bc&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('TableList',{attrs:{\"memberList\":_vm.memberList,\"spaceRoleId\":_vm.spaceRoleId,\"groupAppId\":_vm.groupAppId},on:{\"deleteMember\":function($event){return _vm.$emit('refreshMembers')}}}),_c('div',{staticClass:\"button-group\"},[_c('el-tooltip',{attrs:{\"content\":_vm.$t('workspace.share_and_invite_partners'),\"placement\":\"top\"}},[(_vm.$can(_vm.groupAppId, 'OP0029'))?_c('el-button',{staticClass:\"invite-members\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.handleInvite}},[_c('i',{staticClass:\"iconfont icon-invitation-o\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.share_and_invite_permission\"))+\" \")]):_vm._e()],1),_c('el-button',{staticClass:\"add-members\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.$can(_vm.groupAppId, 'OP0029')},on:{\"click\":function($event){_vm.$act(_vm.handleAddMembers, [], _vm.$t('workspace.add_members_success_tip'))}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.add_members\"))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <TableList\n      :memberList=\"memberList\"\n      :spaceRoleId=\"spaceRoleId\"\n      :groupAppId=\"groupAppId\"\n      @deleteMember=\"$emit('refreshMembers')\"\n    >\n    </TableList>\n\n    <div class=\"button-group\">\n      <el-tooltip :content=\"$t('workspace.share_and_invite_partners')\" placement=\"top\">\n        <el-button type=\"text\" class=\"invite-members\" @click=\"handleInvite\" v-if=\"$can(groupAppId, 'OP0029')\">\n          <i class=\"iconfont icon-invitation-o\"></i>\n          {{ $t(\"workspace.share_and_invite_permission\") }}\n        </el-button>\n      </el-tooltip>\n\n      <!-- <el-tooltip content=\"test test test\" placement=\"top\"> -->\n      <el-button\n        type=\"primary\"\n        class=\"add-members\"\n        :disabled=\"!$can(groupAppId, 'OP0029')\"\n        @click=\"$act(handleAddMembers, [], $t('workspace.add_members_success_tip'))\"\n      >\n        {{ $t(\"workspace.add_members\") }}\n      </el-button>\n      <!-- </el-tooltip> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { WorkspaceMemberOrm, WorkspaceUserRoleOrm } from '@/models';\nimport { refreshByWorkspaceId, addMembers } from '@/loaders/workspace-member';\nimport MemberSelector from './MemberSelector';\n// import MemberInvitation from './MemberInvitation';\nimport MemberInvitationWrapper from './MemberInvitationWrapper';\nimport TableList from './TableList';\n\nexport default {\n  dialogify: {\n    props: {\n      title: 'Workspace',\n      titleAlign: 'left',\n      width: '700px',\n    },\n  },\n  props: {\n    title: String,\n    groupAppId: [String, Number],\n  },\n  components: {\n    TableList,\n  },\n  computed: {\n    spaceRoleId() {\n      return WorkspaceUserRoleOrm.find(this.groupAppId).roleId;\n    },\n    memberList() {\n      return WorkspaceMemberOrm.query().where('groupAppId', this.groupAppId).get()\n        ? WorkspaceMemberOrm.query().where('groupAppId', this.groupAppId).get()\n        : this.$loadingState;\n    },\n  },\n  created() {\n    this.$watch(() => {\n      return this.groupAppId;\n    }, (groupAppId) => {\n      refreshByWorkspaceId(groupAppId);\n    }, {\n      immediate: true,\n    });\n  },\n  methods: {\n    async handleInvite() {\n      // eslint-disable-next-line no-unused-vars\n      await this.$Dialog.dialogify({\n        is: MemberInvitationWrapper,\n        props: {\n          groupAppId: this.groupAppId,\n          spaceRoleId: this.spaceRoleId,\n        },\n      });\n      this.$emit('refreshMembers');\n    },\n    async handleAddMembers() {\n      const list = await this.$Dialog.dialogify({\n        is: MemberSelector,\n        props: {\n          groupAppId: this.groupAppId,\n        },\n      }, {\n        props: {\n          titleAlign: 'left',\n          width: '700px',\n          title: i18n.t('workspace.add_members'),\n        },\n      });\n      await addMembers(\n        this.groupAppId, list.map((member) => member.id),\n      );\n      this.$emit('refreshMembers');\n    },\n    // eslint-disable-next-line\n    getUserTypeFromTypeId(typeId) {\n      // eslint-disable-next-line\n      switch (Number(typeId)) {\n        case 4:\n          return i18n.t('workspace.owner');\n        case 5:\n          return i18n.t('workspace.admin');\n        case 6:\n          return i18n.t('workspace.member');\n        case 7:\n          return i18n.t('workspace.guest');\n        case 8:\n          return i18n.t('workspace.invited');\n        // \"企业关联账户\";\n      }\n    },\n  },\n  filters: {\n    en: value => {\n      if (value) {\n        // eslint-disable-next-line\n        switch (value) {\n          case '空间创建者':\n            return 'Owner';\n          case '下载者':\n            return 'Admin';\n          case '编辑者':\n            return 'Member';\n          case '查看者':\n            return 'Guest';\n          case '参与者':\n            return 'Invited';\n        }\n      }\n      return value;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.button-group {\n  display: flex;\n  margin-top: 30px;\n  justify-content: space-between;\n  align-items: center;\n  .iconfont {\n    @include resize-icon(1.3);\n    margin-right: 0.3em;\n  }\n}\n.member-management-title {\n  text-align: center;\n  width: 100%;\n  margin-bottom: 26px;\n  font-size: 18px;\n  font-weight: 700;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberManagement.vue?vue&type=template&id=2af0e24e&scoped=true&\"\nimport script from \"./MemberManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberManagement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberManagement.vue?vue&type=style&index=0&id=2af0e24e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2af0e24e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionDetail.vue?vue&type=style&index=0&id=fae211be&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.memberList === _vm.$loadingState)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticClass:\"loading\",staticStyle:{\"height\":\"400px\"}}):_c('el-table',{staticClass:\"custom-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.memberList,\"height\":\"400\"}},[_c('el-table-column',{attrs:{\"prop\":\"E-mail\",\"label\":_vm.$t('workspace.email_or_id'),\"width\":_vm.mailW,\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar member = ref.row;\nreturn [_c('BaseUser',{attrs:{\"user\":member,\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(member.account || member.mail)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('workspace.username'),\"prop\":\"name\",\"width\":_vm.nameW,\"show-overflow-tooltip\":true}}),_c('el-table-column',{attrs:{\"width\":_vm.permissionW,\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar member = ref.row;\nreturn [(member.roleId == '8')?_c('span',{staticClass:\"text-width width-20\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.workspace_pass\"))+\" \")]):(member.roleId != '4' && _vm.spaceRoleId == '4')?_c('span',[_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":function($event){_vm.$act(\n                _vm.changeUserPrivilege,\n                [_vm.groupAppId, member.roleId, member.userId],\n                _vm.$t('workspace.priviledge_change_info')\n              )}},model:{value:(member.roleId),callback:function ($$v) {_vm.$set(member, \"roleId\", $$v)},expression:\"member.roleId\"}},_vm._l((_vm.ownerRole),function(charactor){return _c('el-option',{key:charactor.roleId,attrs:{\"label\":_vm.roleId2Role[+charactor.roleId],\"value\":charactor.roleId}})}),1)],1):((member.roleId == '6' || member.roleId == '7') && (_vm.spaceRoleId == '5' || _vm.spaceRoleId == '4'))?_c('span',[_c('el-select',{attrs:{\"size\":\"small\"},on:{\"change\":function($event){return _vm.$act(_vm.changeUserPrivilege, [_vm.groupAppId, member.roleId, member.userId])}},model:{value:(member.roleId),callback:function ($$v) {_vm.$set(member, \"roleId\", $$v)},expression:\"member.roleId\"}},_vm._l((_vm.adminRole),function(charactor){return _c('el-option',{key:charactor.roleId,attrs:{\"label\":_vm.roleId2Role[+charactor.roleId],\"value\":charactor.roleId}})}),1)],1):_c('span',{staticClass:\"text-width width-20\"},[_vm._v(\" \"+_vm._s(_vm.roleId2Role[+member.roleId])+\" \")])]}}])},[_c('template',{slot:\"header\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"workspace.permission\"))+\" \"),_c('a',{staticClass:\"iconfont icon-help\",attrs:{\"href\":\"javascript:\"},on:{\"click\":_vm.showPermissionDetail}})])],2),(_vm.roleColumnVisible)?_c('el-table-column',{attrs:{\"width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var member = ref.row;\nreturn [(\n            (member.roleId == '5' && _vm.spaceRoleId == '4') ||\n            ((member.roleId == '6' || member.roleId == '7' || member.roleId == '8') &&\n              (_vm.spaceRoleId == '5' || _vm.spaceRoleId == '4')) ||\n            (member.roleId == '7' && _vm.spaceRoleId == '6')\n          )?_c('i',{staticClass:\"iconfont icon-file-delete\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.$act(_vm.handleDeleteUser, [member])}}}):_vm._e()]}}],null,false,2200615100)}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-loading=\"true\" class=\"loading\" v-if=\"memberList === $loadingState\" style=\"height: 400px\"></div>\n    <el-table v-else :data=\"memberList\" class=\"custom-table\" height=\"400\" style=\"width: 100%\">\n      <el-table-column prop=\"E-mail\" :label=\"$t('workspace.email_or_id')\" :width=\"mailW\" :show-overflow-tooltip=\"true\">\n        <template slot-scope=\"{ row: member }\">\n          <BaseUser :user=\"member\" size=\"small\">\n            {{ member.account || member.mail }}\n          </BaseUser>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('workspace.username')\" prop=\"name\" :width=\"nameW\" :show-overflow-tooltip=\"true\">\n      </el-table-column>\n      <el-table-column :width=\"permissionW\" :show-overflow-tooltip=\"true\">\n        <template slot=\"header\">\n          {{ $t(\"workspace.permission\") }}\n          <a href=\"javascript:\" class=\"iconfont icon-help\" @click=\"showPermissionDetail\" />\n        </template>\n        <template slot-scope=\"{ row: member }\">\n          <span v-if=\"member.roleId == '8'\" class=\"text-width width-20\">\n            {{ $t(\"workspace.workspace_pass\") }}\n          </span>\n          <span v-else-if=\"member.roleId != '4' && spaceRoleId == '4'\">\n            <el-select\n              v-model=\"member.roleId\"\n              size=\"small\"\n              @change=\"\n                $act(\n                  changeUserPrivilege,\n                  [groupAppId, member.roleId, member.userId],\n                  $t('workspace.priviledge_change_info')\n                )\n              \"\n            >\n              <el-option\n                v-for=\"charactor of ownerRole\"\n                :key=\"charactor.roleId\"\n                :label=\"roleId2Role[+charactor.roleId]\"\n                :value=\"charactor.roleId\"\n              ></el-option>\n            </el-select>\n          </span>\n          <span\n            v-else-if=\"(member.roleId == '6' || member.roleId == '7') && (spaceRoleId == '5' || spaceRoleId == '4')\"\n          >\n            <el-select\n              v-model=\"member.roleId\"\n              size=\"small\"\n              @change=\"$act(changeUserPrivilege, [groupAppId, member.roleId, member.userId])\"\n            >\n              <el-option\n                v-for=\"charactor of adminRole\"\n                :key=\"charactor.roleId\"\n                :label=\"roleId2Role[+charactor.roleId]\"\n                :value=\"charactor.roleId\"\n              ></el-option>\n            </el-select>\n          </span>\n          <span v-else class=\"text-width width-20\">\n            {{ roleId2Role[+member.roleId] }}\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"roleColumnVisible\" width=\"40\">\n        <template slot-scope=\"{ row: member }\">\n          <i\n            class=\"iconfont icon-file-delete\"\n            v-if=\"\n              (member.roleId == '5' && spaceRoleId == '4') ||\n              ((member.roleId == '6' || member.roleId == '7' || member.roleId == '8') &&\n                (spaceRoleId == '5' || spaceRoleId == '4')) ||\n              (member.roleId == '7' && spaceRoleId == '6')\n            \"\n            @click=\"$act(handleDeleteUser, [member])\"\n            style=\"cursor: pointer\"\n          />\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport BaseUser from '@/components/base/User';\nimport { WorkspaceMemberOrm, WorkspaceRoleOrm, WorkspaceUserRoleOrm } from '@/models';\nimport { changeMemberPrivilege, delMember } from '@/loaders/workspace-member';\nimport PermissionDetail from './PermissionDetail';\nimport {\n  userAbout,\n} from './mixin';\n\nexport default {\n  mixins: [userAbout],\n  props: {\n    groupAppId: [String, Number],\n    memberList: [Object, Array],\n    mailW: {\n      type: [String, Number],\n      default: 280,\n    },\n    nameW: {\n      type: [String, Number],\n      default: 170,\n    },\n    permissionW: {\n      type: [String, Number],\n      default: 150,\n    },\n    roleColumnVisible: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    BaseUser,\n  },\n  computed: {\n    selfRoleId() {\n      return WorkspaceUserRoleOrm.find(this.groupAppId).roleId;\n    },\n    roles() {\n      return WorkspaceRoleOrm.all();\n    },\n    ownerRole() {\n      // eslint-disable-next-line\n      const arr = this.roles.filter(item => item.roleId != 4 && item.roleId != 8);\n      return arr;\n    },\n    adminRole() {\n      // eslint-disable-next-line\n      const list = this.roles.filter(item => {\n        // eslint-disable-next-line\n        if (item.roleId == 6 || item.roleId == 7) {\n          return item;\n        }\n      });\n      return list;\n    },\n  },\n  methods: {\n    changeUserPrivilege(groupAppId, memberRoleId, memberId) {\n      // 注意顺序有变\n      changeMemberPrivilege(\n        groupAppId, memberId, memberRoleId,\n      );\n    },\n    async showPermissionDetail() {\n      await this.$Dialog.dialogify({\n        is: PermissionDetail,\n      }, {\n        props: {\n          title: i18n.t('workspace.workspace_permission'),\n          width: '720px',\n        },\n      });\n    },\n    async handleDeleteUser(member) {\n      if (await this.$confirmBool('Confirm to remove this account from workspace ?', 'Info', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        closeOnClickModal: false,\n        type: 'warning',\n      })) {\n        try {\n          await delMember(this.groupAppId, member.userId);\n          this.$emit('deleteMember');\n          this.$message.success('Delete success!');\n        } catch (e) {\n          this.$errHandler(e);\n        }\n        // await this.getMembers();\n      }\n    },\n    getUserTypeFromTypeId(typeId) {\n      switch (Number(typeId)) {\n        case 4:\n          return 'Owner';\n        case 5:\n          return 'Admin';\n        case 6:\n          return 'Member';\n        case 7:\n          return 'Guest';\n        case 8:\n          return 'Pass';\n        default:\n          return 'Undefined User';\n      }\n    },\n  },\n  filters: {\n    en: value => {\n      if (value) {\n        // eslint-disable-next-line\n        switch (value) {\n          case '空间创建者':\n            return 'Owner';\n          case '下载者':\n            return 'Admin';\n          case '编辑者':\n            return 'Member';\n          case '查看者':\n            return 'Guest';\n          case '参与者':\n            return 'Invited';\n        }\n      }\n      return value;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// /deep/ .custom-table.el-table .el-table__header th {\n//   padding: 8px 0;\n// }\n// /deep/ .custom-table.el-table .el-table__header {\n//   border-radius: 8px;\n// }\n\n.icon-help {\n  color: #aaa;\n}\n.icon-file-delete {\n  color: #848b97;\n}\n.custom-table.el-table .el-table__header {\n  border-radius: 8px !important;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableList.vue?vue&type=template&id=4c0d1e72&scoped=true&\"\nimport script from \"./TableList.vue?vue&type=script&lang=js&\"\nexport * from \"./TableList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableList.vue?vue&type=style&index=0&id=4c0d1e72&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c0d1e72\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkspaceManagerTopBar.vue?vue&type=style&index=0&id=343dc2ce&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"workspace-pass-wrapper\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"right\",\"label-width\":!_vm.multiple ? '200px' : '130px'}},[(!_vm.multiple)?_c('el-form-item',{class:{'margin-bottom': _vm.mode !== 'create'},attrs:{\"prop\":\"account\",\"label\":_vm.$t('profile.account.workspace_pass_id') + ':'}},[_c('el-input',{model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.account\"}})],1):_vm._e(),(!_vm.multiple)?_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.temporary_password') + ':',\"prop\":\"pass\"}},[_c('el-input',{ref:\"pass\",attrs:{\"type\":\"password\",\"show-password\":\"\",\"placeholder\":_vm.$t('profile.account.password')},model:{value:(_vm.form.pass),callback:function ($$v) {_vm.$set(_vm.form, \"pass\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.pass\"}})],1):_vm._e(),(!_vm.multiple)?_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.recipient_email') + ':',\"prop\":\"mail\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('profile.account.email')},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.form.mail),callback:function ($$v) {_vm.$set(_vm.form, \"mail\", $$v)},expression:\"form.mail\"}})],1):_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.recipient_email') + ':'}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"5\",\"placeholder\":_vm.multipleInvitationPlaceholder},on:{\"focus\":function($event){_vm.showRemarks=true}},model:{value:(_vm.form.mails),callback:function ($$v) {_vm.$set(_vm.form, \"mails\", $$v)},expression:\"form.mails\"}})],1),(_vm.mode !== 'create' && _vm.showRemarks)?_c('el-form-item',{attrs:{\"label\":_vm.$t('profile.account.remarks') + ':'}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.$t('profile.account.remarks_tip')},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}})],1):_vm._e(),(!_vm.multiple)?_c('el-form-item',{attrs:{\"prop\":\"companyName\",\"label\":_vm.$t('profile.account.company') + ':'}},[_c('el-input',{model:{value:(_vm.form.companyName),callback:function ($$v) {_vm.$set(_vm.form, \"companyName\", $$v)},expression:\"form.companyName\"}})],1):_vm._e(),_c('el-divider'),_c('el-radio-group',{model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\" \"+_vm._s(_vm.$t('profile.account.same_as_subs_plan')))]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(_vm._s(_vm.$t('profile.account.cus_acct_exp_date')))]),_c('el-date-picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.radio === 2),expression:\"radio === 2\"}],attrs:{\"default-time\":['00:00:00', '23:59:59'],\"picker-options\":_vm.PickerOptions,\"type\":\"daterange\",\"format\":\"MM/dd/yyyy\",\"start-placeholder\":_vm.$t('profile.account.start_date'),\"end-placeholder\":_vm.$t('profile.account.end_date')},on:{\"change\":_vm.changeTime},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),(_vm.mode === 'create')?_c('i',{staticClass:\"iconfont icon-circle-help\",on:{\"mouseenter\":function($event){_vm.tipVisible = true},\"mouseleave\":function($event){_vm.tipVisible = false}}}):_vm._e(),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tipVisible),expression:\"tipVisible\"}],staticClass:\"tip-time\"},[_vm._v(_vm._s(_vm.$t('profile.account.email_no_notification_tip')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-form\n    class=\"workspace-pass-wrapper\"\n    :model=\"form\"\n    :rules=\"rules\"\n    label-position=\"right\"\n    :label-width=\"!multiple ? '200px' : '130px'\"\n    ref=\"form\">\n    <el-form-item\n      v-if=\"!multiple\"\n      prop=\"account\"\n      :label=\"$t('profile.account.workspace_pass_id') + ':'\"\n      :class=\"{'margin-bottom': mode !== 'create'}\">\n      <el-input v-model.trim=\"form.account\" />\n    </el-form-item>\n\n    <el-form-item v-if=\"!multiple\"\n      :label=\"$t('profile.account.temporary_password') + ':'\" prop=\"pass\">\n      <el-input\n        v-model.trim=\"form.pass\"\n        type=\"password\"\n        show-password\n        :placeholder=\"$t('profile.account.password')\"\n        ref=\"pass\" />\n    </el-form-item>\n\n    <el-form-item\n      :label=\"$t('profile.account.recipient_email') + ':'\" prop=\"mail\" v-if=\"!multiple\">\n      <el-input v-model=\"form.mail\"\n        :placeholder=\"$t('profile.account.email')\" @focus=\"showRemarks=true\" />\n    </el-form-item>\n    <el-form-item :label=\"$t('profile.account.recipient_email') + ':'\" v-else>\n      <el-input type=\"textarea\" v-model=\"form.mails\" rows=\"5\"\n        :placeholder=\"multipleInvitationPlaceholder\" @focus=\"showRemarks=true\"></el-input>\n    </el-form-item>\n\n    <el-form-item\n      :label=\"$t('profile.account.remarks') + ':'\" v-if=\"mode !== 'create' && showRemarks\">\n      <el-input v-model=\"form.remarks\" type=\"textarea\"\n        :placeholder=\"$t('profile.account.remarks_tip')\"/>\n    </el-form-item>\n\n    <el-form-item v-if=\"!multiple\" prop=\"companyName\" :label=\"$t('profile.account.company') + ':'\">\n      <el-input v-model=\"form.companyName\"></el-input>\n    </el-form-item>\n\n    <!-- <el-form-item label=\"\" v-if=\"mode !== 'create'\">\n      <el-checkbox style=\"font-size: 12px;\"\n        v-model=\"isSendImg\"\n        class=\"word-break-normal flex\">Include relevant Workspace image when initial Workspace\n        Pass e-mail invitation is sent.</el-checkbox>\n    </el-form-item> -->\n\n    <el-divider />\n\n    <el-radio-group v-model=\"radio\">\n      <el-radio :label=\"1\">\n        {{ $t('profile.account.same_as_subs_plan') }}</el-radio>\n      <el-radio :label=\"2\">{{ $t('profile.account.cus_acct_exp_date') }}</el-radio>\n      <el-date-picker\n        v-show=\"radio === 2\"\n        v-model=\"dateRange\"\n        :default-time=\"['00:00:00', '23:59:59']\"\n        :picker-options=\"PickerOptions\"\n        type=\"daterange\"\n        format=\"MM/dd/yyyy\"\n        :start-placeholder=\"$t('profile.account.start_date')\"\n        :end-placeholder=\"$t('profile.account.end_date')\"\n        @change=\"changeTime\" />\n    </el-radio-group>\n\n    <i\n      v-if=\"mode === 'create'\"\n      class=\"iconfont icon-circle-help\"\n      @mouseenter=\"tipVisible = true\"\n      @mouseleave=\"tipVisible = false\" />\n\n    <!-- eslint-disable-next-line -->\n    <p v-show=\"tipVisible\" class=\"tip-time\">{{ $t('profile.account.email_no_notification_tip') }}</p>\n  </el-form>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { randomString } from '_/random-string';\nimport { startOfDate } from '_/date';\nimport tokenizeEmails from '@/utils/tokenizeEmails';\nimport validator, { validateFormFields } from '@/utils/validators/rules-validation';\nimport validPassword from '@/utils/validators/valid-password';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\nimport { mixinValidateForm } from '../../../../mixins/form-validation';\nimport { getContextUser } from '../../../../loaders/context';\n\n\nexport default {\n  props: {\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    mode: {\n      type: String,\n      default: 'create',\n    },\n  },\n  mixins: [mixinValidateForm],\n  data() {\n    this.tokenizeEmails = tokenizeEmails;\n    const accountValidator = (rule, value, callback) => {\n      const reg = /^[a-zA-Z_0-9]+$/g;\n      if (reg.test(value)) {\n        const hasNum = /\\d/.test(value);\n        const hasLetter = /[a-zA-Z]/.test(value);\n        const hasUnderLine = /[_]/.test(value);\n        const score = [hasNum, hasLetter, hasUnderLine].reduce(((total, v) => total + (v ? 1 : 0)), 0);\n        if (score >= 2) {\n          callback();\n        } else {\n          callback(new Error(i18n.t('profile.account.account_validator_tip')));\n        }\n      } else {\n        callback(new Error(i18n.t('profile.account.account_validator_tip')));\n      }\n    };\n\n    this.multipleInvitationPlaceholder = i18n.t('profile.account.multiple_invitation_placeholder');\n    return {\n      now: new Date(),\n      tipVisible: false,\n      dateRange: '',\n      PickerOptions: {\n        disabledDate: this._disabledRangeDate,\n      },\n      radio: 1,\n      form: {\n        account: randomString(6),\n        pass: 'Hello123~',\n        mail: '',\n        mails: '',\n        remarks: '',\n        startTime: '',\n        endTime: '',\n        companyName: '',\n      },\n      isSendImg: false,\n      rules: {\n        account: [\n          validator.requirement(),\n          ...validator.charLengthRange(6, 25),\n          { validator: accountValidator },\n        ],\n        pass: [\n          validator.requirement(),\n          // ...validator.charLengthRange(6, 20),\n          // validator.charTypeNotOnlyDigitOrLatin(),\n          validator2ElemRule(validPassword),\n        ],\n        mail: validator.email(),\n        companyName: [\n          validator.spaceTrim(),\n          ...validator.charLengthRange(1, 64),\n        ],\n      },\n      hasFormError: true,\n      showRemarks: false,\n    };\n  },\n  mounted() {\n    // 把密码类型的input默认设置为明文\n    this.$refs.pass.handlePasswordVisible();\n    this.$refs.pass.blur();\n  },\n  created() {\n    // 类似于computed：里加一个hasFormError属性\n    this.$watch(async () => {\n      if (!this.$refs.form || this.mode === 'create') return true;\n      try {\n        await validateFormFields(this.$refs.form);\n      } catch (err) {\n        console.warn(err);\n        return true;\n      }\n      const errorLen = this.$refs.form.fields\n        .filter(field => field.validateState !== 'success').length;\n      // debugger;\n      return !!errorLen;\n    }, async (_p) => {\n      this.hasFormError = await _p;\n    }, {\n      immediate: true,\n    });\n  },\n  computed: {\n    daysRemaining() {\n      return getContextUser().daysRemaining;\n    },\n    multipleEmailsValid() {\n      try {\n        const emails = tokenizeEmails(this.form.mails);\n        if (!emails) return false;\n        return true;\n      } catch (e) {\n        return false;\n      }\n    },\n    dateValid() {\n      return this.radio === 1 || (this.radio === 2 && this.form.startTime && this.form.endTime);\n    },\n    formAndDateValid() {\n      return !this.hasFormError && this.dateValid;\n    },\n    multipleFormAndDateValid() {\n      return this.multipleEmailsValid && this.dateValid;\n    },\n  },\n  methods: {\n    // 对 datapicker 返回类型处理为时间戳\n    changeTime([startTime, endTime]) {\n      this.form.startTime = startTime.getTime();\n      this.form.endTime = endTime.getTime();\n    },\n    // 初始化表单的内容\n    initForm() {\n      this.$refs.form.resetFields();\n      this.dateRange = '';\n    },\n    // 控制日期选中组件中，不可选择日期的范围\n    _disabledRangeDate(time) {\n      const todaytoday = +startOfDate(new Date());\n      const end = todaytoday + (this.daysRemaining + 1) * 24 * 3600 * 1000 - 1;\n      return time < todaytoday || time > end;\n    },\n  },\n  watch: {\n    multiple(newv) {\n      this.showRemarks = false;\n      if (newv) {\n        this.$closest('InvitationWrapper').okAvailable = this.multipleFormAndDateValid;\n      } else {\n        this.$closest('InvitationWrapper').okAvailable = this.formAndDateValid;\n      }\n    },\n    multipleFormAndDateValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n    formAndDateValid(newv) {\n      this.$closest('InvitationWrapper').okAvailable = newv;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-form {\n  position: relative;\n  padding-right: 26px;\n  margin-bottom: 30px;\n\n  .el-form-item {\n    margin-bottom: 28px;\n  }\n\n  > .icon-circle-help {\n    position: absolute;\n    right: 30px;\n    top: 145px;\n    z-index: 2;\n    padding: 5px;\n    font-size: 17px;\n    color: $color-primary;\n    cursor: pointer;\n  }\n\n  .tip-time {\n    position: absolute;\n    right: 26px;\n    top: 175px;\n    z-index: 2;\n    width: 296px;\n    padding: 15px 18px;\n    font-size: 12px;\n    line-height: 1.4;\n    word-break: break-word;\n    color: #7f7f7f;\n    background: rgba(255, 255, 255, 1);\n    border-radius: 4px;\n    box-shadow: 0px 2px 8px 0px rgba(95, 95, 95, 0.3);\n  }\n}\n\n.el-radio-group {\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n\n  .el-radio {\n    margin-top: 20px;\n    &:first-child {\n      margin-bottom: 10px;\n    }\n  }\n}\n.workspace-pass-wrapper {\n  /deep/ ::-webkit-input-placeholder {\n    white-space: normal;\n    word-break: normal;\n  }\n  /deep/ ::-moz-placeholder {\n    white-space: normal;\n    word-break: normal;\n  }\n  /deep/ :-ms-input-placeholder {\n    white-space: normal;\n    word-break: normal;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormShareableLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormShareableLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormShareableLink.vue?vue&type=template&id=15bd3d0b&scoped=true&\"\nimport script from \"./FormShareableLink.vue?vue&type=script&lang=js&\"\nexport * from \"./FormShareableLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormShareableLink.vue?vue&type=style&index=0&id=15bd3d0b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15bd3d0b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleWorkspaceManager.vue?vue&type=style&index=0&id=29b9d591&lang=scss&scoped=true&\""],"sourceRoot":""}