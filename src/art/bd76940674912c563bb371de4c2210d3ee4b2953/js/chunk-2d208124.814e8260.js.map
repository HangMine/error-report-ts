{"version":3,"sources":["webpack:///./src/views/supplier-backend/components/HTable/uses/useEditModal.ts"],"names":["useEditModal","operate","that","state","isEdit","editShow","editParams","editFormValues","editTitle","add","submitUrl","undefined","$emit","edit","row","index","del","getOperateTitle","type","titleMap","opeateOption","title"],"mappings":"mJAKMA,EAAe,SAACC,GACpB,IAAMC,EAAO,kCACPC,EAAQ,sBAAS,CACrBC,QAAQ,EACRC,UAAU,EACVC,WAAY,GACZC,eAAgB,KAEZC,EAAY,uBAAS,kBAAOL,EAAMC,OAAS,KAAO,QAGlDK,EAAM,WAAK,MACf,OAAIR,QAAJ,IAAIA,GAAJ,UAAIA,EAASQ,WAAb,OAAI,EAAcC,WAChBP,EAAMC,QAAS,EACfD,EAAME,UAAW,EACjBF,EAAMI,oBAAiBI,GAGvBT,EAAKU,MAAM,MAAOV,IAKhBW,EAAO,SAACC,EAASC,GAAgB,MACrC,OAAId,QAAJ,IAAIA,GAAJ,UAAIA,EAASY,YAAb,OAAI,EAAeH,WACjBP,EAAMI,eAAiBO,EACvBX,EAAMC,QAAS,EACfD,EAAME,UAAW,GAGjBH,EAAKU,MAAM,OAAQE,EAAKC,IAKtBC,EAAM,SAACF,EAASC,GACpBb,EAAKU,MAAM,MAAOE,EAAKC,IAGnBE,EAAkB,SAACC,GACvB,IAAMC,EAAW,CACfV,IAAK,KACLI,KAAM,KACNG,IAAK,MAEDI,EAAgBnB,GAAWA,EAAQiB,IAAU,GACnD,OAAOE,EAAaC,OAASF,EAASD,IAAS,IAGjD,wCACK,oBAAOf,IADZ,IAEEK,YACAC,MACAI,OACAG,MACAC,qBAIW","file":"js/chunk-2d208124.814e8260.js","sourcesContent":["import {\n  reactive, computed, toRefs, getCurrentInstance,\n} from '@vue/composition-api';\nimport { Obj } from '../type';\n\nconst useEditModal = (operate?:Obj) => {\n  const that = getCurrentInstance()!;\n  const state = reactive({\n    isEdit: false,\n    editShow: false,\n    editParams: {},\n    editFormValues: {} as Obj | undefined,\n  });\n  const editTitle = computed(() => (state.isEdit ? '编辑' : '新增'));\n\n  // 新增\n  const add = () => {\n    if (operate?.add?.submitUrl) {\n      state.isEdit = false;\n      state.editShow = true;\n      state.editFormValues = undefined;\n    } else {\n      // 自定义\n      that.$emit('add', that);\n    }\n  };\n\n  // 编辑\n  const edit = (row:Obj, index:number) => {\n    if (operate?.edit?.submitUrl) {\n      state.editFormValues = row;\n      state.isEdit = true;\n      state.editShow = true;\n    } else {\n      // 自定义\n      that.$emit('edit', row, index);\n    }\n  };\n\n  // 抛出删除事件\n  const del = (row:Obj, index:number) => {\n    that.$emit('del', row, index);\n  };\n\n  const getOperateTitle = (type:'add'|'edit'|'del') => {\n    const titleMap = {\n      add: '新增',\n      edit: '编辑',\n      del: '删除',\n    };\n    const opeateOption = (operate && operate[type]) || {};\n    return opeateOption.title || titleMap[type] || '';\n  };\n\n  return {\n    ...toRefs(state),\n    editTitle,\n    add,\n    edit,\n    del,\n    getOperateTitle,\n  };\n};\n\nexport default useEditModal;\n"],"sourceRoot":""}