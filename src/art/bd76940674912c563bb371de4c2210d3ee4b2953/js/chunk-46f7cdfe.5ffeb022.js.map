{"version":3,"sources":["webpack:///./src/views/supplier-backend/preview/homepage/index.vue?7914","webpack:///./src/views/supplier-backend/preview/homepage/index.vue?6170","webpack:///./src/views/supplier-backend/preview/homepage/index.vue?f619","webpack:///./src/views/supplier-backend/preview/homepage/index.vue","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicCarousel.vue?ae14","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicCarousel.vue?8f39","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicCarousel.vue?04b2","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicCarousel.vue","webpack:///./src/views/supplier-backend/preview/homepage/modules/Banner.vue?09d7","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicSeries.vue?85a1","webpack:///./src/views/supplier-backend/preview/homepage/HomePageEdit.vue?8467","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicCarousel.vue?b561","webpack:///./src/views/supplier-backend/preview/homepage/HomePageEdit.vue?7d2a","webpack:///./src/views/supplier-backend/preview/homepage/HomePageEdit.vue?03f9","webpack:///./src/views/supplier-backend/preview/homepage/HomePageEdit.vue?73a7","webpack:///./src/views/supplier-backend/preview/homepage/HomePageEdit.vue","webpack:///./src/views/material-mall/components/DisplayModeSwitcher.vue?0c7a","webpack:///./src/views/material-mall/components/DisplayModeSwitcher.vue?9313","webpack:///./src/views/material-mall/components/DisplayModeSwitcher.vue?c0d3","webpack:///./src/views/material-mall/components/DisplayModeSwitcher.vue?c03e","webpack:///./src/views/material-mall/components/DisplayModeSwitcher.vue","webpack:///./src/views/supplier-backend/preview/homepage/modules/Page.vue?d9bc","webpack:///./src/views/supplier-backend/preview/homepage/modules/Page.vue?740b","webpack:///./src/views/supplier-backend/preview/homepage/modules/Page.vue?6ab9","webpack:///./src/views/supplier-backend/preview/homepage/modules/Page.vue","webpack:///./src/assets/img/material-mart/template_banner.png","webpack:///./src/views/supplier-backend/preview/homepage/HomePageDefault.vue?9060","webpack:///./src/views/supplier-backend/preview/homepage/HomePageDefault.vue?54f9","webpack:///./src/views/supplier-backend/preview/homepage/HomePageDefault.vue?88a2","webpack:///./src/views/supplier-backend/preview/homepage/HomePageDefault.vue?0b33","webpack:///./src/views/supplier-backend/preview/homepage/HomePageDefault.vue","webpack:///./src/utils/composables/use-callback-when-last-element-shown.ts","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-closest.js","webpack:///./src/views/supplier-backend/preview/homepage/modules/Page.vue?cf2f","webpack:///./src/views/supplier-backend/preview/homepage/modules/Banner.vue?59f5","webpack:///./src/views/supplier-backend/preview/homepage/modules/Banner.vue?0dfd","webpack:///./src/views/supplier-backend/preview/homepage/modules/Banner.vue?bae7","webpack:///./src/views/supplier-backend/preview/homepage/modules/Banner.vue","webpack:///./src/views/supplier-backend/preview/homepage/HomePageView.vue?7f77","webpack:///./src/views/supplier-backend/preview/homepage/HomePageView.vue?87b5","webpack:///./src/views/supplier-backend/preview/homepage/HomePageView.vue?26be","webpack:///./src/views/supplier-backend/preview/homepage/HomePageView.vue","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicSeries.vue?ce9a","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicSeries.vue?bce2","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicSeries.vue?16c9","webpack:///./src/views/supplier-backend/preview/homepage/modules/PicSeries.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","config","mode","attrs","companyId","staticRenderFns","getMallTemplateConfig","axios","get","params","id","type","result","data","HomePage","components","HomePageDefault","HomePageView","HomePageEdit","props","String","required","setup","emit","root","loading","$nextTick","init","component","staticClass","autoplay","_l","comp","index","key","_b","tag","editable","on","isEdit","event","onChange","PicCarousel","Picture","Boolean","default","children","Array","path","unshift","pageConfig","Page","defaultCfg","version","image","undefined","link","res","resData","JSON","parse","initialValue","setObjByPath","obj","length","set","shift","homePageJson","stringify","class","v","$emit","ViewTool","model","prop","Banner","PicSeries","module","exports","company","logo","_v","_s","handleClick","callback","$$v","activeName","$t","$set","goods","displayMode","_e","e","MaterialItem","previewList","staticStyle","CompanyInfo","DisplayModeSwitcher","materialItem","Function","Object","preview","$props","supplierPage","backgroundClass","keyword","orderBy","asc","supplierArticleName","size","val","totalPage","currentPage","method","url","fetchGoodsList","page","useFilters","orders","searchs","filters","args","pages","records","loadMore","targetPage","isArray","push","list","map","imgJson","thumbnail","$ImageViewer","show","targetElems","isQt","callbackWhenLastElementShown","targetSelectorOrSelector","io","watcher","currentVm","nL","targets","$el","querySelectorAll","target","IntersectionObserver","entries","obs","forEach","entry","intersectionRatio","unobserve","rootMargin","threshold","observe","immediate","terminate","disconnect","callbackWhenLastElementShownNotCompositionVersion","listName","$watch","childElementCount","beforeDestroy","$options","call","defineProperty","useClosest","_compositionApi","_vueClosest","componentName","that","getCurrentInstance","computed","closest","_default","showUpload","query","assign","$route","pageName","i18n","language","$injectDialog","is","UploadHomePageImg","maxSize","sizeTips","t","field","$i18n","i18next"],"mappings":"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","file":"js/chunk-46f7cdfe.5ffeb022.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.config.mode !== 'customer')?_c('HomePageDefault',{attrs:{\"companyId\":_vm.companyId}}):(_vm.mode === 'view')?_c('HomePageView',{attrs:{\"companyId\":_vm.companyId}}):_c('HomePageEdit',{attrs:{\"companyId\":_vm.companyId}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, Ref, reactive,\n} from '@vue/composition-api';\nimport axios from '@/api/axios';\nimport HomePageDefault from './HomePageDefault.vue';\nimport HomePageView from './HomePageView.vue';\nimport HomePageEdit from './HomePageEdit.vue';\n\nconst getMallTemplateConfig = async (companyId) => {\n  const result = (await axios.get('/msgcenter/config', {\n    params: {\n      id: companyId,\n      type: 6,\n    },\n  })).data;\n  // console.log('get config=======', result);\n  return result || {};\n};\n\nconst HomePage = defineComponent({\n  name: 'HomePage',\n  components: {\n    HomePageDefault,\n    HomePageView,\n    HomePageEdit,\n  },\n  props: {\n    companyId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props, { emit, root }) {\n    const mode = ref('edit');\n    const loading = ref(true);\n    // 获取商家主页配置，为默认主页，则直接展示默认的商家主页，否则展示自定义的主页\n    const config = ref({});\n    (async function init() {\n      config.value = await getMallTemplateConfig(props.companyId);\n      root.$nextTick(() => {\n        loading.value = false;\n      });\n    }());\n\n    return {\n      mode,\n      config,\n      loading,\n    };\n  },\n});\nexport default HomePage;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2136c816&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2136c816\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homepage-pic-carousel\"},[_c('el-carousel',{attrs:{\"autoplay\":_vm.autoplay}},_vm._l((_vm.children),function(comp,index){return _c('el-carousel-item',{key:index,staticClass:\"pic-item-wrap\"},[_c(comp.type,_vm._b({tag:\"component\",staticClass:\"pic-item\",attrs:{\"editable\":_vm.editable},on:{\"edit\":function (isEdit) { _vm.autoplay = !isEdit },\"change\":function (event) { _vm.onChange(index, event) }}},'component',comp,false))],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\nimport Picture from './Picture.vue';\n\nconst PicCarousel = defineComponent({\n  name: 'PicCarousel',\n  components: { Picture },\n  props: {\n    editable: {\n      type: Boolean,\n      default: false,\n    },\n\n    children: {\n      type: Array,\n      // default: () => [],\n    },\n  },\n  setup(props, { emit }) {\n    const autoplay = ref(true);\n    function onChange(index: number, event: any) {\n      event.path.unshift(index);\n      event.path.unshift('children');\n      emit('change', event);\n    }\n\n    return {\n      onChange,\n      autoplay,\n    };\n  },\n});\nexport default PicCarousel;\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PicCarousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PicCarousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PicCarousel.vue?vue&type=template&id=27471c69&scoped=true&\"\nimport script from \"./PicCarousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./PicCarousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PicCarousel.vue?vue&type=style&index=0&id=27471c69&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27471c69\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Banner.vue?vue&type=style&index=0&id=3d1be2d5&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PicSeries.vue?vue&type=style&index=0&id=7da1d068&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageEdit.vue?vue&type=style&index=0&id=fb58f402&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PicCarousel.vue?vue&type=style&index=0&id=27471c69&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homepage-edit\"},[_c('Page',_vm._b({attrs:{\"editable\":true},on:{\"change\":_vm.onChange}},'Page',_vm.pageConfig,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\nimport Vue from 'vue';\nimport {\n  defineComponent, ref, Ref, reactive,\n} from '@vue/composition-api';\nimport { getCompanyHome, updateCompanyHome } from '@/api/company';\nimport useLoader from '_/composables/use-loader';\nimport Page from './modules/Page.vue';\n\nconst HomePageEdit = defineComponent({\n  name: 'HomePageEdit',\n  components: {\n    Page,\n  },\n  props: {\n    companyId: {\n      type: String,\n      default: '',\n    },\n  },\n  setup(props, { emit }) {\n    const pageConfig = useLoader(async () => {\n      const defaultCfg = {\n        type: 'Page',\n        version: '1.0.1',\n        children: [\n          {\n            type: 'Banner',\n            image: undefined,\n            link: {\n              type: 0,\n            },\n          },\n          {\n            type: 'PicSeries',\n            children: [\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 1,\n                },\n              },\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 2,\n                },\n              },\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 3,\n                },\n              },\n            ],\n          },\n          {\n            type: 'PicCarousel',\n            children: [\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 4,\n                },\n              },\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 5,\n                },\n              },\n            ],\n          },\n        ],\n      };\n      const res = (await getCompanyHome(props.companyId)).data;\n      if (res) {\n        const resData = JSON.parse(res);\n        if (resData && resData.version !== '1.0.1') {\n          return defaultCfg;\n        }\n        return resData;\n      }\n      return defaultCfg;\n    }, {}, {\n      initialValue: null,\n    });\n    // const pageConfig = reactive({\n    //   type: 'Page',\n    //   children: [\n    //     {\n    //       type: 'Banner',\n    //       link: {\n    //         type: 0,\n    //       },\n    //     },\n    //   ],\n    // });\n    function setObjByPath(obj: any, path: Array<string>, value: any) {\n      if (path.length === 1) {\n        // obj[path[0]] = value;\n        Vue.set(obj, path[0], value);\n      } else {\n        const key = path.shift();\n        if (key !== undefined) {\n          setObjByPath(obj[key], path, value);\n        }\n      }\n    }\n    async function onChange(event: any) {\n      // console.log('on change=======', event.path, pageConfig);\n      setObjByPath(pageConfig.value, event.path, event.value);\n      await updateCompanyHome({\n        id: props.companyId,\n        homePageJson: JSON.stringify(pageConfig.value),\n      });\n    }\n    return {\n      pageConfig,\n      onChange,\n    };\n  },\n});\nexport default HomePageEdit;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HomePageEdit.vue?vue&type=template&id=fb58f402&scoped=true&\"\nimport script from \"./HomePageEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./HomePageEdit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HomePageEdit.vue?vue&type=style&index=0&id=fb58f402&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb58f402\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayModeSwitcher.vue?vue&type=style&index=0&id=e0fef154&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"display-mode-switcher flex\"},[_c('div',{class:[_vm.value === 'drape' ? 'select': 'default', 'flex-center'],on:{\"click\":function (v) { return _vm.$emit('input','drape'); }}},[_c('i',{staticClass:\"iconfont icon-drape\"})]),_c('div',{class:[_vm.value === 'drape' ? 'default': 'select', 'flex-center'],on:{\"click\":function (v) { return _vm.$emit('input','flat'); }}},[_c('i',{staticClass:\"iconfont icon-flat\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\n\nconst ViewTool = defineComponent({\n  model: {\n    event: 'input',\n    prop: 'value',\n  },\n  props: {\n    value: {\n      type: String,\n      default: 'drape',\n    },\n  },\n});\n// type ViewTool = InstanceType<typeof ViewTool>;\nexport default ViewTool;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DisplayModeSwitcher.vue?vue&type=template&id=e0fef154&scoped=true&\"\nimport script from \"./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"\nexport * from \"./DisplayModeSwitcher.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DisplayModeSwitcher.vue?vue&type=style&index=0&id=e0fef154&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0fef154\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homepage\"},_vm._l((_vm.children),function(comp,index){return _c(comp.type,_vm._b({key:index,tag:\"component\",attrs:{\"editable\":_vm.editable},on:{\"change\":function (event) { _vm.onChange(index, event) }}},'component',comp,false))}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\nimport Banner from './Banner.vue';\nimport PicSeries from './PicSeries.vue';\nimport PicCarousel from './PicCarousel.vue';\n\nconst Page = defineComponent({\n  name: 'Page',\n  components: {\n    Banner,\n    PicSeries,\n    PicCarousel,\n  },\n  props: {\n    editable: {\n      type: Boolean,\n      default: false,\n    },\n\n    children: {\n      type: Array,\n      // default: () => [],\n    },\n  },\n  setup(props, { emit }) {\n    function onChange(index: number, event: any) {\n      event.path.unshift(index);\n      event.path.unshift('children');\n      emit('change', event);\n    }\n\n    return {\n      onChange,\n    };\n  },\n});\nexport default Page;\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=497516ec&scoped=true&\"\nimport script from \"./Page.vue?vue&type=script&lang=ts&\"\nexport * from \"./Page.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=497516ec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"497516ec\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/template_banner.329bd032.png\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageDefault.vue?vue&type=style&index=0&id=70dd1a74&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homepage-default\"},[_c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"banner\",attrs:{\"src\":require('@/assets/img/material-mart/template_banner.png'),\"alt\":\"横幅\"}}),_c('h1',[_c('div',{staticClass:\"logo flex-center\"},[_c('img',{staticClass:\"logo-img\",attrs:{\"src\":_vm.company && _vm.company.logo,\"alt\":\"logo\"}})]),_vm._v(\" \"+_vm._s(_vm.company && _vm.company.name)+\" \")]),_c('div',{staticClass:\"tab-bar flex-space-between\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.page_name.new'),\"name\":\"new\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.page_name.most_viewed'),\"name\":\"mostViewed\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.page_name.staff_picks'),\"name\":\"staffPicks\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.page_name.core_collection'),\"name\":\"coreCollection\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.page_name.in_season'),\"name\":\"inSeason\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('material-mall.page_name.all'),\"name\":\"all\"}}),_c('el-tab-pane',{attrs:{\"label\":_vm.$t('supplier-backend.supplier_brief'),\"name\":\"supplierBrief\"}})],1),_c('el-input',{staticClass:\"search-box\",attrs:{\"size\":\"small\",\"prefix-icon\":\"el-icon-search\",\"placeholder\":_vm.$t('supplier-backend.preview.search')},model:{value:(_vm.params.keyword),callback:function ($$v) {_vm.$set(_vm.params, \"keyword\", $$v)},expression:\"params.keyword\"}})],1)]),(_vm.activeName !== 'supplierBrief')?_c('div',{staticClass:\"material-list\"},[(_vm.goods)?_c('div',{staticClass:\"material-list-head flex-space-between\"},[_c('p',{staticClass:\"material-list-count\"},[_vm._v(_vm._s(_vm.$t('material-mall.totally_search_results', [_vm.goods.length])))]),_c('DisplayModeSwitcher',{model:{value:(_vm.displayMode),callback:function ($$v) {_vm.displayMode=$$v},expression:\"displayMode\"}})],1):_vm._e(),(_vm.goods && _vm.goods.length > 0)?[_c('div',{staticClass:\"flex flex-wrap\"},_vm._l((_vm.goods),function(e,index){return _c(_vm.MaterialItem,{key:e.id,tag:\"component\",staticClass:\"material-good-item\",attrs:{\"materialInfo\":e,\"displayMode\":_vm.displayMode},on:{\"preview\":function () { return _vm.previewList(index); }}})}),1)]:_c('div',{staticClass:\"flex-center\",staticStyle:{\"height\":\"300px\"}},[_vm._v(_vm._s(_vm.$t('supplier-backend.preview.no_product')))])],2):_c('CompanyInfo',{attrs:{\"companyId\":_vm.companyId}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {\n  defineComponent, ref, Ref, reactive, computed, watch,\n} from '@vue/composition-api';\nimport axios from '@/api/axios';\nimport useLoader from '_/composables/use-loader';\nimport useClosest from '_/composables/use-closest';\nimport { callbackWhenLastElementShown } from '@/utils/composables/use-callback-when-last-element-shown';\n// import { getCurrentCompany } from '@/loaders/company';\nimport CompanyInfo from '@/views/supplier-backend/company-info/index.vue';\nimport SupplierPage from '@/views/supplier-page/index.vue';\nimport DisplayModeSwitcher from '@/views/material-mall/components/DisplayModeSwitcher.vue';\nimport isQt from '@/utils/is-qt';\nimport Preview from '../index.vue';\n\nconst HomePageDefault = defineComponent({\n  name: 'HomePageDefault',\n  components: {\n    CompanyInfo,\n    DisplayModeSwitcher,\n  },\n  props: {\n    companyId: {\n      type: String,\n      default: '',\n    },\n    materialItem: {\n      type: [Function, Object],\n    },\n  },\n  setup(props, { root }) {\n    const preview = useClosest<typeof Preview>('Preview')?.value;\n    const MaterialItem = props.materialItem ? props.materialItem : preview?.$props.materialItem;\n    const supplierPage = useClosest<typeof SupplierPage>('SupplierPage')?.value;\n    supplierPage && (supplierPage.backgroundClass = '');\n    const displayMode = ref('drape');\n\n    const activeName = ref('new');\n    const params = reactive({\n      companyId: props.companyId,\n      keyword: '',\n      orderBy: 'click',\n      asc: false,\n      supplierArticleName: '',\n      size: 50,\n    });\n    function handleClick() {\n      // 默认全部面料\n      params.keyword = '';\n      params.orderBy = 'click';\n      params.asc = false;\n      params.size = 50;\n      if (activeName.value === 'new') {\n        params.keyword = '';\n        params.orderBy = 'gmtStoreTime';\n        params.asc = false;\n        params.size = 50;\n      } else if (activeName.value === 'mostViewed') {\n        params.keyword = '';\n        params.orderBy = 'click';\n        params.asc = false;\n        params.size = 50;\n      } else if (activeName.value === 'staffPicks') {\n        params.keyword = '推荐|Staff Picks';\n      } else if (activeName.value === 'coreCollection') {\n        params.keyword = '主营|Core Collection';\n      } else if (activeName.value === 'inSeason') {\n        params.keyword = '当季|In Season';\n      }\n    }\n    watch(() => params.keyword, (val) => {\n      if (activeName.value === 'supplierBrief') {\n        activeName.value = 'all';\n      }\n    });\n    // const company = computed(() => {\n    //   return getCurrentCompany();\n    // });\n    const company = useLoader(async ({ companyId }) => {\n      const res = (await axios({\n        method: 'get',\n        url: '/authcenter/company/get/info/id',\n        params: {\n          id: companyId,\n        },\n      })).data;\n      return res;\n    }, params, {\n      initialValue: null,\n    });\n    let totalPage: number;\n    async function fetchGoodsList({\n      companyId = params.companyId,\n      keyword = params.keyword,\n      orderBy = params.orderBy,\n      asc = params.asc,\n      supplierArticleName = params.supplierArticleName,\n      page = 1,\n      size = params.size,\n    }) {\n      const useFilters = !!supplierArticleName;\n      const res = (await axios({\n        url: '/mall/supplier/materials/published',\n        method: 'post',\n        data: {\n          page,\n          size,\n          orders: [{\n            name: orderBy,\n            value: asc,\n          }],\n          searchs: keyword,\n          filters: useFilters ? [\n            {\n              name: 'companyId',\n              value: companyId,\n            },\n            {\n              name: 'supplierArticleName',\n              value: supplierArticleName,\n            },\n          ] : [{ name: 'companyId', value: companyId }],\n        },\n      })).data;\n      return res;\n    }\n    let currentPage: number;\n    const goods = useLoader(async (args) => {\n      const res = await fetchGoodsList(args);\n      currentPage = 1;\n      totalPage = res.pages;\n      return res.records;\n    }, params);\n\n\n    async function loadMore(targetPage = currentPage + 1) {\n      if (Array.isArray(goods.value) && targetPage <= totalPage) {\n        goods.value.push(...(await fetchGoodsList({\n          ...params,\n          page: targetPage,\n        })).records);\n        currentPage++;\n      }\n    }\n\n    if (!params.size) {\n      // loadMore();\n      callbackWhenLastElementShown(goods, loadMore, '.material-good-item');\n    }\n\n    // let iObserver:IntersectionObserver;\n\n    // watch(() => goods?.value, async (nL) => {\n    //   if (nL) {\n    //     if (iObserver) iObserver.disconnect();\n    //     await root.$nextTick();\n    //     const targets = document.querySelectorAll('.material-good-item');\n    //     const target = targets[targets.length - 1];\n    //     console.log(target);\n    //     iObserver = new IntersectionObserver(() => loadMore(), {\n    //       threshold: 1,\n    //     });\n    //     iObserver.observe(target);\n    //   }\n    // });\n    // async function changeOrder(order: {order: string, asc: boolean}) {\n    //   const { query } = root.$route;\n    //   root.$router.replace({\n    //     query: {\n    //       ...query,\n    //       orderBy: order.order,\n    //       asc: order.asc.toString(),\n    //     },\n    //   });\n    // }\n\n    async function previewList(index: number) {\n      const list = goods?.value.map((e: any) => e?.imgJson?.thumbnail) as String[];\n      await root.$ImageViewer.show(list, {\n        index,\n        targetElems: '.material-img',\n      });\n    }\n\n    return {\n      goods,\n\n      // changeOrder,\n      loadMore,\n      previewList,\n\n      activeName,\n      handleClick,\n      company,\n      MaterialItem,\n      params,\n      displayMode,\n      isQt,\n    };\n  },\n});\nexport default HomePageDefault;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageDefault.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageDefault.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HomePageDefault.vue?vue&type=template&id=70dd1a74&scoped=true&\"\nimport script from \"./HomePageDefault.vue?vue&type=script&lang=ts&\"\nexport * from \"./HomePageDefault.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HomePageDefault.vue?vue&type=style&index=0&id=70dd1a74&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70dd1a74\",\n  null\n  \n)\n\nexport default component.exports","import {\n  watch, Ref, getCurrentInstance, onUnmounted, onMounted,\n} from '@vue/composition-api';\nimport Vue from 'vue';\nimport 'intersection-observer';\n\nexport function callbackWhenLastElementShown(\n  list: Ref<any[]|null>, callback: ()=> any, targetSelector: string\n):void;\n\nexport function callbackWhenLastElementShown(\n  list: Ref<any[]|null>, callback: ()=> any, container: Ref<Element>\n):void;\n\nexport function callbackWhenLastElementShown(\n  list: Ref<any[]|null>, callback: ()=> any, targetSelectorOrSelector: string | Ref<Element>,\n) {\n  let io:IntersectionObserver;\n  let watcher: any;\n  const currentVm = getCurrentInstance();\n  onMounted(() => {\n    watcher = watch(() => list?.value, async (nL) => {\n      if (nL && nL.length && nL.length > 0) {\n        await currentVm?.$nextTick();\n        let target: Element;\n        if (typeof targetSelectorOrSelector === 'string') {\n          const targets = currentVm!.$el.querySelectorAll(targetSelectorOrSelector);\n          target = targets[targets.length - 1];\n        } else {\n          target = targetSelectorOrSelector.value;\n        }\n        io = new IntersectionObserver((entries, obs) => {\n          entries.forEach(entry => {\n            if (entry.intersectionRatio > 0.9 && entry.target === target) {\n              obs.unobserve(entry.target);\n              callback();\n            }\n          });\n        }, {\n          root: null,\n          rootMargin: '0px 0px 0px 0px',\n          threshold: 0.9,\n        });\n        io.observe(target);\n      }\n    }, {\n      immediate: true,\n    });\n  });\n  const terminate = () => {\n    if (watcher) {\n      watcher();\n    }\n    if (io) {\n      io.disconnect();\n    }\n  };\n  onUnmounted(terminate);\n  return terminate;\n}\n\nexport function callbackWhenLastElementShownNotCompositionVersion(\n  listName: string, callback: ()=> any, targetSelectorOrSelector: string | Element,\n) {\n  let io:IntersectionObserver;\n  // @ts-ignore\n  const currentVm = (this as InstanceType<typeof Vue>);\n  currentVm.$watch(listName, async (nL) => {\n    if (nL && nL.length > 0) {\n      await currentVm.$nextTick();\n\n      let target;\n\n      if (typeof targetSelectorOrSelector === 'string') {\n        const targets = currentVm!.$el.querySelectorAll(targetSelectorOrSelector);\n        target = targets[targets.length - 1];\n        // console.log(target);\n      } else {\n        target = targetSelectorOrSelector.children[targetSelectorOrSelector.childElementCount - 1];\n      }\n      io = new IntersectionObserver((entries, obs) => {\n        entries.forEach(entry => {\n          // console.log(entry.intersectionRatio);\n          if (entry.intersectionRatio === 1) {\n            obs.unobserve(entry.target);\n            callback();\n          }\n        });\n      }, {\n        root: null,\n        rootMargin: '0px 0px 0px 0px',\n        threshold: 1,\n      });\n      io.observe(target);\n    }\n  });\n  const { beforeDestroy } = currentVm.$options;\n  currentVm.$options.beforeDestroy = function newBeforeDestroy() {\n    // console.log('beforedestroy');\n    if (io) {\n      io.disconnect();\n    }\n    if (beforeDestroy) {\n      beforeDestroy.call(currentVm);\n    }\n  };\n}\n\nexport default callbackWhenLastElementShown;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useClosest = useClosest;\nexports.default = void 0;\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nvar _vueClosest = require(\"../plugins/vue-closest\");\n\n// import { InstanceOfVue } from '@/typings/vue-types.d';\nfunction useClosest(componentName) {\n  var that = (0, _compositionApi.getCurrentInstance)();\n  return (0, _compositionApi.computed)(function () {\n    if (!that) {\n      return undefined;\n    }\n\n    return _vueClosest.closest.call(that, componentName);\n  });\n}\n\nvar _default = useClosest;\nexports.default = _default;","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Page.vue?vue&type=style&index=0&id=497516ec&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homepage-banner\"},[(_vm.editable)?_c('div',{staticClass:\"edit-bar\"},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-edit\",\"round\":\"\"},on:{\"click\":_vm.showUpload}},[_vm._v(_vm._s(_vm.$t('public.form.edit')))])],1):_vm._e(),(_vm.link.type === 0)?_c('router-link',{attrs:{\"to\":{ path: 'materials',\n      query: Object.assign({}, _vm.$route.query, {pageName: _vm.$t('material-mall.page_name.all')}) }}},[_c('img',{staticClass:\"banner-img\",attrs:{\"src\":_vm.image,\"alt\":\"图片加载失败\"}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\nimport UploadHomePageImg from '@/views/supplier-backend/components/UploadHomePageImg.vue';\nimport { i18n } from '@/i18n';\n\ninterface Link {\n  type: 0 | 1 | 2 | 3 | 4 | 5,\n}\n\nconst Banner = defineComponent({\n  name: 'Banner',\n  components: {\n  },\n  props: {\n    editable: {\n      type: Boolean,\n      default: false,\n    },\n\n    image: {\n      type: String,\n      default: i18n.language === 'cn' ? require('@/assets/img/material-home/banner-default.png')\n        : require('@/assets/img/material-home/banner-default-en.png'),\n    },\n    link: {\n      type: Object as () => Link,\n      default: null,\n    },\n  },\n  setup(props, { emit, root: { $injectDialog } }) {\n    // setTimeout(() => {\n    //   emit('change', { path: ['image'], value: bannerDefault });\n    // }, 2000);\n    async function showUpload() {\n      const { field, value } = (await $injectDialog({\n        is: UploadHomePageImg,\n        props: {\n          url: props.image,\n          maxSize: 4 * 1024 * 1024,\n          sizeTips: i18n.t('supplier-backend.homepage.upload_img_tip', ['1740*830px', '4MB']),\n        },\n      }) as { field: string, value: string });\n      emit('change', { path: ['image'], value });\n    }\n    return {\n      // changeBanner,\n      showUpload,\n    };\n  },\n});\nexport default Banner;\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Banner.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Banner.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Banner.vue?vue&type=template&id=3d1be2d5&scoped=true&\"\nimport script from \"./Banner.vue?vue&type=script&lang=ts&\"\nexport * from \"./Banner.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Banner.vue?vue&type=style&index=0&id=3d1be2d5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d1be2d5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homepage-view\"},[_c('Page',_vm._b({},'Page',_vm.pageConfig,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\nimport {\n  defineComponent, ref, Ref, reactive,\n} from '@vue/composition-api';\nimport { getCompanyHome } from '@/api/company';\nimport useLoader from '_/composables/use-loader';\nimport Page from './modules/Page.vue';\n\nconst HomePageView = defineComponent({\n  name: 'HomePageView',\n  components: {\n    Page,\n  },\n  props: {\n    companyId: {\n      type: String,\n      default: '',\n    },\n  },\n  setup(props, { emit }) {\n    const pageConfig = useLoader(async () => {\n      const defaultCfg = {\n        type: 'Page',\n        version: '1.0.1',\n        children: [\n          {\n            type: 'Banner',\n            image: undefined,\n            link: {\n              type: 0,\n            },\n          },\n          {\n            type: 'PicSeries',\n            children: [\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 1,\n                },\n              },\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 2,\n                },\n              },\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 3,\n                },\n              },\n            ],\n          },\n          {\n            type: 'PicCarousel',\n            children: [\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 4,\n                },\n              },\n              {\n                type: 'Picture',\n                image: undefined,\n                link: {\n                  type: 5,\n                },\n              },\n            ],\n          },\n        ],\n      };\n      const res = (await getCompanyHome(props.companyId)).data;\n      if (res) {\n        const resData = JSON.parse(res);\n        if (resData && resData.version !== '1.0.1') {\n          return defaultCfg;\n        }\n        return resData;\n      }\n      return defaultCfg;\n    }, {}, {\n      initialValue: null,\n    });\n    return {\n      pageConfig,\n    };\n  },\n});\nexport default HomePageView;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomePageView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HomePageView.vue?vue&type=template&id=3da1a556&scoped=true&\"\nimport script from \"./HomePageView.vue?vue&type=script&lang=ts&\"\nexport * from \"./HomePageView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3da1a556\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"homepage-pic-series\"},[_c('div',{staticClass:\"product-title\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('material-mall.products_material')))]),(_vm.$i18n.i18next.language === 'cn')?_c('h5',[_vm._v(\"Products\")]):_vm._e(),_c('div',{staticClass:\"underline\"})]),_c('div',{staticClass:\"pic-list\"},_vm._l((_vm.children),function(comp,index){return _c('div',{key:index,staticClass:\"pic-item-wrap\"},[_c(comp.type,_vm._b({tag:\"component\",staticClass:\"pic-item\",attrs:{\"editable\":_vm.editable},on:{\"change\":function (event) { _vm.onChange(index, event) }}},'component',comp,false))],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\nimport Picture from './Picture.vue';\n\nconst PicSeries = defineComponent({\n  name: 'PicSeries',\n  components: { Picture },\n  props: {\n    editable: {\n      type: Boolean,\n      default: false,\n    },\n\n    children: {\n      type: Array,\n      // default: () => [],\n    },\n  },\n  setup(props, { emit }) {\n    function onChange(index: number, event: any) {\n      event.path.unshift(index);\n      event.path.unshift('children');\n      emit('change', event);\n    }\n\n    return {\n      onChange,\n    };\n  },\n});\nexport default PicSeries;\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PicSeries.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PicSeries.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PicSeries.vue?vue&type=template&id=7da1d068&scoped=true&\"\nimport script from \"./PicSeries.vue?vue&type=script&lang=ts&\"\nexport * from \"./PicSeries.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PicSeries.vue?vue&type=style&index=0&id=7da1d068&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7da1d068\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}