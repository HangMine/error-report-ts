{"version":3,"sources":["webpack:///./src/components/base/User.vue?bd5d","webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/index.js","webpack:///./src/assets/img/material/scale.png","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/utils/oss/uploadToOSS.js","webpack:///./src/components/base/User.vue?c91f","webpack:///src/components/base/User.vue","webpack:///./src/components/base/User.vue?9762","webpack:///./src/components/base/User.vue","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?2438","webpack:///./src/components/upload/UploadVideo.vue?1d6e","webpack:///./src/components/video/VideoPlayerForLocal.vue?9ab4","webpack:///src/components/video/VideoPlayerForLocal.vue","webpack:///./src/components/video/VideoPlayerForLocal.vue?6468","webpack:///./src/components/video/VideoPlayerForLocal.vue","webpack:///src/components/upload/UploadVideo.vue","webpack:///./src/components/upload/UploadVideo.vue?621d","webpack:///./src/components/upload/UploadVideo.vue","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?04bd","webpack:///./node_modules/@4dst-saas/form-utils/dist/components/jsonschema2form/SelectType2.js","webpack:///./src/components/layout/SelectableBox.vue?3b46","webpack:///./src/components/layout/SelectableBox.vue?0ce8","webpack:///./src/components/layout/SelectableBox.vue?df78","webpack:///./src/components/layout/SelectableBox.vue","webpack:///./src/components/icon/IconQuestion.vue?212e","webpack:///src/components/icon/IconQuestion.vue","webpack:///./src/components/icon/IconQuestion.vue?116e","webpack:///./src/components/icon/IconQuestion.vue","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?5e02","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?a17a","webpack:///./src/components/SupplierPriceList.vue?1e04","webpack:///./src/components/changelog/index.vue?00f8","webpack:///./src/api/account.js","webpack:///./src/components/icon/IconMagnify.vue?a6b9","webpack:///src/components/icon/IconMagnify.vue","webpack:///./src/components/icon/IconMagnify.vue?683a","webpack:///./src/components/icon/IconMagnify.vue","webpack:///./src/views/material/info-anta/components/UnitField.vue?e2b6","webpack:///./src/components/icon/IconQuestion.vue?5172","webpack:///./src/components/MaterialTypeCascade.vue?cd35","webpack:///./src/components/MaterialTypeCascade.vue?16f2","webpack:///./src/components/MaterialTypeCascade.vue?3409","webpack:///./src/components/MaterialTypeCascade.vue","webpack:///./node_modules/@4dst-saas/public-utils/dist/difference.js","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?6906","webpack:///./node_modules/vue-intersect/dist/index.js","webpack:///./src/views/material/info-anta/index.vue?c868","webpack:///./src/components/upload/UploadVideo.vue?3c14","webpack:///./src/components/icon/IconMagnify.vue?4087","webpack:///./src/assets/img/header/default_avatar.png","webpack:///./src/components/changelog/index.vue?8fb3","webpack:///./src/components/SupplierPriceList.vue?db6d","webpack:///./src/components/SupplierPriceList.vue?9e87","webpack:///./src/components/SupplierPriceList.vue?7e70","webpack:///./src/components/SupplierPriceList.vue","webpack:///./src/components/changelog/property.ts","webpack:///./src/components/changelog/materialType.ts","webpack:///./src/components/changelog/index.vue?3c54","webpack:///./src/components/changelog/index.vue?72a1","webpack:///./src/components/changelog/index.vue","webpack:///./src/components/layout/SelectableBox.vue?dba0","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?d5af","webpack:///./src/views/material/info-anta/components/Form.vue?62b0","webpack:///./src/utils/key-serializer.ts","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?6a18","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/utils.ts","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?203f","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue?3b9b","webpack:///./src/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue","webpack:///./src/views/material/info-anta/components/FormComponents/PriceFormItem.tsx","webpack:///./src/views/material/info-anta/components/FormComponents/SupplierSelect.tsx","webpack:///./src/components/dynamic-form/AntaMiddleClass2Form.tsx","webpack:///./src/views/material/info-anta/components/detail-validate.ts","webpack:///./src/views/material/info-anta/components/Form.vue?2a28","webpack:///./src/views/material/info-anta/components/Form.vue?4a4a","webpack:///./src/views/material/info-anta/components/Form.vue","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?cee6","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?6eeb","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?6de5","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue","webpack:///./src/components/video/VideoPlayerForLocal.vue?afca","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?f686","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?e635","webpack:///./src/views/material/info-anta/components/Form.vue?4614","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-closest.js","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?00dc","webpack:///./src/utils/public.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/utils/i18n-material-type.ts","webpack:///./src/assets/img/file-list/material-default.png","webpack:///./src/views/material/info-anta/index.vue?ccc3","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?f606","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?1857","webpack:///./src/views/material/info-anta/components/UnitField.vue?4e1c","webpack:///src/views/material/info-anta/components/UnitField.vue","webpack:///./src/views/material/info-anta/components/UnitField.vue?950e","webpack:///./src/views/material/info-anta/components/UnitField.vue","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?d466","webpack:///./src/views/material/info-anta/components/FromFieldText.vue?8e56","webpack:///./src/views/material/info-anta/components/FromFieldText.vue","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?9fcf","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?9f81","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?8c76","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?2965","webpack:///src/views/material/info-anta/components/ModelsSelector.vue","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue?183c","webpack:///./src/views/material/info-anta/components/ModelsSelector.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?d53f","webpack:///src/views/material/info-anta/components/AttachmentImage.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?fb0b","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?107f","webpack:///src/views/material/info-anta/components/AttachmentVideo.vue","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?7b6a","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?fb88","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?3de1","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue?a798","webpack:///./src/views/material/info-anta/components/UploadImgJson.vue","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?fdc7","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue?eb6d","webpack:///./src/views/material/info-anta/components/ComponentEditDetail.vue","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?0bff","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?9533","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue?b28c","webpack:///./src/views/material/info-anta/components/MaterialCarousel.vue","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?3f12","webpack:///src/views/material/info-anta/components/TimeInfo.vue","webpack:///./src/views/material/info-anta/components/TimeInfo.vue?b596","webpack:///./src/views/material/info-anta/components/TimeInfo.vue","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?56da","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?2252","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue?0a31","webpack:///./src/views/material/info-anta/components/MaterialOperateHistory/index.vue","webpack:///./src/views/material/info-anta/index.vue?940a","webpack:///./src/views/material/info-anta/index.vue?124a","webpack:///./src/views/material/info-anta/index.vue","webpack:///./src/views/material/info-anta/components/AttachmentImage.vue?410c","webpack:///./src/loaders/supplier.ts","webpack:///./src/components/anta-customer-files/customJsonschema.ts","webpack:///./src/components/anta-customer-files/attribute.ts","webpack:///./src/assets/img/public/records-empty.png","webpack:///./src/views/material/info-anta/components/DeclineRecord.vue?7aa6","webpack:///./src/views/material/info-anta/components/AttachmentVideo.vue?b841","webpack:///./src/views/material/info-anta/components/ComponentPreviewDetail.vue?4eaf"],"names":["_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","exports","value","enumerable","get","_JSONschema2Type","default","_IntegerType","_JSONschema","_NumberType","_SelectType","MultipleSeleteType","_SelectType2","_StringType","_default","module","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defaultOptions","initialValue","undefined","loadingValue","oldValue","useLoader","loader","oldWatcher","params","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","ref","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","watch","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","this","immediate","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","uploadToOSS","blobOrDataUrl","sourceType","onUpload","body","isDataUrl","dataUrl2Blob","OSSUploader","send","render","_vm","_h","$createElement","_c","_self","staticClass","class","size","_t","attrs","userImage","$scopedSlots","_v","_s","user","account","email","mail","name","staticRenderFns","components","BaseImage","props","computed","headImg","avatar","icon","component","_l","file","width","height","disabled","on","$event","handleDeleteFile","handlePreviewImage","url","refInFor","fileList","max","multiple","accept","maxSize","handleUploadFile","style","$t","_e","sourceUrl","autoplay","type","String","required","Boolean","UploadArea","DeletableBox","urls","Array","Number","data","handler","arr","map","methods","isArray","files","slice","$emit","splice","_formatFileItem","window","URL","createObjectURL","_typeof2","_default2","defineComponent","builder","subbuilder","valueKey","labelKey","options","val","model","prop","event","_this","h","isObject","$attrs","n","op","index","selected","selectedStatus","stopPropagation","toggleSelectedStatus","IconMagnify","setup","emit","_g","activeStatus","$listeners","registerAccount","axiosEncrypt","method","headers","token","applyAccountForTrial","axios","subscribeOurWebsite","getUserInfo","getUsersInfoByIds","_userIds","userIds","from","Set","id","fill","res","users","fromEntries","updateUserInfo","updateUserPasswordByVerificatioCode","createPaidSubaccount","fetchGroupMembers","keyword","groupAppId","createVirtualAccount","ApiConnectAccount","searchUsersToAdd","list","showClearable","cascaderProps","handleChange","scopedSlots","_u","fn","label","strictMode","maxLevel","checkStrictly","expandTrigger","businessType","cascader","getChildren","level","leaf","subCount","initOptionList","children","result","item","find","j","checkedNodes","nodes","getCheckedNodes","pathNodes","lazy","lazyLoad","node","resolve","defaultList","ids","v","difference","a","b","aItem","findIndex","bItem","indexOf","include","warn","msg","config","silent","console","abstract","threshold","root","HTMLElement","rootMargin","mounted","observer","IntersectionObserver","entries","isIntersecting","$nextTick","$slots","observe","elm","destroyed","disconnect","messageList","message","itemName","newValue","isSupplier","showSupplierPrice","sidebar","isSidebar","showAll","border","scope","row","supplierStatus","dialogify","closeOnClickModal","flex","top","bottom","cache","properties","fetchProperties","getSelectionProperty","title","p","values","findValue","property","placeholder","includes","join","materialTypes","origin","materialName","supplierName","material_number","category","season","brand","old_material_number","material_specification","weight","unit","available_area","ingredient","yarn_proportion","reference_price","supplier_price","color_limit_type","color_limit_remark","sample_moq","production_moq","post_treatment_process","acceptable_temperature","development_livecycle","production_livecycle","special_restrictions","shoemaking_risks","compound_way","dyeing_finishing","daily_production_capacity","detection_number","evergreen","PU_layer_composition","natural_leather_oil_proportion","volume","remark","plm","product_line","function","trend","season_lib","cost","supplier_price_array","approve_detail","materialType","fetchSupplierAll","colorList","1","2","3","approveStatus","4","form","SupplierPriceList","formList","changeLogRef","JSON","parse","oldForm","newForm","evergreenList","log","offsetWidth","isDifferent","stringify","findTypeItem","itemValue","handleSupplierName","supplier","originalSupplierName","handleCostLikeData","priceUnitList","fetchSupplierPriceArr","current","reference_price_value","reference_price_unit","cost_value","cost_unit","supplier_name","handleSupplierPriceArr","supplierList","referencePrice","supplier_status","getPriceUnit","oldKeys","newKeys","Promise","all","allSupplierList","priceUnits","propertyList","messages","approve_status","year","info","staticStyle","newMaterial","rules","status","isQt","updateInfo","categoryArr","callback","$$v","parentIds","expression","setJsonschemaFormItem","canEdit","middleCategoryId","propertyFromTemplate","str","split","trim","substr","query","createdTarget","shift","prototype","hasOwnProperty","call","set","_b","directives","rawName","handlerFilter","handleVisable","currentValue","isDelete","_map","0","currentYear","afterYears","_","beforeYears","years","chunks","helper","getCombines","productTypes","seasons","combines","_combine","reduce","obj","cur","allOptions","prevOptions","OPTIONS_LIMIT","getFilterList","lableStr","filters","slices","getInitFilterList","labelStr","requied","ElFormItem","refs","emptyValue","state","value2CurrenValue","stringifyValue","objVal","品牌","currentValue2Value","init","initLableStr","isShow","PriceFormItem","reuqired","e","SupplierSelect","SeasonSelect","MaterialTypeCascade","middleClassId","formData","validateDropdownItemImmediatly","jsonschemaListHander","Function","showValidateButton","notHasTemplate","j2f","jsonschema","propertylist","Error","sort","lastResult","pList","propertyItem","isSystem","propertyId","jssList","attribute","formRef","_jss","_form","formKeys","shouldHandleKeys","shouldFetchList","jss","oneOf","anyOf","constList","const","notFounds","founds","validate","extraProperty","materialId","language","fetchMaterialDetail","fetchDefaultUnitId","AntaMiddleClass2Form","material","templateMaterialId","isCreator","host","templateForm","refsForm","typeCascade","updateData","oldMaterial","maxLength","filterable","materialNumberIndex","categoryIndex","costIndex","evergreenIndex","addOperateToRecord","count","_propertyFromTemplate","firstSupplier","delete_status","_newMaterial","omitList","_p","priceItem","diffPriceCount","oldPriceItem","relateId","originalId","replace","getFormData","formMatarialData","bigType","midType","大类","中类","material_status","success","errorMsg","imgJson","renderingJson","fileInfo","companyId","$set","$el","exec","offsetHeight","$route","path","onmousewheel","className","deltaY","temp","sup","templateMaterial","declineRecord","code","slot","_f","gmtCreateTime","getDeclineRecord","showClose","records","creator","userInfos","rec","useClosest","_vueClosest","componentName","closest","blockDragEffect","DOM","dropzoneId","loopAncestorNode","dom","counter","currentNode","parentElement","attachEvent","draggable","preventDefault","dataTransfer","effectAllowed","dropEffect","addEventListener","$","addToUnscopables","proto","translateCategoryName","categoryName","t","backOperate","isHistoryComponent","toOperateHistory","showDeclineRecord","contentStyle","currentComponent","swipers","thumbIndex","envs","VUE_APP_COOPERATION","handleUpload4ddat","tag","entryAppType","saveBtnDisabled","getMaterialInfoById","loading","creatorName","modifierName","gmtModifyTime","printAsPDF","editable","$act","updateMaterial","field","units","content","UnitField","showPlaceHolder","fetchMiddleCategoryId","FormFielText","fields","attachFields","supplier_price_obj","extraList","dynamicFormData","$errorHandler","deep","materialCopy","assetsInfo","handlePreview","changeModel","cover","currentId","SelectableBox","ModelPurePreviewer","_generateModelData","localStorage","setItem","models","modelIds","$closest","paths","changeImage","UploadWithPreviewer","IconQuestion","changeVideo","UploadVideo","cursor","choseImg","remove","previewImage","key2Name","thumbnail","flat","texture","UploadImgJson","selectedFils","imgList","$ImageViewer","show","srcList","targetElems","uploadImgJson","bucketList","newImgJson","Form","ModelsSelector","AttachmentImage","AttachmentVideo","$errHandler","$message","emptyImgJson","some","save","modelsSelector","getSelectResult","modelCover","attachmentImage","getImageOssPaths","images","attachmentVideo","getVideoOssPaths","videos","uploadArea","initialIndex","newIndex","imageType","previewModel","VideoPlayer","swiperList","tyep","$Dialog","carousel","acc","src","rulerSetting","rulerHeight","dpi","activeIndex","previewVideo","is","sourceURL","fullscreen","center","modelId","mode","carouselSetActiveItem","setActiveItem","parent","_m","modifier","uploaded","updated","dayOperateList","day","operateList","loadMore","getUsersObj","usersObj","handleOperateList","operate","format","dayOperate","inheritAttrs","Intersect","BaseUser","changelog","empty","pageSize","defaultState","pageLoading","pageNumber","hasMore","showLoadMore","resetLoading","setDayOperateList","isLoadMore","noPadding","closeWith","ComponentPreviewDetail","ComponentEditDetail","MaterialCarousel","TimeInfo","MaterialOperateHistory","DeclineRecord","materialDynamicComp","_getSwiperObj","mat","img","materialOrigin","toString","userName","userNames","$injectDialog","routeUrl","$router","nativeHost","openWin","href","open","workspaceId","fetchSupplierNotBound","toFixed","clearable","getCategoryName","fetchSupplierName","attribute2JSONschema","itemOrList","JSONschemaList","attr","customJsonschema","av","$id","validator","JSONschemaList2JSONschema","useSort","wrapper","pre","antaMiddleClassIdAndFormData2TransformedFormDataList","setColorLimitType","colorLimitType","extractList","propertiesSortList","Math","abs","referenceUnit","costUnit","wait4FetchValue","labels","concat","l","jsonschema2FormItemValidatorObject","validatorObject","validatorKeys","valueList"],"mappings":"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","file":"js/chunk-ce2cdf96.b0abd55b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"JSONschema2Type\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema2Type.default;\n  }\n});\nObject.defineProperty(exports, \"IntegerType\", {\n  enumerable: true,\n  get: function get() {\n    return _IntegerType.default;\n  }\n});\nObject.defineProperty(exports, \"JSONschema\", {\n  enumerable: true,\n  get: function get() {\n    return _JSONschema.default;\n  }\n});\nObject.defineProperty(exports, \"NumberType\", {\n  enumerable: true,\n  get: function get() {\n    return _NumberType.default;\n  }\n});\nObject.defineProperty(exports, \"SelectType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.default;\n  }\n});\nObject.defineProperty(exports, \"MultipleSeleteType\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType.MultipleSeleteType;\n  }\n});\nObject.defineProperty(exports, \"SelectType2\", {\n  enumerable: true,\n  get: function get() {\n    return _SelectType2.default;\n  }\n});\nObject.defineProperty(exports, \"StringType\", {\n  enumerable: true,\n  get: function get() {\n    return _StringType.default;\n  }\n});\nexports.default = void 0;\n\nvar _JSONschema2Type = _interopRequireDefault(require(\"./JSONschema2Type\"));\n\nvar _IntegerType = _interopRequireDefault(require(\"./IntegerType\"));\n\nvar _JSONschema = _interopRequireDefault(require(\"./JSONschema\"));\n\nvar _NumberType = _interopRequireDefault(require(\"./NumberType\"));\n\nvar _SelectType = _interopRequireWildcard(require(\"./SelectType\"));\n\nvar _SelectType2 = _interopRequireDefault(require(\"./SelectType2\"));\n\nvar _StringType = _interopRequireDefault(require(\"./StringType\"));\n\nvar _default = _JSONschema2Type.default;\nexports.default = _default;","module.exports = __webpack_public_path__ + \"img/scale.1568bf34.png\";","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","import { OSSUploader } from '@/utils/oss/uploader';\nimport isDataUrl from '_/is-data-url';\nimport { dataUrl2Blob } from '_/blob-utils';\n\n/**\n *\n * @param {Blob|string} blobOrDataUrl 一个dataUrl或者Blob对象（包括File）\n * @param {string} [sourceType] 资源类型 - @see {@link http://api.4dshoetech.com/project/61/interface/api/4387}\n * @param {(event: unknown,\n    fileLoaded: number,\n    fileSize: number,\n    process: number,\n    options: ComputedUploaderOptions<Params, Query>\n  ) => any} [onUpload] 上传进度 - 具体自己看结果或者源码\n * @return {Promise<string>}\n */\nconst uploadToOSS = async (blobOrDataUrl, sourceType, onUpload) => {\n  let body;\n  if (typeof blobOrDataUrl === 'string' && isDataUrl(blobOrDataUrl)) {\n    // 转化blob对象\n    body = dataUrl2Blob(blobOrDataUrl);\n  } else {\n    body = blobOrDataUrl;\n  }\n  // OSSUploader 会自动处理后缀名的问题，不需要额外的处理\n  // 上传到oss\n  /** @see {@link vscode://../from/a} */\n  const { key } = await OSSUploader.send({\n    sourceType,\n    body,\n    onUpload,\n  });\n\n  return key;\n};\n\nexport default uploadToOSS;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\",class:(\"user-\" + _vm.size)},[_vm._t(\"avatar\",[_c('BaseImage',{staticClass:\"avatar\",attrs:{\"src\":_vm.userImage}})]),_c('div',{staticClass:\"content ellipsis\",class:{ 'ellipsis': !_vm.$scopedSlots.default }},[_vm._t(\"default\",[_vm._v(\" \"+_vm._s(_vm.user.account || _vm.user.email || _vm.user.mail || _vm.user.name)+\" \")])],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user\" :class=\"`user-${size}`\">\n    <slot name=\"avatar\">\n      <BaseImage class=\"avatar\" :src=\"userImage\"></BaseImage>\n    </slot>\n    <div class=\"content ellipsis\" :class=\"{ 'ellipsis': !$scopedSlots.default }\">\n      <slot>\n        {{ user.account || user.email || user.mail || user.name  }}\n      </slot>\n    </div>\n  </div>\n</template>\n<script>\nimport BaseImage from '@/components/base/Image';\n\nexport default {\n  components: {\n    BaseImage,\n  },\n  props: {\n    user: {},\n    size: { default: 'medium' },\n  },\n  computed: {\n    userImage() {\n      return this.user.headImg || this.user.avatar || this.user.icon || require('@/assets/img/header/default_avatar.png');\n    },\n  },\n\n};\n</script>\n<style lang=\"scss\" scoped>\n.user {\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n  &-medium {\n    .avatar {\n      width: 36px;\n      height: 36px;\n    }\n  }\n  &-small {\n    .avatar {\n      width: 28px;\n      height: 28px;\n    }\n  }\n  &-mini {\n    .avatar {\n      width: 24px;\n      height: 24px;\n    }\n  }\n  &-large {\n    .avatar {\n      width: 40px;\n      height: 40px;\n    }\n  }\n  .avatar {\n    border-radius: 50%;\n    background-color: #f5f5f5;\n    margin-right: 10px;\n  }\n  /deep/ .img-err {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    color: #909399;\n  }\n  .content {\n    flex: 1;\n  }\n  .ellipsis {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=09fce134&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=09fce134&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09fce134\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=style&index=0&id=1048a648&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-width-previewer\"},[_c('ul',{staticClass:\"flex\"},_vm._l((_vm.fileList),function(file,i){return _c('li',{key:i,staticClass:\"file-list-item\"},[_c('DeletableBox',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"disabled\":_vm.disabled},on:{\"delete\":function($event){return _vm.handleDeleteFile(i)},\"preview\":function($event){return _vm.handlePreviewImage(file.url)}}},[_c('div',{staticClass:\"upload-video-item\"},[_c('video',{ref:\"videoPlayer\",refInFor:true,attrs:{\"src\":file.url,\"width\":\"100%\",\"height\":\"100%\"}}),_c('span',{staticClass:\"video-play-icon\"})])])],1)}),0),(_vm.fileList.length < _vm.max)?_c('UploadArea',{attrs:{\"multiple\":_vm.multiple,\"accept\":_vm.accept,\"max-size\":_vm.maxSize,\"disabled\":_vm.disabled},on:{\"upload\":_vm.handleUploadFile}},[_c('div',{staticClass:\"upload-area-box\",style:({ width: (_vm.width + \"px\"), height: (_vm.height + \"px\") })},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('p',{staticClass:\"upload-text\"},[_vm._v(_vm._s(_vm.$t('upload.upload')))])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-container\"},[_c('video',{attrs:{\"src\":_vm.sourceUrl,\"autoplay\":_vm.autoplay,\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"video-container\">\n    <video\n      :src=\"sourceUrl\" :autoplay=\"autoplay\"\n      width=\"100%\" height=\"100%\" controls />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    sourceUrl: {\n      type: String,\n      required: true,\n    },\n    autoplay: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.video-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  background: #333;\n  // > video {\n  //   position: absolute;\n  //   width: 100%;\n  //   height: 100%;\n  //   z-index: 1;\n  //   top: 50%;\n  //   left: 50%;\n  //   transform: translate(-50%, -50%);\n  // }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoPlayerForLocal.vue?vue&type=template&id=411b2de4&scoped=true&\"\nimport script from \"./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoPlayerForLocal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoPlayerForLocal.vue?vue&type=style&index=0&id=411b2de4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"411b2de4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"upload-width-previewer\">\n    <!-- 展示文件框 -->\n    <ul class=\"flex\">\n      <li\n        v-for=\"(file, i) in fileList\"\n        :key=\"i\"\n        class=\"file-list-item\"\n      >\n        <DeletableBox\n          :width=\"width\"\n          :height=\"height\"\n          :disabled=\"disabled\"\n          @delete=\"handleDeleteFile(i)\"\n          @preview=\"handlePreviewImage(file.url)\"\n        >\n          <div class =\"upload-video-item\">\n            <video :src=\"file.url\" width=\"100%\" height=\"100%\" ref=\"videoPlayer\" />\n            <span class=\"video-play-icon\"></span>\n          </div>\n        </DeletableBox>\n      </li>\n    </ul>\n\n    <UploadArea\n      v-if=\"fileList.length < max\"\n      :multiple=\"multiple\"\n      :accept=\"accept\"\n      :max-size=\"maxSize\"\n      :disabled=\"disabled\"\n      @upload=\"handleUploadFile\"\n    >\n      <div\n        class=\"upload-area-box\"\n        :style=\"{ width: `${width}px`, height: `${height}px` }\"\n      >\n        <i class=\"iconfont icon-upload-cloud-o\" />\n        <p class=\"upload-text\">{{ $t('upload.upload') }}</p>\n      </div>\n    </UploadArea>\n  </div>\n</template>\n\n<script>\nimport UploadArea from '@/components/upload/index.vue';\nimport DeletableBox from '@/components/layout/DeletableBox.vue';\nimport VideoPlayerForLocal from '@/components/video/VideoPlayerForLocal.vue';\n\nexport default {\n  name: 'UploadWithPreviewer',\n  components: {\n    UploadArea,\n    DeletableBox,\n  },\n  props: {\n    urls: { // 图片集合\n      type: Array,\n      default: () => [],\n    },\n    width: {\n      type: Number,\n      default: 100,\n    },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    accept: {\n      type: String,\n      default: '',\n    },\n    multiple: {\n      type: Boolean,\n      default: false,\n    },\n    maxSize: {\n      type: Number,\n      default: 100 * 1024 * 1024,\n    },\n    max: { // 上传文件最大数量\n      type: Number,\n      default: 1,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fileList: [],\n    };\n  },\n  watch: {\n    urls: {\n      handler(arr) {\n        this.fileList = arr.map(item => {\n          return { file: '', url: item };\n        });\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleUploadFile(files) {\n      if (!Array.isArray(files)) files = [files];\n      this.fileList.push(...files.map(file => this._formatFileItem(file)));\n      if (this.fileList.length >= this.max) {\n        this.fileList = this.fileList.slice(0, this.max);\n        // this.$message.warning(`最多上传${this.max}文件`);\n      }\n      this.$emit('change', this.fileList);\n    },\n    // 删除上传的图片\n    handleDeleteFile(i) {\n      this.fileList.splice(i, 1);\n      this.$emit('change', this.fileList);\n    },\n    // 处理放大图片功能\n    async handlePreviewImage(sourceUrl) {\n      await this.$Dialog.dialogify({\n        is: VideoPlayerForLocal,\n        props: {\n          sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    },\n    _formatFileItem(file) {\n      return {\n        file,\n        url: window.URL.createObjectURL(file),\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.file-item-image {\n  width: 100%;\n  height: 100%;\n}\n\n.upload-width-previewer {\n  display: flex;\n  align-items: center;\n  // flex-wrap: wrap;\n}\n\n.upload-area-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  color: #7f7f7f;\n  border: 1px dashed #ccc;\n  border-radius: 4px;\n  transition: all linear 150ms;\n  &:hover {\n    color: #2878ff;\n    border-color: #2878ff;\n  }\n  .upload-text {\n    margin-top: 5px;\n    font-size: 12px;\n    font-weight: 400;\n  }\n  .iconfont {\n    font-size: 25px;\n    font-weight: 500;\n  }\n}\n\n.upload-video-item {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  .video-play-icon {\n    position: absolute;\n    width: 34px;\n    height: 34px;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-color: rgba(0, 0, 0, 0.4);\n    border-radius: 50%;\n    &::after {\n      content: '';\n      position: absolute;\n      left: 13px;\n      top: 6px;\n      width: 0;\n      height: 0;\n      border: 10px solid transparent;\n      border-left-color: #fff;\n      border-radius: 4px;\n    }\n  }\n}\n\n.file-list-item {\n  margin-right: 10px;\n  border-radius: 4px;\n  overflow: hidden;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadVideo.vue?vue&type=template&id=b3f5c08a&scoped=true&\"\nimport script from \"./UploadVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadVideo.vue?vue&type=style&index=0&id=b3f5c08a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b3f5c08a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5aa64bef&lang=scss&scoped=true&\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _default2 = (0, _compositionApi.defineComponent)({\n  name: 'SingleSeletor',\n  props: {\n    builder: {\n      type: String,\n      default: 'el-select'\n    },\n    subbuilder: {\n      type: String,\n      default: 'el-option'\n    },\n    valueKey: {\n      type: String,\n      default: 'value'\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    options: {\n      type: Array,\n      default: function _default() {\n        return [1, 2, 3, 4, 5];\n      }\n    },\n    val: {\n      type: String,\n      default: ''\n    }\n  },\n  model: {\n    prop: 'val',\n    event: 'change'\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    var isObject = (0, _typeof2.default)(this.options[0]) === 'object';\n    return h(this.builder, {\n      \"attrs\": _objectSpread({\n        \"value\": this.val\n      }, this.$attrs),\n      \"on\": {\n        \"change\": function change(n) {\n          _this.$emit('change', n);\n        }\n      }\n    }, [this.options.map( // @ts-ignore\n    function (op, index) {\n      return h(_this.subbuilder, {\n        \"attrs\": {\n          \"value\": isObject ? op[_this.valueKey] : op,\n          \"label\": isObject ? op[_this.labelKey] : op\n        },\n        \"key\": index\n      });\n    })]);\n  }\n});\n\nexports.default = _default2;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selected-previewer-box\",class:{ selected: _vm.selectedStatus },style:({ width: (_vm.width + \"px\"), height: (_vm.height + \"px\") }),on:{\"click\":function($event){return _vm.$emit('preview')}}},[_c('div',{staticClass:\"selected-previewer\",style:({ width: ((_vm.width - 2) + \"px\"), height: ((_vm.height - 2) + \"px\") })},[_vm._t(\"default\"),_c('i',{staticClass:\"iconfont\",class:[_vm.selectedStatus ? 'icon-tick-circle' : 'iconyuanxing',\n        _vm.disabled ? 'disabled' : ''\n      ],on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleSelectedStatus($event)}}}),_c('IconMagnify',{staticClass:\"icon-magnify-comp\"})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref, watch } from '@vue/composition-api';\n\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'SelectedPreviewer',\n  components: { IconMagnify },\n  props: {\n    width: {\n      type: Number,\n      default: 100,\n    },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, { emit }) {\n    const selectedStatus = ref(false);\n\n    function toggleSelectedStatus() {\n      if (props.disabled) return;\n      selectedStatus.value = !selectedStatus.value;\n      emit('change', selectedStatus.value);\n    }\n\n    watch(() => props.selected, (val) => {\n      selectedStatus.value = val;\n    }, {\n      immediate: true,\n    });\n\n    return { selectedStatus, toggleSelectedStatus };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectableBox.vue?vue&type=template&id=54889722&scoped=true&\"\nimport script from \"./SelectableBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectableBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectableBox.vue?vue&type=style&index=0&id=54889722&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54889722\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',_vm._g({staticClass:\"iconfont\",class:_vm.activeStatus ? 'icon-help-circle' : 'iconhelp_nol',on:{\"mouseenter\":function($event){_vm.activeStatus = true},\"mouseleave\":function($event){_vm.activeStatus = false}}},_vm.$listeners))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <i\n    class=\"iconfont\"\n    :class=\"activeStatus ? 'icon-help-circle' : 'iconhelp_nol'\"\n    v-on=\"$listeners\"\n    @mouseenter=\"activeStatus = true\"\n    @mouseleave=\"activeStatus = false\" />\n</template>\n\n<script>\nexport default {\n  name: 'IconQuestion',\n  data() {\n    return {\n      activeStatus: false,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 标签填写示例\n.iconfont {\n  margin-left: 5px;\n  font-size: 17px;\n  color: #848b97;\n  cursor: pointer;\n}\n.icon-help-circle {\n  color: $color-primary;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconQuestion.vue?vue&type=template&id=b67bf064&scoped=true&\"\nimport script from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nexport * from \"./IconQuestion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b67bf064\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=style&index=0&id=10f2f0aa&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=style&index=0&id=15080de4&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=style&index=0&id=4db97a97&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=57918cc7&lang=scss&scoped=true&\"","import axios, { axiosEncrypt } from '@/utils/axios';\n\n/* =========================== 账号相关 =========================== */\nexport const registerAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/register',\n    headers: {\n      token: '',\n    },\n    data,\n  });\n};\n\nexport const loginByName = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/login/login',\n    data,\n  });\n};\n\n// 重置密码\n// 已废弃\n// export const resetPassword = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/pass/reset',\n//     data,\n//   });\n// };\n\n// 发送验证码\n// 已废弃\n// export const sendVerifyCode = (data) => {\n//   return axios({\n//     method: 'post',\n//     url: '/authcenter/user/verification/code',\n//     data,\n//   });\n// };\n\n// 校验验证码\n// 已废弃\n// export const checkVerifyCode = (code, account) => {\n//   return axios({\n//     method: 'get',\n//     url: `/authcenter/user/check/verify?verifyCode=${code}&account=${account}`,\n//   });\n// };\n\n// 验证邮箱接口\nexport const emailVerify = (email) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/email/verify?email=${email}`,\n  });\n};\n\n// 校验账号是否为主账号或普通账号\nexport const checkRole = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/check/role?account=${account}`,\n  });\n};\n\n// 账号购买套餐的信息\nexport const getUserPurchaseInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/info/all',\n  });\n};\n\n/**\n * 申请试用\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const applyAccountForTrial = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/trial/add',\n    data,\n  });\n};\n\n/**\n * 订阅更新信息\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const subscribeOurWebsite = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/subscribe',\n    data,\n  });\n};\n\n/**\n * 校验账户是否重复\n * @param {String} account 账号名称\n * @returns {Promise}\n */\nexport const checkAcountExistent = (account) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/account/check',\n    params: {\n      account,\n    },\n  });\n};\n\n/* =========================== 当前登录用户 =========================== */\n/**\n * 根据token来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUserInfo = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/info/get',\n  });\n};\n\n/**\n * 根据用户ID来获取当前登录用户信息\n * @returns {Promise}\n */\nexport const getUsersInfoByIds = async (_userIds = []) => {\n  const userIds = Array.from(new Set(_userIds.filter(id => !!id)));\n  if (!userIds.length) {\n    const data = new Array(_userIds.length);\n    data.fill(null);\n    return { data };\n  }\n  const res = await axios({\n    method: 'post',\n    url: '/authcenter/user/im/info',\n    data: userIds,\n  });\n  const users = Object.fromEntries(res.data.map(user => ([user.id, user])));\n  res.data = _userIds.map(id => users[id] ?? null);\n  return res;\n};\n\n/**  ???????????????????????????\n * 根据token来获取当前登录用户信息\n * @param {Object} data 登录信息\n * @returns {Promise}\n */\nexport const uploadAccountInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/update',\n    data,\n  });\n};\n\n/**\n * 修改用户信息\n * @param {Object} data 支持 name, email, headImg 三个属性修改\n * @returns {Promise}\n */\nexport const updateUserInfo = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update/self',\n    data,\n  });\n};\n\n/**\n * 根据邮箱或账号重置账号密码\n * @param {Object} data 邮箱和信息密码\n * @returns {Promise}\n */\nexport const updateUserPasswordByVerificatioCode = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/password/reset',\n    data,\n  });\n};\n\n/**\n * 获取是否有剩余的子账号（true/fase）(deprecated)\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetLeaveSubaccount = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/check?resourceType=${type}`,\n  });\n};\n\n/**\n * 新增收费子账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createPaidSubaccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/add',\n    data,\n  });\n};\n\n/**\n * 新增免费账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const ApiAddFreeAccount = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/user/account/free/add',\n    data,\n  });\n};\n\n/* =========================== 账号中心 =========================== */\n/**\n * 公司列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiCompanyList = (groupAppId, keyword = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiAddressList = (keyWord, groupAppId) => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n    url: `/authcenter/contacts/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 虚拟账号列表（deprecated)\n * @param {String} keyWord 搜索\n * @returns {Promise}\n */\nexport const ApiVirtualList = (keyWord) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/virtual/list?keyword=${keyWord}`,\n  });\n};\n\n/**\n * 协同空间群设置的成员列表（可搜索）\n * @param {String} keyword 搜索\n * @returns {Promise}\n */\nexport const fetchGroupMembers = ({\n  keyword,\n  groupAppId,\n}) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/ugroup/users/search?keyword=${keyword}`,\n    headers: {\n      groupAppId: groupAppId || '',\n    },\n  });\n};\n\n/**\n * 公司账号的子账号列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getSubaccountListOfCompany = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/user/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 通讯录列表\n * @param {String} keyword 搜索关键字\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getContactList = (keyword = '', groupAppId = '') => {\n  return axios({\n    method: 'get',\n    headers: {\n      groupAppId,\n    },\n    url: '/authcenter/contacts/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 虚拟账号列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getVirtualList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/virtual/list',\n    params: {\n      keyword,\n    },\n  });\n};\n\n/**\n * 编辑\n * @param {String} data 编辑信息对象\n * @returns {Promise}\n */\nexport const ApiupdateUserAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/account/echo/update',\n    data,\n  });\n};\n\n/**\n * 删除单个 非邀请Delete\n * @param {String} id 删除id  <!-- null 和0 都是，1 是邀请 Disconnect-->\n * @returns {Promise}\n */\nexport const ApiDelAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/delete?userId=${id}`,\n  });\n};\n\n/**\n * 删除单个 邀请 Disconnect\n * @param {String} id 删除id\n * @returns {Promise}\n */\nexport const ApiDisconnectAccount = (id) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/contacts/disconnect?relateUserId=${id}`,\n  });\n};\n\n/**\n * 获取新增子账号剩余多少\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApiGetCanUseWorkspace = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/resource/info?resourceType=${type}`,\n  });\n};\n\n/**\n * 检查名称是否重复\n * @param {String} account 名称\n * @returns {Promise}\n */\nexport const ApicheckUsable = (account) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/user/account/check?account=${account}`,\n  });\n};\n\n/**\n * 清除到期账号\n * @returns {Promise}\n */\nexport const ApiDelOverdue = () => {\n  return axios({\n    method: 'get',\n    url: '/user/overdue/delete',\n  });\n};\n\n/**\n * 查询是否遮罩\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const ApigetShade = (type) => {\n  return axios({\n    method: 'get',\n    url: `/authcenter/shade/get?type=${type}`,\n  });\n};\n\n/**\n * 关闭遮罩\n * @param {String} data 类型\n * @returns {Promise}\n */\nexport const ApiaddShade = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/shade/add',\n    data,\n  });\n};\n\n/**\n * 新增虚拟账号\n * @param {String} data 账号信息对象\n * @returns {Promise}\n */\nexport const createVirtualAccount = (data) => {\n  return axiosEncrypt({\n    method: 'post',\n    url: '/authcenter/user/virtual/add',\n    data,\n  });\n};\n\n// 头和目标账号信息\nexport const ApiConnectAccount = (data, headers) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/add/mutiple',\n    data,\n    headers,\n  });\n};\n\n/**\n * 公司套餐workspace数量(deprecated)\n * @param {String}\n * @returns {Promise}\n */\nexport const getWorkspacesNumberOfPackage = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/resource/package/workspace/number',\n  });\n};\n\n/**\n * 添加协同空间成员时搜索可添加的列表\n * @param {String}\n * @returns {Promise}\n */\nexport const searchUsersToAdd = (keyword, groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/user/list/search',\n    params: {\n      keyword,\n    },\n    headers: {\n      groupAppId,\n    },\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon-maginfy-box\",on:{\"click\":function($event){return _vm.$emit('magnify')}}},[_c('i',{staticClass:\"iconfont iconfangdajing\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"icon-maginfy-box\"\n    @click=\"$emit('magnify')\">\n    <i class=\"iconfont iconfangdajing\" />\n  </div>\n</template>\n<script>\nexport default {};\n</script>\n\n<style lang=\"scss\" scoped>\n.icon-maginfy-box {\n  position: relative;\n  color: rgba(173, 173, 173, 0.6);\n  width: 24px;\n  cursor: pointer;\n\n  &:hover,\n  &:active,\n  &.hover-status {\n    color: rgba(90, 90, 90, 0.6);\n  }\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    right: -20px;\n    bottom: -20px;\n    width: 0;\n    height: 0;\n    border: 20px solid transparent;\n    border-top-color: currentColor;\n    transform: rotate(-45deg);\n  }\n\n  .iconfangdajing {\n    position: relative;\n    left: 10px;\n    top: -1px;\n    font-size: 14px;\n    color: #fff;\n    z-index: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconMagnify.vue?vue&type=template&id=01875c86&scoped=true&\"\nimport script from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nexport * from \"./IconMagnify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01875c86\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=c81a14aa&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconQuestion.vue?vue&type=style&index=0&id=b67bf064&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-cascader',{ref:\"cascader\",staticClass:\"fixed-width anta\",attrs:{\"options\":_vm.list,\"value\":_vm.value,\"clearable\":_vm.showClearable,\"disabled\":_vm.disabled,\"placeholder\":_vm.$t('material.others.select_type'),\"props\":_vm.cascaderProps,\"size\":\"small\"},on:{\"change\":_vm.handleChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('span',[_vm._v(_vm._s(data.label))])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, watch, toRefs, computed,\n} from '@vue/composition-api';\nimport { fetchMaterialTypes } from '@/api/material';\nimport useLoader from '_/composables/use-loader';\nimport { ElCascader } from 'element-ui/types/cascader';\nimport translateCategoryName from '@/utils/i18n-material-type';\n\ntype MaterialSelectItem = {\n  id: string,\n  name: string,\n  label: string,\n  subCount?: number,\n  children?: MaterialSelectItem[]\n  parentIds?: string[]\n  leaf?: boolean,\n  disabled?: boolean,\n};\n\nexport default defineComponent({\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n  props: {\n    strictMode: {\n      type: Boolean,\n      default: false,\n    },\n    maxLevel: {\n      type: Number,\n      default: 2,\n    },\n    value: {\n      type: Array as () => string[],\n      required: true,\n      default: () => [],\n    },\n    checkStrictly: {\n      type: Boolean,\n      default: false,\n    },\n    expandTrigger: {\n      type: String,\n      default: 'click',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    showClearable: {\n      type: Boolean,\n      default: true,\n    },\n\n    businessType: {\n      // 1安踏 0普通\n      type: Number,\n      default: 1,\n    },\n  },\n  setup(props, { emit }) {\n    const selected = ref<MaterialSelectItem[]>([]);\n\n    const cascader = ref<ElCascader>();\n\n    async function getChildren(id: string, level: number) {\n      const list = (await fetchMaterialTypes(id, props.businessType)) as MaterialSelectItem[];\n      return list.map(i => {\n        i.leaf = !(i.subCount && i.subCount > 0 && level < props.maxLevel);\n        i.disabled = props.maxLevel !== level && !i.subCount && props.strictMode;\n        if (props.businessType === 0) {\n          i.label = translateCategoryName(i.name);\n        } else {\n          i.label = i.name;\n        }\n        return i;\n      });\n    }\n\n    async function initOptionList(children: MaterialSelectItem[], list: string[]) {\n      const result = [];\n      while (children && children.length) {\n        // eslint-disable-next-line no-loop-func\n        const item = children.find(j => j.id === list[result.length]);\n        if (item && result.length < props.maxLevel) {\n          result.push(item);\n          item.children = item.children || await getChildren(item.id, result.length);\n          ({ children } = item);\n        } else {\n          children = [];\n        }\n      }\n      return result;\n    }\n\n    const checkedNodes = computed(() => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    });\n\n    const getCheckedNodes = () => {\n      const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n        return n.data;\n      }) || [];\n      return nodes;\n    };\n\n    const cascaderProps = {\n      lazy: true,\n      label: 'label',\n      value: 'id',\n      children: 'children',\n      checkStrictly: props.checkStrictly,\n      expandTrigger: props.expandTrigger,\n      lazyLoad: async (node, resolve) => {\n        if (node.level && node.level < props.maxLevel + 1 && !node.leaf && node.children?.length === 0) {\n          const res = await getChildren(node.value, node.level);\n          resolve(res);\n        } else {\n          resolve();\n        }\n      },\n    };\n\n    const list = useLoader(async ({ value }) => {\n      const defaultList = await getChildren('-1', 0);\n      if (value.length) {\n        if (defaultList) {\n          selected.value = await initOptionList(defaultList, value);\n        }\n      }\n      return defaultList;\n    }, {\n      ...toRefs(props),\n    }, {\n      initialValue: [],\n    });\n\n    async function handleChange(ids: string[]) {\n      if (!cascader.value?.getCheckedNodes()[0]) {\n        emit('change', ids, []);\n      } else {\n        const nodes = cascader.value?.getCheckedNodes()[0]?.pathNodes?.map(n => {\n          return n.data;\n        }) || [];\n        emit('change', ids, nodes);\n      }\n    }\n\n    watch(() => checkedNodes.value, (v) => {\n      if (v.length > 0) handleChange(props.value);\n    });\n    // watch(() => {\n    //   return props.value;\n    // }, (v, ov) => {\n    //   if (JSON.stringify(v) !== JSON.stringify(ov)) {\n    //     if (v.length > 0) {\n    //\n    //       initOptionList(list.value, v);\n    //     } else {\n    //\n    //\n    //     }\n    //   }\n    // });\n\n    return {\n      cascaderProps,\n      handleChange,\n      list,\n      cascader,\n      getCheckedNodes,\n      checkedNodes,\n    };\n  },\n\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialTypeCascade.vue?vue&type=template&id=bb4c346e&\"\nimport script from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialTypeCascade.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.find-index\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.difference = difference;\nexports.default = void 0;\n\n/**\n * 得出b相对于a补集（a里边找b没有的）\n * @see https://zh.wikipedia.org/wiki/%E8%A1%A5%E9%9B%86\n * @param a数组\n * @param b数组\n * @param fn 用于对比的方法\n */\nfunction difference(a, b, fn) {\n  return a.filter(function (aItem) {\n    var i = fn ? b.findIndex(function (bItem) {\n      return fn(aItem, bItem);\n    }) : b.indexOf(aItem);\n    var include = i === -1;\n    return include;\n  });\n}\n\nvar _default = difference;\nexports.default = _default;","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=style&index=0&id=67ab5d7d&lang=scss&scoped=true&\"","import Vue from 'vue';\n\nvar warn = function warn(msg) {\n  if (!Vue.config.silent) {\n    console.warn(msg);\n  }\n};\n\nexport default {\n  name: 'intersect',\n  abstract: true,\n  props: {\n    threshold: {\n      type: Array,\n      required: false,\n      default: function _default() {\n        return [0, 0.2];\n      }\n    },\n    root: {\n      type: typeof HTMLElement !== 'undefined' ? HTMLElement : Object,\n      required: false,\n      default: function _default() {\n        return null;\n      }\n    },\n    rootMargin: {\n      type: String,\n      required: false,\n      default: function _default() {\n        return '0px 0px 0px 0px';\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.observer = new IntersectionObserver(function (entries) {\n      if (!entries[0].isIntersecting) {\n        _this.$emit('leave', [entries[0]]);\n      } else {\n        _this.$emit('enter', [entries[0]]);\n      }\n\n      _this.$emit('change', [entries[0]]);\n    }, {\n      threshold: this.threshold,\n      root: this.root,\n      rootMargin: this.rootMargin\n    });\n\n    this.$nextTick(function () {\n      if (_this.$slots.default && _this.$slots.default.length > 1) {\n        warn('[VueIntersect] You may only wrap one element in a <intersect> component.');\n      } else if (!_this.$slots.default || _this.$slots.default.length < 1) {\n        warn('[VueIntersect] You must have one child inside a <intersect> component.');\n        return;\n      }\n\n      _this.observer.observe(_this.$slots.default[0].elm);\n    });\n  },\n  destroyed: function destroyed() {\n    this.$emit('destroyed');\n    this.observer.disconnect();\n  },\n  render: function render() {\n    return this.$slots.default ? this.$slots.default[0] : null;\n  }\n};","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=759b404a&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadVideo.vue?vue&type=style&index=0&id=b3f5c08a&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMagnify.vue?vue&type=style&index=0&id=01875c86&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.messageList && _vm.messageList.length)?_c('div',{ref:\"changeLogRef\"},[(_vm.showAll)?_c('div',[_vm._l((_vm.messageList),function(message){return _c('div',{key:message.label,staticClass:\"item\"},[(message.type === 0)?_c('div',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.label))]),_vm._v(\" 由 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.oldValue))]),_vm._v(\" 被修改为 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.newValue))])]):_c('div',[_c('div',{staticClass:\"flex-space-between\"},[_c('span',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(message.label))]),_vm._v(\" 被修改 \")]),(!_vm.isSupplier)?_c('span',{on:{\"click\":function($event){_vm.showSupplierPrice = !_vm.showSupplierPrice}}},[_c('span',{staticClass:\"text-link\"},[_vm._v(\"查看明细\")]),(_vm.showSupplierPrice)?_c('i',{staticClass:\"el-icon-arrow-down\"}):_c('i',{staticClass:\"el-icon-arrow-right\"})]):_vm._e()]),(_vm.showSupplierPrice)?_c('div',{staticClass:\"supplierPriceTable\",class:{sidebar: _vm.isSidebar}},[_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":message.oldValue,\"border\":true}}),_c('span',[_vm._v(\"改为\")]),_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":message.newValue,\"border\":true}})],1):_vm._e()])])}),_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){_vm.showAll = false}}},[_vm._v(\"收起全部\")])],2):_c('div',[(_vm.messageList[0].type === 0)?_c('div',{staticClass:\"item\"},[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].label))]),_vm._v(\" 由 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].oldValue))]),_vm._v(\" 被修改为 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].newValue))])]):_c('div',[_c('div',{staticClass:\"flex-space-between\"},[_c('span',[_vm._v(\" 材料 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.itemName))]),_vm._v(\"的 \"),_c('span',{staticClass:\"primary-text\"},[_vm._v(_vm._s(_vm.messageList[0].label))]),_vm._v(\"被修改 \")]),(!_vm.isSupplier)?_c('span',{on:{\"click\":function($event){_vm.showSupplierPrice = !_vm.showSupplierPrice}}},[_c('span',{staticClass:\"text-link\"},[_vm._v(\"查看明细\")]),(_vm.showSupplierPrice)?_c('i',{staticClass:\"el-icon-arrow-right\"}):_c('i',{staticClass:\"el-icon-arrow-down\"})]):_vm._e()]),(_vm.showSupplierPrice)?_c('div',{staticClass:\"supplierPriceTable\",class:{sidebar: _vm.isSidebar}},[_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":_vm.messageList[0].oldValue,\"border\":true}}),_c('span',[_vm._v(\"改为\")]),_c('SupplierPriceList',{staticClass:\"supplierPriceBlock\",attrs:{\"data\":_vm.messageList[0].newValue,\"border\":true}})],1):_vm._e()]),(_vm.messageList.length > 1)?_c('div',{staticClass:\"text-link\",on:{\"click\":function($event){_vm.showAll = true}}},[_vm._v(\"查看全部\")]):_vm._e()])]):_c('div',[_vm._v(\"暂无数据\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"table-container\"},[_c('el-table',{attrs:{\"data\":_vm.data,\"border\":_vm.border,\"header-cell-class-name\":\"customer-header\",\"cell-class-name\":\"customer-row\"}},[_c('el-table-column',{attrs:{\"prop\":\"supplierName\",\"label\":\"供应商名称\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"referencePrice\",\"label\":\"参考单价\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"cost\",\"label\":\"成本价\",\"show-overflow-tooltip\":\"\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"supplierStatus\",\"label\":\"是否为默认供应商\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.supplierStatus === 1 ? '是' : '否'))])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent } from '@vue/composition-api';\n\ntype SupplierPriceForDisplay = {\n  referencePrice: string,\n  supplierName: string,\n  cost: string,\n  supplierStatus: number\n};\n\nexport default defineComponent({\n  dialogify: {\n    props: {\n      closeOnClickModal: false,\n      width: '480px',\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n    },\n  },\n  props: {\n    data: {\n      type: Array as () => SupplierPriceForDisplay[],\n      required: true,\n      default: [],\n    },\n    border: {\n      type: Boolean,\n      default: false,\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierPriceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SupplierPriceList.vue?vue&type=template&id=4db97a97&scoped=true&\"\nimport script from \"./SupplierPriceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./SupplierPriceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SupplierPriceList.vue?vue&type=style&index=0&id=4db97a97&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4db97a97\",\n  null\n  \n)\n\nexport default component.exports","import axios from '@/utils/axios';\n\ntype Value = {\n  id?:string,\n  label: string\n};\n\nexport type Property = {\n  id: string,\n  title: string,\n  required: number,\n  component: number,\n  params: any,\n  values: Value[] | ''\n};\n\nconst cache: {\n  properties: Property[]\n} = {\n  properties: [],\n};\n\nexport async function fetchProperties() {\n  if (cache.properties && cache.properties.length === 0) {\n    cache.properties = (await axios({\n      url: '/anta-material/dynamics/property/list',\n      method: 'get',\n    })).data;\n  }\n  return cache.properties;\n}\nexport function getSelectionProperty(title: string) {\n  return cache.properties.find(p => {\n    return p.title === title && p.values && p.values.length !== 0;\n  }) || null;\n}\n\nexport function getProperty(title: string) {\n  return cache.properties.find(p => {\n    return p.title === title;\n  }) || null;\n}\n\nexport async function getPropertyByTitle(title: string) {\n  if (cache.properties && cache.properties.length === 0) {\n    try {\n      await fetchProperties();\n    } catch {\n      cache.properties = [];\n    }\n  }\n  return getProperty(title);\n}\n\nexport function findValue(value: string | string[], property: Property | null, placeholder:string = '--') {\n  if (!property) return value || placeholder;\n  if (!value) return placeholder;\n  const values = property.values as Value[];\n  // component=3表示是数组，要从值列表中找出对应值，组成数组再拼接成字符串\n  if (property.component === 3) {\n    return values.filter(({ id }) => (value as string[]).includes(id))?.map(i => i.label)?.join(', ');\n  }\n  return values.find(v => {\n    return v.id === value;\n  })?.label || placeholder;\n}\n\nexport default {};\n","// const field = {\n//   category: '分类',\n//   season: '季节',\n//   brand: '品牌',\n//   supplierName: '供应商名称',\n//   materialNumber: '材料编码',\n//   old_material_number: '旧材料编码',\n//   materialSpecification: '材料规格',\n//   weight: '克重',\n//   unit: '单位',\n//   available_area: '使用部位',\n//   ingredient: '成分',\n//   yarn_proportion: '纱线及占比',\n//   reference_price: '参考单位',\n//   supplier_price: '供应商价',\n//   color_limit_type: '颜色限制类别(鞋)',\n//   color_limit_remark: '颜色限制说明(鞋)',\n//   sample_moq: '样品起订量',\n//   production_moq: '量产起订量',\n//   post_treatment_process: '后处理工艺',\n//   acceptable_temperature: '可承受高温范围',\n//   development_livecycle: '开发周期',\n//   production_livecycle: '量产周期',\n//   special_restrictions: '特殊物限制',\n//   shoemaking_risks: '制鞋风险',\n//   compound_way: '复合方式',\n//   dyeing_finishing: '色纱/染整',\n//   materialCountryOfOrigin: '产地',\n//   daily_production_capacity: '日产能',\n//   detection_number: '检测标准编号',\n//   evergreen: '常青材料',\n//   PU_layer_composition: 'PU层成分',\n//   natural_leather_oil_proportion: '天然皮革含油量',\n//   volume: '体积（M3）',\n// };\n// export default field;\nconst materialTypes = {\n  origin: '产地',\n  materialName: '面料名称',\n  supplierName: '供应商',\n  material_number: '材料编码',\n  category: '分类',\n  season: '季节',\n  brand: '品牌',\n  old_material_number: '旧物料编号',\n  material_specification: '材料规格',\n  weight: '克重',\n  unit: '单位',\n  available_area: '使用部位',\n  ingredient: '成分',\n  yarn_proportion: '纱线及占比',\n  reference_price: '参考单价',\n  supplier_price: '供应商价',\n  color_limit_type: '颜色限制类别',\n  color_limit_remark: '颜色限制说明',\n  sample_moq: '样品起订量',\n  production_moq: '量产起订量',\n  post_treatment_process: '后处理工艺',\n  acceptable_temperature: '可承受高温范围',\n  development_livecycle: '开发周期',\n  production_livecycle: '量产周期',\n  special_restrictions: '特殊物限制',\n  shoemaking_risks: '制鞋风险',\n  compound_way: '复合方式',\n  dyeing_finishing: '色纱/染整',\n  daily_production_capacity: '日产能',\n  detection_number: '检测标准编号',\n  evergreen: '常青材料',\n  PU_layer_composition: 'PU层成分',\n  natural_leather_oil_proportion: '天然皮革含油率',\n  volume: '体积',\n  remark: '备注',\n  plm: 'plm编码',\n  product_line: '适用产品线',\n  function: '功能性',\n  label: '吊牌',\n  trend: '流行趋势',\n  season_lib: '季节库',\n  cost: '成本价',\n  supplier_price_array: '供应商价格',\n  approve_detail: '评审状态',\n\n};\nexport default materialTypes;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable camelcase */\n\nimport {\n  computed, defineComponent, ref,\n} from '@vue/composition-api';\nimport {\n  getDictionaryByTypeCode,\n  fetchAntaPropertyByCode,\n} from '@/loaders/dictionary';\n\n\nimport { DictItem } from '@/models/Dictionary';\nimport keys from '_/keys';\nimport axios from '@/api/axios';\nimport { getCurrentCompany } from '@/loaders/company';\nimport useLoader from '_/composables/use-loader';\nimport SupplierPriceList from '../SupplierPriceList.vue';\nimport {\n  fetchProperties,\n  findValue,\n  getProperty,\n  getPropertyByTitle,\n  getSelectionProperty,\n} from './property';\nimport materialTypes from './materialType';\n\nexport type PriceUnit = {\n  label: string,\n  // itemCode: string,\n  itemValue: number,\n};\n\nasync function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nconst colorList: { [key: number]: string } = {\n  1: '全部颜色',\n  2: '仅部分颜色',\n  3: '荧光色除外',\n};\n\nconst approveStatus = {\n  1: '待评审',\n  2: '评审中',\n  3: '复核中',\n  4: '已完成',\n} as { [x: number]: string };\n\ntype SupplierPrice = {\n  reference_price_unit: number,\n  reference_price_value: number,\n  cost_unit: number,\n  cost_value: number,\n  supplier_name: string,\n  supplier_status: number\n};\n\ntype Message = {\n  label: string;\n  oldValue: string;\n  newValue: string;\n};\n\ntype PriceType = {\n  value: string | number;\n  unit: number;\n};\n\ntype Supplier = {\n  id: string;\n  originalSupplierName: string;\n  companyId?: string;\n  name?: string;\n};\n\ntype Dictionary = {\n  id: string;\n  value: string;\n};\n\ntype TypeItem = {\n  itemCode: string;\n  itemValue: string;\n  label: string;\n};\nexport default defineComponent({\n  props: {\n    form: {\n      required: true,\n    },\n  },\n  components: {\n    SupplierPriceList,\n  },\n  setup(props) {\n    const changeLogRef = ref();\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n    let formList;\n    if (typeof props.form === 'string') {\n      formList = JSON.parse(JSON.parse(props.form));\n    } else {\n      formList = props.form;\n    }\n    // const formList = JSON.parse(props.form);\n    const oldForm = formList[1];\n    const newForm = formList[0];\n\n    const itemName = newForm.materialName || '';\n    const showAll = ref(false);\n    const showSupplierPrice = ref(false);\n    // const statusList = ['--', '开发中', '已完成', '驳回', '停用'];\n    // const typeItemList = ['priceUnit', 'mqqUnit'];\n    const evergreenList = ['', 'TRUE', 'FALSE'];\n\n    const isSidebar = computed(() => {\n      if (changeLogRef.value) {\n        console.log(changeLogRef.value.offsetWidth);\n        return changeLogRef.value.offsetWidth < 440;\n      }\n      return false;\n    });\n\n\n    function isDifferent(a: any, b: any) {\n      return JSON.stringify(a) !== JSON.stringify(b);\n    }\n\n    function findTypeItem(list: PriceUnit[], value: number | undefined) {\n      return (\n        list.find((i) => {\n          return i.itemValue === value;\n        })?.label || '--'\n      );\n    }\n\n    function handleSupplierName(id: string, list: Supplier[]) {\n      return (\n        list.find((supplier) => {\n          return supplier.id === id;\n        })?.originalSupplierName || '--'\n      );\n    }\n\n    function handleCostLikeData(\n      data: PriceType | undefined,\n      priceUnitList: PriceUnit[],\n    ) {\n      // console.log('handleCostList', data, priceUnitList);\n      if (data && data.value) {\n        return `${data.value ?? '--'} ${findTypeItem(\n          priceUnitList,\n          data.unit,\n        )}`;\n      }\n      return '--';\n    }\n\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'reference_price'\n    ): PriceType;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'cost'\n    ): PriceType;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'supplier_name'\n    ): string;\n    function fetchSupplierPriceArr(\n      current: SupplierPrice,\n      key: 'reference_price' | 'cost' | 'supplier_name',\n    ) {\n      if (!current) return undefined;\n      // const current = prices[0];\n      switch (key) {\n        case 'reference_price':\n          return {\n            value: current.reference_price_value,\n            unit: current.reference_price_unit,\n          } as PriceType;\n        case 'cost':\n          return {\n            value: current.cost_value,\n            unit: current.cost_unit,\n          } as PriceType;\n        case 'supplier_name':\n          return current.supplier_name as string;\n        default:\n          return undefined;\n      }\n    }\n\n    function handleSupplierPriceArr(\n      list: SupplierPrice[],\n      priceUnitList: PriceUnit[],\n      supplierList: Supplier[],\n    ) {\n      return list.map((i) => {\n        return {\n          referencePrice: handleCostLikeData(\n            fetchSupplierPriceArr(i, 'reference_price'),\n            priceUnitList,\n          ),\n          cost: handleCostLikeData(\n            fetchSupplierPriceArr(i, 'cost'),\n            priceUnitList,\n          ),\n          supplier_name: handleSupplierName(\n            fetchSupplierPriceArr(i, 'supplier_name'),\n            supplierList,\n          ),\n          supplierStatus: i.supplier_status,\n        };\n      });\n    }\n\n    function getPriceUnit() {\n      return [{\n        label: '人民币',\n        // itemCode: 'CNY',\n        itemValue: 1,\n      }, {\n        label: '美元',\n        // itemCode: 'CNY',\n        itemValue: 2,\n      }];\n    }\n\n    const messageList = useLoader(\n      async () => {\n        const oldKeys = keys(oldForm);\n        const newKeys = keys(newForm);\n        const form = oldKeys.length > newKeys.length ? oldForm : newForm;\n\n        const [\n          allSupplierList,\n          priceUnits,\n          propertyList,\n        ] = await Promise.all([\n          fetchSupplierAll(),\n          getPriceUnit(),\n          fetchProperties(),\n        ]);\n\n        console.log(propertyList);\n\n        const messages = keys(form).map((key) => {\n          let oldValue;\n          let newValue;\n          let type = 0;\n          let label = materialTypes[(key as unknown) as keyof typeof materialTypes];\n          if (isDifferent(oldForm[key], newForm[key])) {\n            switch (key) {\n              case 'evergreen':\n                oldValue = evergreenList[Number(oldForm[key])] || '--';\n                newValue = evergreenList[Number(newForm[key])] || '--';\n                break;\n              case 'materialName':\n                if (oldForm[key] !== newForm[key]) {\n                  oldValue = oldForm[key];\n                  newValue = newForm[key];\n                }\n                break;\n              case 'material_status':\n                // oldValue = statusList[oldForm[key]];\n                // newValue = statusList[newForm[key]];\n                oldValue = undefined;\n                newValue = undefined;\n                break;\n              case 'color_limit_type':\n                oldValue = colorList[oldForm[key]] || '--';\n                newValue = colorList[newForm[key]] || '--';\n                break;\n              case 'approve_detail':\n                oldValue = approveStatus[oldForm[key].approve_status] || ' -- ';\n                newValue = approveStatus[newForm[key].approve_status] || ' -- ';\n                break;\n              case 'season':\n                // eslint-disable-next-line max-len\n                oldValue = `${oldForm.season?.year || ''} ${oldForm.season?.season || ''} ${findValue(oldForm.season['品牌'], getSelectionProperty('品牌')) || oldForm.season['品牌']}`;\n                // eslint-disable-next-line max-len\n                newValue = `${newForm.season?.year || ''} ${newForm.season?.season || ''} ${findValue(newForm.season['品牌'], getSelectionProperty('品牌')) || newForm.season['品牌']}`;\n                break;\n              case 'supplier_price_array':\n                oldValue = handleSupplierPriceArr(\n                  oldForm[key],\n                  priceUnits,\n                  allSupplierList,\n                );\n                newValue = handleSupplierPriceArr(\n                  newForm[key],\n                  priceUnits,\n                  allSupplierList,\n                );\n                type = 1;\n                break;\n              default:\n                console.log(key);\n                console.log(oldForm[key], newForm[key]);\n                oldValue = findValue(\n                  oldForm[key],\n                  getSelectionProperty(key as string),\n                );\n                newValue = findValue(\n                  newForm[key],\n                  getSelectionProperty(key as string),\n                );\n                console.log(oldValue, newValue);\n                label = label ?? key as string;\n                break;\n            }\n          }\n\n          return {\n            label,\n            oldValue,\n            newValue,\n            type,\n          };\n        });\n        console.info(messages);\n        // debugger;\n        return messages.filter((item) => {\n          // console.log(item);\n          return item.oldValue !== undefined && item.newValue !== undefined;\n        });\n      },\n      {},\n      {\n        initialValue: undefined,\n      },\n    );\n\n    return {\n      messageList,\n      itemName,\n      oldForm,\n      newForm,\n      showAll,\n      showSupplierPrice,\n      changeLogRef,\n      isSidebar,\n      isSupplier,\n      // fetchCategory,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=57918cc7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57918cc7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57918cc7\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectableBox.vue?vue&type=style&index=0&id=54889722&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=style&index=0&id=7d61fe97&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"refsForm\",staticClass:\"flex-wrap upload-form\",staticStyle:{\"background-color\":\"#fff\"},attrs:{\"model\":_vm.newMaterial,\"rules\":_vm.rules,\"size\":\"small\"}},[(_vm.status === 'upload' && _vm.isQt())?_c('el-divider',{staticClass:\"divider\"}):_vm._e(),_c('el-form-item',{staticStyle:{\"width\":\"100%\",\"padding-right\":\"0\"},attrs:{\"label\":\"选择分类\",\"prop\":\"extraProperty.category\",\"required\":\"\"}},[_c('MaterialTypeCascade',{ref:\"typeCascade\",staticClass:\"fixed-width anta\",staticStyle:{\"width\":\"50%\",\"padding-right\":\"20px\"},attrs:{\"strictMode\":true,\"showClearable\":false,\"disabled\":_vm.status === 'edit'},on:{\"change\":function (ids, nodes) {\n          _vm.updateInfo('category', ids[ids.length - 1]);\n          _vm.categoryArr = nodes;\n        }},model:{value:(_vm.parentIds),callback:function ($$v) {_vm.parentIds=$$v},expression:\"parentIds\"}})],1),(_vm.parentIds.length)?_c('el-divider'):_vm._e(),_c('AntaMiddleClass2Form',{ref:\"templateForm\",staticClass:\"dynamic-form flex-wrap\",attrs:{\"jsonschemaListHander\":_vm.setJsonschemaFormItem,\"disabled\":!_vm.canEdit,\"size\":\"small\",\"validateDropdownItemImmediatly\":_vm.status === 'upload',\"middleClassId\":_vm.middleCategoryId || '',\"formData\":_vm.propertyFromTemplate}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export type PublicKey = Exclude<PropertyKey, symbol>;\n\n/**\n * parse a string to [[PublicKey]] array\n *\n * ```javascript\n *  parse('a[0].b[2]') // => ['a', 0, 'b', 2]\n * ```\n *\n * @param str the string you wanna parse\n */\nconst r = /(?=(?:\\[|\\.))/;\nexport function parse(str: string): PublicKey[] {\n  return str.split(r)\n    .filter(item => item.trim())\n    // eslint-disable-next-line no-nested-ternary\n    .map(item => (item[0] === '.' ? item.substr(1) : (item[0] === '[' ? +item.substr(1, item.length - 2) : item)));\n}\n\n\n/**\n * query the result from target by keys\n * @param target\n * @param keys\n * @param createdTarget if it's ```true```, this funciton will create object or array when necessary\n * ```javascript\n * const obj = { a: { b: [1, 2] } }\n * query(obj, 'a.b[0]') // => { target: [1, 2], key: 0, value: 1 }\n * ```\n * or with **createTarget** param\n * ```javascript\n * const obj = { }\n * query(obj, 'a.b[0]', true) => { target: [], key: 0, value: undefined }\n * ```\n *\n */\nexport function query(target: any, keys?: string | PublicKey[] | null, createdTarget = false) {\n  if (keys == null || keys === '') {\n    return { target, key: undefined, value: target };\n  }\n  if (typeof keys === 'string') {\n    keys = parse(keys) as PublicKey[];\n  } else {\n    keys = keys.slice() as PublicKey[];\n  }\n  let value = target;\n  let key: PublicKey;\n  if (!keys.length) {\n    return { target, value };\n  }\n  do {\n    target = value;\n    key = keys.shift()!;\n    if (target && !Object.prototype.hasOwnProperty.call(target, key) && createdTarget) {\n      if (typeof key === 'number') {\n        target[key] = [];\n      } else {\n        target[key] = {};\n      }\n    }\n    // this line may throw when target is undefined, and i do not need handle\n    value = target[key];\n  } while (keys.length);\n  return { target, key, value };\n}\n\n/**\n * deepin target, and set value of keys from target\n * @param target\n * @param keys\n * @param value\n *\n * ```javascript\n *\n * const obj = { a: { b: [1, 2] } }\n * query(obj, 'a.b[0]', 3)\n * obj.a.b[0] === 3 // => true\n *\n * ```\n */\nexport function set(target: object, keys: string | PublicKey[] | null, value: any, createdTarget = true): void {\n  const result = query(target, keys, createdTarget);\n  if (result.key) {\n    result.target[result.key] = value;\n  }\n}\n\n\nexport default set;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"season-select\"},[_c('el-select',_vm._b({directives:[{name:\"elSelectMiddle\",rawName:\"v-elSelectMiddle\"}],attrs:{\"filterable\":\"\",\"filter-method\":_vm.handlerFilter},on:{\"change\":_vm.handleChange,\"visible-change\":_vm.handleVisable},model:{value:(_vm.currentValue),callback:function ($$v) {_vm.currentValue=$$v},expression:\"currentValue\"}},'el-select',_vm.$attrs.attrs,false),_vm._l((_vm.options),function(ref){\nvar id = ref.id;\nvar value = ref.value;\nvar isDelete = ref.isDelete;\nreturn _c('el-option',{key:id,attrs:{\"disabled\":isDelete === 1,\"value\":id,\"label\":value}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { fetchAntaPropertyByCode } from '@/loaders/dictionary';\n\nexport type Obj = {\n  [key in string | number]: any;\n};\n\nexport interface ObjValue{\n  year: string,\n  season: 'Q1'|'Q2'|'Q3'|'Q4'|'',\n  品牌: string\n}\nexport type Value = ObjValue | null;\n\nexport interface Option{\n  id: string,\n  value:string,\n}\n\nexport type Options = Option[];\n\nexport const _map:Obj = {\n  0: 'year',\n  1: 'season',\n  2: '品牌',\n};\n\n\nconst getYears = () => {\n  const currentYear = 2020;\n  // const range = [-20, 50];\n  // const sortNums = [...Array(range[1] - range[0])].map((_, i) => range[0] + i).sort((a, b) => Math.abs(a) - Math.abs(b));\n  const afterYears = [...Array(51)].map((_, i) => currentYear + i);\n  const beforeYears = [...Array(20)].map((_, i) => currentYear - i - 1);\n  const years = [...afterYears, ...beforeYears].map(item => {\n    const value = `${item}`;\n    return {\n      id: value,\n      label: value,\n    };\n  });\n  return years;\n};\n\nconst getSeansons = () => [...Array(4)].map((_, i) => ({ id: `Q${i + 1}`, label: `Q${i + 1}` }));\n\nconst combine = (chunks:Obj[][]) => {\n  const result:any[] = [];\n\n  const helper = (i:number, prev:Obj[] = []) => {\n    if (i === chunks.length) {\n      result.push(prev);\n      return;\n    }\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const item of chunks[i]) {\n      helper(i + 1, [...prev, item]);\n    }\n  };\n\n  helper(0);\n\n  return result;\n};\n\nexport const getCombines = async () => {\n  const productTypes = await fetchAntaPropertyByCode('品牌');\n  const years = getYears();\n  const seasons = getSeansons();\n  let combines = combine([years, seasons, productTypes]);\n\n\n  combines = combines.map(_combine => {\n    const value = _combine.reduce((obj:Obj, cur:Obj, index:number) => {\n      const key = _map[index];\n      obj[key] = cur.id;\n      return obj;\n    }, {});\n\n    const id = JSON.stringify(value);\n    const label = _combine.map((item:Obj, i:number) => (_map[i] === 'year' ? +item.label.slice(2) : item.label)).join('');\n\n    return {\n      id,\n      value: label,\n    };\n  });\n\n  return combines;\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, toRefs, watch, onBeforeMount, markRaw, shallowReactive, getCurrentInstance,\n} from '@vue/composition-api';\nimport useClosest from '_/composables/use-closest';\nimport {\n  getCombines, Options, Value, ObjValue,\n} from './utils';\n\n\nlet allOptions: Options = [];\nlet prevOptions: Options = [];\nconst OPTIONS_LIMIT = 100;\n\n\nconst getFilterList = (lableStr: string = '') => {\n  const filters = allOptions.filter(item => item.value.includes(lableStr));\n  const slices = filters.slice(0, OPTIONS_LIMIT);\n  return slices;\n};\n\n// 初始化时的筛选逻辑\nconst getInitFilterList = (labelStr:string = '') => {\n  const index = allOptions.findIndex(item => item.value.includes(labelStr));\n  const slices = allOptions.slice(index, index + OPTIONS_LIMIT);\n  return slices;\n};\n\nexport default defineComponent({\n  name: 'season-select',\n  props: {\n    value: {\n      type: Object as () => Value,\n      requied: true,\n    },\n    productTypes: {\n      type: Array,\n    },\n  },\n  setup(props, { emit, refs }) {\n    const ElFormItem = useClosest('ElFormItem');\n    const emptyValue = null;\n    const state = shallowReactive({\n      currentValue: emptyValue as string | null,\n      options: markRaw([]) as Options,\n    });\n\n    const value2CurrenValue = (val?: Value) => {\n      const stringifyValue = (objVal: ObjValue) => {\n        const obj = {\n          year: objVal.year,\n          season: objVal.season,\n          品牌: objVal.品牌,\n        };\n        return JSON.stringify(obj);\n      };\n      state.currentValue = !val ? emptyValue : stringifyValue(val!);\n    };\n\n    const currentValue2Value = (val: string | null) => {\n      const value = !val ? emptyValue : JSON.parse(val);\n      emit('input', value);\n\n      // 解决校验时拿的是旧值的问题\n      return ElFormItem.value?.$emit('el.form.change');\n    };\n\n    const init = async () => {\n      allOptions = await getCombines();\n      // 初始加载时的options加载筛选逻辑，如果有值，默认以年份搜索\n      const initLableStr = props.value?.year?.slice(2, 4) || '';\n      state.options = getInitFilterList(initLableStr);\n      value2CurrenValue(props.value);\n    };\n\n    watch(() => props.value, val => {\n      value2CurrenValue(val);\n    });\n\n    watch(() => state.currentValue, val => {\n      currentValue2Value(val);\n    });\n\n    watch(() => props.productTypes, () => {\n      init();\n    }, {\n      immediate: true,\n    });\n\n\n    // onBeforeMount(() => {\n    //  init();\n    // });\n\n    const handlerFilter = (value: string) => {\n      state.options = getFilterList(value);\n    };\n\n    const handleChange = () => {\n      prevOptions = state.options;\n    };\n\n    const handleVisable = (isShow: boolean) => {\n      if (isShow) return;\n      if (!prevOptions?.length) return;\n      state.options = prevOptions;\n    };\n\n    return {\n      ...toRefs(state),\n      handlerFilter,\n      handleChange,\n      handleVisable,\n    };\n  },\n});\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5aa64bef&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5aa64bef&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aa64bef\",\n  null\n  \n)\n\nexport default component.exports","import { defineComponent } from '@vue/composition-api';\n// import NumberType from '@4dst-saas/form-utils/dist/components/jsonschema2form/NumberType';\nimport NumberType from '@4dst-saas/form-utils/dist/components/jsonschema2form/NumberType';\nimport isFilled from '@/utils/validators/is-filled';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\n\nconst PriceFormItem = defineComponent({\n  // model: {\n  //   prop: 'reference_price',\n  //   event: 'change',\n  // },\n  props: {\n    reference_price: {\n      type: Object as () => {\n        value: number, unit: number,\n      },\n      reuqired: true,\n      default: () => ({\n        value: null,\n        unit: 1,\n      }),\n    },\n  },\n\n  render() {\n    // const { $attrs: attrs } = this;\n    return <div class=\"flex\" style=\"width: 100%;\" >\n      <NumberType {...this.$attrs.attrs}\n        val={ this.reference_price.value }\n        rules={ this.$attrs.required ? validator2ElemRule(isFilled) : null}\n        onchange={(e: number) => {\n          this.reference_price.value = e;\n          // this.$set(this.reference_price, 'value', e);\n          // console.info(this.reference_price);\n          // this.$emit('change', this.reference_price);\n        }}\n      ></NumberType>\n      <el-select\n        disabled={this.$attrs.disabled}\n        size=\"small\"\n        style=\"width: 124px; margin-left: 6px\"\n        vModel={ this.reference_price.unit }\n        // value={ this.reference_price.unit }\n        // onchange={(e: number) => {\n        //   this.reference_price.unit = e;\n        //   this.$set(this.reference_price, 'unit', e);\n        //   console.info(this.reference_price);\n        //   // thi-s.$emit('change', this.reference_price);\n        // }}\n        >\n        <el-option value={1} label='人民币'></el-option>\n        <el-option value={2} label='美元'></el-option>\n      </el-select>\n    </div>;\n  },\n});\n\nexport default PriceFormItem;\n","\nimport { defineComponent, onMounted, ref } from '@vue/composition-api';\n// import axios from '@/utils/axios';\nimport { fetchSupplierAll } from '@/loaders/supplier';\n\nconst SupplierSelect = defineComponent({\n  name: 'SupplierSelect',\n  props: {\n    supplier_name: String,\n  },\n  model: {\n    prop: 'supplier_name',\n    event: 'change',\n  },\n  setup() {\n    const supplierList = ref([]);\n    onMounted(async () => {\n      supplierList.value = await fetchSupplierAll();\n    });\n    return {\n      supplierList,\n    };\n  },\n\n  render() {\n    return <el-select { ...{ attrs: this.$attrs.attrs } } value={this.supplier_name} onchange={ (e: string) => this.$emit('change', e) }>\n    {/* // return <el-select vModel={this.supplier_name} { ...this.$attrs.attrs }> */}\n      {this.supplierList.map((s: {id: string, name: string, originalSupplierName: string}) => {\n        return <el-option value={s.id} label={ s.originalSupplierName }></el-option>;\n      })}\n    </el-select>;\n  },\n});\n\nexport default SupplierSelect;\n","import axios from '@/utils/axios';\nimport {\n  attribute2JSONschema, IAttribute, jsonschema2FormItemValidatorObject,\n} from '@/components/anta-customer-files/attribute';\nimport useLoader from '_/composables/use-loader';\nimport extract from '_/extract';\nimport {\n  computed,\n  defineComponent, reactive, ref, toRefs,\n} from '@vue/composition-api';\nimport SeasonSelect from '@/views/material/info-anta/components/FormComponents/SeasonSelect/index.vue';\nimport PriceFormItem from '@/views/material/info-anta/components/FormComponents/PriceFormItem';\nimport SupplierSelect from '@/views/material/info-anta/components/FormComponents/SupplierSelect';\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport Jsonschema2Form from '@4dst-saas/form-utils/dist/components/jsonschema2form';\nimport Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\nimport difference from '@4dst-saas/public-utils/dist/difference';\n\nexport default defineComponent({\n  name: 'AntaMiddleClass2Form',\n  components: {\n    SeasonSelect,\n    PriceFormItem,\n    SupplierSelect,\n    MaterialTypeCascade,\n  },\n  props: {\n    middleClassId: {\n      type: String, required: true,\n    },\n    formData: {\n      type: Object as () => { [key: string]: any },\n      default: () => {\n        return {\n        // eslint-disable-next-line quote-props\n          // '测试下拉': '1306902076941131778',\n        };\n      },\n    },\n    validateDropdownItemImmediatly: { type: Boolean, default: true },\n    jsonschemaListHander: {\n      type: Function as unknown as () => (jss: Jsonschema[]) => Jsonschema[],\n    },\n    showValidateButton: { type: Boolean, default: false },\n  },\n  render() {\n    if (!this.middleClassId || this.notHasTemplate) {\n      return <div></div>;\n    }\n    // if (!this.jsonschema) {\n    //   return <div vLoading={true} style={{\n    //     height: '300px', width: '100%',\n    //   }}></div>;\n    // }\n    // return <AnalysisWrapper jsonschema={this.jsonschema} formData={this.formData}\n    // form={this.formData}></AnalysisWrapper>;\n    const j2f = <Jsonschema2Form ref='formRef' jsonschema={this.jsonschema} {...{ attrs: this.$attrs }}\n      // formItemValidator={this.formItemValidator}\n      form={this.validateDropdownItemImmediatly ? this.formData : (this.form || this.formData)}\n      onchange={(v: any) => this.$emit('change', v)}\n      labelPosition='top' showValidateButton={this.showValidateButton}\n      ></Jsonschema2Form>;\n    const style = {\n      height: '200px',\n      width: '100%',\n    };\n    return this.jsonschema ? j2f : <div vLoading={true} style={style}>\n      <div vShow={false}>{j2f}</div>\n    </div>;\n  },\n  setup(props, { emit }) {\n    // let t1:any = null;\n    const propertylist = useLoader(async ({ middleClassId: id }) => {\n      if (!id) return null;\n      const r = (await axios({\n        url: '/anta-material/template/middle',\n        params: { id },\n        method: 'GET',\n      })).data as { propertyId?: string, sort: number, isSystem?: boolean, key: string, title: string, required: 0|1}[];\n      if (!r.length) emit('error', new Error('对应的中类没有模板，请更换一个有模板的中类'));\n      return r.sort((a, b) => a.sort - b.sort);\n      // return t1;\n    }, extract(toRefs(props), ['middleClassId']), {\n      initialValue: null,\n      loadingValue: (lastResult) => lastResult,\n    });\n\n    // let t2:any = null;\n    const jsonschema = useLoader(async ({ propertylist: pList }) => {\n      if (!pList || !pList.length) return null;\n\n      const list = await Promise.all(pList.map(async (propertyItem) => {\n        if (propertyItem.isSystem) {\n          return propertyItem;\n        }\n        return {\n          ...(await axios({\n            url: `/anta-material/dynamics/property/detail?id=${propertyItem.propertyId}`, method: 'GET',\n          })).data,\n          required: !!propertyItem.required,\n        } as IAttribute;\n      }));\n      let jssList = attribute2JSONschema(list) as Jsonschema[];\n\n      if (props.jsonschemaListHander) jssList = props.jsonschemaListHander(jssList);\n      // t2 = jssList;\n      return jssList;\n      // const res = JSONschemaList2JSONschema(jssList);\n      // return res;\n    }, reactive({ propertylist }), { initialValue: null, loadingValue: (lastResult) => lastResult });\n    const formRef = ref<InstanceType<typeof Jsonschema2Form>>();\n\n    // const formItemValidator = useLoader(({ jsonschema: _jss }) => {\n    //   if (!_jss) return null;\n    //   const res = jsonschema2FormItemValidatorObject(_jss);\n    //   // console.log(res, res['测试下拉']('6'));\n    //   return res;\n    // }, reactive({ jsonschema }));\n\n    const form = useLoader(async ({ jsonschema: _jss, formData: _form }) => {\n      if (!_jss || !Object.keys(_form).length) return _form;\n      // const properties = _jss.properties!;\n      // const propertiesKeys = Object.keys(properties);\n      const formKeys = Object.keys(_form);\n      const shouldHandleKeys = formKeys.filter(key => {\n        if (_jss.find(i => i.prop === key || i.title === key)) return true;\n        return false;\n      });\n      const shouldFetchList: {key: string, id: string}[] = [];\n      shouldHandleKeys.forEach(key => {\n        const jss = _jss.find(i => i.prop === key || i.title === key)!;\n        if (!jss.oneOf && !jss.anyOf) return;\n        const currentValue = _form[key]! as string | string[];\n        if (Array.isArray(currentValue)) {\n          const constList = jss.anyOf!.map(item => item.const) as unknown as {\n            label: string, value: string,\n          }[];\n          const notFounds = currentValue.filter(id => !constList.find(i => i.value === id));\n          if (notFounds.length) {\n            const founds = difference(currentValue, notFounds);\n            _form[key] = founds;\n            shouldFetchList.push(...notFounds.map(id => ({ id, key })));\n          }\n        } else {\n          const constList = jss.oneOf!.map(item => item.const) as unknown as {\n            label: string, value: string,\n          }[];\n          const target = constList.find(i => i.value === currentValue);\n          if (!target) shouldFetchList.push({ key, id: currentValue });\n        }\n      });\n      await Promise.all(shouldFetchList.map(async ({ key, id }) => {\n        const value = (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id },\n        })).data as string;\n        if (Array.isArray(_form[key])) {\n          _form[key].push(value);\n        } else {\n          _form[key] = value;\n        }\n      }));\n      return _form;\n    }, reactive({ jsonschema, ...extract(toRefs(props), ['formData']) }));\n\n    // watchEffect(async () => {\n    //   if (jsonschema.value) {\n    //     await delay(500);\n    //     Object.assign(form.value, { ...props.formData });\n    //     Object.assign(props.formData, form.value);\n    //   }\n    // });\n    async function validate() {\n      // 没有模板时，不用校验\n      if (!formRef.value) return true;\n      return formRef.value.validate();\n    }\n    return {\n      formRef,\n      jsonschema,\n      // formItemValidator,\n      notHasTemplate: computed(() => !!propertylist.value?.map(p => p.propertyId) && !propertylist.value?.map(p => p.propertyId).length),\n      form,\n      validate,\n    };\n  },\n});\n","import isFilled from '@/utils/validators/is-filled';\n// import strLength from '@/utils/validators/str-length';\n// import validPrice from '@/utils/validators/valid-price';\nimport validator2ElemRule from '@/utils/validators/utils/validator-to-elem-rule';\n// import i18n from 'i18next';\n\nconst rules = {\n  extraProperty: {\n    category: validator2ElemRule(isFilled),\n  },\n};\nexport default rules;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, onMounted, provide, watch, computed, onBeforeUnmount, onUnmounted,\n} from '@vue/composition-api';\n\nimport axios from '@/utils/axios';\nimport set from '@/utils/key-serializer';\nimport isQt from '@/utils/is-qt';\n\nimport MaterialTypeCascade from '@/components/MaterialTypeCascade.vue';\nimport { AntaMaterialInfo } from '@/models/AntaMaterialInfo';\nimport { fetchAntaPropertyByCode } from '@/loaders/dictionary';\nimport validateForm from '@/utils/validators/validate-form';\n\nimport { getCurrentCompany } from '@/loaders/company';\n\nimport AntaMiddleClass2Form from '@/components/dynamic-form/AntaMiddleClass2Form';\n\nimport DictionarySelectorNew from '@/components/dictionary/DictionarySelectorNew.vue';\n// import DictionarySelectorAnta from '@/components/dictionary/DictionarySelectorAnta.vue';\nimport { getHost, exec } from '@/utils/exec';\nimport { ElForm } from 'element-ui/types/form';\n// import ReferencePrice from './FormComponents/ReferencePrice';\nimport SeasonSelect from './FormComponents/SeasonSelect/index.vue';\nimport rules from './detail-validate';\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId: string, language = 'cn') => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n    },\n    params: { materialId },\n  });\n};\n\n// 类目详情\nexport const fetchMaterialDetail = async (id: string) => {\n  return (await axios({\n    method: 'get',\n    url: `/anta-material/category/detail?id=${id}`,\n  })).data;\n};\n\n// 类目详情\nexport const fetchDefaultUnitId = async (property: string) => {\n  return (await axios({\n    method: 'get',\n    url: '/anta-material/system/default/unit/category',\n    params: {\n      property,\n    },\n  })).data;\n};\n\n// 修改面料详情新增操作记录\nexport const addOperate = (groupAppId: string, data: { relateId: string, params: any }) => {\n  return axios({\n    headers: {\n      groupAppId,\n    },\n    method: 'post',\n    url: '/msgcenter/operate/add',\n    data,\n  });\n};\n\n// 获取全部供应商\nexport async function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nexport default defineComponent({\n  name: 'AntaMaterialForm',\n  components: {\n    // DictionarySelectorNew,\n    // DictionarySelectorAnta,\n    MaterialTypeCascade,\n    // ReferencePrice,\n    // SeasonSelect,\n    AntaMiddleClass2Form,\n  },\n  props: {\n    material: {\n      type: Object,\n      default: null,\n    },\n    status: {\n      type: String as () => 'upload' | 'edit' | 'convert',\n      default: 'edit',\n    },\n    templateMaterialId: {\n      type: String,\n      default: '',\n    },\n    isCreator: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  setup(props, { root }) {\n    const host = ref(null);\n\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n\n    // 表单ref\n    const templateForm = ref<InstanceType<typeof AntaMiddleClass2Form>>();\n    const refsForm = ref<InstanceType<typeof ElForm>>();\n    const typeCascade = ref<InstanceType<typeof MaterialTypeCascade>>();\n\n    // 自动表单数据\n    const propertyFromTemplate = ref<Partial<AntaMaterialInfo['extraProperty'] & { materialName: string }>>({});\n\n    // 是否创建者\n    // const isCreator = ref(false);\n\n    const canEdit = computed(() => {\n      return props.status === 'upload' || props.status === 'convert' || (props.status === 'edit' && props.isCreator);\n    });\n\n    provide('getStatus', props.status);\n\n    // 用于保存变更记录\n    const updateData = ref<{ [key: string]: any }[]>([{}, {}]);\n\n    // 获取全部供应商列表\n    const supplierList = ref<{ [key: string]: { companyId?: string, id: string, name: string, originalSupplierName: string } }>({});\n\n    // 用于对比哪些属性发生改变\n    const oldMaterial = ref<Partial<AntaMaterialInfo>>({});\n    const newMaterial = ref<AntaMaterialInfo>({\n      materialName: '',\n      extraProperty: {\n        category: '',\n        evergreen: 2,\n      },\n    });\n\n    // 获取分类信息\n    const parentIds = ref<string[]>([]);\n\n    // 中类ID\n    const middleCategoryId = computed(() => parentIds.value[1]);\n\n    // 类别节点数组\n    const categoryArr = ref<any[]>([]);\n\n    watch(() => categoryArr.value, async (v: any[]) => {\n      if ((props.status === 'upload' || props.status === 'convert')) {\n        const unit = await fetchDefaultUnitId(v[2].name);\n        if (!props.templateMaterialId) {\n          const companyId = await getCurrentCompany()?.id || '';\n          root.$set(propertyFromTemplate.value, '单位', unit);\n          root.$set(propertyFromTemplate.value, 'supplier_name', Object.values(supplierList.value).find((s) => s.companyId === companyId)?.id || '');\n          root.$set(propertyFromTemplate.value, 'reference_price', { value: null, unit: 1 });\n          root.$set(propertyFromTemplate.value, '品牌编码', (await fetchAntaPropertyByCode('品牌编码'))[0].id);\n        }\n      }\n    });\n\n    watch(() => templateForm.value?.jsonschema, async (val) => {\n      if (val) {\n        await root.$nextTick();\n        const form = refsForm.value?.$el as unknown as HTMLFormElement;\n\n        if (host.value) {\n          await exec('recvWebSizeChanged', {\n            width: form.offsetWidth,\n            height: form.offsetHeight,\n          });\n        }\n      }\n    });\n\n    // 处理jsonschema\n    function setJsonschemaFormItem(jss: any[]) {\n      jss.find(i => i.prop === 'materialName').maxLength = 512;\n      jss.find(i => i.prop === 'supplier_name').filterable = true;\n      if (props.status === 'edit') {\n        jss.find(i => i.title === '品牌编码').disabled = true;\n        jss.find(i => i.prop === 'season').disabled = true;\n        if (!props.material.extraProperty.season) {\n          jss.find(i => i.prop === 'season').required = false;\n        }\n        if (jss.find(i => i.prop === 'supplier_name')) {\n          jss.find(i => i.prop === 'supplier_name').disabled = true;\n        }\n      } else {\n        const materialNumberIndex = jss.findIndex(i => i.prop === 'material_number');\n        if (materialNumberIndex !== -1) {\n          jss.splice(materialNumberIndex, 1);\n        }\n      }\n\n      const categoryIndex = jss.findIndex(i => i.prop === 'category');\n      if (categoryIndex !== -1) {\n        jss.splice(categoryIndex, 1);\n      }\n      const costIndex = jss.findIndex(i => i.prop === 'cost');\n      if (costIndex !== -1) {\n        jss.splice(costIndex, 1);\n      }\n      if (isSupplier.value) {\n        const evergreenIndex = jss.findIndex(i => i.prop === 'evergreen');\n        if (evergreenIndex !== -1) {\n          jss.splice(evergreenIndex, 1);\n        }\n        if (jss.find(i => i.prop === 'supplier_name')) {\n          jss.find(i => i.prop === 'supplier_name').disabled = true;\n        }\n      }\n      return jss;\n    }\n\n    // 提交变更记录（外部调用）\n    async function addOperateToRecord(groupAppId = '') {\n      if (!groupAppId) return;\n\n      // 统计变更记录数量\n      let count = 0 as number;\n\n\n      const _propertyFromTemplate = JSON.parse(JSON.stringify(propertyFromTemplate.value));\n      const firstSupplier = {\n        reference_price_unit: _propertyFromTemplate.reference_price.unit,\n        reference_price_value: _propertyFromTemplate.reference_price.value,\n        cost_unit: 1,\n        cost_value: '',\n        supplier_name: _propertyFromTemplate.supplier_name,\n        delete_status: 0,\n        supplier_status: 1,\n      };\n\n      let _newMaterial = {\n        ...newMaterial.value,\n        materialName: _propertyFromTemplate.materialName,\n      } as Partial<AntaMaterialInfo>;\n\n      const omitList = ['materialName', 'reference_price', 'cost', 'supplier_name'];\n      omitList.forEach((i) => {\n        if (Object.hasOwnProperty.call(_propertyFromTemplate, i)) {\n          delete _propertyFromTemplate[i];\n        }\n      });\n\n      _newMaterial = {\n        ..._newMaterial,\n        extraProperty: {\n          ...newMaterial.value.extraProperty,\n          ..._propertyFromTemplate,\n          supplier_price_array: [\n            firstSupplier,\n            ...newMaterial.value.extraProperty.supplier_price_array!.slice(1),\n          ],\n        },\n      };\n      Object.keys(_newMaterial.extraProperty!).forEach((_p) => {\n        const p = _p as keyof AntaMaterialInfo['extraProperty'];\n        if ([\n          'material_status',\n          'cite_status',\n          'decline_reason',\n          'supplier_price_obj',\n          'decline_time',\n          'approve_detail',\n          'season',\n        ].find(i => i === p)) {\n          return;\n        }\n\n        if (p === 'supplier_price_array') {\n          _newMaterial.extraProperty!.supplier_price_array!.forEach((priceItem, i) => {\n            let diffPriceCount = 0;\n            Object.keys(priceItem).forEach(key => {\n              const oldPriceItem = oldMaterial.value.extraProperty!.supplier_price_array!;\n              if (priceItem[key as keyof typeof priceItem] !== oldPriceItem[i][key as keyof typeof priceItem]) {\n                diffPriceCount += 1;\n              }\n            });\n            if (diffPriceCount > 0) {\n              updateData.value[0][p] = _newMaterial.extraProperty![p];\n              updateData.value[1][p] = oldMaterial.value.extraProperty?.[p];\n              count += 1;\n            }\n          });\n        } else if (JSON.stringify(_newMaterial.extraProperty![p]) !== JSON.stringify(oldMaterial.value.extraProperty?.[p])\n          && (!!_newMaterial.extraProperty![p] || !!oldMaterial.value.extraProperty?.[p])) {\n          updateData.value[0][p] = _newMaterial.extraProperty![p];\n          updateData.value[1][p] = oldMaterial.value.extraProperty?.[p];\n          count += 1;\n        }\n      });\n\n      if (_newMaterial.materialName === oldMaterial.value.materialName && count === 0) {\n        return;\n      }\n\n      updateData.value[0].materialName = _newMaterial.materialName;\n      updateData.value[1].materialName = oldMaterial.value.materialName;\n\n      const relateId = _newMaterial.originalId;\n      if (relateId) {\n        await addOperate(groupAppId, {\n          relateId,\n          params: updateData.value,\n        });\n      }\n    }\n\n    // 修改鞋模型信息\n    function updateInfo(prop: string, value: unknown | number | string) {\n      if (typeof value === 'string') {\n        value = value.replace(/（/g, '(').replace(/）/g, ')');\n      }\n      if (prop === 'materialName') {\n        // set(updateObj.value, prop, value);\n        set(newMaterial.value, prop, value);\n      } else {\n        // 分类\n        // set(updateObj.value.extraProperty, prop, value);\n        set(newMaterial.value.extraProperty, prop, value);\n      }\n    }\n\n    // 检测表单是否通过校验,通过后返回表单数据（外部调用）\n    async function getFormData() {\n      await Promise.all([validateForm(refsForm.value!), templateForm.value?.validate()]);\n\n      let formMatarialData = {\n        materialName: propertyFromTemplate.value.materialName,\n      } as Partial<AntaMaterialInfo>;\n\n      const _propertyFromTemplate = JSON.parse(JSON.stringify(propertyFromTemplate.value));\n\n      const firstSupplier = {\n        reference_price_unit: _propertyFromTemplate.reference_price.unit,\n        reference_price_value: _propertyFromTemplate.reference_price.value,\n        cost_unit: 1,\n        cost_value: '',\n        supplier_name: _propertyFromTemplate.supplier_name,\n        delete_status: 0,\n        supplier_status: 1,\n      };\n\n      const omitList = ['materialName', 'reference_price', 'cost'];\n      omitList.forEach((i) => {\n        if (Object.hasOwnProperty.call(_propertyFromTemplate, i)) {\n          delete _propertyFromTemplate[i];\n        }\n      });\n\n\n      if (props.status === 'upload' || props.status === 'convert') {\n        // 获取大类中类名称\n        let bigType = '';\n        let midType = '';\n        if (categoryArr.value.length) {\n          bigType = categoryArr.value[0].name;\n          midType = categoryArr.value[1].name;\n        } else {\n          const checkedNodes = typeCascade.value?.getCheckedNodes();\n          bigType = checkedNodes[0].name;\n          midType = checkedNodes[1].name;\n        }\n        formMatarialData = {\n          ...formMatarialData,\n          businessType: 1,\n          extraProperty: {\n            ...newMaterial.value.extraProperty,\n            ..._propertyFromTemplate,\n            category: newMaterial.value.extraProperty.category,\n            supplier_price_array: [\n              firstSupplier,\n              // ...newMaterial.value.extraProperty.supplier_price_array.slice(1),\n            ],\n            大类: bigType,\n            中类: midType,\n            // material_number: materialNumber,\n          },\n        };\n      } else {\n        formMatarialData = {\n          ...formMatarialData,\n          businessType: 1,\n          extraProperty: {\n            ...newMaterial.value.extraProperty,\n            ..._propertyFromTemplate,\n            supplier_price_array: [\n              firstSupplier,\n              ...newMaterial.value.extraProperty.supplier_price_array!.slice(1),\n            ],\n          },\n        };\n      }\n\n      if (props.isCreator && props.status === 'edit') {\n        formMatarialData.extraProperty!.material_status = 1;\n      }\n\n      // 上传\n      if (props.status === 'upload' && isQt()) {\n        return {\n          success: true,\n          errorMsg: '',\n          material: formMatarialData,\n        };\n      }\n\n      if (props.templateMaterialId) {\n        const imgJson = {} as { [key: string]: string };\n        let renderingJson = {};\n        let fileInfo = '';\n        if (newMaterial.value.imgJson) {\n          Object.keys(newMaterial.value.imgJson).forEach((i) => {\n            imgJson[i] = newMaterial.value.imgJson![i].split('?')[0].split('/').splice(-2).join('/');\n          });\n        }\n        if (newMaterial.value.fileInfo) {\n          fileInfo = newMaterial.value.fileInfo.split('?')[0].split('/').splice(-2).join('/');\n        }\n        if (newMaterial.value.renderingJson) {\n          renderingJson = newMaterial.value.renderingJson;\n        }\n\n        formMatarialData = {\n          ...formMatarialData,\n          imgJson,\n          fileInfo,\n          renderingJson,\n        };\n      }\n      // debugger;\n\n      console.info(formMatarialData);\n\n      console.info(formMatarialData);\n\n      return formMatarialData;\n    }\n\n    onMounted(async () => {\n      // 上传\n      if (props.status === 'upload' && isQt()) {\n        host.value = await getHost();\n\n        if (host.value && root.$route.path.includes('/qt/upload/anta-material')) {\n          host.value!.on('requestAntaForm', async () => {\n            let formData = {};\n            if (templateForm.value?.notHasTemplate) {\n              formData = {\n                success: false,\n                errorMsg: '对应的分类没有模板，请更换一个有模板的分类',\n                material: null,\n              };\n            }\n            try {\n              formData = await getFormData();\n            } catch (e) {\n              formData = {\n                success: false,\n                errorMsg: '',\n                material: null,\n              };\n            }\n\n            await exec('recvAntaForm', formData);\n          });\n        }\n      }\n      window.onmousewheel = async (e) => {\n        if (isQt() && root.$route.path.includes('/qt/upload/anta-material')) {\n          if (e.target.className.includes('el-form-item') || e.target.className.includes('el-form')) {\n            await exec('onWebScrollValue', e.deltaY);\n          }\n        }\n      };\n\n      // 获取供应商信息\n      const temp = {} as { [x: string]: { id: string, name: string, originalSupplierName: string } };\n      (await fetchSupplierAll()).forEach((sup: { id: string, name: string, originalSupplierName: string }) => {\n        temp[`${sup.id}`] = sup;\n      });\n      supplierList.value = temp;\n\n      // 上传（非以此为模版）或转换、供应商\n      if (isSupplier.value && (props.status === 'upload' || props.status === 'convert') && !props.templateMaterialId) {\n        // const companyId = await getCurrentCompany()?.id || '';\n\n        // newMaterial.value.extraProperty.supplier_price_array[0].supplier_name = Object.values(supplierList.value)\n        //   .find((s) => s.companyId === companyId)?.id || '';\n\n        // propertyFromTemplate.value.supplier_name = Object.values(supplierList.value).find((s) => s.companyId === companyId)?.id || '';\n        // root.$set(propertyFromTemplate.value, 'reference_price', { value: null, unit: 1 });\n        // propertyFromTemplate.value.reference_price = { value: null, unit: 1 };\n\n        // propertyFromTemplate.value.品牌编码 = (await fetchAntaPropertyByCode('品牌编码'))[0].id;\n      }\n\n      // 以此为模版上传\n      if (props.templateMaterialId) {\n        const templateMaterial = (\n          await getMaterialInfo(props.templateMaterialId, 'cn')\n        ).data;\n\n        // $set(props, 'material', templateMaterial);\n        newMaterial.value = templateMaterial;\n\n        propertyFromTemplate.value = {\n          ...JSON.parse(JSON.stringify(newMaterial.value.extraProperty)),\n          materialName: newMaterial.value.materialName,\n          supplier_name: newMaterial.value.extraProperty.supplier_price_array![0].supplier_name,\n          reference_price: {\n            value: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_value,\n            unit: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_unit,\n          },\n          // cost: newMaterial.value.extraProperty.supplier_price_array![0].cost_value,\n        };\n      }\n\n      // 编辑\n      if (props.status === 'edit') {\n        //\n        if (props.material) {\n          newMaterial.value = props.material as AntaMaterialInfo;\n        }\n        propertyFromTemplate.value = {\n          ...JSON.parse(JSON.stringify(newMaterial.value.extraProperty)),\n          materialName: newMaterial.value.materialName,\n          supplier_name: newMaterial.value.extraProperty.supplier_price_array![0].supplier_name,\n          reference_price: {\n            value: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_value,\n            unit: newMaterial.value.extraProperty.supplier_price_array![0].reference_price_unit,\n          },\n          // cost: newMaterial.value.extraProperty.supplier_price_array![0].cost_value,\n        };\n        oldMaterial.value = JSON.parse(JSON.stringify(newMaterial.value)) as AntaMaterialInfo;\n      }\n\n      // 如果有分类id\n      if (newMaterial.value.extraProperty.category) {\n        const res = await fetchMaterialDetail(newMaterial.value.extraProperty.category);\n        parentIds.value = [...res.parentIds.slice(), newMaterial.value.extraProperty.category];\n      }\n    });\n\n    onUnmounted(() => {\n      window.onmousewheel = null;\n    });\n    return {\n      isQt,\n      rules,\n      addOperateToRecord,\n      updateInfo,\n      parentIds,\n      getFormData,\n      middleCategoryId,\n      typeCascade,\n      propertyFromTemplate,\n      categoryArr,\n      supplierList,\n      refsForm,\n      templateForm,\n      newMaterial,\n      canEdit,\n      setJsonschemaFormItem,\n      isSupplier,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=553a3c7d&scoped=true&\"\nimport script from \"./Form.vue?vue&type=script&lang=ts&\"\nexport * from \"./Form.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&id=553a3c7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"553a3c7d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticClass:\"decline-record-table\",attrs:{\"data\":_vm.declineRecord}},[_c('error',{staticClass:\"error-block\",staticStyle:{\"height\":\"150px\",\"font-size\":\"50%\"},attrs:{\"slot\":\"empty\",\"error\":{ code: 404, message: '暂无数据' }},slot:\"empty\"}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"驳回原因\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"gmtCreateTime\",\"align\":\"center\",\"show-overflow-tooltip\":\"\",\"label\":\"驳回时间\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm._f(\"date\")(row.gmtCreateTime,'YYYY-MM-DD HH:mm')))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"creator\",\"align\":\"center\",\"label\":\"驳回人\",\"show-overflow-tooltip\":\"\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, reactive,\n} from '@vue/composition-api';\n// import { getDeclineRecord } from '@/loaders/material-mangement';\nimport axios from '@/utils/axios';\nimport useLoader from '_/composables/use-loader';\n\nasync function getDeclineRecord(id: string) {\n  return (await axios({\n    method: 'GET',\n    url: '/anta-material/audit/decline',\n    params: {\n      materialId: id,\n    },\n  })).data;\n}\nasync function getUserInfo(ids: string[]) {\n  return (await axios({\n    method: 'POST',\n    url: '/authcenter/user/im/info',\n    data: ids,\n  })).data;\n}\n\nexport default defineComponent({\n  name: 'DeclineRecord',\n  dialogify: {\n    props: {\n      // title: '驳回原因',\n      width: '540px',\n      // closeOnClickModal: false,\n      showClose: true,\n      top: 'auto',\n      bottom: 'auto',\n      flex: 'column',\n      'custom-class': 'decline-record-dialog',\n    },\n  },\n  components: {\n  },\n  props: {\n    materialId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props, { emit }) {\n    const declineRecord = useLoader(async () => {\n      const records = await getDeclineRecord(props.materialId);\n      const userIds = Array.from(new Set(records.map(item => item.creator)));\n      if (userIds.length > 0) {\n        const userInfos = await getUserInfo(userIds);\n        records.forEach(rec => {\n          rec.creator = userInfos.find(user => user.id === rec.creator)?.name;\n        });\n        return records;\n      }\n      return [];\n    });\n    return {\n      declineRecord,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DeclineRecord.vue?vue&type=template&id=2a47bbd8&scoped=true&\"\nimport script from \"./DeclineRecord.vue?vue&type=script&lang=ts&\"\nexport * from \"./DeclineRecord.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DeclineRecord.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./DeclineRecord.vue?vue&type=style&index=1&id=2a47bbd8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a47bbd8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayerForLocal.vue?vue&type=style&index=0&id=411b2de4&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=style&index=0&id=24588fb5&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&id=553a3c7d&lang=scss&scoped=true&\"","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useClosest = useClosest;\nexports.default = void 0;\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nvar _vueClosest = require(\"../plugins/vue-closest\");\n\n// import { InstanceOfVue } from '@/typings/vue-types.d';\nfunction useClosest(componentName) {\n  var that = (0, _compositionApi.getCurrentInstance)();\n  return (0, _compositionApi.computed)(function () {\n    if (!that) {\n      return undefined;\n    }\n\n    return _vueClosest.closest.call(that, componentName);\n  });\n}\n\nvar _default = useClosest;\nexports.default = _default;","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6d552865&lang=scss&scoped=true&\"","\n\n// 在一定区域内，禁止浏览器的的拖拽默认行为\nexport const blockDragEffect = (DOM) => {\n  const dropzoneId = 'dropzone';\n\n  function loopAncestorNode(dom, id, n) {\n    let result = false;\n    let counter = 0;\n    let currentNode = dom;\n\n    while (counter < n) {\n      counter++;\n      // 如果是上一个节点为空时，跳出循环\n      if (!currentNode) break;\n\n      // 当父节点的ID为拖动区域时，返回ture\n      if (currentNode.id === id) {\n        result = true;\n        break;\n      } else {\n        currentNode = currentNode.parentElement;\n      }\n    }\n    return result;\n  }\n\n  function attachEvent(e) {\n    const draggable = loopAncestorNode(e.target, dropzoneId, 10);\n    if (!draggable) {\n      e.preventDefault();\n      e.dataTransfer.effectAllowed = 'none';\n      e.dataTransfer.dropEffect = 'none';\n    }\n  }\n\n  DOM.addEventListener('dragenter', attachEvent, false);\n  DOM.addEventListener('dragover', attachEvent, false);\n  DOM.addEventListener('drop', attachEvent, false);\n};\nexport default {};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","import i18n from 'i18next';\n\nexport default function translateCategoryName(categoryName: string) {\n  return i18n.t(`material.material-category.${categoryName}`);\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAD8UlEQVR4Xu2bv47TQBDGZ2OHy99TAkoBiol9AgkKkKCAFgp4BGigAQkaeBpoQIIGGniEo4AWCpCgAAlEHBxBEcFFd3FiiO1FRgqCO+ds79ix45stL/vNzvz2i3c1vjCggSLAUGoSAwFEmoAAEkAkAaScHEgAkQSQ8lgc2NWNDQBoIHNZtHyoqUoTuygaYLfXfwKcX8Imkoqesadap30ZszYeoG5wTAJpazVVQTFAiXXd+MgBjqQNAbM+A/ikqspR0RjCALvdbgOY7D37ln9wu6lp2lCkEHGAujEBgJLIohnUWJqqlEXyEgL42TDOMAdeiiyYVQ134ezamvIqan5CALtLfnDMgyRyoEQGqOvGLQ5wJ+pOLcN8BnBbVZW7UXKNDDCv7ptBi+rCSAD1Xv8R5/xKlB1atrmMscdqp301bN6RAObdfSIuDA2wqxvvAeBY2J1Z8nkfNFU5HqaGUAAHg0F9ZFqbYQLmZU6tWlpttVpbQfWEAqj3+ibnvBIULE+fM8bGaqddDaopEKCu66c4SK+DAuXxcwbOaVVV3+xWWyDAvXJwiF6udwXY6xk3XA738uiusDUVGNzsdJT78+bvCnCvuy/MtWYuQF03HnCAa2F3Ks/zGMBDVVWu+9U4F+AX4ysvV+M/eB3HgYk5ToS3l68kSbHH9vI9rBzyZeX7R6P/7W2pUj4ReyYAwDkHc2uURGio1mvAWOC5KLS2NZ68U9oHT24X+642+DFM9D3HaDPwfipUZG21LqQLK2rtb+zgRQDD0gOAzAC0bRussfdGIL5RqpRBluX4AvpEygxAL7e4v8ZJf329nDMFMM7DJMnD418jZgqgl5hjOzAZ46405UoFJDn+q4vfsyBzAP9AdFyYmKbQs6tcrYIkFYS0IqJMApwVYo5M4K4bqi5WKEC1FthpChUryqRMA5wV8tOyYPpr6ltXcV8RVkrpvctfCoBRHLHouQQQSZwAEkAkAaScHEgAkQSQcnIgAUQSQMrJgXkA6PUC7amNLMVfLhflRHuCqTsw7h7gvF1IqjeYKkDvRZLXA1zE8F4seT3CuEeqABflvhm0JFxIAJGWTBWgNbHAnvq3qZB17ZAXi0VYKcff9koVoFfl2ByD6zhx8/ovnteh9jrVSYzUAc6KSuosSeifEv7uRWYAJuGORcQkgEjKBJAAIgkg5eRAAogkgJSTAwkgkgBSTg4kgEgCSDk5kAAiCSDl5EACiCSAlJMDCSCSAFIe2oHfh6MLrmuvI9fLlbxQgIsHGo1n24ua+8OyjY2tczZ3nueKgmAxMpPON5v1F37yZH6ZJ5joMsoIIHLXCCABRBJAysmBBBBJACknByIB/gZwyZhgBiB+/wAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-detail-container\"},[_c('div',{staticClass:\"material-detail-title\"},[(_vm.isHistoryComponent)?_c('i',{staticClass:\"iconfont icon-left el-icon-arrow-left\",on:{\"click\":_vm.backOperate}}):_vm._e(),_c('span',{staticClass:\"el-dialog__title\"},[_vm._v(_vm._s(_vm.title))]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"变更记录\",\"placement\":\"bottom\"}},[(!_vm.isHistoryComponent && _vm.groupAppId)?_c('i',{staticClass:\"iconfont icon-right iconshijian2\",on:{\"click\":_vm.toOperateHistory}}):_vm._e()]),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"驳回原因\",\"placement\":\"bottom\"}},[_c('i',{staticClass:\"iconfont iconbohuiyuanyin\",staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.showDeclineRecord(_vm.material.id)}}})])],1),_c('div',{staticClass:\"scroll-content scrollable-y\",class:_vm.contentStyle},[(_vm.currentComponent === 'ComponentPreviewDetail' && !_vm.isHistoryComponent)?_c('div',{staticClass:\"flex-center\"},[(_vm.swipers.length > 0)?_c('MaterialCarousel',{ref:\"materialCarousel\",attrs:{\"swiper-list\":_vm.swipers,\"materialId\":_vm.material.id,\"initialIndex\":_vm.thumbIndex}}):(_vm.isCreator && _vm.isQt() && _vm.envs.VUE_APP_COOPERATION === 'anta')?_c('div',{staticClass:\"flex-center flex-column\",staticStyle:{\"height\":\"280px\"}},[_c('base-image',{staticStyle:{\"height\":\"80px\",\"width\":\"80px\"},attrs:{\"src\":require('@/assets/img/file-list/material-default.png'),\"fit\":\"contain\"}}),_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.handleUpload4ddat}},[_vm._v(\"上传4ddat\")])],1):_vm._e()],1):_vm._e(),_c('transition',{attrs:{\"enter-active-class\":\"animated faedIn faster\",\"leave-active-class\":\"animated fadeOut faster\",\"mode\":\"out-in\",\"appear\":\"\"}},[_c('keep-alive',{attrs:{\"include\":\"MaterialDetailText\"}},[_c(_vm.currentComponent,{ref:\"materialDynamicComp\",tag:\"component\",attrs:{\"entryAppType\":_vm.entryAppType,\"material\":_vm.material,\"groupAppId\":_vm.groupAppId,\"relateId\":_vm.material.id,\"originalId\":_vm.material.originalId,\"middleCategoryId\":_vm.middleCategoryId,\"saveDisabled\":_vm.saveBtnDisabled},on:{\"update:saveDisabled\":function (e) { return _vm.saveBtnDisabled = e; },\"switch-component\":function (e) { return _vm.currentComponent = e; },\"refresh\":function($event){return _vm.getMaterialInfoById(_vm.id)},\"loaded\":function (material) { _vm.loading = false; _vm.$emit('loaded', material); },\"loading\":function (e) { return _vm.loading = e; }}})],1)],1),(!_vm.isHistoryComponent)?_c('time-info',{staticStyle:{\"margin-top\":\"40px\"},attrs:{\"creator\":_vm.material.creatorName,\"modifier\":_vm.material.modifierName,\"uploaded\":_vm.material.gmtCreateTime,\"updated\":_vm.material.gmtModifyTime}}):_vm._e()],1),(_vm.currentComponent === 'ComponentPreviewDetail')?_c('section',{key:1,staticClass:\"submit-buttons\"},[_c('el-button',{attrs:{\"type\":\"default\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.printAsPDF}},[_vm._v(\" 导出PDF \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"disabled\":!_vm.editable\n        || [2,4].includes(_vm.material.extraProperty.material_status)\n        || (_vm.material.extraProperty.approve_detail && [2,3,4].includes(_vm.material.extraProperty.approve_detail.approve_status)),\"size\":\"small\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentEditDetail'}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.edit'))+\" \")])],1):(!_vm.isHistoryComponent)?_c('section',{key:2,staticClass:\"submit-buttons\"},[_c('el-button',{staticClass:\"cancel\",attrs:{\"size\":\"small\",\"round\":\"\"},on:{\"click\":function($event){_vm.currentComponent = 'ComponentPreviewDetail'}}},[_vm._v(\" \"+_vm._s(_vm.$t('public.dialog.cancel'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$act(_vm.updateMaterial)}}},[_vm._v(\" \"+_vm._s(_vm.$t('material.info.save'))+\" \")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-detail-text\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.material.materialName)+\" \")]),_c('ul',{staticClass:\"field-list\",staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.fields),function(field){return _c('li',{key:field.label,staticClass:\"field-item\"},[_c('FormFielText',{attrs:{\"label\":field.label,\"content\":field.value || '',\"units\":field.units}})],1)}),0),_c('ul',{staticClass:\"field-list\",staticStyle:{\"margin-top\":\"20px\"}},_vm._l((_vm.attachFields),function(field){return _c('li',{key:field.label,staticClass:\"field-item\"},[_c('FormFielText',{attrs:{\"label\":field.label,\"content\":field.value || '',\"units\":field.units}})],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-form-field\"},[_c('label',{staticClass:\"label text-one-line\"},[_vm._v(_vm._s(_vm.label))]),_c('div',{staticClass:\"content-box\"},[_vm._t(\"default\",[(_vm.showPlaceHolder)?[_c('span',{staticClass:\"gray-text\"},[_vm._v(\"--\")])]:[_c('span',{staticClass:\"content-box\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")]),_vm._l((_vm.units),function(unit,index){return [_c('UnitField',{key:'unit' + index,attrs:{\"type\":unit.type,\"value\":unit.value}})]})]])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watchEffect } from '@vue/composition-api';\n// import i18n from 'i18next';\n\n// import { getCountryList, getDictionaryByTypeCode } from '@/api/dictionary';\nimport { fetchAntaPropertyById } from '@/loaders/dictionary';\n// import { getCompanyNameById } from '@/api/company';\n\n\nexport default defineComponent({\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler } }) {\n    const unit = ref('');\n\n    watchEffect(async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          // if (props.type === 'country') {\n          //   units = (await getCountryList()).data;\n          //   currentUnit = units.find(u => +u.id === +props.value);\n          //   // unit.value = currentUnit ? currentUnit.usName : '';\n          //   if (currentUnit) {\n          //     if (i18n.language === 'en') {\n          //       unit.value = currentUnit.usName || currentUnit.name;\n          //     } else {\n          //       unit.value = currentUnit.name || currentUnit.usName || '';\n          //     }\n          //   }\n          // } else if (props.type === 'priceUnit' || props.type === 'mqqUnit') {\n          //   units = (\n          //     // 单位\n          //     await getDictionaryByTypeCode(props.type, 'cn')\n          //   ).data;\n          //   currentUnit = units.find(u => +u.itemValue === +props.value);\n          //   unit.value = currentUnit ? currentUnit.label : '';\n          // } else if (props.type === '品牌') {\n          //   units = (\n          //     // 属性\n          //     await fetchAntaPropertyById(props.type)\n          //   );\n          //   currentUnit = units.find(u => u.id === props.value);\n          //   unit.value = currentUnit ? currentUnit.value : '';\n          // } else if (props.type === 'supplierName') {\n          //   unit.value = (\n          //     // 供应商列表\n          //     await getCompanyNameById(props.value)\n          //   ).data.name;\n          // }\n          if (props.type === '品牌') {\n            units = (\n              // 属性\n              await fetchAntaPropertyById(props.type)\n            );\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=c81a14aa&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=c81a14aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c81a14aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import i18n from 'i18next';\nimport { defineComponent, computed } from '@vue/composition-api';\n\nimport UnitField from './UnitField.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\nexport default defineComponent({\n  name: 'MaterialFormFieldText',\n  components: { UnitField },\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String, Number, Array],\n      default: '',\n    },\n    // 单位数组\n    units: {\n      type: Array as () => Unit[],\n      default: () => [],\n    },\n  },\n  setup(props) {\n    const showPlaceHolder = computed(() => {\n      if (props.units[0]?.type === 'priceUnit') {\n        return !props.content;\n      }\n      return !props.content && props.units.length === 0;\n    });\n    return {\n      showPlaceHolder,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FromFieldText.vue?vue&type=template&id=67ab5d7d&scoped=true&\"\nimport script from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nexport * from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FromFieldText.vue?vue&type=style&index=0&id=67ab5d7d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67ab5d7d\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import i18n from 'i18next';\nimport {\n  defineComponent, ref, computed, watch,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\n\n// import { getCompanyNameById } from '@/api/company';\n\nimport { getContextUser } from '@/loaders/context';\nimport { getCurrentCompany } from '@/loaders/company';\n\nimport { antaMiddleClassIdAndFormData2TransformedFormDataList } from '@/components/anta-customer-files/attribute';\nimport FormFielText from './FromFieldText.vue';\n\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\n// // 获取大中小类组合的类名\n// async function getCategoryName(id: string) {\n//   return ((await axios({\n//     method: 'post',\n//     url: '/anta-material/category/name',\n//     data: {\n//       ids: [id],\n//     },\n//   })).data)[id];\n// }\n\n// 根据中类id获取模版信息\nexport const getTemplateById = async (id: string) => {\n  return (await axios({\n    method: 'get',\n    url: 'anta-material/template/middle',\n    params: {\n      id,\n    },\n  })).data;\n};\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\ninterface FormField {\n  label: string,\n  value?: string,\n  units?: Array<Unit>,\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailText',\n  components: { FormFielText },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup(props, { root, emit }) {\n    const loading = ref(true);\n    const fields = ref<Array<FormField>>([]);\n    const attachFields = ref<Array<FormField>>([]);\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n\n    const isSupplier = computed(() => {\n      return getCurrentCompany()?.type === 3;\n    });\n\n    const middleCategoryId = ref<string>('');\n\n    const categoryName = ref<string>('');\n\n    const supplierName = ref<string>('');\n\n    watch(() => props.material, async (val) => {\n      console.info(val);\n      loading.value = true;\n\n      // let colorLimitType = '';\n      // switch (val.extraProperty.color_limit_type) {\n      //   case 1: colorLimitType = '全部颜色';\n      //     break;\n      //   case 2: colorLimitType = '仅部分颜色';\n      //     break;\n      //   case 3: colorLimitType = '荧光色除外';\n      //     break;\n      //   default:\n      // }\n\n      const priceItem = val.extraProperty.supplier_price_obj ?? val.extraProperty.supplier_price_array[0];\n\n      fields.value = [\n        // { label: '分类', value: categoryName.value },\n        // {\n        //   label: '季节',\n        //   value: `${val.extraProperty.season?.year || ''}${val.extraProperty.season?.season || ''}`,\n        // },\n        // { label: '供应商名称', value: priceItem.supplier_name },\n        // {\n        //   label: '参考单价',\n        //   value: priceItem.reference_price_value ? `${priceItem.reference_price_value}人民币` : '--',\n        // },\n        // {\n        //   label: '成本单价',\n        //   value: priceItem.cost_value ? `${priceItem.cost_value}人民币` : '--',\n        // },\n        // { label: '颜色限制类别（鞋）', value: colorLimitType },\n        // { label: '材料编码', value: val.extraProperty.material_number },\n      ];\n\n      const extraList = [];\n      if (isSupplier.value) {\n        extraList.push('常青材料');\n      }\n\n      // 可能会报错的接口放到后面去请求\n      try {\n        // 获取中类ID\n        middleCategoryId.value = await fetchMiddleCategoryId(val.extraProperty.category);\n\n        const dynamicFormData = await antaMiddleClassIdAndFormData2TransformedFormDataList(middleCategoryId.value, {\n          ...val.extraProperty,\n          reference_price: {\n            value: priceItem.reference_price_value,\n            unit: priceItem.reference_price_unit,\n          },\n          cost: {\n            value: priceItem.cost_value,\n            unit: priceItem.cost_unit,\n          },\n          supplier_name: priceItem.supplier_name,\n          materialName: val.materialName,\n        }, extraList);\n        console.info(dynamicFormData);\n        fields.value = [...fields.value, ...dynamicFormData];\n\n        emit('loaded', props.material);\n      } catch (e) {\n        root.$errorHandler(e);\n      } finally {\n        loading.value = false;\n      }\n    }, {\n      deep: true,\n      // immediate:\n    });\n\n    return {\n      loading,\n      fields,\n      attachFields,\n      isCreator,\n      categoryName,\n      supplierName,\n      isSupplier,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentPreviewDetail.vue?vue&type=template&id=77c96a62&scoped=true&\"\nimport script from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentPreviewDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentPreviewDetail.vue?vue&type=style&index=0&id=77c96a62&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77c96a62\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.materialCopy && !_vm.materialCopy.fileInfo)?_c('UploadImgJson',{ref:\"uploadImgJson\",attrs:{\"disabled\":!_vm.isCreator},model:{value:(_vm.materialCopy.imgJson),callback:function ($$v) {_vm.$set(_vm.materialCopy, \"imgJson\", $$v)},expression:\"materialCopy.imgJson\"}}):_vm._e(),(_vm.materialCopy)?_c('Form',{ref:\"refsForm\",attrs:{\"isCreator\":_vm.isCreator,\"material\":_vm.materialCopy,\"status\":\"edit\"}}):_vm._e(),_c('div',{ref:\"uploadArea\"},[_c('h2',{staticClass:\"asset-upload-title\"},[_vm._v(\" 附件 \")]),(_vm.materialCopy.fileInfo)?_c('ModelsSelector',{ref:\"modelsSelector\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo,\"materialId\":_vm.material.id}}):_vm._e(),_c('AttachmentImage',{ref:\"attachmentImage\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}}),_c('AttachmentVideo',{ref:\"attachmentVideo\",attrs:{\"disabled\":!_vm.isCreator && _vm.entryAppType !== 16,\"assetsInfo\":_vm.material.assetsInfo}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"model-demo\"},[_c('h2',{staticClass:\"model-demo-title\",style:(_vm.titleStyle)},[_vm._v(_vm._s(_vm.$t('material.info.attachment_models_caption')))]),_c('ul',{staticClass:\"model-demo-list\"},_vm._l((_vm.models),function(model,i){return _c('li',{key:i,staticClass:\"model-demo-item\"},[_c('SelectableBox',{attrs:{\"selected\":model.selected,\"width\":272,\"height\":202,\"disabled\":_vm.disabled},on:{\"preview\":function($event){return _vm.handlePreview(model.id)},\"change\":function (e) { return _vm.changeModel(i, e); }}},[_c('el-image',{attrs:{\"src\":model.cover,\"fit\":\"contain\"}})],1),_c('p',{staticClass:\"model-demo-name\"},[_vm._v(\"Model \"+_vm._s(i + 1))])],1)}),0),(_vm.currentId)?_c('ModelPurePreviewer',{ref:\"modelPreviewer\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"-1\",\"opacity\":\"0\"},attrs:{\"mode\":\"modelMaterial\",\"modelId\":_vm.currentId,\"materialId\":_vm.materialId,\"initModelStatus\":false}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"model-demo\">\n    <h2 class=\"model-demo-title\" :style=\"titleStyle\"\n    >{{ $t('material.info.attachment_models_caption') }}</h2>\n    <ul class=\"model-demo-list\">\n      <li\n        v-for=\"(model, i) in models\"\n        :key=\"i\"\n        class=\"model-demo-item\"\n      >\n        <SelectableBox\n          :selected=\"model.selected\"\n          :width=\"272\" :height=\"202\"\n          :disabled=\"disabled\"\n          @preview=\"handlePreview(model.id)\"\n          @change=\"e => changeModel(i, e)\"\n        >\n          <el-image :src=\"model.cover\" fit=\"contain\" />\n        </SelectableBox>\n        <p class=\"model-demo-name\">Model {{ i + 1 }}</p>\n      </li>\n    </ul>\n\n    <!-- 截图使用 -->\n    <ModelPurePreviewer\n      v-if=\"currentId\"\n      mode=\"modelMaterial\"\n      :modelId=\"currentId\"\n      :materialId=\"materialId\"\n      :initModelStatus=\"false\"\n      style=\"position: absolute; z-index: -1;opacity:0;\"\n      ref=\"modelPreviewer\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from '@/utils/axios';\nimport delay from '_/delay';\n\nimport SelectableBox from '@/components/layout/SelectableBox';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer';\n\nconst getMaterialDemoModels = () => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/modelSearch/getDisplayModelIds',\n  });\n};\n\nexport default {\n  components: {\n    SelectableBox,\n    ModelPurePreviewer,\n  },\n  props: ['assetsInfo', 'materialId', 'titleStyle', 'disabled'],\n  mounted() {\n    this._generateModelData();\n    localStorage.setItem('modelCovers', JSON.stringify({}));\n  },\n  data() {\n    return {\n      models: [],\n      modelIds: [],\n      currentId: '',\n    };\n  },\n  methods: {\n    // 获取选择框的选择项（外部调用）\n    async getSelectResult() {\n      // 第一，判断是否有选中的模型\n      const selectedModels = this.models.filter(model => model.selected);\n      if (!selectedModels.length) return [];\n\n      // 先判断接口返回的数据是否已存在 cover\n      selectedModels.forEach(model => {\n        if (model.modelCover.includes('http')) {\n          model.modelCover = model.modelCover.split('?')[0].split('/').slice(-2).join('/');\n        }\n      });\n      const missModels = selectedModels.filter(model => model.modelCover === '');\n      if (missModels.length === 0) return selectedModels;\n\n      // 再判断缓存是否有已存在（模型预览默认截取）\n      const coverObj = JSON.parse(localStorage.getItem('modelCovers'));\n      selectedModels.forEach(model => {\n        if (!model.modelCover) {\n          model.modelCover = coverObj[model.id];\n        }\n      });\n      if (missModels.length === 0) return selectedModels;\n\n      // 最后再调用D4加载模型,获取对应的截图\n      for (let i = 0; i < selectedModels.length; i++) {\n        const model = selectedModels[i];\n        if (!model.modelCover) {\n          this.currentId = model.id;\n          // await this.$nextTick();\n          await delay(500);\n          model.modelCover = await this.$refs.modelPreviewer.reloadModel(model.id);\n        }\n      }\n\n      return selectedModels;\n    },\n    // 打开鞋模型弹框\n    async handlePreview(id) {\n      await this.$Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: this.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          flex: 'column',\n          width: '580px',\n          height: '500px',\n        },\n      });\n    },\n    // 获取默认展示三个模型ids,并调整数据结果\n    async _generateModelData() {\n      this.modelIds = (await getMaterialDemoModels()).data;\n      this.models = this.modelIds.map((model) => {\n        return {\n          id: model.id,\n          selected: false,\n          cover: model.curtailImg,\n          modelCover: '',\n        };\n      });\n\n      // 通过筛选面料信息中选择模型的数据，同步选中的状态\n      if (this.assetsInfo && this.assetsInfo?.models) {\n        this.assetsInfo.models.forEach(item => {\n          this.models.forEach(model => {\n            if (item.id === model.id) {\n              model.selected = true;\n              model.modelCover = item.cover;\n            }\n          });\n        });\n      }\n    },\n\n    changeModel(i, e) {\n      this.models[i].selected = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-image {\n  width: 100%;\n  height: 100%;\n}\n\n.model-demo {\n  .model-demo-title {\n    margin-bottom: 10px;\n    line-height: 20px;\n    font-size: 14px;\n    font-weight: 400;\n    color: #606060;\n  }\n  .model-demo-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\n    .model-demo-name {\n      margin: 10px 0;\n      text-align: center;\n      font-size: 14px;\n      color: #333;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelsSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModelsSelector.vue?vue&type=template&id=1048a648&scoped=true&\"\nimport script from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ModelsSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModelsSelector.vue?vue&type=style&index=0&id=1048a648&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1048a648\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_images_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_images_tip3'))+\" \")])],1)],1),_c('UploadWithPreviewer',{ref:\"uploadWithPreviewer\",attrs:{\"urls\":_vm.paths,\"maxSize\":18 * 1024 * 1024,\"width\":130,\"height\":130,\"accept\":\".png, .jpeg, .jpg\",\"multiple\":\"\",\"disabled\":_vm.disabled},on:{\"change\":_vm.changeImage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_images_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_images_tip') }}<br>\n          <!-- {{ $t('material.info.attachment_images_tip2') }} -->\n          {{ $t('material.info.attachment_images_tip3') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadWithPreviewer\n      ref=\"uploadWithPreviewer\"\n      :urls=\"paths\"\n      :maxSize=\"18 * 1024 * 1024\"\n      :width=\"130\" :height=\"130\"\n      accept=\".png, .jpeg, .jpg\"\n      multiple\n      :disabled=\"disabled\"\n      @change=\"changeImage\" />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadWithPreviewer from '@/components/upload/UploadWithPreviewer';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadWithPreviewer,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.images) {\n          this.paths = obj?.images;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getImageOssPaths() {\n      const result = this.$refs.uploadWithPreviewer.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n\n    changeImage(e) {\n      this.files = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin-bottom: 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentImage.vue?vue&type=template&id=d9f63f58&scoped=true&\"\nimport script from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentImage.vue?vue&type=style&index=0&id=d9f63f58&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9f63f58\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachment-image\"},[_c('h2',{staticClass:\"attachment-image-title\",style:(_vm.titleStyle)},[_c('span',[_vm._v(_vm._s(_vm.$t('material.info.attachment_videos_caption')))]),_c('el-popover',{attrs:{\"trigger\":\"hover\",\"width\":\"400\",\"placement\":\"bottom-start\"}},[_c('IconQuestion',{attrs:{\"slot\":\"reference\"},slot:\"reference\"}),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip'))),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('material.info.attachment_videos_tip2'))+\" \")])],1)],1),_c('UploadVideo',{ref:\"UploadVideo\",attrs:{\"urls\":_vm.paths,\"disabled\":_vm.disabled,\"maxSize\":30 * 1024 * 1024,\"width\":130,\"height\":130,\"accept\":\".mp4\"},on:{\"change\":_vm.changeVideo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachment-image\">\n    <h2 class=\"attachment-image-title\" :style=\"titleStyle\">\n      <span>{{ $t('material.info.attachment_videos_caption') }}</span>\n      <el-popover\n        trigger=\"hover\"\n        width=\"400\"\n        placement=\"bottom-start\">\n        <IconQuestion slot=\"reference\" />\n        <div>\n          {{ $t('material.info.attachment_videos_tip') }}<br>\n          {{ $t('material.info.attachment_videos_tip2') }}\n        </div>\n      </el-popover>\n    </h2>\n    <UploadVideo\n      ref=\"UploadVideo\"\n      :urls=\"paths\"\n      :disabled=\"disabled\"\n      :maxSize=\"30 * 1024 * 1024\"\n      :width=\"130\" :height=\"130\"\n      accept=\".mp4\"\n      @change=\"changeVideo\"\n    />\n  </div>\n</template>\n\n<script>\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\n\nimport UploadVideo from '@/components/upload/UploadVideo';\nimport IconQuestion from '@/components/icon/IconQuestion';\n\nexport default {\n  components: {\n    UploadVideo,\n    IconQuestion,\n  },\n  props: ['assetsInfo', 'titleStyle', 'disabled'],\n  data() {\n    return {\n      files: [],\n      paths: [], // 记录已上传的oss地址\n    };\n  },\n  watch: {\n    assetsInfo: {\n      handler(obj) {\n        if (obj && obj?.videos) {\n          this.paths = obj?.videos;\n          this.files = this.paths.map(path => {\n            return { file: '', url: path };\n          });\n        }\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    // 获取上传文件oss地址的列表（外部调用）\n    async getVideoOssPaths() {\n      const result = this.$refs.UploadVideo.fileList.reduce((acc, cur) => {\n        if (cur.file) {\n          acc.uploading.push(cur.file);\n        } else {\n          acc.uploaded.push(cur.url);\n        }\n        return acc;\n      }, { uploaded: [], uploading: [] });\n\n      const uploadedPaths = result.uploaded.map(url => url.split('?')[0].split('/').slice(-2).join('/'));\n      const paths = await Promise.all(result.uploading.map(file => uploadToOSS(file, 'MATERIAL_ASSETS')));\n      return [...uploadedPaths, ...paths];\n    },\n\n    changeVideo(e) {\n      this.files = e;\n      this.$closest('MaterialInfo').saveBtnDisabled = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-image-title {\n  margin: 15px 0 10px;\n  line-height: 20px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #606060;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentVideo.vue?vue&type=template&id=305df05d&scoped=true&\"\nimport script from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentVideo.vue?vue&type=style&index=0&id=305df05d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"305df05d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(\" 材质图 \")]),_c('div',{staticClass:\"flex\"},_vm._l((['thumbnail', 'flat', 'texture']),function(item){return _c('div',{key:item,staticClass:\"upload-item\"},[_c('figure',{staticClass:\"item-image\",class:(\"item-image-\" + item)},[(_vm.imgJson[item])?_c('base-image',{staticStyle:{\"border\":\"1px solid #dbdce0\"},attrs:{\"src\":_vm.imgJson[item]}}):_c('div',{staticClass:\"item-add\",style:({ cursor: _vm.disabled ? 'not-allowed': 'pointer' }),on:{\"click\":function($event){return _vm.$act(_vm.choseImg, [item])}}},[_c('i',{staticClass:\"iconfont icon-upload-cloud-o\"}),_c('span',[_vm._v(_vm._s(_vm.$t('up-meeting.detail.upload')))])]),(_vm.imgJson[item])?_c('i',{staticClass:\"i-file-delete\",on:{\"click\":function($event){return _vm.remove(item)}}}):_vm._e(),(_vm.imgJson[item])?_c('i',{staticClass:\"i-zoom\",on:{\"click\":function($event){return _vm.$act(_vm.previewImage, [item])}}}):_vm._e()],1),_c('span',{staticStyle:{\"padding-top\":\"6px\"}},[_vm._v(_vm._s(_vm.key2Name[item]))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport uploadToOSS from '@/utils/oss/uploadToOSS';\nimport selectFiles from '@/utils/select-files';\nimport { validFiles } from '@/utils/validators/valid-file';\nimport { defineComponent, ref } from '@vue/composition-api';\n\nconst key2Name = {\n  thumbnail: '垂悬图',\n  flat: '平铺图',\n  texture: '纹理图',\n} as const;\n\nconst UploadImgJson = defineComponent({\n  name: 'UploadImgJson',\n  props: {\n    imgJson: {\n      type: Object as () => { thumbnail: string, flat: string, texture: string },\n      default: () => ({}),\n      // type: Object,\n      // required: true,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  model: {\n    prop: 'imgJson',\n    event: 'change',\n  },\n  setup(props, { emit, root }) {\n    // 已选择的file文件\n    const selectedFils = ref<{ [key: string]: File | null }>({\n      thumbnail: null,\n      flat: null,\n      texture: null,\n    });\n\n    const choseImg = async (type: 'thumbnail' | 'flat' | 'texture') => {\n      if (props.disabled) return;\n      const files = await selectFiles(['png', 'jpg'], 5000);\n      validFiles(files);\n      [selectedFils.value[type]] = files;\n      emit('change', { ...props.imgJson, [type]: URL.createObjectURL(files[0]) });\n      // debugger;\n      // root.$set(props.imgJson, type, URL.createObjectURL(files[0]));\n    };\n\n\n    const remove = (type: 'thumbnail' | 'flat' | 'texture') => {\n      selectedFils.value[type] = null;\n      emit('change', { ...props.imgJson, [type]: '' });\n      // root.$set(props.imgJson, type, null);\n    };\n\n    async function previewImage(type: 'thumbnail' | 'flat' | 'texture') {\n      // const imgList = Object.values(props.imgJson).filter(i => !!i);\n      const imgList = [props.imgJson[type]];\n      await root.$ImageViewer.show(imgList as string[], {\n        srcList: imgList,\n        targetElems: `.item-image-${type}`,\n      });\n    }\n\n\n    // 外面调用\n    const uploadImgJson = async () => {\n      const bucketList = {\n        thumbnail: 'FUR',\n        flat: 'FLAT',\n        texture: 'FLAT',\n      };\n      const newImgJson = JSON.parse(JSON.stringify(props.imgJson));\n      await Promise.all(Object.entries(selectedFils.value).map(async ([key, item]) => {\n        if (!item) return;\n        newImgJson[key] = await uploadToOSS(item, bucketList[key]);\n      }));\n\n      return newImgJson;\n    };\n\n    return {\n      choseImg,\n      remove,\n      previewImage,\n      uploadImgJson,\n      key2Name,\n    };\n  },\n});\n\nexport default UploadImgJson;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImgJson.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UploadImgJson.vue?vue&type=template&id=10f2f0aa&scoped=true&\"\nimport script from \"./UploadImgJson.vue?vue&type=script&lang=ts&\"\nexport * from \"./UploadImgJson.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UploadImgJson.vue?vue&type=style&index=0&id=10f2f0aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10f2f0aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed, onMounted, provide, toRefs,\n} from '@vue/composition-api';\n\nimport axios from '@/utils/axios';\nimport { blockDragEffect } from '@/utils/public';\nimport { getContextUser } from '@/loaders/context';\n// import { getCurrentCompany } from '@/loaders/company';\nimport { getRelativePathFromUrl } from '@/utils/normalize-component';\n\nimport useLoader from '_/composables/use-loader';\nimport extract from '_/extract';\n\nimport Form from './Form.vue';\nimport ModelsSelector from './ModelsSelector.vue';\nimport AttachmentImage from './AttachmentImage.vue';\nimport AttachmentVideo from './AttachmentVideo.vue';\nimport UploadImgJson from './UploadImgJson.vue';\n\n/**\n * 更新材质详情信息（标签更新在其他接口）\n * @param {String} data { id: string, propName: any }\n * @see {Promise}\n */\nexport const updateMaterialInfo = (data: any) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/updateNewMaterialInfo',\n    data,\n  });\n};\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\nexport default defineComponent({\n  name: 'MaterialDetailForm',\n  components: {\n    UploadImgJson,\n    Form,\n    ModelsSelector,\n    AttachmentImage,\n    AttachmentVideo,\n  },\n  props: {\n    material: {\n      type: Object,\n      required: true,\n      default: () => ({}),\n    },\n    entryAppType: {\n      type: Number,\n    },\n    groupAppId: {\n      type: String,\n    },\n    // middleCategoryId: {\n    //   type: String,\n    //   required: true,\n    // },\n  },\n\n  setup(props, {\n    // @ts-ignore\n    emit, refs, root: { $errHandler, $message },\n  }) {\n    // 创建者\n    const isCreator = computed(() => getContextUser()?.id === props.material.creator);\n\n    const emptyImgJson = computed(() => {\n      return ['thumbnail', 'flat', 'texture'].some(item => !props.material.imgJson?.[item]);\n    });\n\n    provide('getIsCreator', isCreator);\n\n    // 中类ID\n    const middleCategoryId = useLoader(async ({ material: { extraProperty: { category } } }) => {\n      // eslint-disable-next-line prefer-rest-params\n      console.info(category);\n      if (!category) return '';\n      return fetchMiddleCategoryId(category);\n    }, extract(toRefs(props), ['material']), {\n      initialValue: null,\n      loadingValue: () => null,\n    });\n\n    provide('getMiddleCategoryId', middleCategoryId);\n\n    const materialCopy = ref({ imgJson: {}, fileInfo: '' });\n\n    const newMaterial = ref({} as { [key: string]: any });\n\n    onMounted(async () => {\n      // 禁止浏览器拖拽的默认行为\n      blockDragEffect(refs.uploadArea);\n\n      // 防止修改未保存时影响详情的数据\n      materialCopy.value = JSON.parse(JSON.stringify(props.material));\n      if (!materialCopy.value.imgJson) {\n        materialCopy.value.imgJson = {};\n      }\n      // console.info(props.material);\n      // console.info(JSON.parse(JSON.stringify(props.material)));\n      // console.info(materialCopy.value);\n    });\n\n    // 保存\n    async function save() {\n      emit('loading', true);\n      try {\n        newMaterial.value = await refs.refsForm.getFormData();\n\n        console.info(newMaterial.value);\n        if (!newMaterial.value) return;\n\n\n        // console.info(updateObj.value);\n        newMaterial.value.id = props.material.id;\n        newMaterial.value.assetsInfo = {}; // 初始assetsInfo接口有时返回null，访问 models, images, videos会报错\n\n        // 获取模型选择的结果\n        const models = refs.modelsSelector ? await refs.modelsSelector.getSelectResult() : [];\n        newMaterial.value.assetsInfo.models = models.map((model: any) => {\n          return { id: model.id, cover: model.modelCover };\n        });\n\n        // 获取材质图片的结果\n        const images = await refs.attachmentImage.getImageOssPaths();\n        newMaterial.value.assetsInfo.images = images;\n\n        // 获取模型选择的结果\n        const videos = await refs.attachmentVideo.getVideoOssPaths();\n        newMaterial.value.assetsInfo.videos = videos;\n        newMaterial.value.businessType = 1;\n\n        // const newImgJson = await refs.uploadImgJson.uploadImgJson();\n        if (!materialCopy.value.fileInfo) {\n          const newImgJson = refs.uploadImgJson ? await refs.uploadImgJson.uploadImgJson() : {};\n          newMaterial.value.imgJson = { ...materialCopy.value.imgJson, ...newImgJson };\n          Object.keys(newMaterial.value.imgJson).forEach(key => {\n            if (newMaterial.value.imgJson[key].includes('http')) {\n              newMaterial.value.imgJson[key] = getRelativePathFromUrl(newMaterial.value.imgJson[key]);\n            }\n          });\n        }\n        await updateMaterialInfo(newMaterial.value);\n        await refs.refsForm.addOperateToRecord(props.groupAppId);\n\n        newMaterial.value = {};\n        emit('switch-component', 'ComponentPreviewDetail');\n        // emit('update:saveDisabled', true);\n        emit('refresh');\n      } catch (err) {\n        $errHandler(err);\n      } finally {\n        emit('loading', false);\n      }\n    }\n\n    return {\n      save,\n      isCreator,\n      materialCopy,\n      middleCategoryId,\n      emptyImgJson,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentEditDetail.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ComponentEditDetail.vue?vue&type=template&id=15080de4&scoped=true&\"\nimport script from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nexport * from \"./ComponentEditDetail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ComponentEditDetail.vue?vue&type=style&index=0&id=15080de4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15080de4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-carousel',{ref:\"carousel\",class:_vm.size,attrs:{\"indicator-position\":\"none\",\"initial-index\":_vm.initialIndex,\"autoplay\":false},on:{\"change\":function (newIndex) {_vm.$emit('change', newIndex)}}},_vm._l((_vm.swiperList),function(item,i){return _c('el-carousel-item',{key:i},[(item.type === 'image')?[_c('base-image',{staticClass:\"material-img\",attrs:{\"fit\":\"contain\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.imageType && item.imageType === 'texture'),expression:\"item.imageType && item.imageType === 'texture'\"}],staticClass:\"img-scale\"},[_c('img',{staticStyle:{\"height\":\"100%\"},attrs:{\"src\":require('@/assets/img/material/scale.png')}})]),_c('IconMagnify',{staticClass:\"icon-magnify__image\",on:{\"magnify\":function (e) { return _vm.$act(_vm.previewImage, [e]); }}})]:(item.type === 'video')?[_c('div',{staticClass:\"material-video\"},[_c('VideoPlayer',{attrs:{\"sourceURL\":item.url,\"autoplay\":\"\"}}),_c('i',{staticClass:\"iconfont iconshipin\"})],1)]:(item.type === 'model')?[_c('div',{staticClass:\"material-model\"},[_c('base-image',{attrs:{\"fit\":\"cover\",\"src\":item.url,\"data-img-type\":\"material-info\"}}),_c('i',{staticClass:\"iconfont iconmoxing\"}),_c('IconMagnify',{staticClass:\"icon-magnify__model\",on:{\"magnify\":function () { return _vm.$act(_vm.previewModel, [item.id]); }}})],1)]:_vm._e()],2)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\n\nimport VideoPlayer from '@/components/video/index.vue';\nimport ModelPurePreviewer from '@/views/model/preview/ModelPurePreviewer.vue';\nimport IconMagnify from '@/components/icon/IconMagnify.vue';\n\nexport default defineComponent({\n  name: 'CarouselMaterialImages',\n  components: {\n    IconMagnify,\n    VideoPlayer,\n  },\n  props: {\n    swiperList: {\n      type: Array,\n      required: true,\n    },\n    materialId: {\n      type: String,\n      default: '',\n    },\n    size: {\n      tyep: String,\n      default: '',\n    },\n    initialIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  // @ts-ignore\n  setup(props, { root: { $ImageViewer, $Dialog } }) {\n    const carousel = ref(null);\n\n    async function previewImage() {\n      const imgList = props.swiperList.reduce((acc, cur) => {\n        // @ts-ignore\n        if (cur.type === 'image') acc.push(cur);\n        return acc;\n      }, []).map(item => {\n        const res = {\n          src: item.url,\n        };\n        if (item.imageType === 'flat') {\n          res.rulerSetting = {\n            rulerHeight: 100,\n            dpi: 520.2,\n          };\n        }\n        return res;\n      });\n      await $ImageViewer.show(imgList, {\n        index: ((carousel.value) as any).activeIndex,\n        targetElems: '.material-img',\n      });\n    }\n\n    async function previewVideo(sourceUrl: string) {\n      await $Dialog.dialogify({\n        is: VideoPlayer,\n        props: {\n          sourceURL: sourceUrl,\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          center: true,\n        },\n      });\n    }\n\n    async function previewModel(id: string) {\n      await $Dialog.dialogify({\n        is: ModelPurePreviewer,\n        props: {\n          modelId: id,\n          materialId: props.materialId,\n          mode: 'modelMaterial',\n        },\n      }, {\n        props: {\n          fullscreen: true,\n          width: '100%',\n          height: '100%',\n          top: '0',\n          bottom: '0',\n          flex: 'column',\n          center: true,\n        },\n      });\n    }\n\n    // 设置轮播图的滚动的index(外部调用)\n    function carouselSetActiveItem(index: number) {\n      ((carousel.value) as any).setActiveItem(index);\n    }\n\n    return {\n      carousel, previewImage, previewVideo, previewModel, carouselSetActiveItem,\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialCarousel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialCarousel.vue?vue&type=template&id=7d61fe97&scoped=true&\"\nimport script from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialCarousel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialCarousel.vue?vue&type=style&index=0&id=7d61fe97&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d61fe97\",\n  null\n  \n)\n\nexport default component.exports","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',{staticClass:\"detail-time-fragment\",style:(_vm.data.staticStyle)},[_c('div',{staticClass:\"grid-text\"},[_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconren\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.creator'))+\"：\")])]),_c('span',[_vm._v(_vm._s(_vm.props.creator))])]),_c('p',[_vm._m(0),_c('span',[_vm._v(_vm._s(_vm.props.modifier))])])]),_c('div',{staticClass:\"grid-text\"},[_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconshangchuan\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.uploaded'))+\" ：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.uploaded,'MM/DD/YYYY HH:mm')))])]),_c('p',[_c('label',[_c('i',{staticClass:\"iconfont iconshijian\"}),_c('span',[_vm._v(_vm._s(_vm.parent.$t('material.info.updated'))+\"：\")])]),_c('time',[_vm._v(_vm._s(_vm._f(\"date\")(+_vm.props.updated,'MM/DD/YYYY HH:mm')))])])])])}\nvar staticRenderFns = [function (_h,_vm) {var _c=_vm._c;return _c('label',[_c('i',{staticClass:\"iconfont iconren\"}),_c('span',[_vm._v(\"修改者：\")])])}]\n\nexport { render, staticRenderFns }","<template functional>\n  <div class=\"detail-time-fragment\" :style=\"data.staticStyle\">\n    <div class=\"grid-text\">\n      <p>\n        <label>\n          <i class=\"iconfont iconren\" />\n          <span>{{ parent.$t('material.info.creator') }}：</span>\n        </label>\n        <span>{{ props.creator }}</span>\n      </p>\n      <p>\n        <label>\n          <i class=\"iconfont iconren\" />\n          <span>修改者：</span>\n        </label>\n        <span>{{ props.modifier }}</span>\n      </p>\n    </div>\n    <div class=\"grid-text\">\n      <p>\n        <label>\n          <i class=\"iconfont iconshangchuan\" />\n          <span>{{ parent.$t('material.info.uploaded') }} ：</span>\n        </label>\n        <time>{{ +props.uploaded | date('MM/DD/YYYY HH:mm') }}</time>\n      </p>\n      <p>\n        <label>\n          <i class=\"iconfont iconshijian\" />\n          <span>{{ parent.$t('material.info.updated') }}：</span>\n        </label>\n        <time>{{ +props.updated | date('MM/DD/YYYY HH:mm') }}</time>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-time-fragment {\n  font-size: 12px;\n  height: 24px;\n  line-height: 18px;\n  gap: 10px;\n  display: grid;\n  grid-template-rows: auto auto;\n  color: #999;\n  .grid-text {\n    display: grid;\n    grid-template-columns: 0.3fr 0.3fr;\n    gap: 96px;\n  }\n  .iconfont {\n    margin-right: 5px;\n    font-size: 18px;\n    font-weight: 500;\n    color: #66748a;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeInfo.vue?vue&type=template&id=24588fb5&scoped=true&functional=true&\"\nimport script from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeInfo.vue?vue&type=style&index=0&id=24588fb5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"24588fb5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"material-operate-history\"},[(_vm.dayOperateList.length)?[_c('ul',_vm._l((_vm.dayOperateList),function(ref){\nvar day = ref.day;\nvar operateList = ref.operateList;\nreturn _c('li',{key:day,staticClass:\"history-item\"},[_c('h4',{staticClass:\"history-item-day\"},[_vm._v(_vm._s(day))]),_c('ul',{staticClass:\"history-item-main\"},_vm._l((operateList),function(ref){\nvar id = ref.id;\nvar user = ref.user;\nvar gmtCreateTime = ref.gmtCreateTime;\nvar params = ref.params;\nreturn _c('li',{key:id,staticClass:\"history-item-list\"},[_c('div',{staticClass:\"history-item-user\"},[_c('BaseUser',{attrs:{\"user\":user,\"size\":\"mini\"}}),_c('p',{staticClass:\"history-item-time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"date\")(gmtCreateTime,'YYYY/MM/DD HH:mm'))+\" \")])],1),_c('div',{staticClass:\"history-item-changelog\"},[_c('changelog',{attrs:{\"form\":params}})],1)])}),0)])}),0),(_vm.showLoadMore)?_c('Intersect',{on:{\"enter\":_vm.loadMore}},[_c('div',{staticClass:\"load-more\"},[(_vm.pageLoading)?[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" \"+_vm._s(_vm.$t('material-mall.loading'))+\" \")]:[_vm._v(_vm._s(_vm.$t('material-mall.scroll_to_load')))]],2)]):_c('el-divider',{staticClass:\"history-no-more\"},[_vm._v(\" \"+_vm._s(_vm.$t('material-mall.no_more'))+\" \")])]:_c('empty',{staticStyle:{\"height\":\"100%\"},attrs:{\"img\":require('@/assets/img/public/records-empty.png'),\"error\":{message:'暂无记录'}}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent,\n  reactive,\n  computed,\n  toRefs,\n} from '@vue/composition-api';\nimport axios from '@/utils/axios';\nimport { getUsersInfoByIds } from '@/api/account';\nimport dayjs from 'dayjs';\n// import AppError from '@/utils/error';\n// @ts-ignore\nimport Intersect from 'vue-intersect';\nimport BaseUser from '@/components/base/User.vue';\nimport changelog from '@/components/changelog/index.vue';\nimport empty from '@/components/error/index.vue';\nimport {\n  OperateList, DayOperateList, User, Obj,\n} from './type';\n\nexport const getOperateList = (params: {\n  relateId: string;\n  pageNumber: number;\n  pageSize: number;\n}) => {\n  return axios({\n    method: 'get',\n    url: '/msgcenter/operate/list',\n    params,\n  });\n};\n\nconst getUsersObj = async (records: OperateList) => {\n  const ids = [...new Set(records.map((item) => item.creator))];\n  const users: User[] = (await getUsersInfoByIds(ids))?.data || [];\n  const usersObj = users.reduce((obj: Obj, cur: User) => {\n    obj[cur.id] = cur;\n    return obj;\n  }, {});\n  return usersObj;\n};\n\nconst handleOperateList = async (\n  operateList: OperateList,\n  dayOperateList: DayOperateList = [],\n) => {\n  const usersObj = await getUsersObj(operateList);\n  operateList.forEach((operate) => {\n    operate.user = usersObj[operate.creator] || {\n      id: operate.creator,\n      icon: '',\n      name: '',\n    };\n    const day = dayjs(operate.gmtCreateTime).format('YYYY/MM/DD');\n    const dayOperate = dayOperateList.find((item) => item.day === day);\n    if (dayOperate) {\n      dayOperate.operateList.push(operate);\n    } else {\n      dayOperateList.push({\n        day,\n        operateList: [operate],\n      });\n    }\n  });\n  return dayOperateList;\n};\n\nexport default defineComponent({\n  name: 'MaterialOperateHistory',\n  inheritAttrs: false,\n  components: {\n    Intersect,\n    BaseUser,\n    changelog,\n    empty,\n  },\n  props: {\n    originalId: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const pageSize = 10;\n\n    const defaultState = {\n      dayOperateList: [] as DayOperateList,\n      loading: false,\n      pageLoading: false,\n      pageNumber: 1,\n      hasMore: false,\n    };\n\n    const state = reactive(defaultState);\n\n    const showLoadMore = computed(() => state.hasMore && state.pageNumber > 1);\n\n    const resetLoading = () => {\n      state.loading = false;\n      state.pageLoading = false;\n    };\n\n    const setDayOperateList = async (isLoadMore: boolean = false) => {\n      try {\n        if (!isLoadMore) state.loading = true;\n        if (isLoadMore) state.pageLoading = true;\n        const { data } = await getOperateList({\n          relateId: props.originalId,\n          pageNumber: state.pageNumber,\n          pageSize,\n        });\n        const records = data?.records || [];\n\n        state.dayOperateList = await handleOperateList(\n          records,\n          state.dayOperateList,\n        );\n        if (records.length === pageSize) {\n          state.hasMore = true;\n          state.pageNumber++;\n        } else {\n          state.hasMore = false;\n        }\n      } catch (error) {\n        // throw new AppError(error);\n      } finally {\n        resetLoading();\n      }\n    };\n\n    const loadMore = async () => {\n      if (!showLoadMore) return;\n      setDayOperateList(true);\n    };\n\n    setDayOperateList();\n\n    return {\n      ...toRefs(state),\n      loadMore,\n      showLoadMore,\n    };\n  },\n});\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6d552865&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6d552865&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d552865\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, ref, computed,\n} from '@vue/composition-api';\nimport i18n from 'i18next';\nimport axios from '@/utils/axios';\n// import tryParseJson from '@/utils/try-parse-json';\nimport { getUsersInfoByIds } from '@/api/account';\n// import { fetchSupplierAll } from '@/loaders/supplier';\nimport useLoader from '_/composables/use-loader';\nimport isQt from '@/utils/is-qt';\nimport { getHost } from '@/utils/exec/index';\nimport { getContextUser } from '@/loaders/context';\nimport envs from '@/utils/envs';\n\nimport { handleUploadMaterial4ddat } from '@/utils/catalog/utils';\nimport ComponentPreviewDetail from './components/ComponentPreviewDetail.vue';\nimport ComponentEditDetail from './components/ComponentEditDetail.vue';\nimport MaterialCarousel from './components/MaterialCarousel.vue';\nimport TimeInfo from './components/TimeInfo.vue';\nimport MaterialOperateHistory from './components/MaterialOperateHistory/index.vue';\nimport DeclineRecord from './components/DeclineRecord.vue';\n\n/**\n * 获取材质详情信息\n * @param {String} materialId 材质Id\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6026\n */\nexport const getMaterialInfo = (materialId: string, language = 'cn', groupAppId?: string) => {\n  return axios({\n    method: 'get',\n    url: '/anta-material/material/management/getMaterialBasicInfoAndTags',\n    headers: {\n      language,\n      groupAppId,\n    },\n    params: { materialId },\n  });\n};\n\n// 获取中类categoryId\nasync function fetchMiddleCategoryId(id: string) {\n  const ids = (await axios({\n    method: 'GET',\n    url: '/anta-material/category/parents',\n    params: { id },\n  })).data as string[];\n  return ids[1];\n}\n\n\nexport default defineComponent({\n  name: 'MaterialInfo',\n  dialogify: {\n    props: {\n      top: '5vh',\n      width: '900px',\n      noPadding: true,\n      closeOnClickModal: false,\n      // compact: true,\n    },\n    closeWith: 'material',\n  },\n  components: {\n    ComponentPreviewDetail,\n    ComponentEditDetail,\n    MaterialCarousel,\n    TimeInfo,\n    MaterialOperateHistory,\n    DeclineRecord,\n  },\n  props: {\n    groupAppId: {\n      type: String,\n    },\n    id: {\n      type: String,\n      required: true,\n    },\n    entryAppType: {\n      type: Number,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n    thumbIndex: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props, { root }) {\n    const { $errHandler } = root;\n    const currentComponent = ref('ComponentPreviewDetail');\n    const saveBtnDisabled = ref(true);\n    const loading = ref(false);\n    const material = ref<any>({\n      imgJson: '',\n      creatorName: '',\n      gmtCreateTime: '',\n      gmtModifyTime: '',\n      creator: '',\n      extraProperty: {\n        category: '',\n        season: {},\n      },\n    });\n    const isCreator = computed(() => getContextUser()?.id === material.value.creator);\n\n    // 中类ID\n    const middleCategoryId = useLoader(async ({ value: { extraProperty: { category } } }) => {\n      // eslint-disable-next-line prefer-rest-params\n      if (!category) return '';\n      return fetchMiddleCategoryId(category);\n    }, material, {\n      initialValue: null,\n      loadingValue: () => null,\n    });\n\n    const materialDynamicComp = ref<InstanceType<typeof ComponentEditDetail>>();\n\n    const swipers = ref<any>([]);\n    const title = ref(i18n.t('file-list.catalog.material_info'));\n    const isHistoryComponent = computed(() => currentComponent.value === 'MaterialOperateHistory');\n    // const isHistoryComponent = computed(() => false);\n    const contentStyle = computed(() => (isHistoryComponent.value ? 'is-higher' : ''));\n    // const contentStyle = computed(() => ({\n    //   // 切换到操作记录时，隐藏了按钮行，为保证高度一样，增加按钮行的高度\n    //   height: isHistoryComponent.value ? '612px' : '550px',\n    // }));\n\n    async function updateMaterial() {\n      await materialDynamicComp.value!.save();\n    }\n\n    // 获取轮播的需要的数据结构\n    function _getSwiperObj(mat: any) {\n      if (!mat.imgJson) return [];\n      swipers.value = [];\n      // 获取三张合成图\n      // ['thumbnail', 'flat', 'toeThumbnail'].forEach(item => {\n      ['thumbnail', 'flat', 'texture'].forEach(item => {\n        // @ts-ignore\n        const img = mat.imgJson[item];\n        if (img) swipers.value.push({ type: 'image', url: img, imageType: item });\n      });\n\n      if (!mat.assetsInfo) return swipers.value;\n      // 获取附件的材质图片\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.images.map(item => {\n        return { type: 'image', url: item };\n      }));\n\n      // 获取附件的视频\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.videos.map(item => {\n        return { type: 'video', url: item };\n      }));\n\n      //  获取附件的模型\n      // @ts-ignore\n      swipers.value.push(...mat.assetsInfo?.models.map(item => {\n        return { type: 'model', url: item.cover, id: item.id };\n      }));\n      return swipers.value;\n    }\n\n    // 获取模型信息及捕获异常操作\n    async function getMaterialInfoById(id: string) {\n      try {\n        const materialOrigin = (\n          await getMaterialInfo(id, i18n.language, props.groupAppId)\n        ).data;\n        // 处理单位类型的数据类型 number 转为 string; (否则编辑页面的表单校验会提示转为字符串类型)\n        Object.keys(materialOrigin).forEach(key => {\n          if (key === 'imgJson') return;\n          if (materialOrigin[key] === null) materialOrigin[key] = '';\n          else if (typeof materialOrigin[key] === 'number') materialOrigin[key] = materialOrigin[key].toString();\n        });\n\n        // 根据用户id，获取用户信息\n        if (materialOrigin.modifier === materialOrigin.creator) {\n          const userName = (await getUsersInfoByIds([materialOrigin?.creator])).data[0]?.name;\n          materialOrigin.creatorName = userName;\n          materialOrigin.modifierName = userName;\n        } else {\n          const userNames = (await getUsersInfoByIds([materialOrigin?.creator, materialOrigin?.modifier])).data;\n          materialOrigin.creatorName = userNames[0].name;\n          materialOrigin.modifierName = userNames[1].name;\n        }\n        material.value = materialOrigin;\n\n        _getSwiperObj(material.value);\n      } catch (err) {\n        $errHandler(err);\n      }\n    }\n\n    // 跳转到变更记录\n    function toOperateHistory() {\n      currentComponent.value = 'MaterialOperateHistory';\n      title.value = material.value.materialName;\n    }\n\n    // 返回面料详情\n    function backOperate() {\n      currentComponent.value = 'ComponentPreviewDetail';\n      title.value = i18n.t('file-list.catalog.material_info');\n    }\n\n    // 弹出驳回记录\n    async function showDeclineRecord(materialId: string) {\n      await root.$injectDialog({\n        is: DeclineRecord,\n        props: {\n          materialId,\n        },\n      });\n    }\n    async function printAsPDF() {\n      const routeUrl = root.$router.resolve({\n        path: '/material-info',\n        query: {\n          groupAppId: props.groupAppId,\n          id: props.id,\n          entryAppType: props.entryAppType?.toString(),\n          editable: 'false',\n        },\n      });\n      if (isQt()) {\n        const nativeHost = await getHost();\n        nativeHost.openWin({\n          url: routeUrl.href,\n        });\n      } else {\n        window.open(routeUrl.href, '_blank');\n      }\n    }\n\n    async function handleUpload4ddat() {\n      await handleUploadMaterial4ddat({\n        workspaceId: props.groupAppId,\n        relateId: props.id,\n      });\n      console.info('执行刷新');\n      await getMaterialInfoById(props.id);\n    }\n\n    getMaterialInfoById(props.id);\n\n    return {\n      material,\n      materialDynamicComp,\n      updateMaterial,\n      swipers,\n      currentComponent,\n      saveBtnDisabled,\n      loading,\n      getMaterialInfoById,\n      title,\n      toOperateHistory,\n      backOperate,\n      showDeclineRecord,\n      printAsPDF,\n      contentStyle,\n      isHistoryComponent,\n      middleCategoryId,\n      isQt,\n      handleUpload4ddat,\n      isCreator,\n      envs,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=759b404a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=759b404a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"759b404a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentImage.vue?vue&type=style&index=0&id=d9f63f58&lang=scss&scoped=true&\"","import axios from '@/utils/axios';\n\nexport async function fetchSupplierList() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {\n      status: '1',\n    },\n  })).data;\n  return res;\n}\n\nexport async function fetchSupplierAll() {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: {},\n  })).data;\n  return res;\n}\n\nexport async function fetchSupplierNotBound() {\n  const res = (await axios({\n    method: 'get',\n    url: '/anta-material/supplier/searchOriginalSupplierNameByNotBound',\n  })).data;\n  return res;\n}\n\nexport default fetchSupplierNotBound;\n","import Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\n\nconst list : Jsonschema[] = [{\n  prop: 'materialName',\n  title: '材料名称',\n  type: 'string',\n  required: true,\n}, {\n  prop: 'season',\n  type: 'string',\n  title: '季节',\n  builder: 'SeasonSelect',\n  required: [],\n}, {\n  prop: 'material_number',\n  type: 'string',\n  disabled: true,\n  title: '材料编码',\n}, {\n  prop: 'category',\n  type: 'string',\n  title: '选择分类',\n  builder: 'MaterialTypeCascade',\n  required: [],\n  attrs: {\n    strictMode: true,\n  },\n}, {\n  prop: 'supplier_name',\n  type: 'string',\n  title: '供应商名称',\n  builder: 'SupplierSelect',\n  // required: [],\n}, {\n  prop: 'reference_price',\n  type: 'object',\n  title: '参考单价',\n  // required: ['value'],\n  // builder: 'PriceFormItem',\n  // attrs: {\n  //   toFixed: 3,\n  // },\n  sort: ['value', 'unit'],\n  class: 'price-item',\n  properties: {\n    value: {\n      type: 'number',\n      prop: 'value',\n      // builder: 'PriceFormItem',\n      // required: [],\n      toFixed: 3,\n    },\n    unit: {\n      type: 'string',\n      prop: 'unit',\n      oneOf: [\n        {\n          type: 'integer',\n          const: {\n            label: '人民币',\n            value: 1,\n          },\n        }, {\n          type: 'integer',\n          const: {\n            label: '美元',\n            value: 2,\n          },\n        },\n      ],\n    },\n  },\n}, {\n  prop: 'cost',\n  type: 'string',\n  title: '成本单价',\n}, {\n  prop: 'color_limit_type',\n  type: 'string',\n  title: '颜色限制类别',\n  clearable: true,\n  oneOf: [\n    {\n      type: 'integer',\n      const: {\n        label: '全部颜色',\n        value: 1,\n      },\n    }, {\n      type: 'integer',\n      const: {\n        label: '仅部分颜色',\n        value: 2,\n      },\n    }, {\n      type: 'integer',\n      const: {\n        label: '荧光色除外',\n        value: 3,\n      },\n    },\n  ],\n}, {\n  prop: 'evergreen',\n  type: 'string',\n  title: '常青材料',\n  builder: 'el-checkbox',\n  attrs: {\n    'true-label': 1,\n    'false-label': 2,\n    label: 'TRUE',\n  },\n}];\n\nexport default list;\n","import Jsonschema from '@4dst-saas/form-utils/dist/components/jsonschema2form/JSONschema';\nimport axios from '@/utils/axios';\nimport { fetchAntaPropertyById } from '@/loaders/dictionary';\nimport difference from '@4dst-saas/public-utils/dist/difference';\nimport customJsonschemaList from './customJsonschema';\n\n\n// 获取大中小类组合的类名\nasync function getCategoryName(id: string) {\n  return ((await axios({\n    method: 'post',\n    url: '/anta-material/category/name',\n    data: {\n      ids: [id],\n    },\n  })).data)[id];\n}\n\n// 获取供应商名称\nasync function fetchSupplierName(id: string) {\n  const res = (await axios({\n    method: 'post',\n    url: '/anta-material/supplier/list/condition',\n    data: { ids: [id] },\n  })).data;\n  return res?.[0]?.originalSupplierName || '';\n}\n\nexport type IAttribute = {\n  id?: string,\n  title: string,\n  required: boolean | 0 | 1,\n  values?: IOption[] | undefined,\n  key: string,\n  isSystem?: boolean,\n  component: 1 | 2 | 3 /** 小数、整数、文本是1，下拉类型是2 */,\n  params?: Partial<Jsonschema>,\n};\n\nexport type IOption = {\n  id?: string,\n  label: string,\n  sort: number,\n};\n\nexport function attributeValueExtractFEId(list: IAttribute['values']) {\n  if (!list) return list;\n  return list.map((item) => {\n    const { id, label, sort } = item;\n    if (id?.startsWith('@FE')) {\n      return {\n        label, sort,\n      };\n    }\n    return { id, label, sort };\n  });\n}\n\nexport function attribute2JSONschema(itemOrList: IAttribute | IAttribute[] | {isSystem: true, key: string, title: string}) {\n  const list = (\n    Object.prototype.toString.call(itemOrList) === '[object Array]' ? itemOrList : [itemOrList]\n  ) as IAttribute[];\n  const JSONschemaList = list.map(attr => {\n    if (attr.isSystem) {\n      const obj = {\n        ...customJsonschemaList.find(item => {\n          return item.prop === attr.key;\n        }),\n      };\n\n      obj.required = obj.type === 'object' ? (\n        attr.required ? Object.keys(obj.properties) : []\n      ) : !!attr.required;\n\n      if (Array.isArray(obj.required) && !obj.required.length) {\n        delete obj.required;\n      }\n      return obj;\n    }\n    if (!attr.params) {\n      attr.params = new Jsonschema({ type: 'string' });\n    }\n    // 增加title\n    attr.params = {\n      ...attr.params,\n      title: attr.title,\n    };\n    if (attr.key) {\n      attr.params.prop = attr.key;\n    }\n    if (attr.required) attr.params.required = [];\n    switch (attr.component) {\n      case 1: return { ...attr.params! } as Jsonschema;\n      case 2: {\n        const oneOf = attr.values!.map(av => new Jsonschema({\n          type: 'string',\n          const: {\n            label: av.label,\n            value: av.id!,\n          } as unknown as 'object',\n          $id: av.id!,\n        }));\n        attr.params = {\n          ...attr.params,\n          oneOf,\n          valueKey: 'value',\n          labelKey: 'label',\n          validator: [attr.title],\n        };\n        return ({ ...attr.params!, oneOf }) as Jsonschema;\n      }\n      case 3: {\n        const anyOf = attr.values!.map(av => new Jsonschema({\n          type: 'string',\n          const: {\n            label: av.label,\n            value: av.id!,\n          } as unknown as 'object',\n          $id: av.id!,\n        }));\n        attr.params = {\n          ...attr.params,\n          // oneOf,\n          valueKey: 'value',\n          labelKey: 'label',\n          validator: [attr.title],\n          type: 'array',\n          anyOf,\n        };\n        return ({ ...attr.params! }) as Jsonschema;\n      }\n      default: return new Jsonschema({ type: 'string' });\n    }\n  });\n  return list.length > 1 ? JSONschemaList : JSONschemaList[0];\n}\n\n/** 将输入的JSONschema数组包成一个JSONschema (弃用) */\nexport function JSONschemaList2JSONschema(list: Jsonschema[], useSort = true): Jsonschema {\n  const wrapper = new Jsonschema({ type: 'object', properties: {} });\n  wrapper.properties = {\n    ...list.reduce((pre, cur) => ({\n      ...pre,\n      [cur.title!]: cur,\n    }), {}),\n  };\n  wrapper.required = [...(list.filter(item => item.required).map(item => item.title) as string[])];\n  if (useSort) {\n    wrapper.sort = list.map(item => item.title!);\n  }\n  return wrapper;\n}\n\n/**\n * 用于面料详情显示\n * 输入中类id和formData，返回转换好的formData\n *\n * @param extractList 根据权限需要去掉的属性\n */\nexport async function antaMiddleClassIdAndFormData2TransformedFormDataList(\n  middleClassId: string,\n  formData: {[key: string]: string | number| object},\n  extractList: string[] = [],\n) {\n  const properties = (await axios({\n    url: '/anta-material/template/middle',\n    params: { id: middleClassId },\n    method: 'GET',\n  })).data as { propertyId?: string, sort: number, isSystem: boolean, title: string, key: string }[];\n\n  if (!properties.length) return formData;\n\n  // 排序\n  const propertiesSortList = properties.sort(\n    (a, b) => Math.abs(a.sort) - Math.abs(b.sort),\n  );\n\n  // 处理一下\n  const list = (await Promise.all(propertiesSortList.map(async (propertyItem) => {\n    if (propertyItem.isSystem) {\n      return propertyItem;\n    }\n    return (await axios({\n      url: `/anta-material/dynamics/property/detail?id=${propertyItem.propertyId}`, method: 'GET',\n    })).data as IAttribute;\n  }))).filter(i => extractList.indexOf(i.title) === -1);\n\n\n  function setColorLimitType(colorLimitType : 1 | 2 | 3 | undefined) {\n    switch (colorLimitType) {\n      case 1: return '全部颜色';\n      case 2: return '仅部分颜色';\n      case 3: return '荧光色除外';\n      default: return '--';\n    }\n  }\n\n  // 将值转为对应显示的东西\n  const l = await Promise.all(list.map(async (item) => {\n    if (item.isSystem) {\n      switch (item.key) {\n        case 'category': return { label: item.title, value: await getCategoryName(formData[item.key] as string) };\n        case 'season': return {\n          label: item.title,\n          value: formData[item.key]\n            ? `${formData[item.key].year || ''}${formData[item.key].season || ''}${await fetchAntaPropertyById(formData[item.key]['品牌'])}`\n            : '--',\n        };\n        case 'reference_price': {\n          const referenceUnit = formData.reference_price.unit === 1 ? '人民币' : '美元';\n          return { label: item.title, value: formData[item.key].value ? `${formData[item.key].value}${referenceUnit}` : '--' };\n        }\n        case 'cost': {\n          const costUnit = formData.cost.unit === 1 ? '人民币' : '美元';\n          return { label: item.title, value: formData[item.key].value ? `${formData[item.key].value}${costUnit}` : '--' };\n        }\n        case 'color_limit_type': return { label: item.title, value: setColorLimitType(formData[item.key] as 1 | 2 | 3) };\n        case 'evergreen': return { label: item.title, value: formData[item.key] === 1 ? 'TRUE' : 'FALSE' };\n        case 'supplier_name': return { label: item.title, value: await fetchSupplierName(formData[item.key] as string) };\n        case 'materialName':\n        case 'material_number': return { label: item.title, value: formData[item.key] };\n        // default: throw new Error(`数据转换出错。当前key为${item.key}`);\n        default: throw new Error(`数据转换出错。当前title为${item.title}`);\n      }\n    }\n\n    // 非系统属性\n    switch (item.component) {\n      case 1: return { label: item.title, value: formData[item.title] };\n      // case 3: return { label: item.title, value: formData[item.id!] };\n      case 2: {\n        // 先判断是否在可选值中。如果在可选值中，直接获取可选值，否则还要根据id调接口获得\n        const wait4FetchValue = formData[item.title] as string;\n        const target = item.values!.find(i => i.id === wait4FetchValue);\n        if (target) return { label: item.title, value: target.label };\n        const label = (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id: wait4FetchValue },\n        })).data as string;\n        return { label: item.title, value: label };\n      }\n      case 3: {\n        const wait4FetchValue = formData[item.title] as string[] || [];\n        const notFounds = wait4FetchValue.filter(v => !item.values!.find(i => i.id === v));\n        // if (!notFounds.length) return { label: item.title, value: targets.join(',') };\n        const labels = await Promise.all(notFounds.map(async (id) => (await axios({\n          url: '/anta-material/dynamics/property/value/id',\n          method: 'GET',\n          params: { id },\n        })).data as string));\n        const res = labels.concat(\n          difference(wait4FetchValue, notFounds).map(\n            v => item.values.find(i => i.id === v)?.label,\n          ),\n        ).join(',');\n        // return res;\n        return { label: item.title, value: res };\n      }\n      default: throw new Error(`数据转换出错。当前component为${item.component}`);\n    }\n  }));\n  return l;\n}\n\n/** 输入中类id和formData，返回转换好的formData(弃用) */\nexport async function antaMiddleClassIdAndFormData2TransformedFormData(\n  middleClassId: string,\n  formData: {[key: string]: string | number},\n) {\n  const properties = (await axios({\n    url: '/anta-material/template/middle',\n    params: { id: middleClassId },\n    method: 'GET',\n  })).data as { propertyId: string }[];\n  if (!properties.length) return formData;\n  const pIds = properties.map(property => property.propertyId);\n\n  const list = await Promise.all(pIds.map(async (id) => {\n    return (await axios({\n      url: `/anta-material/dynamics/property/detail?id=${id}`, method: 'GET',\n    })).data as IAttribute;\n  }));\n  const res = { ...formData };\n  const filterList = list.filter(attr => attr.component === 2);\n  const shouldFetchList:{key: string, id: string}[] = [];\n  filterList.forEach(item => {\n    const key = item.title;\n    const wait4FetchValue = formData[key] as string;\n    const target = item.values!.find(i => i.id === wait4FetchValue);\n    // 找到了\n    if (target) res[key] = target.label;\n    else shouldFetchList.push({ key, id: wait4FetchValue });\n  });\n  if (shouldFetchList.length) {\n    await Promise.all(shouldFetchList.map(async ({ id, key }) => {\n      const value = (await axios({\n        url: '/anta-material/dynamics/property/value/id',\n        method: 'GET',\n        params: { id },\n      })).data as string;\n      console.log(value);\n      res[key] = value;\n    }));\n  }\n  return res;\n}\n\n/** 输入jsonschema，返回包含检验下拉框值的validator函数组成的对象 */\nexport function jsonschema2FormItemValidatorObject(jss: Jsonschema) {\n  if (jss.type !== 'object') throw new Error('输入的jsonschema不是object类型');\n  if (!jss.properties) throw new Error('输入的jsonschema没有properties');\n  const validatorObject:{[key: string]: Function} = {};\n  const validatorKeys = Object.keys(jss.properties!).filter(key => jss.properties![key].oneOf);\n  validatorKeys.forEach(key => {\n    if (jss.properties![key].type === 'array') return;\n    if (jss.required?.includes(key) || jss.properties![key].required\n    || (typeof (jss.properties![key].disabled) === 'boolean' && !jss.properties![key].disabled)) {\n      validatorObject[key] = (value: string) => {\n        const valueList = (jss.properties![key].oneOf!.map(item => item.const! as unknown as {\n          label: string, value: string,\n        })).map(({ value: _v }) => _v);\n        console.log(valueList);\n        if (!valueList.includes(value)) throw new Error('此值已被删除');\n      };\n    }\n  });\n  return validatorObject;\n}\n","module.exports = __webpack_public_path__ + \"img/records-empty.13f2a8f6.png\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeclineRecord.vue?vue&type=style&index=1&id=2a47bbd8&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentVideo.vue?vue&type=style&index=0&id=305df05d&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentPreviewDetail.vue?vue&type=style&index=0&id=77c96a62&lang=scss&scoped=true&\""],"sourceRoot":""}