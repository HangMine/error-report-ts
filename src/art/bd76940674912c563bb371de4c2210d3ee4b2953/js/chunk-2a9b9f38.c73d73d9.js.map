{"version":3,"sources":["webpack:///./src/components/OverText.vue?2cdc","webpack:///./src/components/OverText.vue?ec56","webpack:///./src/components/OverText.vue?05eb","webpack:///./src/components/OverText.vue","webpack:///./src/components/OverText.vue?0f06"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_b","attrs","content","$attrs","ref","style","_t","staticRenderFns","name","inheritAttrs","components","props","width","type","Number","String","default","setup","refs","root","emit","state","isOver","wrapStyle","setSlotsElInline","slotEls","wrap","children","forEach","el","display","init","WrapEl","scrollWidth","clientWidth","textContent","$nextTick","component"],"mappings":"gHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAAEN,EAAU,OAAE,CAACI,EAAG,aAAaJ,EAAIO,GAAG,CAACC,MAAM,CAAC,OAAS,OAAO,QAAUR,EAAIS,QAAQ,SAAW,OAAO,aAAaT,EAAIU,QAAO,GAAO,CAACN,EAAG,MAAM,CAACO,IAAI,OAAOL,YAAY,iBAAiBM,MAAOZ,EAAa,WAAG,CAACA,EAAIa,GAAG,YAAY,MAAM,CAACT,EAAG,MAAM,CAACO,IAAI,OAAOL,YAAY,iBAAiBM,MAAOZ,EAAa,WAAG,CAACA,EAAIa,GAAG,YAAY,KAAK,IAC3cC,EAAkB,G,4FC0BP,+BAAgB,CAC7BC,KAAM,YACNC,cAAc,EACdC,WAAY,GACZC,MAAO,CACLC,MAAO,CACLC,KAAM,CAACC,OAAQC,QACfC,QAAS,SAGbC,MAV6B,SAUvBN,EAVuB,GAUI,IAAlBO,EAAkB,EAAlBA,KAAYC,GAAM,EAAZC,KAAY,EAAND,MAEnBE,GADQ,kCACA,sBAAS,CACrBC,QAAQ,EACRpB,QAAS,GACTqB,UAAW,CACTX,MAA8B,kBAAhBD,EAAMC,MAAqBD,EAAMC,MAAxC,UAAmDD,EAAMC,MAAzD,UAILY,EAAmB,WAEvB,IAAMC,EAAU,eAAIP,EAAKQ,KAAKC,UAC9BF,EAAQG,SAAQ,SAAAC,GACdA,EAAGxB,MAAMyB,QAAU,aAKjBC,EAAI,yDAAG,uGACLC,EAASd,EAAKQ,OAEhBM,EAAOC,YAAcD,EAAOE,aAHrB,uBAITb,EAAMC,QAAS,EACfD,EAAMnB,QAAU8B,EAAOG,aAAe,GAL7B,SAOHhB,EAAKiB,YAPF,OAQTZ,IARS,uBAWTH,EAAMC,QAAS,EAXN,4CAAH,qDAmBV,OAJA,uBAAS,wCAAC,8FACRS,IADQ,4CAIV,iCACK,oBAAOV,IADZ,IAEEU,YC7E6X,I,wBCQ/XM,EAAY,eACd,EACA7C,EACAe,GACA,EACA,KACA,WACA,MAIa,OAAA8B,E,2CCnBf,W","file":"js/chunk-2a9b9f38.c73d73d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"over-text\"},[(_vm.isOver)?[_c('el-tooltip',_vm._b({attrs:{\"effect\":\"dark\",\"content\":_vm.content,\"tabindex\":null}},'el-tooltip',_vm.$attrs,false),[_c('div',{ref:\"wrap\",staticClass:\"over-text-wrap\",style:(_vm.wrapStyle)},[_vm._t(\"default\")],2)])]:[_c('div',{ref:\"wrap\",staticClass:\"over-text-wrap\",style:(_vm.wrapStyle)},[_vm._t(\"default\")],2)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent, reactive, computed, ref, toRefs, onMounted, getCurrentInstance,\n} from '@vue/composition-api';\n\nexport default defineComponent({\n  name: 'over-text',\n  inheritAttrs: false,\n  components: {},\n  props: {\n    width: {\n      type: [Number, String],\n      default: 'auto',\n    },\n  },\n  setup(props, { refs, emit, root }) {\n    const _this = getCurrentInstance();\n    const state = reactive({\n      isOver: false,\n      content: '',\n      wrapStyle: {\n        width: typeof props.width === 'string' ? props.width : `${props.width}px`,\n      },\n    });\n\n    const setSlotsElInline = () => {\n      // 这里的refs.wrap已经是isOver的wrap\n      const slotEls = [...refs.wrap.children] as HTMLElement[];\n      slotEls.forEach(el => {\n        el.style.display = 'inline';\n      });\n    };\n\n    // 可能从外部调用,不能修改名字\n    const init = async () => {\n      const WrapEl = refs.wrap as HTMLElement;\n\n      if (WrapEl.scrollWidth > WrapEl.clientWidth) {\n        state.isOver = true;\n        state.content = WrapEl.textContent || '';\n\n        await root.$nextTick();\n        setSlotsElInline();\n      } else {\n        // 必须设置,有些场景可能从toolTip变成不需要toolTip\n        state.isOver = false;\n      }\n    };\n\n    onMounted(async () => {\n      init();\n    });\n\n    return {\n      ...toRefs(state),\n      init,\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverText.vue?vue&type=template&id=06da4a7a&scoped=true&\"\nimport script from \"./OverText.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverText.vue?vue&type=style&index=0&id=06da4a7a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06da4a7a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverText.vue?vue&type=style&index=0&id=06da4a7a&lang=scss&scoped=true&\""],"sourceRoot":""}