{"version":3,"sources":["webpack:///./src/views/model/bag-info/components/model-info/DetailForm.vue?2ab3","webpack:///./src/views/model/mixin-renderer.js","webpack:///./src/views/model/detail/annotation/AnnotationUser.vue","webpack:///./src/views/model/detail/annotation/AnnotationUser.vue?83e5","webpack:///./src/views/model/detail/annotation/AnnotationUser.vue?937c","webpack:///./src/api/permission.js","webpack:///./src/views/model/preview/index.vue?0049","webpack:///./src/views/model/detail/annotation/AnnotationCreation.vue?2933","webpack:///./src/views/model/bag-info/components/ComponentModelInfo.vue?a58c","webpack:///./src/views/model/detail/comment/CommentDetail.vue","webpack:///./src/views/model/detail/annotation/AnnotationDetail.vue","webpack:///./src/views/model/detail/comment/CommentDetail.vue?0b45","webpack:///./src/views/model/detail/comment/CommentDetail.vue?8a7f","webpack:///./src/views/model/detail/annotation/AnnotationDetail.vue?4088","webpack:///./src/views/model/detail/annotation/AnnotationDetail.vue?a467","webpack:///./src/views/model/bag-info/components/ComponentAdditionalInfo.vue?8859","webpack:///./src/views/model/detail/annotation/AnnotationItem.vue?3157","webpack:///./src/views/model/detail/annotation/AnnotationDetail.vue?2259","webpack:///./src/views/model/info/components/model-info/DetailText.vue?ff1a","webpack:///./src/views/model/detail/annotation/index.vue?5917","webpack:///./src/views/model/detail/annotation/AnnotationItem.vue?ff61","webpack:///src/views/model/detail/annotation/AnnotationItem.vue","webpack:///./src/views/model/detail/annotation/AnnotationItem.vue?dd5f","webpack:///./src/views/model/detail/annotation/AnnotationItem.vue","webpack:///src/views/model/detail/annotation/index.vue","webpack:///./src/views/model/detail/annotation/index.vue?18c8","webpack:///./src/views/model/detail/annotation/index.vue","webpack:///./src/views/model/info/components/model-info/DetailForm.vue?3e8d","webpack:///./src/views/model/detail/annotation/AnnotationUser.vue?30ea","webpack:///./node_modules/vue-at/dist/vue-at-textarea.js","webpack:///./src/components/form/InputWithUnit.vue?a260","webpack:///./src/views/model/bag-info/index.vue?fdd7","webpack:///./src/views/model/bag-info/components/ComponentModelInfo.vue?4b36","webpack:///./src/views/model/bag-info/components/model-info/DetailForm.vue?f1e1","webpack:///./src/views/model/bag-info/mixinHasPermission.js","webpack:///./src/views/model/bag-info/components/model-info/DictionarySelector.vue?a47f","webpack:///./src/views/model/bag-info/components/model-info/DictionarySelector.vue?5f76","webpack:///./src/views/model/bag-info/components/model-info/DictionarySelector.vue?9af6","webpack:///./src/views/model/bag-info/components/model-info/DictionarySelector.vue","webpack:///./src/views/model/bag-info/components/model-info/InputWithUnit.vue?a80b","webpack:///src/views/model/bag-info/components/model-info/InputWithUnit.vue","webpack:///./src/views/model/bag-info/components/model-info/InputWithUnit.vue?d89a","webpack:///./src/views/model/bag-info/components/model-info/InputWithUnit.vue","webpack:///src/views/model/bag-info/components/model-info/DetailForm.vue","webpack:///./src/views/model/bag-info/components/model-info/DetailForm.vue?ccfe","webpack:///./src/views/model/bag-info/components/model-info/DetailForm.vue","webpack:///./src/views/model/bag-info/components/model-info/DetailText.vue?68c8","webpack:///src/views/model/bag-info/components/model-info/DetailText.vue","webpack:///./src/views/model/bag-info/components/model-info/DetailText.vue?df5a","webpack:///./src/views/model/bag-info/components/model-info/DetailText.vue","webpack:///./src/views/model/bag-info/components/model-info/MaterialTable.vue?72f4","webpack:///src/views/model/bag-info/components/model-info/MaterialTable.vue","webpack:///./src/views/model/bag-info/components/model-info/MaterialTable.vue?a8d2","webpack:///./src/views/model/bag-info/components/model-info/MaterialTable.vue","webpack:///src/views/model/bag-info/components/ComponentModelInfo.vue","webpack:///./src/views/model/bag-info/components/ComponentModelInfo.vue?4b83","webpack:///./src/views/model/bag-info/components/ComponentModelInfo.vue","webpack:///./src/views/model/bag-info/components/ComponentAdditionalInfo.vue?fe24","webpack:///./src/views/model/bag-info/rules.js","webpack:///src/views/model/info/components/ComponentAdditionalInfo.vue","webpack:///./src/views/model/bag-info/components/ComponentAdditionalInfo.vue?eadb","webpack:///./src/views/model/bag-info/components/ComponentAdditionalInfo.vue","webpack:///./src/views/model/bag-info/components/ComponentDownloadProcess.vue?f8f5","webpack:///src/views/model/bag-info/components/ComponentDownloadProcess.vue","webpack:///./src/views/model/bag-info/components/ComponentDownloadProcess.vue?5a39","webpack:///./src/views/model/bag-info/components/ComponentDownloadProcess.vue","webpack:///./src/views/model/bag-info/form.js","webpack:///src/views/model/bag-info/index.vue","webpack:///./src/views/model/bag-info/index.vue?ecc9","webpack:///./src/views/model/bag-info/index.vue","webpack:///./src/views/model/preview/index.vue?0114","webpack:///./src/assets/img/public/placeholder/placeholder-empty-notification.png","webpack:///./src/views/model/info/components/ComponentAdditionalInfo.vue?aa61","webpack:///./src/utils/load-d4.js","webpack:///./src/views/model/preview/index.vue?77bd","webpack:///src/views/model/preview/index.vue","webpack:///./src/views/model/preview/index.vue?3998","webpack:///./src/views/model/preview/index.vue","webpack:///./src/components/form/InputWithUnit.vue?7238","webpack:///src/components/form/InputWithUnit.vue","webpack:///./src/components/form/InputWithUnit.vue?1421","webpack:///./src/components/form/InputWithUnit.vue","webpack:///./src/views/model/info/components/ComponentDownloadProcess.vue?de58","webpack:///./src/assets/img/header/default_avatar.png","webpack:///./src/views/model/info/components/model-info/MaterialTable.vue?2a9d","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-el.js","webpack:///./src/views/model/bag-info/components/model-info/InputWithUnit.vue?0fbf","webpack:///./src/views/model/bag-info/components/model-info/DetailText.vue?f9e1","webpack:///./src/views/model/detail/annotation/AnnotationCreation.vue","webpack:///./src/views/model/detail/annotation/AnnotationCreation.vue?6d15","webpack:///./src/views/model/detail/annotation/AnnotationCreation.vue?181b","webpack:///./src/views/model/info/components/ComponentModelInfo.vue?7be6","webpack:///./node_modules/textarea-caret/index.js","webpack:///./src/views/model/detail/annotation/AnnotationCreation.vue?bba2","webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-closest.js","webpack:///./src/views/model/bag-info/components/model-info/MaterialTable.vue?af44","webpack:///./src/views/model/bag-info/components/ComponentDownloadProcess.vue?c9dc","webpack:///./src/components/dictionary/DictionarySelector.vue?1a09","webpack:///src/components/dictionary/DictionarySelector.vue","webpack:///./src/components/dictionary/DictionarySelector.vue?6550","webpack:///./src/components/dictionary/DictionarySelector.vue","webpack:///./src/views/model/detail/comment/CommentDetail.vue?1fb6","webpack:///./src/views/model/detail/annotation/index.vue?acd7","webpack:///./src/views/model/info/index.vue?30c0","webpack:///./src/views/model/info/components/ComponentModelInfo.vue?de4a","webpack:///./src/views/model/info/components/model-info/DetailForm.vue?a048","webpack:///./src/views/model/info/mixinHasPermission.js","webpack:///src/views/model/info/components/model-info/DetailForm.vue","webpack:///./src/views/model/info/components/model-info/DetailForm.vue?0486","webpack:///./src/views/model/info/components/model-info/DetailForm.vue","webpack:///./src/views/model/info/components/model-info/DetailText.vue?54fb","webpack:///src/views/model/info/components/model-info/DetailText.vue","webpack:///./src/views/model/info/components/model-info/DetailText.vue?a590","webpack:///./src/views/model/info/components/model-info/DetailText.vue","webpack:///./src/views/model/info/components/model-info/MaterialTable.vue?933e","webpack:///src/views/model/info/components/model-info/MaterialTable.vue","webpack:///./src/views/model/info/components/model-info/MaterialTable.vue?6f3e","webpack:///./src/views/model/info/components/model-info/MaterialTable.vue","webpack:///src/views/model/info/components/ComponentModelInfo.vue","webpack:///./src/views/model/info/components/ComponentModelInfo.vue?c7ac","webpack:///./src/views/model/info/components/ComponentModelInfo.vue","webpack:///./src/views/model/info/components/ComponentAdditionalInfo.vue?8302","webpack:///./src/views/model/info/components/ComponentAdditionalInfo.vue?f9e4","webpack:///./src/views/model/info/components/ComponentAdditionalInfo.vue","webpack:///./src/views/model/info/components/ComponentDownloadProcess.vue?6a84","webpack:///./src/views/model/info/components/ComponentDownloadProcess.vue?9bef","webpack:///./src/views/model/info/components/ComponentDownloadProcess.vue","webpack:///./src/views/model/info/form.js","webpack:///src/views/model/info/index.vue","webpack:///./src/views/model/info/index.vue?df49","webpack:///./src/views/model/info/index.vue"],"names":["data","d4","d2","canvasEvent","destroyed","this","methods","instanceD4","D4","canvasDom","canvas","width","height","resolution","window","devicePixelRatio","_getTargetName","event","param","left","getBoundingClientRect","top","clickX","clientX","clickY","clientY","eventType","type","getTargetFromScreen","_initCanvasEvent","keydown","e","shortcutKeys","click","d4Sign","getSign","offsetX","offsetY","ann","annotations","find","_ann","id","showAnnotation","mousedown","controlsMouseMove","signCurrent","mouseMoveRender","controlsMouseUp","render","document","removeEventListener","isStart","controlsMouseDown","addEventListener","wheel","preventDefault","stopPropagation","controlsMouseWheel","touchstart","controlsTouchMove","controlsTouchEnd","staticRenderFns","extend","props","user","Object","required","time","Number","functional","_h","parent","headImg","name","$filters","date","component","ApiGroupappList","axios","method","url","params","appId","ApiSingleWorkpaceTable","headers","groupAppId","getWorkspaceConfig","workspaceId","getWorkspaceConfigSelf","updateWorkspaceWatermart","openWatermark","ApiDismissWorkpace","ApiRenameWorkspace","ApiAddWorkspace","ApiQuitWorkpace","autosize","default","maxRows","atUsers","Array","defaultAvatar","String","readonly","Boolean","empty","imgLimit","Infinity","value","model","prop","setup","emit","getAts","val","reg","members","replace","account","found","push","emitChange","v","ats","content","uploadFile","rawFiles","imgs","length","Error","i18n","t","number","files","i","rawFile","URL","createObjectURL","blob","path","undefined","process","map","file","send","sourceType","body","onUpload","_","__","___","Math","round","key","el","previewImages","index","item","targetElems","querySelectorAll","removeImg","splice","input","$scopedSlots","$t","bind","atUserSlot","avatar","descContent","desc","JSON","stringify","INNER_VALUE","Symbol","closeable","annotation","images","arr","accessoryInfo","split","slice","join","immediate","flex","modifierInfo","gmtModifyTime","$emit","args","_vm","$createElement","_c","_self","staticClass","host","_e","_v","_s","on","hideAnnotationSidebar","staticStyle","attrs","annotationVersions","_l","version","currentVersionOnly","relateId","modelId","vCode","tdAnnotationResponseList","class","active","activeId","$event","activateAnnotation","idx","scopedSlots","_u","fn","removeAnnotation","proxy","directives","rawName","expression","_t","muted","hasImage","components","AnnotationUser","computed","disableDelete","AnnotationItem","Scrollable","catalogId","modelName","versions","modelId_","filter","mounted","$root","$on","fetchAnnotationList","parse","module","exports","n","o","l","call","m","c","d","defineProperty","configurable","enumerable","get","__esModule","prototype","hasOwnProperty","p","s","r","a","options","_scopeId","keys","forEach","esModule","getSelection","rangeCount","getRangeAt","f","scrollIntoViewIfNeeded","offsetTop","scrollTop","offsetHeight","parentElement","removeAllRanges","addRange","at","lastIndexOf","reduce","b","offsetLeft","offsetParent","g","parentNode","cloneRange","collapse","setStart","endContainer","assign","arguments","mixins","suffix","loop","allowSpaces","tabSelect","avoidEmail","showUnique","hoverSelect","nameKey","filterMatch","Function","toLowerCase","indexOf","deleteMatch","scrollRef","bindsValue","customsEmbedded","hasComposition","atwho","atItems","currentItem","list","cur","style","x","y","$refs","wrap","querySelector","scrollLeft","pageXOffset","pageYOffset","watch","$nextTick","scrollToCur","handleInput","handleValueUpdate","embeddedItem","itemName","isCur","$el","innerHTML","dispatchInput","Event","bubbles","dispatchEvent","handleItemHover","selectByMouse","handleItemClick","insertItem","handleDelete","endOffset","childNodes","nodeType","Node","TEXT_NODE","test","previousSibling","previousElementSibling","reverse","unshift","some","getAttribute","setStartBefore","deleteContents","u","h","toString","w","handleKeyDown","keyCode","metaKey","ctrlKey","selectByKeyboard","closePanel","setTimeout","handleCompositionStart","handleCompositionEnd","openPanel","getClientRects","range","offset","target","max","min","insertText","setEnd","createTextNode","insertNode","setEndAfter","insertHtml","createElement","appendChild","htmlToElement","setAttribute","splitText","insertBefore","setEndBefore","firstChild","trim","ref","compositionstart","compositionend","refInFor","mouseenter","domProps","textContent","current","apply","navigator","userAgent","head","getElementsByTagName","refs","parts","css","media","sourceMap","insertAt","nextSibling","singleton","sources","btoa","unescape","encodeURIComponent","styleSheet","cssText","removeChild","DEBUG","locals","extends","selectionEnd","selectionStart","chunk","atEnd","focus","currentComponent","loading","tag","vm","editable","switchPreviousComponent","switchNextComponent","getHandbagInfo","mode","modelFormData","materials","creatorName","gmtCreateTime","isCreator","$can","toggleComponent","nativeOn","updateInfo","rules","hasPermission","callback","$$v","$set","changeProperty","tagsInfo","label","price","priceUnitObject","itemValue","$i18n","i18next","language","currentWorkspaceId","getGroupAppId","workspaceCode","systemCode","placeholder","disabled","handleChange","selectedValue","sort","getOptions","typeCode","DictionarySelector","inputPlaceholder","handleChangeUnitNumber","text","withoutSelect","selectedUnit","defaultUnit","unitOptions","decimalPlaces","integerPlaces","threshold","changeUnitNumber","parseFloat","isNaN","includes","$message","warning","temp","isDecimal","_handleDecimalNumber","int","_addNumberSeparator","toLocaleString","TagsEditor","InputWithUnit","mixinHasPermission","basicList","modelNumber","typeObject","notes","generateFields","field","unit","FormFieldText","require","ModelDetailForm","ModelDetailText","MaterialTable","ModelTimeInfo","compName","handler","newV","immediately","deep","form","changeModelInfo","getTime","$act","downloadExcel","validator","selection","requirement","spaceTrim","charLengthMax","season","series","styleName","brand","customer","designerName","factory","size","purpose","dueDate","dueTime","Date","validate","valid","invalidFields","_createDownloadTag","domA","href","download","colors","percentage","radio","timer","startProgress","completeProcess","setInterval","speed","total","clearInterval","tags","curtailImg","monetaryUnit","handbagId","dialogify","closeOnClickModal","bottom","compact","maxHeight","closeWith","ComponentModelInfo","ComponentAdditionalInfo","ComponentDownloadProcess","types","loadD4","loadD2","openShoeInfo","annotationsSidebarVisible","position","marginRight","showStandardView","slot","standardView","setStandardView","changeCameraType","currentCamera","icon","camera","_g","viewImages","AnnotationCreation","AnnotationSidebar","$route","query","relateType","cameraList","envSetting","view","setCameraViewAngle","stashCameraType","cameraTypeStashed","recoverCameraType","useEl","_compositionApi","that","getCurrentInstance","onMounted","_default","scope","BaseTool","sign","paper","Layer","renderer","contentShown","textarea","install","tools","tool","switchTool","_tool","isCommand","renderSigns","hideSigns","strokeWidth","strokeColor","resize","newWidth","newHeight","oldWidth","oldHeight","Point","ratio","project","layers","translate","scale","vCanvas","clientWidth","clientHeight","layer","activate","comment","bezier","Bezier","_content","brushJson","_brushJson","_oBrushJson","newSize","j","isArray","importJSON","_size","_oldSize","viewSize","undo","vTool","setStrokeWidth","setStrokeColor","toggleComment","submit","getItems","Path","deselectAll","exportJSON","clearHistory","close","panel","confirmPanel","self","pointSize","isEdit","pointerEvents","zIndex","properties","isBrowser","isFirefox","mozInnerScreenX","getCaretCoordinates","element","debug","div","getComputedStyle","currentStyle","isInput","nodeName","whiteSpace","wordWrap","visibility","lineHeight","scrollHeight","parseInt","overflowY","overflow","substring","span","coordinates","backgroundColor","useClosest","_vueClosest","componentName","closest","usName","selectedOptions","getShoeInfo","uploadTime","lastTime","valueOf","typeName","lastNumber","soleNumber","heelNumber"],"mappings":"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","file":"js/chunk-0d71df6f.eef739e5.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailForm.vue?vue&type=style&index=0&id=eaa845a8&lang=scss&scoped=true&\"","export default {\n  data() {\n    return {\n      d4: null,\n      d2: null,\n      canvasEvent: {},\n    };\n  },\n  destroyed() {\n    this.d4 = null;\n    this.d2 = null;\n  },\n  methods: {\n    // 实例化 D4\n    instanceD4(D4, canvasDom) {\n      // eslint-disable-next-line\n      return new D4({\n        canvas: canvasDom,\n        width: canvasDom.width,\n        height: canvasDom.height,\n        resolution: window.devicePixelRatio,\n      });\n    },\n    // 返回当前选中的部件名称\n    _getTargetName(canvasDom, event) {\n      const param = {\n        left: canvasDom.getBoundingClientRect().left,\n        top: canvasDom.getBoundingClientRect().top,\n        clickX: event.clientX,\n        clickY: event.clientY,\n        eventType: event.type,\n      };\n      return this.d4.getTargetFromScreen(param);\n    },\n    // 初始化 canvas 事件，（必须在 D4 创建实例后）\n    _initCanvasEvent() {\n      const {\n        d4,\n      } = this;\n      return ({\n        keydown(e) {\n          d4.shortcutKeys(e);\n        },\n        click: async (e) => {\n          const d4Sign = d4.getSign(e.offsetX, e.offsetY);\n\n          if (d4Sign) {\n            const ann = this.annotations.find(_ann => _ann.id === d4Sign.id);\n            if (ann) {\n              this.showAnnotation(ann);\n            }\n          }\n        },\n        mousedown: (event) => {\n          const controlsMouseMove = (e) => {\n            this.signCurrent = null;\n            d4.controlsMouseMove(e);\n            d4.mouseMoveRender(e);\n          };\n\n          function controlsMouseUp() {\n            d4.controlsMouseUp();\n            d4.render();\n            document.removeEventListener('mousemove', controlsMouseMove, false);\n            document.removeEventListener('mouseup', controlsMouseUp, false);\n          }\n\n          const isStart = d4.controlsMouseDown(event);\n          if (isStart) {\n            document.addEventListener('mousemove', controlsMouseMove, false);\n            document.addEventListener('mouseup', controlsMouseUp, false);\n          }\n        },\n        wheel: (event) => {\n          this.signCurrent = null;\n          event.preventDefault();\n          event.stopPropagation();\n\n          d4.controlsMouseWheel(event);\n          d4.render();\n        },\n        // drop(e){\n        // this.partSelected = _getTargetName(e);\n        // this.updateMaterial(this.$root.draggingData.datum.relateId);\n        // this.$root.draggingData = null;\n        // },\n        touchstart: () => {\n          const controlsTouchMove = (e) => {\n            this.signCurrent = null;\n            d4.controlsTouchMove(e);\n          };\n\n          function controlsTouchEnd(e) {\n            d4.controlsTouchEnd(e);\n\n            document.removeEventListener('touchmove', controlsTouchMove, false);\n            document.removeEventListener('touchend', controlsTouchEnd, false);\n          }\n\n          document.addEventListener('touchmove', controlsTouchMove, false);\n          document.addEventListener('touchend', controlsTouchEnd, false);\n        },\n      });\n    },\n  },\n};\n","var render, staticRenderFns\nimport script from \"./AnnotationUser.vue?vue&type=script&lang=tsx&\"\nexport * from \"./AnnotationUser.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./AnnotationUser.vue?vue&type=style&index=0&id=3c68d870&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c68d870\",\n  null\n  \n)\n\nexport default component.exports","\nimport defaultAvatar from '@/assets/img/header/default_avatar.png';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  props: {\n    user: {\n      type: Object as () => { headImg: string, gmtModifyTime: number, name: string },\n      required: true,\n    },\n    time: {\n      type: Number,\n    },\n  },\n  functional: true,\n  render(_h, { props: { user, time }, parent }) {\n    return <div class=\"annotation-user-info\">\n      <base-image defaultImage={defaultAvatar}\n        class=\"user-avatar\" src={user.headImg} />\n      <div class=\"user\">\n        <div class=\"user-name text-one-line\">{ user.name }</div>\n        {\n          !time ? null\n            : <div class=\"user-time\">\n              { parent!.$filters.date(time, 'MM/DD/YYYY HH:mm') }\n            </div>\n        }\n      </div>\n    </div>;\n  },\n});\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationUser.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationUser.vue?vue&type=script&lang=tsx&\"","/**\n * 该文件记录与系统权限相关的接口\n */\n\nimport axios from './axios';\n\n/* ========================= 系统权限 ============================ */\n/* ======================== 获取 system 权限相关 ============================ */\n/**\n * 登录用户系统权限列表\n * @returns {Promise}\n */\nexport const getSystemPermissionList = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/system',\n  });\n};\n\n/* ======================== 获取 workspace 权限相关 ============================ */\n/**\n * 单个workspace的权限列表\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpacePermissionList = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/operation/auth/workspace',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取 workspace 所属公司的名称； 没有则返回用户的名称\n * @param {String} groupAppId workspaceId\n * @returns {Promise}\n */\nexport const getWorkpaceCompnayInfo = (groupAppId) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/company',\n    headers: {\n      groupAppId,\n    },\n  });\n};\n\n/**\n * 获取登录人拥有的workpace个数\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiGroupappList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/manage/groupapp/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiroleList = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: id,\n    },\n  });\n};\n\n/**\n * 修改权限下拉选择\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiUpdateRole = (data, id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/role/change',\n    headers: {\n      groupAppId: id,\n    },\n    data,\n  });\n};\n\n/**\n * 移除账号\n * @param {String} id workspaceId\n * @param {String} userId 用户id\n * @returns {Promise}\n */\nexport const ApiRemoveAccount = (id, userId) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove',\n    headers: {\n      groupAppId: id,\n      targetIds: JSON.stringify([userId]),\n    },\n  });\n};\n\n/**\n * 获取单个workspace的列表数据\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiSingleWorkpaceTable = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/users',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfig = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/byWorkspaceId',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 获取workspace的配置（个人）\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const getWorkspaceConfigSelf = (id) => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/config/workspace/needOpenWatermark',\n    params: {\n      workspaceId: id,\n    },\n  });\n};\n\n/**\n * 更变workspace的水印配置\n * @param {String} id workspaceId\n * @param {Number} openWatermark 1开启，0关闭\n * @returns {Promise}\n */\nexport const updateWorkspaceWatermart = (id, openWatermark) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/config/workspace/openWatermark',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      workspaceId: id,\n      openWatermark,\n    },\n  });\n};\n\n/**\n * 解散workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiDismissWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/clear',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 用户workspace统计信息\n * @returns {Promise}\n */\nexport const ApiGetTotalWorkpaces = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/ugroup/self/detail',\n  });\n};\n\n/**\n *  重命名workspace\n * @param {String} id workspaceId\n * @param {String} name 新名称\n * @returns {Promise}\n */\nexport const ApiRenameWorkspace = (id, name) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/rename',\n    headers: {\n      groupAppId: id,\n    },\n    data: {\n      name,\n    },\n  });\n};\n\n/**\n *  新增workspace\n * @param {String} name 名称\n */\nexport const ApiAddWorkspace = (data) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/manage/groupapp/add',\n    data,\n  });\n};\n\n/**\n * 退出workspace\n * @param {String} id workspaceId\n * @returns {Promise}\n */\nexport const ApiQuitWorkpace = (id) => {\n  return axios({\n    method: 'post',\n    url: '/authcenter/ugroup/remove/self',\n    headers: {\n      groupAppId: id,\n    },\n  });\n};\n\n/**\n * 权限角色\n * @param {String}\n * @returns {Promise}\n */\nexport const getDictionaryByType = () => {\n  return axios({\n    method: 'get',\n    url: '/authcenter/role/list',\n    params: {\n      appId: 2,\n    },\n  });\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=21e698c0&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCreation.vue?vue&type=style&index=1&id=6e9f4e43&scoped=true&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentModelInfo.vue?vue&type=style&index=0&id=4f7aafd8&lang=scss&scoped=true&\"","var render, staticRenderFns\nimport script from \"./CommentDetail.vue?vue&type=script&lang=tsx&\"\nexport * from \"./CommentDetail.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./CommentDetail.vue?vue&type=style&index=0&id=0b90b375&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b90b375\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./AnnotationDetail.vue?vue&type=script&lang=tsx&\"\nexport * from \"./AnnotationDetail.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./AnnotationDetail.vue?vue&type=style&index=0&id=22241f3e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22241f3e\",\n  null\n  \n)\n\nexport default component.exports","\n\nimport { defineComponent } from '@vue/composition-api';\n// @ts-ignore;\nimport AtTa from 'vue-at/dist/vue-at-textarea';\nimport selectFiles from '@/utils/select-files';\nimport validateFile from '@/utils/validators/valid-file';\nimport OSSUploader from '@/utils/oss/uploader';\nimport { i18n } from '@/i18n';\nimport useEl from '_/composables/use-el';\nimport { lf2p } from '@/filters';\nimport Scrollable from '@/components/Scrollable.vue';\n\ntype Image = {\n  url: string,\n  path?: string,\n  blob?: Blob,\n  process?: number,\n};\ntype User = {\n  name: string,\n  id: string,\n  avatar: string,\n};\ntype Value = {\n  content: string,\n  imgs: Image[]\n};\nexport default defineComponent({\n  props: {\n    autosize: {\n      default() {\n        return { maxRows: 15 };\n      },\n    },\n    atUsers: {\n      type: Array as () => User[],\n      default: [] as User[],\n    },\n    defaultAvatar: {\n      type: String,\n    },\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n    empty: {\n      type: String,\n      default: '',\n    },\n    imgLimit: {\n      type: Number,\n      default: Infinity,\n    },\n    value: {\n      type: Object as () => Value,\n      required: true,\n    },\n  },\n  model: {\n    event: 'change',\n    prop: 'value',\n  },\n  setup(props, { emit }) {\n    const getAts = (val: string) => {\n      const reg = /@\\S*/g;\n      const members: User[] = [];\n      val.replace(reg, (account) => {\n        const found = props.atUsers.find(user => account === user.name);\n        if (found) {\n          members.push(found);\n        }\n        return '';\n      });\n      return members;\n    };\n\n    const emitChange = (v: Partial<Value>) => {\n      const value = {\n        ...props.value,\n        ...v,\n      };\n      emit('change', value, {\n        ats: getAts(value.content),\n      });\n    };\n\n    const uploadFile = async () => {\n      const rawFiles = await selectFiles(['png', 'jpg', 'gif']);\n      if (props.value.imgs.length + rawFiles.length > props.imgLimit) {\n        throw new Error(i18n.t('model.comment.image_count_limit', { number: props.imgLimit }));\n      }\n      let files = [];\n      for (let i = 0; i < rawFiles.length; i++) {\n        const rawFile = rawFiles[i];\n        await validateFile(rawFile, 'img');\n        files.push({\n          url: URL.createObjectURL(rawFile),\n          blob: rawFile,\n          path: undefined,\n          process: 0,\n        });\n      }\n      files.map(async file => {\n        const { key, url } = await OSSUploader.send({\n          sourceType: 'BINARY_FILE',\n          body: file.blob,\n          onUpload: (_, __, ___, process) => {\n            file.process = Math.round(process * 100);\n          },\n        });\n        file.url = url;\n        file.path = key;\n        file.process = 100;\n        emitChange({});\n      });\n      files = [...props.value.imgs, ...files];\n      emitChange({ imgs: files });\n    };\n\n    const el = useEl();\n\n    const previewImages = (index: number) => {\n      emit('viewImages', props.value.imgs.map(item => item.url), {\n        index,\n        targetElems: el.value?.querySelectorAll('.thumb'),\n      });\n    };\n\n    const removeImg = (index: number) => {\n      const files = [...props.value.imgs];\n      files.splice(index, 1);\n      emitChange({ imgs: files });\n    };\n\n    return {\n      removeImg,\n      uploadFile,\n      previewImages,\n      input(val: string) {\n        emitChange({ content: val });\n      },\n    };\n  },\n  render() {\n    const {\n      atUsers, value, uploadFile, input, readonly,\n      removeImg, empty, previewImages, imgLimit,\n      autosize,\n      $scopedSlots,\n    } = this;\n    const $t = this.$t.bind(this);\n\n    const atUserSlot = $scopedSlots['at-member-item'] ?? (({ item }: { item: User }) => {\n      return [\n        <base-image class=\"user-avatar\"\n          src={item.avatar} fit=\"cover\" />,\n        <el-tooltip\n          content={item.name} placement=\"right\">\n          <span>{item.name}</span>\n        </el-tooltip>,\n      ];\n    });\n    const descContent = <div class=\"desc\">\n      {value.content ? <div domPropsInnerHTML={lf2p(value.content)} />\n        : <div class=\"empty\">{empty}</div>}\n    </div>;\n    const desc = autosize ? descContent\n      : <Scrollable y class=\"desc-wrapper\">{descContent}</Scrollable>;\n    return <div class=\"host comment-detail\">\n      {\n        readonly ? desc : <AtTa\n          members={atUsers ?? []}\n          nameKey=\"name\"\n          scopedSlots={{\n            item: atUserSlot,\n            default: () => (\n              <el-input type=\"textarea\"\n                value={value.content}\n                vFocus\n                onInput={input}\n                maxlength=\"300\"\n                autosize={autosize}\n                show-word-limit\n                placeholder={atUsers.length ? $t('model.comment.input_placeholder') : $t('model.detail.annotation.some_message')} />\n            ),\n          }}\n        />\n      }\n\n      <div class=\"imgs\">\n        {\n          !value.imgs.length && !readonly ? <div onClick={uploadFile} class=\"placeholder\">\n            <i class=\"iconfont icontupian\" />\n            {' '}\n            添加图片\n          </div> : null\n        }\n        {\n          value.imgs.map((item, i) => (<a class=\"thumb\" data-data={JSON.stringify(item)}>\n            <div class=\"tools\">\n              <i class=\"iconfont icon-zoom\" onClick={() => previewImages(i)} />\n              {readonly ? null : <i class=\"iconfont icon-delete\" onClick={() => removeImg(i)} />}\n            </div>\n            <base-image src={item.url} class=\"img\" fit=\"cover\" />\n          </a>))\n        }\n        {\n          value.imgs.length && !readonly && imgLimit > value.imgs.length ? <a class=\"btn-add\" onClick={uploadFile}>\n            <i class=\"iconfont icon-add\" />\n          </a> : null\n        }\n      </div>\n    </div>;\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentDetail.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentDetail.vue?vue&type=script&lang=tsx&\"","\nimport { i18n } from '@/i18n';\nimport { defineComponent, watch, ref } from '@vue/composition-api';\nimport CommentDetail from '../comment/CommentDetail.vue';\nimport AnnotationUser from './AnnotationUser.vue';\nimport { Sign } from './type.d';\n\ntype Image = {\n  process: number,\n  url: string,\n  path: string,\n};\nconst INNER_VALUE = Symbol('innerValue');\nexport default defineComponent({\n  props: {\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n    closeable: {\n      type: Boolean,\n      default: true,\n    },\n    autosize: {\n      default() {\n        return { maxRows: 15 };\n      },\n    },\n    annotation: {\n      type: Object as unknown as () => Sign,\n      required: true,\n    },\n  },\n  model: {\n    prop: 'annotation',\n    event: 'change',\n  },\n  setup(props) {\n    const images = ref([] as Image[]);\n\n    watch(() => {\n      return props.annotation;\n    }, (annotation) => {\n      // @ts-ignore\n      if (annotation[INNER_VALUE]) {\n        return;\n      }\n      const arr = annotation.accessoryInfo?.images ?? [];\n      images.value = arr.map((url: string) => ({\n        process: 100,\n        url,\n        path: url.split('?')[0].split('/').slice(-2).join('/'),\n      }));\n    }, {\n      immediate: true,\n    });\n    return { images };\n  },\n  render() {\n    const {\n      readonly, annotation, images, closeable, autosize,\n    } = this;\n    return <div class=\"comment-dialog\">\n      <div class=\"comment-dialog-header\">\n        <AnnotationUser style={{ flex: 1 }}\n          user={annotation.modifierInfo}\n          time={annotation.gmtModifyTime} />\n        <div class=\"comment-dialog-header-tools\">\n          {\n            closeable ? <i\n              class=\"iconfont icon-delete\"\n              onClick={() => { this.$emit('close'); }} /> : null\n          }\n        </div>\n      </div>\n      <CommentDetail\n        style={{}}\n        autosize={autosize}\n        readonly={readonly}\n        value={{ content: annotation.content, imgs: images }}\n        imgLimit={4}\n        empty={images.length ? '' : i18n.t('model.detail.annotation.no_content')}\n        onViewImages={(...args: any) => this.$emit('viewImages', ...args)}\n        onChange={({ content, imgs }: { content: string, imgs: Image[] }) => {\n          this.images = imgs;\n          this.$emit('change', {\n            ...annotation,\n            content,\n            accessoryInfo: {\n              ...annotation.accessoryInfo,\n              images: imgs.map(item => item.url),\n            },\n            [INNER_VALUE]: true,\n          });\n        }}\n        atUsers={[]} />\n    </div>;\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetail.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetail.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentAdditionalInfo.vue?vue&type=style&index=0&id=e4bcd11a&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationItem.vue?vue&type=style&index=0&id=39b0e672&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationDetail.vue?vue&type=style&index=0&id=22241f3e&scoped=true&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailText.vue?vue&type=style&index=0&id=69c50802&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"annotation-container\"},[(!_vm.host)?_c('div',{staticClass:\"annotation-nav\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.annotation.tags'))+\" \")]),_c('div',[_c('i',{staticClass:\"iconfont icon-delete\",on:{\"click\":_vm.hideAnnotationSidebar}})])]):_vm._e(),(_vm.annotationVersions)?_c('scrollable',{staticStyle:{\"flex\":\"1\"},attrs:{\"y\":\"\"}},[(_vm.annotationVersions.length)?_c('ul',[_vm._l((_vm.annotationVersions),function(version){return [(!_vm.currentVersionOnly || version.relateId === _vm.modelId)?_c('li',{key:version.relateId,staticClass:\"annotation-version-item\"},[_c('h3',{staticClass:\"version-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.annotation.version'))+\" \"+_vm._s(version.vCode)+\" \")]),(version.tdAnnotationResponseList.length)?_c('ul',_vm._l((version.tdAnnotationResponseList),function(annotation){return _c('li',{key:annotation.id,staticClass:\"annotation-item\",class:{active: _vm.activeId === annotation.id},on:{\"click\":function($event){return _vm.activateAnnotation(annotation, version.relateId, true)}}},[(version.relateId === _vm.modelId)?_c('span',{staticClass:\"number\"},[_vm._v(\" \"+_vm._s(annotation.idx)+\" \")]):_vm._e(),_c('AnnotationItem',{staticStyle:{\"flex\":\"1\"},attrs:{\"annotation\":annotation},scopedSlots:_vm._u([(!_vm.readonly)?{key:\"tools\",fn:function(){return [(annotation.modifierInfo.id === _vm.user.id && version.relateId === _vm.modelId)?_c('i',{staticClass:\"iconfont iconedit\",on:{\"click\":function($event){$event.stopPropagation();return _vm.activateAnnotation(annotation, version.relateId, false)}}}):_vm._e(),(annotation.modifierInfo.id === _vm.user.id)?_c('i',{staticClass:\"iconfont icon-file-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeAnnotation(version.tdAnnotationResponseList, annotation, version.relateId)}}}):_vm._e()]},proxy:true}:null],null,true)})],1)}),0):_c('div',{staticClass:\"annotation-empty\"},[_c('div',{staticClass:\"annotation-empty-creation\",on:{\"click\":function($event){return _vm.$emit('creating-annotation')}}},[_c('i',{staticClass:\"iconfont iconbiaozhu-xianxing\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.annotation.create_tag'))+\" \")])])])]):_vm._e()]})],2):_c('div',{staticClass:\"version-empty-annotation\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/public/placeholder/placeholder-empty-notification.png\")}}),_c('p',{staticClass:\"placeholder-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.detail.annotation.no_tags_found'))+\" \")])])]):_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticStyle:{\"flex\":\"1\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"annotation-item-container\"},[_c('div',{staticClass:\"flex-space-between\"},[_c('AnnotationUser',{attrs:{\"user\":_vm.annotation.modifierInfo,\"time\":_vm.annotation.gmtModifyTime}}),_c('div',{staticClass:\"tools\"},[_vm._t(\"tools\",null,{\"item\":_vm.annotation})],2)],1),_c('p',{staticClass:\"annotation-message scrollable-y\",class:{muted: !_vm.annotation.content}},[(_vm.hasImage)?_c('span',{staticClass:\"img\"},[_vm._v(_vm._s(_vm.$t('model.comment.img')))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.annotation.content ? _vm.annotation.content : _vm.hasImage ? '' : _vm.$t('model.detail.annotation.no_content')))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"annotation-item-container\">\n    <div class=\"flex-space-between\">\n      <AnnotationUser :user=\"annotation.modifierInfo\" :time=\"annotation.gmtModifyTime\"/>\n      <div class=\"tools\">\n        <slot name=\"tools\" :item=\"annotation\"/>\n      </div>\n    </div>\n    <p\n      class=\"annotation-message scrollable-y\"\n      :class=\"{muted: !annotation.content}\"\n    >\n    <span class=\"img\" v-if=\"hasImage\">{{\n        $t('model.comment.img')}}</span>\n    {{\n    annotation.content ? annotation.content : hasImage ? '' : $t('model.detail.annotation.no_content')\n    }}</p>\n  </div>\n</template>\n\n<script>\nimport AnnotationUser from './AnnotationUser.vue';\n\n\nexport default {\n  components: {\n    AnnotationUser,\n  },\n  computed: {\n    /** @return { Boolean } */\n    hasImage() {\n      const { annotation } = this;\n      return annotation.accessoryInfo\n      && annotation.accessoryInfo.images\n      && annotation.accessoryInfo.images.length;\n    },\n  },\n  name: 'AnnotationItem',\n  props: {\n    annotation: {\n      type: Object,\n      required: true,\n    },\n    disableDelete: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.img {\n  font-weight: bold;\n  color: #222;\n  &:before {\n    content: '['\n  }\n  &:after {\n    content: ']'\n  }\n}\n.annotation-item-container {\n  &:hover .tools {\n    display: block;\n  }\n  .tools {\n    display: none;\n    /deep/ {\n      i {\n        font-size: 18px;\n        padding: 4px;\n        color: rgb(81, 81, 81);\n        cursor: pointer;\n        &:hover {\n          color: #317eff;\n        }\n      }\n    }\n  }\n\n  .annotation-message {\n    margin-top: 12px;\n    line-height: 20px;\n    max-height: 180px;\n    word-break: break-all;\n    &.muted {\n      color: #ccc;\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnotationItem.vue?vue&type=template&id=39b0e672&scoped=true&\"\nimport script from \"./AnnotationItem.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnotationItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnnotationItem.vue?vue&type=style&index=0&id=39b0e672&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39b0e672\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"annotation-container\">\n    <!-- 批注操作框 -->\n    <div v-if=\"!host\" class=\"annotation-nav\">\n      <p>\n        {{ $t('model.detail.annotation.tags') }}\n      </p>\n      <div>\n        <i class=\"iconfont icon-delete\" @click=\"hideAnnotationSidebar\" />\n      </div>\n    </div>\n    <!-- 批注列表内容 -->\n    <scrollable y style=\"flex: 1\" v-if=\"annotationVersions\">\n      <ul v-if=\"annotationVersions.length\">\n        <template v-for=\"version in annotationVersions\">\n          <li v-if=\"!currentVersionOnly || version.relateId === modelId\" :key=\"version.relateId\" class=\"annotation-version-item\">\n            <h3 class=\"version-title\">\n              {{ $t('model.detail.annotation.version') }} {{ version.vCode }}\n            </h3>\n            <ul v-if=\"version.tdAnnotationResponseList.length\">\n              <li\n                @click=\"activateAnnotation(annotation, version.relateId, true)\"\n                v-for=\"annotation in version.tdAnnotationResponseList\"\n                :key=\"annotation.id\"\n                class=\"annotation-item\"\n                :class=\"{active: activeId === annotation.id}\">\n                <span\n                  class=\"number\"\n                  v-if=\"version.relateId === modelId\">\n                  {{annotation.idx}}\n                </span>\n                <AnnotationItem\n                  :annotation=\"annotation\"\n                  style=\"flex: 1\">\n                  <template v-if=\"!readonly\" v-slot:tools>\n                    <i\n                      v-if=\"annotation.modifierInfo.id === user.id && version.relateId === modelId\"\n                      class=\"iconfont iconedit\"\n                      @click.stop=\"activateAnnotation(annotation, version.relateId, false)\" />\n                    <i\n                      v-if=\"annotation.modifierInfo.id === user.id\"\n                      class=\"iconfont icon-file-delete\"\n                      @click.stop=\"removeAnnotation(version.tdAnnotationResponseList, annotation, version.relateId)\" />\n                  </template>\n\n                </AnnotationItem>\n              </li>\n            </ul>\n            <div class=\"annotation-empty\" v-else>\n              <div\n                class=\"annotation-empty-creation\"\n                @click=\"$emit('creating-annotation')\">\n                <i class=\"iconfont iconbiaozhu-xianxing\" />\n                <span>\n                  {{ $t('model.detail.annotation.create_tag') }}\n                </span>\n              </div>\n            </div>\n          </li>\n\n        </template>\n      </ul>\n      <!-- 鞋模型没有任何批注时 -->\n      <div v-else class=\"version-empty-annotation\">\n        <img src=\"@/assets/img/public/placeholder/placeholder-empty-notification.png\" />\n        <p class=\"placeholder-text\">\n          {{ $t('model.detail.annotation.no_tags_found') }}\n        </p>\n      </div>\n    </scrollable>\n    <div v-else style=\"flex: 1\" v-loading=\"true\"></div>\n  </div>\n</template>\n\n<script>\n\nimport { getAnnotationList, deleteAnnotation } from '@/api/shoe';\nimport Scrollable from '@/components/Scrollable';\n\nimport { getHost } from '@/utils/exec';\nimport { getContextUser } from '@/loaders/context';\nimport AnnotationItem from './AnnotationItem';\n\nexport default {\n  name: 'AnnotationSidebar',\n  components: {\n    AnnotationItem,\n    Scrollable,\n  },\n  props: {\n    readonly: {\n      type: Boolean,\n      required: false,\n    },\n    currentVersionOnly: {\n      type: Boolean,\n      required: false,\n    },\n    catalogId: {\n      type: String,\n      required: true,\n    },\n    workspaceId: {\n      type: String,\n      required: true,\n    },\n    modelId: {\n      type: String,\n      required: true,\n    },\n    modelName: {\n      type: String,\n      required: true,\n    },\n    activeId: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      versions: null,\n      host: null,\n    };\n  },\n  computed: {\n    modelId_() {\n      return this.modelId || this.versions[0]?.relateId;\n    },\n    /** @return { any } */\n    annotationVersions() {\n      if (!this.versions) return null;\n      return this.versions.filter(v => {\n        return v.tdAnnotationResponseList.length;\n      });\n    },\n    /** @return { Item<User> } */\n    user() {\n      return getContextUser();\n    },\n  },\n  async created() {\n    this.fetchAnnotationList();\n    this.host = await getHost();\n  },\n  mounted() {\n    this.$root.$on('add-annotation', this.fetchAnnotationList);\n  },\n  methods: {\n    // 隐藏批注侧边栏\n    hideAnnotationSidebar() {\n      this.$emit('close');\n    },\n    async removeAnnotation(annotations, ann, versionId) {\n      // 删除批注列表上的批注\n      annotations.splice(annotations.findIndex(annotation => annotation.id === ann.id), 1);\n      await deleteAnnotation(ann.id, this.workspaceId, versionId, this.catalogId, this.modelName);\n      this.$emit('annotation-remove', ann);\n    },\n    activateAnnotation(annotation, modelId, readonly) {\n      if (modelId === this.modelId) {\n        this.$emit('annotation-display', {\n          annotation: JSON.parse(JSON.stringify(annotation)), modelId, readonly,\n        });\n        // this.host.actAnnotationOperation({ action: 'annotation-display', params: ann });\n      } else {\n        this.$emit('model-preview', {\n          workspaceId: this.workspaceId,\n          catalogId: this.catalogId,\n          annotation,\n          modelId,\n          readonly,\n        });\n        // eslint-disable-next-line\n        // this.host.actAnnotationOperation({ action: 'model-preview', params: modelId });\n      }\n    },\n    async fetchAnnotationList() {\n      const versions = (await getAnnotationList(\n        this.catalogId, undefined, this.workspaceId,\n      )).data;\n      versions.forEach(version => {\n        version.tdAnnotationResponseList.forEach((ann, idx) => {\n          ann.threeDimensionalInfo.id = ann.id;\n          ann.idx = version.tdAnnotationResponseList.length - idx;\n        });\n      });\n      this.$emit('load-annotations', versions);\n      this.versions = versions;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.annotation-container {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  .annotation-nav {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 56px;\n    padding: 0 20px;\n    font-size: 16px;\n    border-bottom: 2px solid #b9bdc2;\n\n    .iconfont {\n      font-size: 28px;\n      color: #7f7f7f;\n      cursor: pointer;\n      transition: all 200ms;\n      & + .iconfont {\n        margin-left: 20px;\n      }\n    }\n    .iconpizhutianchong {\n      color: #2c71e5;\n      &:hover {\n        color: #5a97ff;\n      }\n      &:active {\n        color: #2c71e5;\n      }\n    }\n  }\n}\n\n.annotation-version-item {\n  .version-title {\n    padding: 0 16px;\n    margin-top: 15px;\n    font-size: 18px;\n    margin-bottom: 5px;\n  }\n  .annotation-item {\n    cursor: pointer;\n    padding: 20px 16px;\n    position: relative;\n    transition: all 200ms;\n    display: flex;\n    > .number {\n      margin-top: 4px;\n      font-size: 20px;\n      width: 1.5em;\n      margin-right: 16px;\n      line-height: 16px;\n      border-right: 1px #d8d8d8 solid;\n      height: 16px;\n    }\n    &:hover {\n      background-color: #edeff2;\n    }\n    &.active {\n      background-color: #e9f1ff;\n    }\n    &:after {\n      position: absolute;\n      left: 16px;\n      bottom: 0;\n      right: 16px;\n      content: \"\";\n      display: block;\n      border-bottom: 1px solid #ddd;\n    }\n  }\n}\n\n.version-empty-annotation {\n  margin-top: 50px;\n  text-align: center;\n  .placeholder-text {\n    margin-top: 30px;\n    color: #999;\n  }\n}\n.annotation-empty {\n  .annotation-empty-creation {\n    @extend %flex-center;\n    width: 220px;\n    height: 36px;\n    margin: 20px auto;\n    border: 1px solid #c1c5ca;\n    border-radius: 20px;\n    cursor: pointer;\n    transition: all 200ms;\n    &:hover {\n      color: #317eff;\n      border-color: currentColor;\n    }\n    .iconfont {\n      margin-right: 5px;\n      color: inherit;\n    }\n  }\n  .annotation-empty-text {\n    line-height: 60px;\n    color: #999;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7207bcd2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7207bcd2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7207bcd2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailForm.vue?vue&type=style&index=0&id=1cf2b770&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationUser.vue?vue&type=style&index=0&id=3c68d870&scoped=true&lang=scss&\"","module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=11)}([function(e,t){e.exports=function(e,t,n,i){var o,r=e=e||{},a=typeof e.default;\"object\"!==a&&\"function\"!==a||(o=e,r=e.default);var s=\"function\"==typeof r?r.options:r;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),i){var l=s.computed||(s.computed={});Object.keys(i).forEach(function(e){var t=i[e];l[e]=function(){return t}})}return{esModule:o,exports:r,options:s}}},function(e,t,n){\"use strict\";function i(){var e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)}t.f=function(e,t){if(e.scrollIntoViewIfNeeded)e.scrollIntoViewIfNeeded(!1);else{var n=e.offsetTop-t.scrollTop;(n<0||n>t.offsetHeight-e.offsetHeight)&&((t=t||e.parentElement).scrollTop=e.offsetTop)}},t.e=function(e){var t=window.getSelection();t&&(t.removeAllRanges(),t.addRange(e))},t.d=i,t.a=function(e,t){return t.map(function(t){return{at:t,index:e.lastIndexOf(t)}}).reduce(function(e,t){return e.index>t.index?e:t})},t.b=function(e,t){t=t||window;var n={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;for(;null!=i&&i!=t;)n.left+=i.offsetLeft,n.top+=i.offsetTop,i=i.offsetParent;return n},t.g=function(e,t){do{if(t(e))return e}while(e=e&&e.parentNode)},t.c=function(){var e=i();if(e){var t=e.cloneRange();return t.collapse(!0),t.setStart(t.endContainer,0),t}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(1),o=n(6),r=n.n(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default={name:\"At\",mixins:[r.a],props:{value:{type:String,default:null},at:{type:String,default:null},ats:{type:Array,default:function(){return[\"@\"]}},suffix:{type:String,default:\" \"},loop:{type:Boolean,default:!0},allowSpaces:{type:Boolean,default:!0},tabSelect:{type:Boolean,default:!1},avoidEmail:{type:Boolean,default:!0},showUnique:{type:Boolean,default:!0},hoverSelect:{type:Boolean,default:!0},members:{type:Array,default:function(){return[]}},nameKey:{type:String,default:\"\"},filterMatch:{type:Function,default:function(e,t,n){return e.toLowerCase().indexOf(t.toLowerCase())>-1}},deleteMatch:{type:Function,default:function(e,t,n){return t===e+n}},scrollRef:{type:String,default:\"\"}},data:function(){return{bindsValue:null!=this.value,customsEmbedded:!1,hasComposition:!1,atwho:null}},computed:{atItems:function(){return this.at?[this.at]:this.ats},currentItem:function(){return this.atwho?this.atwho.list[this.atwho.cur]:\"\"},style:function(){if(this.atwho){var e=this.atwho,t=(e.list,e.cur,e.x),o=e.y,r=this.$refs.wrap;if(r){var a=n.i(i.b)(r),s=this.scrollRef?document.querySelector(this.scrollRef).scrollLeft:0,l=this.scrollRef?document.querySelector(this.scrollRef).scrollTop:0;return{left:t+s+window.pageXOffset-a.left+\"px\",top:o+l+window.pageYOffset-a.top+\"px\"}}}return null}},watch:{\"atwho.cur\":function(e){var t=this;null!=e&&this.$nextTick(function(){t.scrollToCur()})},members:function(){this.handleInput(!0)},value:function(e,t){this.bindsValue&&this.handleValueUpdate(e)}},mounted:function(){this.$scopedSlots.embeddedItem&&(this.customsEmbedded=!0),this.bindsValue&&this.handleValueUpdate(this.value)},methods:{itemName:function(e){var t=this.nameKey;return t?e[t]:e},isCur:function(e){return e===this.atwho.cur},handleValueUpdate:function(e){var t=this.$el.querySelector(\"[contenteditable]\");e!==t.innerHTML&&(t.innerHTML=e,this.dispatchInput())},dispatchInput:function(){var e=this.$el.querySelector(\"[contenteditable]\"),t=new Event(\"input\",{bubbles:!0});e.dispatchEvent(t)},handleItemHover:function(e){this.hoverSelect&&this.selectByMouse(e)},handleItemClick:function(e){this.selectByMouse(e),this.insertItem()},handleDelete:function(e){var t=n.i(i.c)();if(t){if(this.customsEmbedded&&t.endOffset>=1){var o=t.endContainer.childNodes[t.endOffset]||t.endContainer.childNodes[t.endOffset-1];if(!o||o.nodeType===Node.TEXT_NODE&&!/^\\s?$/.test(o.data))return;o.nodeType===Node.TEXT_NODE?o.previousSibling&&(o=o.previousSibling):o.previousElementSibling&&(o=o.previousElementSibling);var r=[].slice.call(o.childNodes);(r=[].reverse.call(r)).unshift(o);var a=void 0;if([].some.call(r,function(e){if(e.getAttribute&&null!=e.getAttribute(\"data-at-embedded\"))return a=e,!0}),a){e.preventDefault(),e.stopPropagation();var s=n.i(i.d)();s&&(s.setStartBefore(a),s.deleteContents(),n.i(i.e)(s),this.handleInput())}return}var l=this.atItems,u=this.members,c=this.suffix,d=this.deleteMatch,f=this.itemName,h=t.toString(),p=n.i(i.a)(h,l),v=p.at,m=p.index;if(m>-1){var w=h.slice(m+v.length);if(u.some(function(e){var t=f(e);return d(t,w,c)})){e.preventDefault(),e.stopPropagation();var x=n.i(i.d)();x&&(x.setStart(x.endContainer,m),x.deleteContents(),n.i(i.e)(x),this.handleInput())}}}},handleKeyDown:function(e){var t=this;if(this.atwho){if(38===e.keyCode||40===e.keyCode)return void(e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopPropagation(),this.selectByKeyboard(e)));if(13===e.keyCode||this.tabSelect&&9===e.keyCode)return this.insertItem(),e.preventDefault(),void e.stopPropagation();if(27===e.keyCode)return void this.closePanel()}(e.keyCode>=48&&e.keyCode<=90||8===e.keyCode)&&setTimeout(function(){t.handleInput()},50),8===e.keyCode&&this.handleDelete(e)},handleCompositionStart:function(){this.hasComposition=!0},handleCompositionEnd:function(){this.hasComposition=!1,this.handleInput()},handleInput:function(e){if(!this.hasComposition){var t=this.$el.querySelector(\"[contenteditable]\");this.$emit(\"input\",t.innerHTML);var o=n.i(i.c)();if(o){var r=this.atItems,a=this.avoidEmail,s=this.allowSpaces,l=this.showUnique,u=!0,c=o.toString(),d=n.i(i.a)(c,r),f=d.at,h=d.index;h<0&&(u=!1);var p=c[h-1],v=c.slice(h+f.length,c.length);if(a&&/^[a-z0-9]$/i.test(p)&&(u=!1),!s&&/\\s/.test(v)&&(u=!1),/^\\s/.test(v)&&(u=!1),u){var m=this.members,w=this.filterMatch,x=this.itemName;!e&&v&&this.$emit(\"at\",v);var b=m.filter(function(e){var t=x(e);return w(t,v,f)});if(u=!1,b.length&&(u=!0,!l)){var g=b[0];v===x(g)&&(u=!1)}u?this.openPanel(b,o,h,f):this.closePanel()}else this.closePanel()}}},closePanel:function(){this.atwho&&(this.atwho=null)},openPanel:function(e,t,n,i){var o=this,r=function(){var r=t.cloneRange();r.setStart(r.endContainer,n+i.length);var a=r.getClientRects()[0];o.atwho={range:t,offset:n,list:e,x:a.left,y:a.top-4,cur:0}};this.atwho?r():setTimeout(r,10)},scrollToCur:function(){var e=this.$refs.cur[0],t=e.parentElement.parentElement;n.i(i.f)(e,t)},selectByMouse:function(e){var t=+n.i(i.g)(e.target,function(e){return e.getAttribute(\"data-index\")}).getAttribute(\"data-index\");this.atwho=a({},this.atwho,{cur:t})},selectByKeyboard:function(e){var t=38===e.keyCode?-1:1,n=this.atwho,i=n.cur,o=n.list,r=this.loop?(i+t+o.length)%o.length:Math.max(0,Math.min(i+t,o.length-1));this.atwho=a({},this.atwho,{cur:r})},insertText:function(e,t){t.deleteContents();var o=t.endContainer;if(o.nodeType===Node.TEXT_NODE){var r=t.endOffset;o.data=o.data.slice(0,r)+e+o.data.slice(r),t.setEnd(o,r+e.length)}else{var a=document.createTextNode(e);t.insertNode(a),t.setEndAfter(a)}t.collapse(!1),n.i(i.e)(t),this.dispatchInput()},insertHtml:function(e,t){t.deleteContents();var o=t.endContainer,r=document.createElement(\"span\");if(r.appendChild(document.createTextNode(\" \")),r.appendChild(this.htmlToElement(e)),r.appendChild(document.createTextNode(\" \")),r.setAttribute(\"data-at-embedded\",\"\"),r.setAttribute(\"contenteditable\",!1),o.nodeType===Node.TEXT_NODE){var a=t.endOffset,s=o.splitText(a);o.parentNode.insertBefore(r,s),t.setEndBefore(s)}else{var l=document.createTextNode(suffix);t.insertNode(r),t.setEndAfter(r),t.insertNode(l),t.setEndAfter(l)}t.collapse(!1),n.i(i.e)(t)},insertItem:function(){var e=this.atwho,t=e.range,o=(e.offset,e.list),r=e.cur,a=this.suffix,s=this.atItems,l=this.itemName,u=this.customsEmbedded,c=t.cloneRange(),d=t.toString(),f=n.i(i.a)(d,s),h=f.at,p=f.index,v=u?p:p+h.length;c.setStart(c.endContainer,v),n.i(i.e)(c),n.i(i.e)(c);var m=o[r];if(u){var w=this.$refs.embeddedItem.firstChild.innerHTML;this.insertHtml(w,c)}else{var x=l(m)+a;this.insertText(x,c)}this.$emit(\"insert\",m),this.handleInput()},htmlToElement:function(e){var t=document.createElement(\"template\");return e=e.trim(),t.innerHTML=e,t.content.firstChild}}}},function(e,t,n){(e.exports=n(4)()).push([e.i,\".atwho-view{color:#000;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.1);min-width:120px;z-index:11110!important}.atwho-ul{list-style:none}.atwho-li{display:block}.atwho-view{border-radius:6px;box-shadow:0 0 10px 0 hsla(211,9%,44%,.5)}.atwho-ul{max-height:135px;padding:0;margin:0}.atwho-li{box-sizing:border-box;height:27px;padding:0 12px;white-space:nowrap;display:flex;align-items:center}.atwho-li span{overflow:hidden;text-overflow:ellipsis}.atwho-cur{background:#5bb8ff;color:#fff}.atwho-wrap{position:relative}.atwho-panel{position:absolute}.atwho-inner{position:relative}.atwho-view{position:absolute;bottom:0;left:-.8em;cursor:default;background-color:hsla(0,0%,100%,.94);min-width:140px;max-width:180px;max-height:200px;overflow-y:auto}.atwho-view::-webkit-scrollbar{width:11px;height:11px}.atwho-view::-webkit-scrollbar-track{background-color:#f5f5f5}.atwho-view::-webkit-scrollbar-thumb{min-height:36px;border:2px solid transparent;border-top:3px solid transparent;border-bottom:3px solid transparent;background-clip:padding-box;border-radius:7px;background-color:#c4c4c4}\",\"\"])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push(\"@media \"+n[2]+\"{\"+n[1]+\"}\"):e.push(n[1])}return e.join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];\"number\"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var a=t[o];\"number\"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(e,t,n){var i=n(0)(n(2),null,null,null);e.exports=i.exports},function(e,t,n){n(9);var i=n(0)(null,n(7),null,null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{ref:\"wrap\",staticClass:\"atwho-wrap\",on:{compositionstart:e.handleCompositionStart,compositionend:e.handleCompositionEnd,input:function(t){e.handleInput()},\"!keydown\":function(t){return e.handleKeyDown(t)}}},[e.atwho?n(\"div\",{staticClass:\"atwho-panel\",style:e.style},[n(\"div\",{staticClass:\"atwho-inner\"},[n(\"div\",{staticClass:\"atwho-view\"},[n(\"ul\",{staticClass:\"atwho-ul\"},e._l(e.atwho.list,function(t,i){return n(\"li\",{key:i,ref:e.isCur(i)&&\"cur\",refInFor:!0,staticClass:\"atwho-li\",class:e.isCur(i)&&\"atwho-cur\",attrs:{\"data-index\":i},on:{mouseenter:e.handleItemHover,click:e.handleItemClick}},[e._t(\"item\",[n(\"span\",{domProps:{textContent:e._s(e.itemName(t))}})],{item:t})],2)}))])])]):e._e(),e._v(\" \"),n(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],ref:\"embeddedItem\"},[e._t(\"embeddedItem\",null,{current:e.currentItem})],2),e._v(\" \"),e._t(\"default\")],2)},staticRenderFns:[]}},function(e,t){var n={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},o=i(function(){return/msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase())}),r=i(function(){return document.head||document.getElementsByTagName(\"head\")[0]}),a=null,s=0,l=[];function u(e,t){for(var i=0;i<e.length;i++){var o=e[i],r=n[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(f(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(f(o.parts[a],t));n[o.id]={id:o.id,refs:1,parts:s}}}}function c(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):t.push(n[r]={id:r,parts:[a]})}return t}function d(e){var t=document.createElement(\"style\");return t.type=\"text/css\",function(e,t){var n=r(),i=l[l.length-1];if(\"top\"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if(\"bottom\"!==e.insertAt)throw new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");n.appendChild(t)}}(e,t),t}function f(e,t){var n,i,o;if(t.singleton){var r=s++;n=a||(a=d(t)),i=v.bind(null,n,r,!1),o=v.bind(null,n,r,!0)}else n=d(t),i=function(e,t){var n=t.css,i=t.media,o=t.sourceMap;i&&e.setAttribute(\"media\",i);o&&(n+=\"\\n/*# sourceURL=\"+o.sources[0]+\" */\",n+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){!function(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");void 0===(t=t||{}).singleton&&(t.singleton=o()),void 0===t.insertAt&&(t.insertAt=\"bottom\");var i=c(e);return u(i,t),function(e){for(var o=[],r=0;r<i.length;r++){var a=i[r];(s=n[a.id]).refs--,o.push(s)}e&&u(c(e),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var h,p=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join(\"\\n\")});function v(e,t,n,i){var o=n?\"\":i.css;if(e.styleSheet)e.styleSheet.cssText=p(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}},function(e,t,n){var i=n(3);\"string\"==typeof i&&(i=[[e.i,i,\"\"]]);n(8)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(5),o=n.n(i),r=n(12),a=n.n(r),s=n(1);t.default={extends:o.a,name:\"AtTextarea\",computed:{style:function(){if(this.atwho){var e=this.atwho,t=(e.list,e.cur,e.x),n=e.y,i=this.$refs.wrap,o=this.$el.querySelector(\"textarea\");if(i)return{left:t+o.offsetLeft-o.scrollLeft+\"px\",top:n+o.offsetTop-o.scrollTop+\"px\"}}return null}},methods:{handleValueUpdate:function(e){var t=this.$el.querySelector(\"textarea\");e!==t.value&&(t.value=e,this.dispatchInput())},dispatchInput:function(){var e=this.$el.querySelector(\"textarea\"),t=new Event(\"input\",{bubbles:!0});e.dispatchEvent(t)},handleDelete:function(e){var t=this.$el.querySelector(\"textarea\"),i=t.value.slice(0,t.selectionEnd);if(i){var o=this.atItems,r=this.members,a=this.suffix,l=this.deleteMatch,u=this.itemName,c=n.i(s.a)(i,o),d=c.at,f=c.index;if(f>-1){var h=i.slice(f+d.length);r.some(function(e){var t=u(e);return l(t,h,a)})&&(t.value=t.value.slice(0,f)+t.value.slice(t.selectionEnd-1),t.selectionStart=f+1,t.selectionEnd=f+1,this.handleInput())}}},handleInput:function(e){if(!this.hasComposition){var t=this.$el.querySelector(\"textarea\");this.$emit(\"input\",t.value);var i=t.value.slice(0,t.selectionEnd);if(i){var o=this.atItems,r=this.avoidEmail,a=this.allowSpaces,l=!0,u=n.i(s.a)(i,o),c=u.at,d=u.index;d<0&&(l=!1);var f=i[d-1],h=i.slice(d+c.length,i.length);if(r&&/^[a-z0-9]$/i.test(f)&&(l=!1),!a&&/\\s/.test(h)&&(l=!1),/^\\s/.test(h)&&(l=!1),l){var p=this.members,v=this.filterMatch,m=this.itemName;e||this.$emit(\"at\",h);var w=p.filter(function(e){var t=m(e);return v(t,h,c)});w.length?this.openPanel(w,h,d,c,e):this.closePanel()}else this.closePanel()}else this.closePanel()}},openPanel:function(e,t,n,i){var o=this,r=function(){var r=o.$el.querySelector(\"textarea\"),s=n+i.length,l=a()(r,s);o.atwho={chunk:t,offset:n,list:e,atEnd:s,x:l.left,y:l.top-4,cur:0}};this.atwho?r():setTimeout(r,10)},insertText:function(e,t){var n=t.selectionStart,i=t.selectionEnd;t.value=t.value.slice(0,n)+e+t.value.slice(i);var o=n+e.length;t.selectionStart=o,t.selectionEnd=o,this.dispatchInput()},insertItem:function(){var e=this.atwho,t=(e.chunk,e.offset,e.list),i=e.cur,o=e.atEnd,r=this.suffix,a=this.atItems,l=this.itemName,u=this.$el.querySelector(\"textarea\"),c=u.value.slice(0,o),d=n.i(s.a)(c,a),f=d.at,h=d.index+f.length;u.selectionStart=h,u.focus();var p=t[i],v=l(p)+r;this.insertText(v,u),this.$emit(\"insert\",p),this.handleInput()}}}},function(e,t,n){var i=n(0)(n(10),null,null,null);e.exports=i.exports},function(e,t){e.exports=require(\"textarea-caret\")}]);\n//# sourceMappingURL=vue-at-textarea.js.map","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputWithUnit.vue?vue&type=style&index=0&id=6e6c8f9d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.currentComponent,{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.model === _vm.loading),expression:\"model === loading\"}],tag:\"component\",attrs:{\"model\":_vm.model,\"vm\":_vm.vm,\"editable\":_vm.editable},on:{\"backward\":_vm.switchPreviousComponent,\"foreward\":_vm.switchNextComponent,\"close\":function($event){return _vm.$emit('cancel')},\"refresh\":function($event){return _vm.getHandbagInfo(_vm.modelId)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"model-info-container flex-column flex-1\"},[_c('h1',{staticClass:\"dialog-title no-collapse\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"model.info.bag_info\"))+\" \")]),_c('div',{staticClass:\"model-content-box flex-1 scrollable-y\"},[(_vm.mode === 'text')?_c('model-detail-text',{attrs:{\"model\":_vm.model}}):_c('model-detail-form',{ref:\"form\",attrs:{\"model\":_vm.modelFormData}}),_c('section',[_c('h2',{staticClass:\"section-title highlight\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"model.info.materials\"))+\" \")]),_c('material-table',{attrs:{\"data\":_vm.model.materials}})],1),_c('model-time-info',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"creator\":_vm.model.creatorName,\"uploaded\":_vm.model.gmtCreateTime,\"updated\":_vm.model.gmtModifyTime}})],1),_c('section',{staticClass:\"submit-button-area\"},[(_vm.mode === 'text')?_c('div',{staticClass:\"flex-justify-flex-end\"},[_c('el-button',{attrs:{\"disabled\":(!_vm.isCreator && !_vm.$can('workspace', 'OP0015')) || _vm.editable === false,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.toggleComponent('form')}}},[_c('i',{staticClass:\"iconfont icon-write\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"model.info.edit\"))+\" \")])])],1):_c('div',{staticClass:\"text-align-right\"},[_c('el-button',{on:{\"click\":function($event){return _vm.toggleComponent('text')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.cancel\"))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.updateInfo($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.confirm\"))+\" \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.model,\"rules\":_vm.rules,\"size\":\"medium\"}},[_c('section',{staticClass:\"form-section clearfix\"},[_c('el-form-item',{attrs:{\"prop\":\"modelNumber\",\"label\":_vm.$t('model.info.style_no')}},[_c('el-input',{attrs:{\"disabled\":!_vm.hasPermission('OP0015', 'OP0141'),\"placeholder\":_vm.$t('model.info.input_placeholder')},model:{value:(_vm.model.modelNumber),callback:function ($$v) {_vm.$set(_vm.model, \"modelNumber\", $$v)},expression:\"model.modelNumber\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"type\",\"label\":_vm.$t('model.info.product_type')}},[_c('dictionary-selector',{staticClass:\"width-100\",attrs:{\"value\":_vm.model.type,\"disabled\":!_vm.isCreator,\"type\":\"handbagType\",\"placeholder\":_vm.$t('model.info.shoe_category')},on:{\"on-change\":function($event){return _vm.changeProperty('type', $event)}}})],1)],1),_c('section',{staticClass:\"form-section clearfix\",staticStyle:{\"margin\":\"0 0 5px\"}},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.tags'))+\" \")]),_c('TagsEditor',{attrs:{\"tags\":_vm.model.tagsInfo,\"shareId\":_vm.model.id,\"type\":3,\"relateType\":3,\"editable\":_vm.hasPermission('OP0015' ,'OP0141')}})],1),_c('section',{staticClass:\"form-section clearfix\",staticStyle:{\"margin-right\":\"0px\"}},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.notes'))+\" \")]),_c('el-input',{attrs:{\"disabled\":!_vm.hasPermission('OP0015', 'OP0141'),\"placeholder\":_vm.$t('model.info.input_placeholder'),\"rows\":3,\"type\":\"textarea\",\"resize\":\"none\",\"clearable\":\"\",\"maxlength\":\"200\",\"show-word-limit\":\"\"},model:{value:(_vm.model.notes),callback:function ($$v) {_vm.$set(_vm.model, \"notes\", $$v)},expression:\"model.notes\"}})],1),_c('section',{staticClass:\"form-section clearfix\"},[_vm._l((_vm.basicList),function(item){return _c('el-form-item',{key:item.label,attrs:{\"label\":item.label,\"prop\":item.prop}},[_c('el-input',{attrs:{\"disabled\":!_vm.isCreator,\"placeholder\":_vm.$t('model.info.input_placeholder')},model:{value:(_vm.model[item.prop]),callback:function ($$v) {_vm.$set(_vm.model, item.prop, $$v)},expression:\"model[item.prop]\"}})],1)}),_c('el-form-item',{attrs:{\"prop\":\"price\",\"label\":_vm.$t('model.info.prices')}},[_c('input-with-unit',{attrs:{\"value\":_vm.model.price,\"disabled\":!_vm.isCreator,\"default-unit\":_vm.model.priceUnitObject.itemValue,\"unit-options\":[\n          { value: 2, label: _vm.$i18n.i18next.language === 'en' ? 'USD' : '美元' },\n          { value: 1, label: _vm.$i18n.i18next.language === 'en' ? 'CNY' : '人民币' }\n        ],\"inputPlaceholder\":_vm.$t('model.info.input_placeholder')},on:{\"on-input-blur\":function($event){return _vm.changeProperty('price', $event)},\"on-select-change\":function($event){return _vm.changeProperty('monetaryUnit', $event)}}})],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import getGroupAppId from '@/router/utils/get-group-app-id';\n\nexport default {\n  data() {\n    return {\n      currentWorkspaceId: getGroupAppId(),\n    };\n  },\n  methods: {\n    // 判定是否有权限（包括在自己空间和在workspace空间）\n    hasPermission(workspaceCode, systemCode) {\n      // 根据 currentWorkspaceId 是否有值，判定是不是在workspace的中\n      if (this.currentWorkspaceId) {\n        return this.$can(this.currentWorkspaceId, workspaceCode);\n      }\n      return this.$can('system', systemCode);\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.sort,attrs:{\"label\":item.label,\"value\":item.itemValue}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from '@/api/axios';\nimport { i18n } from '@/i18n';\nimport {\n  defineComponent, ref, onMounted, watch,\n} from '@vue/composition-api';\n\ninterface OptionItem {\n  label: string\n  flag: number\n  sort: number\n  itemCode: string\n  itemValue: number\n  typeCode: string\n  language: string\n}\n\nconst getOptions = async () => {\n  return axios({\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    method: 'get',\n    params: {\n      typeCode: 'handbagType',\n    },\n    headers: {\n      language: i18n.language,\n    },\n  });\n};\n\nconst DictionarySelector = defineComponent({\n  name: 'DictionarySelector',\n  props: {\n    value: {\n      type: Number,\n    },\n    disabled: {\n      type: Boolean,\n    },\n    placeholder: {\n      type: String,\n    },\n  },\n  setup(props, { emit }) {\n    const selectedValue = ref(props.value);\n    const options = ref<OptionItem[]>([]);\n\n    function handleChange() {\n      emit('on-change', selectedValue.value);\n    }\n\n    onMounted(async () => {\n      options.value = (await getOptions()).data;\n    });\n\n    watch(() => props.value, () => {\n      selectedValue.value = props.value;\n    });\n\n    return {\n      selectedValue,\n      options,\n      handleChange,\n    };\n  },\n});\n\nexport default DictionarySelector;\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DictionarySelector.vue?vue&type=template&id=fe9b4fbc&\"\nimport script from \"./DictionarySelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./DictionarySelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-unit\"},[_c('el-input',{staticClass:\"input-unit-number\",attrs:{\"placeholder\":_vm.inputPlaceholder,\"disabled\":_vm.disabled},nativeOn:{\"keyup\":function($event){return _vm.handleChangeUnitNumber($event)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),(!_vm.withoutSelect)?_c('el-select',{staticClass:\"input-unit-unit\",attrs:{\"disabled\":_vm.disabled},on:{\"change\":function($event){return _vm.$emit('on-select-change', _vm.selectedUnit)}},model:{value:(_vm.selectedUnit),callback:function ($$v) {_vm.selectedUnit=$$v},expression:\"selectedUnit\"}},_vm._l((_vm.unitOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-unit\">\n    <el-input\n      v-model=\"text\"\n      :placeholder=\"inputPlaceholder\"\n      :disabled=\"disabled\"\n      class=\"input-unit-number\"\n      @keyup.native=\"handleChangeUnitNumber\" />\n    <el-select\n      v-if=\"!withoutSelect\"\n      v-model=\"selectedUnit\"\n      :disabled=\"disabled\"\n      class=\"input-unit-unit\"\n      @change=\"$emit('on-select-change', selectedUnit)\">\n      <el-option\n        v-for=\"item in unitOptions\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        :value=\"item.value\" />\n    </el-select>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { debounce } from 'throttle-debounce';\n\nexport default {\n  props: {\n    // 不要select\n    withoutSelect: {\n      type: Boolean,\n      default: false,\n    },\n    // 输入框值\n    value: {\n      type: [String, Number],\n      default: '',\n    },\n    // 输入框 placeholder\n    inputPlaceholder: {\n      type: String,\n      default: '',\n    },\n    // 单位选择 默认选择的单位\n    defaultUnit: {\n      type: Number,\n      default: 1,\n    },\n    // 单位选择数组\n    unitOptions: {\n      type: Array,\n      required: true,\n    },\n    // 小数点后保留位数(最大不能超过8位)\n    decimalPlaces: {\n      type: Number,\n      default: 2,\n    },\n    // 整数位数(最大不能超过7位)\n    integerPlaces: {\n      type: Number,\n      default: 8,\n    },\n    // 间隔阈值\n    threshold: {\n      type: Number,\n      default: 500,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      text: '',\n      selectedUnit: '',\n    };\n  },\n  mounted() {\n    this.text = this.value;\n    this.selectedUnit = this.defaultUnit;\n    // eslint-disable-next-line func-names\n    this.handleChangeUnitNumber = debounce(this.threshold, function () {\n      this.changeUnitNumber();\n    });\n  },\n  watch: {\n    value(value) {\n      this.text = value;\n    },\n    defaultUnit(value) {\n      this.selectedUnit = value;\n    },\n  },\n  methods: {\n    // debouce 延迟处理键盘输入校验\n    // eslint-disable-next-line\n    // handleChangeUnitNumber: debounce(function () {\n    //   this.changeUnitNumber();\n    // }, this.threshold),\n    changeUnitNumber() {\n      if (this.text === '') {\n        this.$emit('on-input-blur', this.text);\n        return;\n      }\n\n      // 暂时保存原始的输入的文本\n      const temp = this.text;\n      const limitInt = this._addNumberSeparator();\n\n      this.text = parseFloat(this.text, 10);\n      // 处理非数字类型\n      if (Number.isNaN(this.text)) this.text = '';\n      // 处理负数情况\n      if (this.text < 0) this.text = -this.text;\n\n      // 处理科学法情况\n      if (String(this.text).includes('e')) {\n        this.$message.warning(i18n.t('public.form.max_num_exceed', { limit: limitInt }));\n        this.text = String(temp).slice(0, this.integerPlaces);\n        return;\n      }\n\n      // 最大值处理\n      if (this.text >= `1${'0'.repeat(this.integerPlaces)}`) {\n        this.$message.warning(i18n.t('public.form.max_num_exceed', { limit: limitInt }));\n        this.text = String(this.text).slice(0, this.integerPlaces);\n        return;\n      }\n      // 小数点处理\n      const isDecimal = String(this.text).includes('.');\n      if (isDecimal) this._handleDecimalNumber();\n\n      this.$emit('on-input-blur', this.text);\n    },\n    // 处理小数点情况\n    _handleDecimalNumber() {\n      const number = Math.round(this.decimalPlaces);\n      const [int, dec] = String(this.text).split('.');\n      if (number <= 0) {\n        this.text = int;\n      } else if (number >= 8) {\n        this.text = `${int}.${dec.slice(0, 8)}`;\n        this.$message.warning(i18n.t('public.form.keep_decimal_places', { num: 8 }));\n      } else if (dec.length > number) {\n        this.text = `${int}.${dec.slice(0, number)}`;\n        this.$message.warning(i18n.t('public.form.keep_decimal_places', { num: number }));\n      }\n    },\n    // 处理数字分隔符问题\n    _addNumberSeparator() {\n      const number = Number(`1${'0'.repeat(this.integerPlaces)}`);\n      return number.toLocaleString('en-US');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.input-unit {\n  display: flex;\n  height: 33px;\n}\n.input-unit-number {\n  margin-right: 10px;\n}\n.input-unit-unit {\n  width: 140px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputWithUnit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputWithUnit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputWithUnit.vue?vue&type=template&id=3794c56e&scoped=true&\"\nimport script from \"./InputWithUnit.vue?vue&type=script&lang=js&\"\nexport * from \"./InputWithUnit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputWithUnit.vue?vue&type=style&index=0&id=3794c56e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3794c56e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- 名称和类型 -->\n  <el-form :model=\"model\" :rules=\"rules\" size=\"medium\" ref=\"form\">\n    <section class=\"form-section clearfix\">\n      <el-form-item prop=\"modelNumber\" :label=\"$t('model.info.style_no')\">\n        <el-input\n          v-model=\"model.modelNumber\"\n          :disabled=\"!hasPermission('OP0015', 'OP0141')\"\n          :placeholder=\"$t('model.info.input_placeholder')\" />\n      </el-form-item>\n\n      <el-form-item prop=\"type\" :label=\"$t('model.info.product_type')\">\n        <dictionary-selector\n          :value=\"model.type\"\n          :disabled=\"!isCreator\"\n          type=\"handbagType\"\n          :placeholder=\"$t('model.info.shoe_category')\"\n          class=\"width-100\"\n          @on-change=\"changeProperty('type', $event)\" />\n      </el-form-item>\n    </section>\n\n    <!-- 鞋标签 -->\n    <section class=\"form-section clearfix\" style=\"margin: 0 0 5px;\">\n      <h2 class=\"section-title\">\n        {{ $t('model.info.tags') }}\n      </h2>\n      <TagsEditor :tags=\"model.tagsInfo\"\n        :shareId=\"model.id\" :type=\"3\" :relateType=\"3\" :editable=\"hasPermission('OP0015' ,'OP0141')\" />\n    </section>\n\n    <!-- 备注信息 -->\n    <section class=\"form-section clearfix\" style=\"margin-right: 0px;\">\n      <h2 class=\"section-title\">\n        {{ $t('model.info.notes') }}\n      </h2>\n      <el-input\n        v-model=\"model.notes\"\n        :disabled=\"!hasPermission('OP0015', 'OP0141')\"\n        :placeholder=\"$t('model.info.input_placeholder')\"\n        :rows=\"3\"\n        type=\"textarea\"\n        resize=\"none\"\n        clearable\n        maxlength=\"200\"\n        show-word-limit />\n    </section>\n\n    <!-- 鞋基本信息 -->\n    <section class=\"form-section clearfix\">\n      <el-form-item\n        v-for=\"item in basicList\"\n        :key=\"item.label\"\n        :label=\"item.label\"\n        :prop=\"item.prop\">\n        <el-input\n          v-model=\"model[item.prop]\"\n          :disabled=\"!isCreator\"\n          :placeholder=\"$t('model.info.input_placeholder')\" />\n      </el-form-item>\n\n      <el-form-item prop=\"price\" :label=\"$t('model.info.prices')\">\n        <input-with-unit\n          :value=\"model.price\"\n          :disabled=\"!isCreator\"\n          :default-unit=\"model.priceUnitObject.itemValue\"\n          :unit-options=\"[\n            { value: 2, label: $i18n.i18next.language === 'en' ? 'USD' : '美元' },\n            { value: 1, label: $i18n.i18next.language === 'en' ? 'CNY' : '人民币' }\n          ]\"\n          :inputPlaceholder=\"$t('model.info.input_placeholder')\"\n          @on-input-blur=\"changeProperty('price', $event)\"\n          @on-select-change=\"changeProperty('monetaryUnit', $event)\" />\n      </el-form-item>\n    </section>\n  </el-form>\n</template>\n\n<script>\nimport Vue from 'vue';\n\nimport i18n from 'i18next';\nimport axios from '@/api/axios';\nimport AppError from '@/utils/error';\nimport formRules from '@/views/model/info/rules';\nimport TagsEditor from '@/components/base/TagsEditor.vue';\nimport mixinHasPermission from '../../mixinHasPermission';\nimport { getContextUser } from '../../../../../loaders/context';\nimport DictionarySelector from './DictionarySelector';\nimport InputWithUnit from './InputWithUnit';\n\nasync function updateBagInfo(data) {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/handbagInfoOperation/updateHandbagInfo',\n    data,\n  });\n}\n\nexport default Vue.extend({\n  name: 'ModelDetailForm',\n  components: {\n    TagsEditor,\n    DictionarySelector,\n    InputWithUnit,\n  },\n  props: {\n    model: {\n      type: Object,\n      required: true,\n    },\n  },\n  mixins: [mixinHasPermission],\n  data() {\n    return {\n      rules: formRules,\n      basicList: [\n        { label: i18n.t('model.info.brand'), prop: 'brand' },\n        { label: i18n.t('model.info.styleName'), prop: 'styleName' },\n        { label: i18n.t('model.info.season'), prop: 'season' },\n        { label: i18n.t('model.info.collection'), prop: 'series' },\n        // { label: i18n.t('model.info.last_number'), prop: 'lastNumber' },\n        { label: i18n.t('model.info.customer'), prop: 'customer' },\n        // { label: i18n.t('model.info.outsole_number'), prop: 'soleNumber' },\n        { label: i18n.t('model.info.designer'), prop: 'stylist' },\n        // { label: i18n.t('model.info.heel_number'), prop: 'heelNumber' },\n      ],\n    };\n  },\n  computed: {\n    isCreator() {\n      return getContextUser().id === this.model.creator;\n    },\n  },\n  methods: {\n    // 修改鞋模型信息\n    async changeModelInfo() {\n      // const groupAppId = this.$closest('ModelInfo').groupAppId || '';\n      // 先校验填写内容是否通过表单校验\n      const valid = await this.$refs.form.validate();\n      if (!valid) {\n        throw AppError.abort;\n      }\n\n      // 发出更新数据请求\n      try {\n        await updateBagInfo({\n          id: this.model.id,\n          modelNumber: this.model.modelNumber,\n          type: this.model.type,\n          notes: this.model.notes,\n          season: this.model.season,\n          series: this.model.series,\n          customer: this.model.customer,\n          stylist: this.model.stylist,\n          price: this.model.price,\n          size: this.model.size,\n          factory: this.model.factory,\n          purpose: this.model.purpose,\n          priceUnit: this.model.priceUnitObject.itemValue,\n          brand: this.model.brand,\n          styleName: this.model.styleName,\n        });\n      } catch (err) {\n        this.$errHandler(err);\n      }\n    },\n    // 处理其他组件更新的事件\n    changeProperty(prop, value) {\n      if (prop === 'monetaryUnit') {\n        this.model.priceUnitObject.itemValue = value;\n        return;\n      }\n      // 先要把数据同步到当前的model，否则表单对当前属性检验是旧数据\n      this.model[prop] = value;\n      // this.changeModelInfo(prop, value);\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.el-form {\n  .form-section {\n    margin-right: -20px;\n    margin-bottom: 15px;\n\n    .el-form-item {\n      float: left;\n      width: 300px;\n      margin-right: 15px;\n      margin-bottom: 0;\n    }\n  }\n\n  /deep/ .el-form-item__label {\n    float: none;\n  }\n}\n\n// 公共样式\n.section-title {\n  margin-bottom: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  .section-subtitle {\n    font-weight: 700;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailForm.vue?vue&type=template&id=eaa845a8&scoped=true&\"\nimport script from \"./DetailForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailForm.vue?vue&type=style&index=0&id=eaa845a8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eaa845a8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-text\"},[_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.style_no'),\"content\":_vm.model.modelNumber}}),_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.product_type'),\"content\":_vm.model.typeObject && _vm.model.typeObject.label}}),_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.notes'),\"content\":_vm.model.notes,\"ellipsis\":false}}),_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.tags'),\"content\":_vm.model.tagsInfo && _vm.model.tagsInfo.length}},[_c('ul',{staticClass:\"tags-list\"},_vm._l((_vm.model.tagsInfo),function(item,index){return _c('li',{key:index,staticClass:\"el-tag\"},[_vm._v(_vm._s(item.tag))])}),0)]),_c('ul',{staticClass:\"section-half\"},_vm._l((_vm.generateFields()),function(field){return _c('li',{key:field.label,staticClass:\"form-field\"},[_c('form-field-text',{attrs:{\"label\":field.label,\"content\":field.content || '',\"unit\":field.unit}})],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detail-text\">\n    <form-field-text :label=\"$t('model.info.style_no')\" :content=\"model.modelNumber\" />\n    <form-field-text :label=\"$t('model.info.product_type')\"\n      :content=\"model.typeObject && model.typeObject.label\" />\n    <form-field-text :label=\"$t('model.info.notes')\" :content=\"model.notes\" :ellipsis=\"false\" />\n\n    <!-- 标签 -->\n    <form-field-text :label=\"$t('model.info.tags')\" :content=\"model.tagsInfo && model.tagsInfo.length\">\n      <ul class=\"tags-list\">\n        <li\n          v-for=\"(item, index) in model.tagsInfo\"\n          :key=\"index\"\n          class=\"el-tag\">{{ item.tag }}</li>\n      </ul>\n    </form-field-text>\n\n    <ul class=\"section-half\">\n      <li v-for=\"field in generateFields()\" :key=\"field.label\" class=\"form-field\">\n        <form-field-text\n          :label=\"field.label\"\n          :content=\"field.content || ''\"\n          :unit=\"field.unit\" />\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n\nimport FormFieldText from '@/components/form/FormFieldText.vue';\n\nexport default {\n  name: 'ModelDetailText',\n  components: {\n    FormFieldText,\n  },\n  props: {\n    model: {\n      type: Object,\n      required: true,\n    },\n  },\n  methods: {\n    generateFields() {\n      const {\n        season, series, customer, stylist, price, monetaryUnit, brand, styleName,\n      } = this.model;\n\n      return [\n        { label: '品牌', content: brand },\n        { label: '款名', content: styleName },\n        { label: i18n.t('model.info.season'), content: season },\n        { label: i18n.t('model.info.collection'), content: series },\n        // { label: i18n.t('model.info.last_number'), content: lastNumber },\n        { label: i18n.t('model.info.customer'), content: customer },\n        // { label: i18n.t('model.info.outsole_number'), content: soleNumber },\n        { label: i18n.t('model.info.designer'), content: stylist },\n        // { label: i18n.t('model.info.heel_number'), content: heelNumber },\n        { label: i18n.t('model.info.price'), content: price, unit: monetaryUnit },\n      ];\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-text {\n  .section-title {\n    margin: 30px 0 15px;\n    font-size: 16px;\n    color: #666;\n  }\n}\n\n.section-half {\n  display: flex;\n  flex-wrap: wrap;\n  .form-field {\n    width: 50%;\n    padding-right: 30px;\n  }\n}\n\n.price-field {\n  line-height: 30px;\n}\n\n// 标签\n.tags-list {\n  min-height: 30px;\n  margin-top: 10px;\n\n  .el-tag {\n    height: 30px;\n    padding: 0 18px;\n    margin: 0 10px 10px 0;\n    font-size: 14px;\n    line-height: 30px;\n    background-color: #fff;\n    border-radius: 15px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailText.vue?vue&type=template&id=27f2a2ee&scoped=true&\"\nimport script from \"./DetailText.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailText.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailText.vue?vue&type=style&index=0&id=27f2a2ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27f2a2ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',{staticClass:\"custom-table\",attrs:{\"data\":_vm.data,\"height\":\"215\"}},[_c('el-table-column',{attrs:{\"prop\":\"componentName\",\"label\":_vm.$t('model.info.component'),\"width\":150}}),_c('el-table-column',{attrs:{\"prop\":\"materialName\",\"label\":_vm.$t('model.info.material_name'),\"min-width\":120}}),_c('el-table-column',{attrs:{\"prop\":\"color\",\"label\":_vm.$t('model.info.color')}}),_c('el-table-column',{attrs:{\"prop\":\"supplierName\",\"label\":_vm.$t('model.info.supplier'),\"min-width\":120}}),_c('el-table-column',{attrs:{\"prop\":\"samplePrice\",\"label\":_vm.$t('model.info.sample_price'),\"width\":110}}),_c('el-table-column',{attrs:{\"prop\":\"supplierArticleName\",\"label\":_vm.$t('model.info.supplier_article_name'),\"min-width\":170}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-table :data=\"data\" class=\"custom-table\" height=\"215\">\n    <el-table-column prop=\"componentName\" :label=\"$t('model.info.component')\" :width=\"150\" />\n    <el-table-column prop=\"materialName\" :label=\"$t('model.info.material_name')\"\n    :min-width=\"120\" />\n    <el-table-column prop=\"color\" :label=\"$t('model.info.color')\" />\n    <el-table-column prop=\"supplierName\" :label=\"$t('model.info.supplier')\" :min-width=\"120\"/>\n    <el-table-column prop=\"samplePrice\" :label=\"$t('model.info.sample_price')\" :width=\"110\" />\n    <el-table-column prop=\"supplierArticleName\" :label=\"$t('model.info.supplier_article_name')\"\n    :min-width=\"170\" />\n  </el-table>\n</template>\n\n<script>\nexport default {\n  name: 'MaterialTable',\n  props: {\n    data: {\n      type: Array,\n      require: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.custom-table {\n  border: 1px solid #d4d8de;\n  border-radius: 2px;\n\n  &.el-table {\n    /deep/ .el-table__header th {\n      padding: 6px 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialTable.vue?vue&type=template&id=408973c4&scoped=true&\"\nimport script from \"./MaterialTable.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialTable.vue?vue&type=style&index=0&id=408973c4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"408973c4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"model-info-container flex-column flex-1\">\n    <!-- 弹框标题 -->\n    <h1 class=\"dialog-title no-collapse\">\n      {{ $t(\"model.info.bag_info\") }}\n    </h1>\n\n    <div class=\"model-content-box flex-1 scrollable-y\">\n      <!-- 名称和类型 -->\n      <model-detail-text v-if=\"mode === 'text'\" :model=\"model\" />\n      <model-detail-form v-else :model=\"modelFormData\" ref=\"form\" />\n\n      <!-- 材质表格 -->\n      <section>\n        <h2 class=\"section-title highlight\">\n          {{ $t(\"model.info.materials\") }}\n        </h2>\n        <material-table :data=\"model.materials\" />\n      </section>\n\n      <!-- 鞋上传和修改时间 -->\n      <model-time-info\n        :creator=\"model.creatorName\"\n        :uploaded=\"model.gmtCreateTime\"\n        :updated=\"model.gmtModifyTime\"\n        style=\"margin-top: 20px;\"\n      />\n    </div>\n\n    <!-- 取消和确认按钮 -->\n    <section class=\"submit-button-area\">\n      <!-- <div v-if=\"mode === 'text'\" class=\"flex-space-between\"> -->\n      <div v-if=\"mode === 'text'\" class=\"flex-justify-flex-end\">\n        <!--\n        <el-button\n          :disabled=\"!$can('workspace', 'OP0013')\"\n          type=\"primary\"\n          @click=\"$emit('foreward')\">\n          Export the sample list\n        </el-button>\n        -->\n        <el-button\n          :disabled=\"(!isCreator && !$can('workspace', 'OP0015')) || editable === false\"\n          type=\"primary\"\n          @click=\"toggleComponent('form')\"\n        >\n          <i class=\"iconfont icon-write\" />\n          <span>\n            {{ $t(\"model.info.edit\") }}\n          </span>\n        </el-button>\n      </div>\n      <div v-else class=\"text-align-right\">\n        <el-button @click=\"toggleComponent('text')\">\n          {{ $t(\"public.dialog.cancel\") }}\n        </el-button>\n        <el-button type=\"primary\" @click.native=\"updateInfo\">\n          {{ $t(\"public.dialog.confirm\") }}\n        </el-button>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\n\nimport ModelTimeInfo from '@/views/material/info/components/TimeInfo';\nimport { getContextUser } from '../../../../loaders/context';\nimport ModelDetailForm from './model-info/DetailForm';\nimport ModelDetailText from './model-info/DetailText';\nimport MaterialTable from './model-info/MaterialTable';\n\nexport default Vue.extend({\n  name: 'ComponentModelInfo',\n  components: {\n    ModelDetailForm,\n    ModelDetailText,\n    MaterialTable,\n    ModelTimeInfo,\n  },\n  props: {\n    model: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      mode: 'text', // mode: form, text\n      modelFormData: {},\n    };\n  },\n  computed: {\n    isCreator() {\n      return getContextUser().id === this.model.creator;\n    },\n  },\n  methods: {\n    toggleComponent(compName) {\n      if (compName === 'text') this.$emit('refresh');\n      this.mode = compName;\n    },\n\n    async updateInfo() {\n      await this.$refs.form.changeModelInfo();\n      this.toggleComponent('text');\n    },\n  },\n  watch: {\n    model: {\n      handler(newV) {\n        this.modelFormData = newV;\n      },\n      immediately: true,\n      deep: true,\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.model-info-container {\n  overflow: hidden;\n  .dialog-title {\n    margin: 20px 30px 10px;\n    font-size: 20px;\n    font-weight: 500;\n    color: #333;\n  }\n\n  .model-content-box {\n    padding: 0 30px;\n    margin-bottom: 20px;\n    // max-height: 610px;\n    overflow-y: auto;\n  }\n}\n\n// 公共样式\n.section-title {\n  margin-bottom: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  &.highlight {\n    margin-top: 30px;\n    color: #2878ff;\n  }\n\n  .section-subtitle {\n    font-weight: 700;\n  }\n}\n\n.submit-button-area {\n  padding-bottom: 20px;\n  padding-right: 30px;\n  .iconfont {\n    margin-right: 5px;\n    font-size: 18px;\n    color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentModelInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentModelInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentModelInfo.vue?vue&type=template&id=4f7aafd8&scoped=true&\"\nimport script from \"./ComponentModelInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentModelInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentModelInfo.vue?vue&type=style&index=0&id=4f7aafd8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f7aafd8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"dialog-subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.complete_info_to_download_excel_tip'))+\" \")]),_c('el-form',{ref:\"form\",staticClass:\"clearfix\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"85px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"Purpose\",\"prop\":\"purpose\"}},[_c('el-input',{on:{\"change\":function($event){return _vm.changeModelInfo('purpose', $event)}},model:{value:(_vm.form.purpose),callback:function ($$v) {_vm.$set(_vm.form, \"purpose\", $$v)},expression:\"form.purpose\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Due Date\",\"prop\":\"dueDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"format\":\"MM/dd/yyyy\",\"type\":\"date\",\"size\":\"small\"},on:{\"change\":function($event){_vm.changeModelInfo('dueDate', $event.getTime())}},model:{value:(_vm.form.dueDate),callback:function ($$v) {_vm.$set(_vm.form, \"dueDate\", $$v)},expression:\"form.dueDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Size\",\"prop\":\"size\"}},[_c('el-input',{on:{\"change\":function($event){return _vm.changeModelInfo('size', $event)}},model:{value:(_vm.form.size),callback:function ($$v) {_vm.$set(_vm.form, \"size\", $$v)},expression:\"form.size\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Factory\",\"prop\":\"factory\"}},[_c('el-input',{on:{\"change\":function($event){return _vm.changeModelInfo('factory', $event)}},model:{value:(_vm.form.factory),callback:function ($$v) {_vm.$set(_vm.form, \"factory\", $$v)},expression:\"form.factory\"}})],1),_c('el-form-item',{staticClass:\"width-100\",attrs:{\"label\":\"Notes\",\"prop\":\"notes\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"resize\":\"none\",\"maxlength\":\"200\",\"show-word-limit\":\"\"},on:{\"change\":function($event){return _vm.changeModelInfo('notes', $event)}},model:{value:(_vm.form.notes),callback:function ($$v) {_vm.$set(_vm.form, \"notes\", $$v)},expression:\"form.notes\"}})],1)],1),_c('div',{staticClass:\"text-align-right\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('backward')}}},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.back'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$act(_vm.downloadExcel)}}},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.export'))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import validator from '@/utils/validators/rules-validation';\n\nexport default {\n  type: validator.selection(),\n  modelNumber: [\n    validator.requirement(),\n    validator.spaceTrim(),\n    validator.charLengthMax(512),\n  ],\n  season: [\n    validator.spaceTrim(),\n    validator.charLengthMax(20),\n  ],\n  series: [\n    validator.spaceTrim(),\n    validator.charLengthMax(20),\n  ],\n  styleName: [\n    validator.spaceTrim(),\n    validator.charLengthMax(32),\n  ],\n  brand: [\n    validator.spaceTrim(),\n    validator.charLengthMax(32),\n  ],\n  // lastNumber: [\n  //   validator.spaceTrim(),\n  //   validator.charLengthMax(20),\n  // ],\n  // soleNumber: [\n  //   validator.spaceTrim(),\n  //   validator.charLengthMax(20),\n  // ],\n  // heelNumber: [\n  //   validator.spaceTrim(),\n  //   validator.charLengthMax(20),\n  // ],\n  customer: [\n    validator.spaceTrim(),\n    validator.charLengthMax(64),\n  ],\n  designerName: [\n    validator.spaceTrim(),\n    validator.charLengthMax(64),\n  ],\n  factory: [\n    validator.spaceTrim(),\n    validator.charLengthMax(64),\n  ],\n  size: [\n    validator.spaceTrim(),\n    validator.charLengthMax(64),\n  ],\n  purpose: [\n    validator.spaceTrim(),\n    validator.charLengthMax(64),\n  ],\n};\n","<template>\n  <div>\n    <p class=\"dialog-subtitle\">\n      {{ $t('model.info.complete_info_to_download_excel_tip') }}\n    </p>\n\n    <el-form\n      :model=\"form\"\n      :rules=\"rules\"\n      label-width=\"85px\"\n      size=\"small\"\n      class=\"clearfix\"\n      ref=\"form\">\n      <el-form-item label=\"Purpose\" prop=\"purpose\">\n        <el-input\n          v-model=\"form.purpose\"\n          @change=\"changeModelInfo('purpose', $event)\" />\n      </el-form-item>\n\n      <el-form-item label=\"Due Date\" prop=\"dueDate\">\n        <el-date-picker\n          v-model=\"form.dueDate\"\n          format=\"MM/dd/yyyy\"\n          type=\"date\"\n          size=\"small\"\n          style=\"width: 100%\"\n          @change=\"changeModelInfo('dueDate', $event.getTime())\" />\n      </el-form-item>\n\n      <el-form-item label=\"Size\" prop=\"size\">\n        <el-input\n          v-model=\"form.size\"\n          @change=\"changeModelInfo('size', $event)\" />\n      </el-form-item>\n\n      <el-form-item label=\"Factory\" prop=\"factory\">\n        <el-input\n          v-model=\"form.factory\"\n          @change=\"changeModelInfo('factory', $event)\" />\n      </el-form-item>\n\n      <el-form-item label=\"Notes\" prop=\"notes\" class=\"width-100\">\n        <el-input\n          v-model=\"form.notes\"\n          type=\"textarea\"\n          :rows=\"4\"\n          resize=\"none\"\n          maxlength=\"200\"\n          show-word-limit\n          @change=\"changeModelInfo('notes', $event)\" />\n      </el-form-item>\n    </el-form>\n\n    <div class=\"text-align-right\">\n      <el-button @click=\"$emit('backward')\">\n        {{ $t('model.info.back') }}\n      </el-button>\n      <el-button type=\"primary\" @click=\"$act(downloadExcel)\">\n        {{ $t('model.info.export') }}\n      </el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { downloadShoeInfoExcel, updateModelInfo } from '@/api/shoe';\n\nimport exec from '@/utils/exec';\nimport formRules from '../rules';\n\nexport default {\n  props: {\n    model: {\n      type: Object,\n      required: true,\n    },\n    vm: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      form: {\n        id: this.model.id,\n        purpose: this.model.purpose,\n        dueDate: this.model.dueTime ? new Date(this.model.dueTime) : '',\n        size: this.model.size,\n        factory: this.model.factory,\n        notes: this.model.notes,\n      },\n      rules: formRules,\n    };\n  },\n  methods: {\n    // 修改鞋模型信息\n    changeModelInfo(prop, value) {\n      // 先校验填写内容是否通过表单校验\n      this.$refs.form.validate((valid, invalidFields) => {\n        // 不通过表单校验，且当前更新的内容又在表单校验不通过的内容中；\n        // 发出更新失败的提示\n        if (!valid && Object.keys(invalidFields).includes(prop)) {\n          this.$errHandler({ message: 'Update failed' }, -1);\n          return;\n        }\n\n        // 发出更新数据请求\n        try {\n          updateModelInfo({ relateId: this.form.id, [prop]: value });\n        } catch (err) {\n          this.$errHandler(err);\n        }\n      });\n    },\n    // 下载Excel\n    async downloadExcel() {\n      // 跳到下一步\n      this.$emit('foreward');\n\n      const { data: url } = await downloadShoeInfoExcel(this.model.id);\n\n      if (/^\\/qt\\//.test(this.$route.path)) {\n        return exec('downloadStaticFile', url);\n      }\n\n      // 创建a标签\n      this._createDownloadTag(url);\n      return undefined;\n    },\n    // 创建一个 a 标签，将下载地址赋值给 src； 触发点击事件，删除改标签\n    _createDownloadTag(url) {\n      let domA = document.createElement('a');\n      domA.href = url;\n      domA.download = 'file';\n      domA.target = '__blank';\n      domA.click();\n      domA = null;\n      this.vm.$emit('downloaded');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dialog-subtitle {\n  margin-bottom: 20px;\n  font-size: 15px;\n  color: $color-font-dark;\n}\n\n.el-form-item {\n  float: left;\n  width: 50%;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentAdditionalInfo.vue?vue&type=template&id=e4bcd11a&scoped=true&\"\nimport script from \"./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentAdditionalInfo.vue?vue&type=style&index=0&id=e4bcd11a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4bcd11a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-container flex-center\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.download_excel'))+\" \")]),_c('el-progress',{attrs:{\"type\":\"circle\",\"stroke-width\":10,\"width\":240,\"color\":_vm.colors,\"percentage\":_vm.percentage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"progress-container flex-center\">\n    <h4 class=\"title\">\n      {{ $t('model.info.download_excel') }}\n    </h4>\n    <el-progress\n      type=\"circle\"\n      :stroke-width=\"10\"\n      :width=\"240\"\n      :color=\"colors\"\n      :percentage=\"percentage\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    vm: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      percentage: 0,\n      radio: 0.025,\n      timer: null,\n      colors: [\n        { color: '#f56c6c', percentage: 20 },\n        { color: '#e6a23c', percentage: 40 },\n        { color: '#5cb87a', percentage: 60 },\n        { color: '#1989fa', percentage: 80 },\n        { color: '#6f7ad3', percentage: 100 },\n      ],\n    };\n  },\n  mounted() {\n    // 开始读取下载速度条\n    this.startProgress();\n\n    // 监听下载完成事件\n    this.vm.$on('downloaded', this.completeProcess);\n  },\n  methods: {\n    // 模拟下载速度\n    startProgress() {\n      let total = 1;\n      let speed = 0;\n\n      this.timer = setInterval(() => {\n        speed = (100 - total) * this.radio;\n        total += speed;\n        this.percentage = Math.round(total);\n        if (this.percentage >= 100) {\n          this.percentage = 100;\n          clearInterval(this.timer);\n          this.$emit('close');\n        }\n      }, 250);\n    },\n    // 加快进度条读取速度\n    completeProcess() {\n      if (this.percentage <= 30) {\n        this.radio = 0.8;\n      } else if (this.percentage <= 60) {\n        this.radio = 0.9;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.progress-container {\n  flex-direction: column;\n  min-height: 350px;\n}\n.title {\n  font-size: 20px;\n  position: absolute;\n  top: 25px;\n  left: 40px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentDownloadProcess.vue?vue&type=template&id=4ae34706&scoped=true&\"\nimport script from \"./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentDownloadProcess.vue?vue&type=style&index=0&id=4ae34706&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ae34706\",\n  null\n  \n)\n\nexport default component.exports","export default {\n  // 上传后才有的字段\n  id: '',\n  materials: [],\n\n  // 基本信息\n  creatorName: '',\n  type: '',\n  modelNumber: '',\n  tags: [],\n  notes: '',\n  curtailImg: '',\n  // 详细信息\n  season: '',\n  series: '',\n  // lastNumber: '',\n  customer: '',\n  // soleNumber: '',\n  designerName: '',\n  // heelNumber: '',\n  factory: '',\n  size: '',\n  price: '',\n  purpose: '',\n  monetaryUnit: 'USD',\n  dueDate: '',\n};\n","<template>\n  <component\n    v-loading=\"model === loading\"\n    :is=\"currentComponent\"\n    :model=\"model\"\n    :vm=\"vm\"\n    @backward=\"switchPreviousComponent\"\n    @foreward=\"switchNextComponent\"\n    @close=\"$emit('cancel')\"\n    :editable=\"editable\"\n    @refresh=\"getHandbagInfo(modelId)\"\n  />\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { i18n } from '@/i18n';\nimport { defineComponent } from '@vue/composition-api';\n\n// import { getResourceInfo } from '@/api/shoe';\nimport { getUsersInfoByIds } from '@/api/account';\nimport axios from '../../../api/axios';\nimport ComponentModelInfo from './components/ComponentModelInfo';\nimport ComponentAdditionalInfo from './components/ComponentAdditionalInfo';\nimport ComponentDownloadProcess from './components/ComponentDownloadProcess';\n\nimport modelForm from './form';\n\nconst getHandbagInfo = (handbagId) => {\n  return axios.get('/bff-center/showCommon/handbagInfoSearch/getHandbagInfoAndTags', {\n    params: {\n      handbagId,\n    },\n    headers: {\n      language: i18n.language,\n    },\n  });\n};\n\nexport default defineComponent({\n  name: 'HandbagInfo',\n  dialogify: {\n    props: {\n      width: '692px',\n      closeOnClickModal: false,\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n      compact: true,\n      maxHeight: '80vh',\n      // height: '90vh',\n    },\n    closeWith: 'model',\n  },\n  components: {\n    ComponentModelInfo,\n    ComponentAdditionalInfo,\n    ComponentDownloadProcess,\n  },\n  props: {\n    modelId: {\n      types: String,\n      required: true,\n    },\n    groupAppId: {\n      types: String,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      // 组件数组\n      components: ['ComponentModelInfo', 'ComponentAdditionalInfo', 'ComponentDownloadProcess'],\n      index: 0, // 当前组件的下标\n      model: modelForm, // 获取公共的鞋模型属性对象\n      loading: true,\n      vm: new Vue(),\n    };\n  },\n  computed: {\n    currentComponent() {\n      return this.components[this.index];\n    },\n  },\n  watch: {\n    modelId: {\n      handler: 'getHandbagInfo',\n      immediate: true,\n    },\n  },\n  destroyed() {\n    this.vm = null;\n  },\n  methods: {\n    // 跳转到上一步\n    switchPreviousComponent() {\n      if (this.index > 0) this.index--;\n    },\n    // 跳转到下一步\n    switchNextComponent() {\n      if (this.index < 2) this.index++;\n    },\n    // 获取包包模型信息\n    async getHandbagInfo(modelId) {\n      try {\n        this.loading = true;\n        // const res = await getHandbagInfo(modelId);\n        // console.info(res);\n        this.model = (await getHandbagInfo(modelId)).data;\n        console.info(this.model);\n        // debugger;\n        this.usersInfo = (await getUsersInfoByIds([this.model.creator])).data;\n        this.$set(this.model, 'creatorName', this.usersInfo[0].name);\n      } catch (err) {\n        this.$errHandler(err);\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n});\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7a14faca&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/placeholder-empty-notification.708d93fa.png\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentAdditionalInfo.vue?vue&type=style&index=0&id=2b51c364&lang=scss&scoped=true&\"","/* 用于加载D4.js */\nexport const loadD4 = async () => (await import('@4dst-render/d4.js/dist/D4')).default;\nexport const loadD2 = async () => (await import('@4dst-render/d4.js/dist/D2')).default;\nexport default loadD4;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('div',{staticClass:\"renderer-wrapper no-collapse\"},[_c('div',{staticClass:\"icons-menu\"},[_c('el-tooltip',{attrs:{\"content\":_vm.$t('model.preview.model_detail')}},[_c('i',{staticClass:\"iconfont icon-help\",on:{\"click\":_vm.openShoeInfo}})]),(_vm.workspaceId)?_c('el-tooltip',{attrs:{\"content\":_vm.$t('model.preview.3d_tag')}},[_c('i',{staticClass:\"iconfont iconpizhu\",on:{\"click\":function($event){_vm.annotationsSidebarVisible = !_vm.annotationsSidebarVisible}}})]):_vm._e()],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"rendererWrapper\",staticClass:\"flex-1\",style:({\n        position: 'relative',\n        marginRight: _vm.annotationsSidebarVisible ? '460px' : '0'\n      })},[_c('el-popover',{attrs:{\"popper-class\":\"standard-view-popper\",\"placement\":\"bottom-end\",\"width\":\"170\",\"visible-arrow\":false,\"trigger\":\"click\"},model:{value:(_vm.showStandardView),callback:function ($$v) {_vm.showStandardView=$$v},expression:\"showStandardView\"}},[_c('el-button',{staticClass:\"standard-view-switch\",attrs:{\"slot\":\"reference\",\"circle\":\"\"},slot:\"reference\"},[_c('i',{staticClass:\"iconfont  iconliushitu\"})]),_c('div',{staticClass:\"standard-view-btn-wrap\"},[_c('span',{staticClass:\"standard-view-btn\"}),_c('span',{staticClass:\"standard-view-btn\"}),_c('el-button',{staticClass:\"standard-view-btn\",class:_vm.standardView === 'top' ? 'is-selected' : '',attrs:{\"plain\":\"\"},on:{\"click\":function($event){return _vm.setStandardView('top')}}},[_vm._v(_vm._s(_vm.$t(\"model.detail.standard_view.top\")))]),_c('span',{staticClass:\"standard-view-btn\"}),_c('el-button',{staticClass:\"standard-view-btn\",class:_vm.standardView === 'back' ? 'is-selected' : '',attrs:{\"plain\":\"\"},on:{\"click\":function($event){return _vm.setStandardView('back')}}},[_vm._v(_vm._s(_vm.$t(\"model.detail.standard_view.back\")))]),_c('el-button',{staticClass:\"standard-view-btn\",class:_vm.standardView === 'left' ? 'is-selected' : '',attrs:{\"plain\":\"\"},on:{\"click\":function($event){return _vm.setStandardView('left')}}},[_vm._v(_vm._s(_vm.$t(\"model.detail.standard_view.left\")))]),_c('el-button',{staticClass:\"standard-view-btn\",class:_vm.standardView === 'front' ? 'is-selected' : '',attrs:{\"plain\":\"\"},on:{\"click\":function($event){return _vm.setStandardView('front')}}},[_vm._v(_vm._s(_vm.$t(\"model.detail.standard_view.front\")))]),_c('el-button',{staticClass:\"standard-view-btn\",class:_vm.standardView === 'right' ? 'is-selected' : '',attrs:{\"plain\":\"\"},on:{\"click\":function($event){return _vm.setStandardView('right')}}},[_vm._v(_vm._s(_vm.$t(\"model.detail.standard_view.right\")))]),_c('span',{staticClass:\"standard-view-btn\"}),_c('span',{staticClass:\"standard-view-btn\"}),_c('el-button',{staticClass:\"standard-view-btn\",class:_vm.standardView === 'bottom' ? 'is-selected' : '',attrs:{\"plain\":\"\"},on:{\"click\":function($event){return _vm.setStandardView('bottom')}}},[_vm._v(_vm._s(_vm.$t(\"model.detail.standard_view.bottom\")))]),_c('span',{staticClass:\"standard-view-btn\"})],1)],1),_c('el-dropdown',{staticClass:\"camera-type-dropdown\",attrs:{\"placement\":\"bottom\",\"trigger\":\"click\"},on:{\"command\":_vm.changeCameraType}},[_c('div',{staticClass:\"camera-type-switch\"},[_c('i',{staticClass:\"iconfont\",class:_vm.currentCamera && _vm.currentCamera.icon}),_c('font',[_vm._v(_vm._s(_vm.currentCamera && _vm.currentCamera.name))]),_c('i',{staticClass:\"el-icon-arrow-down\"})],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.cameraList),function(camera){return _c('el-dropdown-item',{key:camera.val,staticClass:\"camera-type-item\",attrs:{\"command\":camera.val}},[_c('i',{staticClass:\"iconfont\",class:camera.icon}),_c('font',[_vm._v(_vm._s(camera.name))]),(_vm.currentCamera && camera.val === _vm.currentCamera.val)?_c('i',{staticClass:\"iconfont icon-tick\"}):_c('i')],1)}),1)],1),_c('canvas',_vm._g({ref:\"renderer\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"absolute\"},on:{\"mousedown\":function($event){_vm.standardView = ''}}},_vm.canvasEvent)),(_vm.signCurrent)?_c('AnnotationCreation',{key:_vm.signCurrent.id,ref:\"annotationCreation\",staticClass:\"annotation-creation-box\",staticStyle:{\"left\":\"0\",\"height\":\"100%\",\"position\":\"absolute\",\"right\":\"0\"},attrs:{\"readonly\":true,\"sign\":_vm.signCurrent},on:{\"viewImages\":_vm.viewImages}}):_vm._e()],1),(_vm.annotationsSidebarVisible && _vm.workspaceId)?_c('AnnotationSidebar',{staticClass:\"annotation-layout\",attrs:{\"catalogId\":_vm.catalogId,\"modelId\":_vm.modelId,\"workspaceId\":_vm.workspaceId,\"modelName\":\"\",\"sign\":_vm.signCurrent,\"activeId\":_vm.signCurrent ? _vm.signCurrent.id : null,\"readonly\":true,\"currentVersionOnly\":true},on:{\"annotation-display\":function (ref) {\n            var annotation = ref.annotation;\n\n            return _vm.showAnnotation(annotation);\n},\"close\":function($event){_vm.annotationsSidebarVisible = false}}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"width: 100%;\">\n    <div class=\"renderer-wrapper no-collapse\">\n      <div class=\"icons-menu\">\n        <el-tooltip :content=\"$t('model.preview.model_detail')\">\n          <i class=\"iconfont icon-help\" @click=\"openShoeInfo\" />\n        </el-tooltip>\n        <el-tooltip :content=\"$t('model.preview.3d_tag')\" v-if=\"workspaceId\">\n          <i class=\"iconfont iconpizhu\" @click=\"annotationsSidebarVisible = !annotationsSidebarVisible\" />\n        </el-tooltip>\n      </div>\n\n      <div\n        class=\"flex-1\"\n        ref=\"rendererWrapper\"\n        :style=\"{\n          position: 'relative',\n          marginRight: annotationsSidebarVisible ? '460px' : '0'\n        }\"\n        v-loading=\"loading\"\n      >\n        <el-popover\n          v-model=\"showStandardView\"\n          popper-class=\"standard-view-popper\"\n          placement=\"bottom-end\"\n          width=\"170\"\n          :visible-arrow=\"false\"\n          trigger=\"click\"\n        >\n          <el-button slot=\"reference\" circle class=\"standard-view-switch\">\n            <i class=\"iconfont  iconliushitu\" />\n          </el-button>\n          <div class=\"standard-view-btn-wrap\">\n            <span class=\"standard-view-btn\"></span>\n            <span class=\"standard-view-btn\"></span>\n            <el-button\n              plain\n              class=\"standard-view-btn\"\n              :class=\"standardView === 'top' ? 'is-selected' : ''\"\n              @click=\"setStandardView('top')\"\n              >{{ $t(\"model.detail.standard_view.top\") }}</el-button\n            >\n            <span class=\"standard-view-btn\"></span>\n            <el-button\n              plain\n              class=\"standard-view-btn\"\n              :class=\"standardView === 'back' ? 'is-selected' : ''\"\n              @click=\"setStandardView('back')\"\n              >{{ $t(\"model.detail.standard_view.back\") }}</el-button\n            >\n            <el-button\n              plain\n              class=\"standard-view-btn\"\n              :class=\"standardView === 'left' ? 'is-selected' : ''\"\n              @click=\"setStandardView('left')\"\n              >{{ $t(\"model.detail.standard_view.left\") }}</el-button\n            >\n            <el-button\n              plain\n              class=\"standard-view-btn\"\n              :class=\"standardView === 'front' ? 'is-selected' : ''\"\n              @click=\"setStandardView('front')\"\n              >{{ $t(\"model.detail.standard_view.front\") }}</el-button\n            >\n            <el-button\n              plain\n              class=\"standard-view-btn\"\n              :class=\"standardView === 'right' ? 'is-selected' : ''\"\n              @click=\"setStandardView('right')\"\n              >{{ $t(\"model.detail.standard_view.right\") }}</el-button\n            >\n            <span class=\"standard-view-btn\"></span>\n            <span class=\"standard-view-btn\"></span>\n            <el-button\n              plain\n              class=\"standard-view-btn\"\n              :class=\"standardView === 'bottom' ? 'is-selected' : ''\"\n              @click=\"setStandardView('bottom')\"\n              >{{ $t(\"model.detail.standard_view.bottom\") }}</el-button\n            >\n            <span class=\"standard-view-btn\"></span>\n          </div>\n        </el-popover>\n        <!-- 相机透视/正交切换 -->\n        <el-dropdown class=\"camera-type-dropdown\" @command=\"changeCameraType\" placement=\"bottom\" trigger=\"click\">\n          <div class=\"camera-type-switch\">\n            <i class=\"iconfont\" :class=\"currentCamera && currentCamera.icon\"></i>\n            <font>{{ currentCamera && currentCamera.name }}</font>\n            <i class=\"el-icon-arrow-down\"></i>\n          </div>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item\n              v-for=\"camera in cameraList\"\n              :key=\"camera.val\"\n              class=\"camera-type-item\"\n              :command=\"camera.val\"\n            >\n              <i class=\"iconfont\" :class=\"camera.icon\"></i>\n              <font>{{ camera.name }}</font>\n              <i class=\"iconfont icon-tick\" v-if=\"currentCamera && camera.val === currentCamera.val\"></i>\n              <i v-else></i>\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n        <canvas\n          ref=\"renderer\"\n          style=\"width: 100%; height: 100%; position: absolute\"\n          @mousedown=\"standardView = ''\"\n          v-on=\"canvasEvent\"\n        />\n        <!-- eslint：disable-next-line -->\n        <!-- @ts-ignore -->\n        <AnnotationCreation\n          :key=\"signCurrent.id\"\n          style=\"left: 0; height: 100%; position: absolute; right: 0\"\n          v-if=\"signCurrent\"\n          class=\"annotation-creation-box\"\n          ref=\"annotationCreation\"\n          :readonly=\"true\"\n          @viewImages=\"viewImages\"\n          :sign=\"signCurrent\"\n        />\n      </div>\n\n      <AnnotationSidebar\n        v-if=\"annotationsSidebarVisible && workspaceId\"\n        :catalogId=\"catalogId\"\n        :modelId=\"modelId\"\n        :workspaceId=\"workspaceId\"\n        modelName=\"\"\n        :sign=\"signCurrent\"\n        :activeId=\"signCurrent ? signCurrent.id : null\"\n        :readonly=\"true\"\n        :currentVersionOnly=\"true\"\n        class=\"annotation-layout\"\n        @annotation-display=\"({ annotation }) => showAnnotation(annotation)\"\n        @close=\"annotationsSidebarVisible = false\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from '@vue/composition-api';\nimport axios from '@/api/axios';\nimport i18n from '@/i18n';\nimport handBagInfo from '@/views/model/bag-info/index.vue';\nimport ModelInfo from '@/views/model/info';\n\nimport mixinRenderer from '@/views/model/mixin-renderer';\n\nimport { getWorkspaceConfigSelf } from '@/api/permission';\nimport { getModelCTMList, getAnnotationList } from '@/api/shoe';\nimport { getContextUser } from '@/loaders/context';\n\nimport { normalizeComponent } from '@/utils/normalize-component';\nimport { loadD4, loadD2 } from '@/utils/load-d4';\nimport AnnotationCreation from '../detail/annotation/AnnotationCreation';\nimport AnnotationSidebar from '../detail/annotation/index.vue';\n\nasync function getEnvSetting(shoeId, relateType) {\n  return (\n    await axios.get('/show/renderTask/envsetting/v2', {\n      params: {\n        shoeId,\n        relateType,\n      },\n    })\n  ).data;\n}\n\nexport default defineComponent({\n  name: 'model-preview',\n  components: {\n    AnnotationCreation,\n    AnnotationSidebar,\n  },\n  props: {\n    workspaceId: {\n      default() {\n        return this.$route.query.workspaceId;\n      },\n    },\n    modelId: {\n      default() {\n        return this.$route.params.modelId;\n      },\n    },\n    catalogId: {\n      default() {\n        return this.$route.query.catalogId;\n      },\n    },\n    relateType: {\n      default() {\n        return this.$route.query.relateType || 0;\n      },\n    },\n  },\n  data() {\n    return {\n      loading: true,\n      signCurrent: null,\n      annotations: [],\n      canvasEvent: null,\n      annotation: null,\n      annotationsSidebarVisible: this.$route.query.showAnnotation === 'true',\n      showStandardView: false, // 显示六视图弹窗\n      standardView: '', // top back left front right bottom\n      cameraList: [\n        { name: i18n.t('model.detail.camera_mode_transparency'), val: 0, icon: 'icontoushimoshi-nor' },\n        { name: i18n.t('model.detail.camera_mode_orthographic'), val: 1, icon: 'iconzhengjiaomoshi-nor' },\n      ],\n      currentCamera: null,\n      envSetting: {}, // 渲染环境设置数据，包括灯光、背景、相机等...\n    };\n  },\n  mixins: [mixinRenderer],\n  watch: {\n    async annotationsSidebarVisible(val, oldVal) {\n      if (this.d4) this.renderAnnotationsInModel();\n      if (this.d4) {\n        if (val) {\n          this.stashCameraType();\n        } else {\n          this.recoverCameraType();\n        }\n      }\n    },\n    signCurrent(val, oldVal) {\n      if (val) {\n        this.showStandardView = false;\n      }\n      this.standardView = '';\n    },\n  },\n  methods: {\n    viewImages(...args) {\n      this.$ImageViewer.show(...args);\n    },\n    async openShoeInfo() {\n      if (this.relateType === '3') {\n        await this.$Dialog.dialogify({\n          is: handBagInfo,\n          props: {\n            modelId: this.modelId,\n            groupAppId: this.workspaceId,\n            editable: false,\n          },\n        });\n      } else {\n        await this.$Dialog.dialogify({\n          is: ModelInfo,\n          props: {\n            modelId: this.modelId,\n            editable: false,\n          },\n        });\n      }\n    },\n    async initD4() {\n      const getModelData = async () => {\n        const { data } = await getModelCTMList(this.modelId, this.workspaceId);\n        // const { data } = await getModelCTMList(this.modelId);\n        return Promise.all(data.map((item) => normalizeComponent(item)));\n      };\n\n      const [data, D4, D2, envSettingData] = await Promise.all([\n        getModelData(),\n        loadD4(),\n        loadD2(),\n        getEnvSetting(this.modelId, this.relateType),\n      ]);\n\n      // this.d4 = this.instanceD4(this.$refs.renderer);\n      const { rendererWrapper } = this.$refs;\n      const canvasDom = rendererWrapper.querySelector('canvas');\n      const params = {\n        canvas: canvasDom,\n        width: rendererWrapper.clientWidth,\n        height: rendererWrapper.clientHeight,\n        resolution: window.devicePixelRatio,\n        envSetting: envSettingData,\n      };\n\n      this.envSetting = envSettingData;\n      this.d4 = new D4(params);\n      const d2 = new D2();\n      this.d2 = d2;\n      this.canvasEvent = this._initCanvasEvent();\n      this.envSetting.cameraJson = this.d4.outputCameraJson();\n      const cameraJson = JSON.parse(this.envSetting.cameraJson);\n      this.cameraTypeStashed = cameraJson.projection;\n      this.changeCameraType(cameraJson.projection);\n\n      const loadModel = async () => {\n        await this.d4.loadModel(data);\n      };\n\n      const makeWaterMask = async () => {\n        // 水印功能（workspace权限相关）\n        const openWatermark = this.workspaceId ? !!(await getWorkspaceConfigSelf(this.workspaceId)).data.openWatermark : false;\n\n        if (this.workspaceId\n          && (this.$can(this.workspaceId, 47) || openWatermark)) {\n          // const res = await getWorkpaceCompnayInfo(this.workspaceId);\n          const { mail, account } = getContextUser();\n          await this.d4.updateWatermask(d2.getWatermask(mail || account));\n        }\n      };\n      try {\n        // eslint-disable-next-line\n        await Promise.all([loadModel(), makeWaterMask()]);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        this.loading = false;\n      }\n    },\n    // 获取当前鞋款的批注列表\n    async fetchAnnotationList() {\n      const versions = (await getAnnotationList(\n        this.catalogId, this.modelId, this.workspaceId,\n      )).data;\n      this.annotations = versions\n        .find(version => version.relateId === this.modelId)?.tdAnnotationResponseList ?? [];\n    },\n    // 渲染批注列表到鞋模型\n    async renderAnnotationsInModel() {\n      if (this.annotationsSidebarVisible) {\n        this.annotations.forEach(({ id }) => {\n          try {\n            this.d4.deleteSign(id);\n          } catch (e) { }\n        });\n        await this.fetchAnnotationList();\n        for (let idx = 0; idx < this.annotations.length; idx++) {\n          const ann = this.annotations[idx];\n          await this.d4.addSign(\n            { ...ann.threeDimensionalInfo, id: ann.id },\n            this.d2.getSignTexture(this.annotations.length - idx),\n          );\n        }\n        this.d4.renderSigns();\n      } else {\n        this.signCurrent = null;\n        this.d4.hideSigns();\n      }\n      await this.$nextTick();\n      this.d4.resizeRenderer(\n        this.$refs.rendererWrapper.clientWidth,\n        this.$refs.rendererWrapper.clientHeight,\n        window.devicePixelRatio,\n      );\n    },\n    // 显示批注框\n    async showAnnotation(ann) {\n      console.log('showAnnotation=============', ann);\n      console.log(ann.id);\n      ann.position = this.d4.getSignScreenPos(ann.id);\n      if (!ann.position) {\n        return;\n      }\n      console.log(ann.position);\n      this.signCurrent = ann;\n      // D4 1.8.109版本增加了getSignScreenPos方法中的cameraType返回，即该标注对应的相机模式\n      this.changeCameraType(ann.position.cameraType);\n    },\n    setStandardView(view) {\n      this.standardView = view;\n      this.signCurrent = null;\n      // 需要放到nextTick里，否则首次点击切换视角不能正确改变按钮选中状态\n      this.$nextTick(() => {\n        this.standardView = view;\n      });\n      this.d4 && this.d4.setCameraViewAngle(view);\n    },\n    stashCameraType() {\n      this.cameraTypeStashed = this.currentCamera.val;\n    },\n    recoverCameraType() {\n      this.changeCameraType(this.cameraTypeStashed);\n    },\n    changeCameraType(type) {\n      this.d4?.changeCameraType(type);\n      this.currentCamera = this.cameraList.find(cam => cam.val === type);\n    },\n  },\n  async mounted() {\n    await this.initD4();\n    this.renderAnnotationsInModel();\n  },\n});\n</script>\n\n<style lang=\"scss\">\n.standard-view-popper {\n  // position: absolute;\n  // z-index: 1;\n  // right: 44px;\n  // top: 18px;\n  padding: 0;\n  background: rgba(0, 0, 0, 0.05);\n  box-shadow: none;\n  border: none;\n  border-radius: 4px;\n}\n</style>\n<style lang=\"scss\" scoped>\n.renderer-wrapper {\n  height: calc(100vh - 64px - 30px);\n  min-height: 600px;\n  margin: 15px;\n  background-color: #fff;\n  display: flex;\n\n  .annotation-layout {\n    position: absolute;\n    right: 0;\n    width: 460px;\n    height: calc(100% - 87px);\n    background: #fff;\n    z-index: 2;\n    border-left: 1px solid #b9bdc2;\n  }\n\n  .icons-menu {\n    position: absolute;\n    z-index: 1;\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    padding: 10px 40px;\n\n    > .iconfont {\n      padding: 10px 5px;\n      margin: 0 10px;\n      font-size: 30px;\n      color: #c5c5c5;\n      cursor: pointer;\n      transition: color linear 150ms;\n\n      &:hover {\n        color: #2878ff;\n      }\n    }\n  }\n}\n.standard-view-switch {\n  position: absolute;\n  z-index: 1;\n  right: 60px;\n  top: 16px;\n  width: 36px;\n  height: 36px;\n  padding: 8px 7px;\n  border: none;\n  font-size: 20px;\n  background: #f6f6f8;\n  opacity: 0.8;\n}\n.standard-view-btn-wrap {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  padding: 12px;\n  width: 170px;\n  .standard-view-btn {\n    width: 30px;\n    height: 30px;\n    padding: 0;\n    margin: 3px 0;\n    font-size: 16px;\n    border-color: #fff;\n    &:hover {\n      border-color: $color-primary;\n    }\n\n    &.is-selected {\n      color: #fff;\n      background: $color-primary;\n      border-color: $color-primary;\n    }\n  }\n}\n.camera-type-dropdown {\n  position: absolute;\n  z-index: 1;\n  right: 105px;\n  top: 20px;\n  width: 116px;\n  height: 24px;\n  line-height: 24px;\n  padding: 0 4px;\n  border-radius: 12px;\n  background: #f6f6f8;\n  opacity: 0.8;\n  font-size: 12px;\n  .camera-type-switch {\n    cursor: pointer;\n    &:hover {\n      color: $color-primary;\n    }\n\n    .iconfont,\n    .el-icon-arrow-down {\n      margin: 0 3px;\n    }\n  }\n}\n.camera-type-item {\n  padding: 0 8px 0 5px;\n  line-height: 28px;\n  font-size: 12px;\n  display: grid;\n  grid-template-columns: 25px auto 25px;\n  align-items: center;\n  justify-items: center;\n\n  font {\n    justify-self: start;\n  }\n\n  .iconfont {\n    margin: 0;\n    &.icon-tick {\n      font-size: 12px;\n      justify-self: end;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=21e698c0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=21e698c0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21e698c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-unit\"},[_c('el-input',{staticClass:\"input-unit-number\",attrs:{\"placeholder\":_vm.inputPlaceholder,\"disabled\":_vm.disabled},nativeOn:{\"keyup\":function($event){return _vm.handleChangeUnitNumber($event)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),(!_vm.withoutSelect)?_c('el-select',{staticClass:\"input-unit-unit\",attrs:{\"disabled\":_vm.disabled},on:{\"change\":function($event){return _vm.$emit('on-select-change', _vm.selectedUnit)}},model:{value:(_vm.selectedUnit),callback:function ($$v) {_vm.selectedUnit=$$v},expression:\"selectedUnit\"}},_vm._l((_vm.unitOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-unit\">\n    <el-input\n      v-model=\"text\"\n      :placeholder=\"inputPlaceholder\"\n      :disabled=\"disabled\"\n      class=\"input-unit-number\"\n      @keyup.native=\"handleChangeUnitNumber\" />\n    <el-select\n      v-if=\"!withoutSelect\"\n      v-model=\"selectedUnit\"\n      :disabled=\"disabled\"\n      class=\"input-unit-unit\"\n      @change=\"$emit('on-select-change', selectedUnit)\">\n      <el-option\n        v-for=\"item in unitOptions\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        :value=\"item.value\" />\n    </el-select>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\nimport { debounce } from 'throttle-debounce';\n\nexport default {\n  props: {\n    // 不要select\n    withoutSelect: {\n      type: Boolean,\n      default: false,\n    },\n    // 输入框值\n    value: {\n      type: [String, Number],\n      default: '',\n    },\n    // 输入框 placeholder\n    inputPlaceholder: {\n      type: String,\n      default: '',\n    },\n    // 单位选择 默认选择的单位\n    defaultUnit: {\n      type: [String, Number],\n      default: '',\n    },\n    // 单位选择数组\n    unitOptions: {\n      type: Array,\n      required: true,\n    },\n    // 小数点后保留位数(最大不能超过8位)\n    decimalPlaces: {\n      type: Number,\n      default: 2,\n    },\n    // 整数位数(最大不能超过7位)\n    integerPlaces: {\n      type: Number,\n      default: 8,\n    },\n    // 间隔阈值\n    threshold: {\n      type: Number,\n      default: 500,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      text: '',\n      selectedUnit: '',\n    };\n  },\n  mounted() {\n    this.text = this.value;\n    this.selectedUnit = this.defaultUnit;\n    // eslint-disable-next-line func-names\n    this.handleChangeUnitNumber = debounce(this.threshold, function () {\n      this.changeUnitNumber();\n    });\n  },\n  watch: {\n    value(value) {\n      this.text = value;\n    },\n    defaultUnit(value) {\n      this.selectedUnit = value;\n    },\n  },\n  methods: {\n    // debouce 延迟处理键盘输入校验\n    // eslint-disable-next-line\n    // handleChangeUnitNumber: debounce(function () {\n    //   this.changeUnitNumber();\n    // }, this.threshold),\n    changeUnitNumber() {\n      if (this.text === '') {\n        this.$emit('on-input-blur', this.text);\n        return;\n      }\n\n      // 暂时保存原始的输入的文本\n      const temp = this.text;\n      const limitInt = this._addNumberSeparator();\n\n      this.text = parseFloat(this.text, 10);\n      // 处理非数字类型\n      if (Number.isNaN(this.text)) this.text = '';\n      // 处理负数情况\n      if (this.text < 0) this.text = -this.text;\n\n      // 处理科学法情况\n      if (String(this.text).includes('e')) {\n        this.$message.warning(i18n.t('public.form.max_num_exceed', { limit: limitInt }));\n        this.text = String(temp).slice(0, this.integerPlaces);\n        return;\n      }\n\n      // 最大值处理\n      if (this.text >= `1${'0'.repeat(this.integerPlaces)}`) {\n        this.$message.warning(i18n.t('public.form.max_num_exceed', { limit: limitInt }));\n        this.text = String(this.text).slice(0, this.integerPlaces);\n        return;\n      }\n      // 小数点处理\n      const isDecimal = String(this.text).includes('.');\n      if (isDecimal) this._handleDecimalNumber();\n\n      this.$emit('on-input-blur', this.text);\n    },\n    // 处理小数点情况\n    _handleDecimalNumber() {\n      const number = Math.round(this.decimalPlaces);\n      const [int, dec] = String(this.text).split('.');\n      if (number <= 0) {\n        this.text = int;\n      } else if (number >= 8) {\n        this.text = `${int}.${dec.slice(0, 8)}`;\n        this.$message.warning(i18n.t('public.form.keep_decimal_places', { num: 8 }));\n      } else if (dec.length > number) {\n        this.text = `${int}.${dec.slice(0, number)}`;\n        this.$message.warning(i18n.t('public.form.keep_decimal_places', { num: number }));\n      }\n    },\n    // 处理数字分隔符问题\n    _addNumberSeparator() {\n      const number = Number(`1${'0'.repeat(this.integerPlaces)}`);\n      return number.toLocaleString('en-US');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.input-unit {\n  display: flex;\n  height: 33px;\n}\n.input-unit-number {\n  margin-right: 10px;\n}\n.input-unit-unit {\n  width: 140px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputWithUnit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputWithUnit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputWithUnit.vue?vue&type=template&id=6e6c8f9d&scoped=true&\"\nimport script from \"./InputWithUnit.vue?vue&type=script&lang=js&\"\nexport * from \"./InputWithUnit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputWithUnit.vue?vue&type=style&index=0&id=6e6c8f9d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e6c8f9d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDownloadProcess.vue?vue&type=style&index=0&id=2d5eb102&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTable.vue?vue&type=style&index=0&id=1404d1b9&lang=scss&scoped=true&\"","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useEl = useEl;\nexports.default = void 0;\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction useEl() {\n  var el = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  (0, _compositionApi.onMounted)(function () {\n    // el.value = new HTMLElement();\n    el.value = that === null || that === void 0 ? void 0 : that.$el;\n  });\n  return el;\n}\n\nvar _default = useEl;\nexports.default = _default;","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputWithUnit.vue?vue&type=style&index=0&id=3794c56e&scoped=true&lang=css&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailText.vue?vue&type=style&index=0&id=27f2a2ee&lang=scss&scoped=true&\"","var render, staticRenderFns\nimport script from \"./AnnotationCreation.vue?vue&type=script&lang=tsx&\"\nexport * from \"./AnnotationCreation.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./AnnotationCreation.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./AnnotationCreation.vue?vue&type=style&index=1&id=6e9f4e43&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e9f4e43\",\n  null\n  \n)\n\nexport default component.exports","\n\nimport {\n  defineComponent, ref, onMounted, watch,\n} from '@vue/composition-api';\nimport {\n  PaperScope,\n  Color,\n  Path,\n} from 'paper';\nimport { i18n } from '@/i18n';\nimport { O } from 'ts-toolbelt';\nimport { ElInput } from 'element-ui/types/input';\nimport Vue from 'vue';\nimport useClosest from '_/composables/use-closest';\nimport Bezier from '@/utils/paper-tools/Bezier';\nimport BaseTool from '@/utils/paper-tools/BaseTool';\nimport { Size } from 'paper/dist/paper-core';\nimport AnnotationDetail from './AnnotationDetail.vue';\nimport { Sign } from './type.d';\n\ntype SignWithPosition = Sign & {\n  position: {\n    x: number,\n    y: number,\n  }\n};\n\ntype PathType = InstanceType<typeof Path>;\ntype PaperScopeType = InstanceType<typeof PaperScope>;\ntype BaseToolWithParams =\n  InstanceType<typeof BaseTool> & { params: O.Record<string, any>, path?: PathType | null; };\n\nclass Comment extends BaseTool {\n  params: Object;\n  constructor(scope: PaperScopeType) {\n    super(scope);\n    this.params = {};\n  }\n}\n\nconst AnnotationCreation = defineComponent({\n  props: {\n    sign: {\n      required: true,\n      type: Object as () => SignWithPosition,\n    },\n    readonly: {\n      default: false,\n      type: Boolean,\n    },\n  },\n\n  setup(props, { emit }) {\n    const paper = new PaperScope();\n    const {\n      Layer,\n    } = paper;\n\n    const renderer = useClosest<any>('Renderer');\n    const canvas = ref<HTMLCanvasElement>();\n    const contentShown = ref(!!props.readonly);\n    const textarea = ref<ElInput>();\n    paper.install({});\n\n    const tools = ref<{ [k: string]: BaseToolWithParams }>();\n    const tool = ref<BaseToolWithParams>();\n\n\n    const switchTool = async (_tool: BaseToolWithParams) => {\n      const isCommand = _tool instanceof Comment;\n      if (tool.value !== _tool) {\n        contentShown.value = isCommand;\n        tool.value = _tool;\n        const d4 = renderer.value?.d4;\n        if (d4) {\n          if (isCommand) {\n            try {\n              d4.renderSigns();\n            } catch (e) {\n              // TODO: 楚柔的锅\n            }\n          } else {\n            d4.hideSigns();\n          }\n        }\n        paper.tool = _tool;\n      }\n    };\n\n    const content = ref('');\n    const strokeWidth = ref(5);\n    const strokeColor = ref('red');\n    type Size = { width: number, height: number };\n    const size = ref<Size>();\n\n    function resize(\n      { width: newWidth, height: newHeight }: Size,\n      { width: oldWidth, height: oldHeight }: Size,\n    ) {\n      const { Point } = paper;\n      const ratio = newHeight / oldHeight;\n      paper.project.layers.forEach(item => {\n        item.translate(new Point(\n          (newWidth - oldWidth) / 2,\n          (newHeight - oldHeight) / 2,\n        ));\n        item.scale(ratio, new Point(newWidth / 2, newHeight / 2));\n      });\n    }\n\n    onMounted(() => {\n      const vCanvas = canvas.value!;\n      paper.setup(vCanvas);\n      size.value = { width: vCanvas.clientWidth, height: vCanvas.clientHeight };\n      const layer = new Layer();\n      layer.activate();\n\n      tools.value = {\n        comment: new Comment(paper),\n        bezier: new Bezier(paper, {\n          strokeWidth: strokeWidth.value,\n          strokeColor: new Color(strokeColor.value),\n        }),\n      };\n      switchTool(tools.value.comment);\n\n      watch(() => {\n        return props.sign.content;\n      }, (_content: string) => {\n        content.value = _content;\n      }, {\n        immediate: true,\n      });\n\n      watch(strokeWidth, (w) => {\n        if (tool.value) {\n          tool.value.params.strokeWidth = w;\n        }\n      }, {\n        immediate: true,\n      });\n      watch(strokeColor, (c) => {\n        if (tool.value) {\n          tool.value.params.strokeColor = new Color(c);\n        }\n      }, {\n        immediate: true,\n      });\n      watch(() => {\n        return props.sign.brushJson;\n      }, (_brushJson, _oBrushJson) => {\n        if (_brushJson !== _oBrushJson) {\n          const newSize = { width: canvas.value!.clientWidth, height: canvas.value!.clientHeight };\n          const j = JSON.parse(_brushJson);\n          const d = Array.isArray(j) ? { ...newSize, data: j } : j;\n          paper.project.importJSON(JSON.stringify(d.data));\n\n          resize(newSize, d);\n        }\n      }, {\n        immediate: true,\n      });\n      watch(size, (_size, _oldSize) => {\n        if (_size && _oldSize\n          && (_size!.width !== _oldSize.width || _size!.height !== _oldSize.height)) {\n          paper.project.view.size.width = _size.width;\n          paper.project.view.size.height = _size.height;\n          paper.project.view.viewSize.width = _size.width;\n          paper.project.view.viewSize.height = _size.height;\n          resize(_size, _oldSize);\n        }\n      });\n    });\n\n\n    return {\n      resize() {\n        size.value = { width: canvas.value!.clientWidth, height: canvas.value!.clientHeight };\n      },\n      paper,\n      content,\n      contentShown,\n      tool,\n      canvas,\n      tools,\n      textarea,\n      switchTool,\n      strokeWidth,\n      strokeColor,\n      val: ref({\n        content: '',\n        imgs: [\n          // eslint-disable-next-line max-len\n          { url: 'http://dev.4dshoetech.local/datapipe/repository/userImg/1183939321070227457-7659f198cde5ba9d6600ed4e788fe11e.png?token=1183939321070227457:web:fb2f2654785cc3cdd300fa5b5866eb6b' },\n        ] as any[],\n        ats: [] as any[],\n      }),\n      undo() {\n        const vTool = tool.value;\n        if (vTool) {\n          vTool.undo();\n        }\n      },\n      setStrokeWidth(v: number) {\n        strokeWidth.value = v;\n        if (tool.value && tool.value.path) {\n          tool.value.path.strokeWidth = v;\n        }\n      },\n      setStrokeColor(c: string) {\n        strokeColor.value = c;\n        if (tool.value && tool.value.path) {\n          tool.value.path.strokeColor = new Color(c);\n        }\n      },\n      toggleComment() {\n        contentShown.value = !contentShown.value;\n      },\n      submit() {\n        if (!content.value.trim() && !paper.project.getItems({\n          class: paper.Path,\n        }).length && !props.sign.accessoryInfo.images.length) { throw new Error(i18n.t('model.detail.annotation_empty_tip')); }\n        paper.project.deselectAll();\n        emit('submit', {\n          ...props.sign,\n          content: content.value,\n          brushJson: JSON.stringify({\n            width: canvas.value!.clientWidth,\n            height: canvas.value!.clientHeight,\n            data: JSON.parse(paper.project.exportJSON()),\n          }),\n        });\n        if (tool.value) {\n          tool.value.clearHistory();\n        }\n      },\n      close() {\n        emit('close');\n        if (tool.value) {\n          tool.value.clearHistory();\n        }\n      },\n    };\n  },\n  render() {\n    const self = this;\n    const {\n      tools, tool, switchTool, contentShown, sign, undo,\n      submit, close, setStrokeWidth, setStrokeColor, strokeWidth, strokeColor, toggleComment,\n      readonly,\n    } = self;\n    const pointSize = { width: 24, height: 24 };\n    let panel;\n    let confirmPanel;\n\n    const isEdit = readonly;\n\n    if (!isEdit) {\n      panel = <div class=\"panel\">\n        {\n          !tools || tools.comment === tool ? null\n\n            : <div class=\"params\">\n              <a class={['btn-dot-sm', { active: strokeWidth === 2 }]} onClick={() => setStrokeWidth(2)} />\n              <a class={['btn-dot-md', { active: strokeWidth === 5 }]} onClick={() => setStrokeWidth(5)} />\n              <a class={['btn-dot-lg', { active: strokeWidth === 8 }]} onClick={() => setStrokeWidth(8)} />\n              <span class=\"sep\" />\n              <a class={['btn-color-red', { active: strokeColor === 'red' }]} onClick={() => setStrokeColor('red')} />\n              <a class={['btn-color-white', { active: strokeColor === 'white' }]} onClick={() => setStrokeColor('white')} />\n              <a class={['btn-color-black', { active: strokeColor === 'black' }]} onClick={() => setStrokeColor('black')} />\n            </div>\n        }\n        {tools ? <div class=\"tools\">\n          <a class={['iconfont iconpinglun btn-comment', { active: tools.comment === tool }]} onClick={() => switchTool(tools.comment)} />\n          <span class=\"sep\" />\n          <a class={['iconfont icongangbi btn-pen', { active: tools.bezier === tool }]} onClick={() => switchTool(tools.bezier)} />\n          <span class=\"sep\" />\n          <a class=\"iconfont iconhoutui btn-undo\" onClick={undo} />\n        </div> : null}\n\n      </div>;\n\n      confirmPanel = <div class=\"confirm-panel\">\n        <el-button size=\"small\" round icon=\"iconfont iconqueren\" onClick={() => self.$act(submit)}>完成</el-button>\n        <el-button size=\"small\" round icon=\"iconfont iconguanbi\" onClick={close}>取消</el-button>\n      </div>;\n    }\n\n    return <div class=\"annotation-creation\" style={{ pointerEvents: isEdit ? 'none' : 'auto' }}>\n      <canvas ref=\"canvas\" />\n      <div class=\"comment-layer\" style={{ zIndex: contentShown ? 2 : 0 }}>\n        <div\n          onClick={() => toggleComment()}\n          style={{\n            pointerEvents: isEdit ? 'all' : 'none',\n            width: `${pointSize.width}px`,\n            height: `${pointSize.height}px`,\n            position: 'absolute',\n            left: `${sign.position.x - pointSize.width / 2}px`,\n            top: `${sign.position.y - pointSize.height / 2}px`,\n          }}></div>\n        {contentShown ? <AnnotationDetail\n          class={['comment-dialog']}\n          readonly={readonly}\n          closeable={readonly}\n          annotation={sign}\n          onViewImages={(...args: any[]) => this.$emit('viewImages', ...args)}\n          onChange={({ content, accessoryInfo: { images } }: Sign) => {\n            sign.content = content;\n            const accessoryInfo = sign.accessoryInfo ?? {};\n            accessoryInfo.images = images;\n            sign.accessoryInfo = accessoryInfo;\n          }}\n          onClose={() => { toggleComment(); }}\n        /> : null}\n\n      </div>\n      {panel}\n      {confirmPanel}\n    </div>;\n  },\n});\n\nexport default AnnotationCreation;\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCreation.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCreation.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentModelInfo.vue?vue&type=style&index=0&id=89f83024&lang=scss&scoped=true&\"","/* jshint browser: true */\n\n(function () {\n\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if (!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if (el) el.parentNode.removeChild(el);\n  }\n\n  // The mirror div will replicate the textarea's style\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n  var isInput = element.nodeName === 'INPUT';\n\n  // Default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (!isInput)\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // Position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // Transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    if (isInput && prop === 'lineHeight') {\n      // Special case for <input>s because text is rendered centered and line height may be != height\n      style.lineHeight = computed.height;\n    } else {\n      style[prop] = computed[prop];\n    }\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // The second special handling for input type=\"text\" vs textarea:\n  // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (isInput)\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // For inputs, just '.' would be enough, but no need to bother.\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth']),\n    height: parseInt(computed['lineHeight'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\nif (typeof module != 'undefined' && typeof module.exports != 'undefined') {\n  module.exports = getCaretCoordinates;\n} else if(isBrowser) {\n  window.getCaretCoordinates = getCaretCoordinates;\n}\n\n}());\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnotationCreation.vue?vue&type=style&index=0&lang=css&\"","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useClosest = useClosest;\nexports.default = void 0;\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nvar _vueClosest = require(\"../plugins/vue-closest\");\n\n// import { InstanceOfVue } from '@/typings/vue-types.d';\nfunction useClosest(componentName) {\n  var that = (0, _compositionApi.getCurrentInstance)();\n  return (0, _compositionApi.computed)(function () {\n    if (!that) {\n      return undefined;\n    }\n\n    return _vueClosest.closest.call(that, componentName);\n  });\n}\n\nvar _default = useClosest;\nexports.default = _default;","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTable.vue?vue&type=style&index=0&id=408973c4&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDownloadProcess.vue?vue&type=style&index=0&id=4ae34706&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"clearable\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.selectedValue),callback:function ($$v) {_vm.selectedValue=$$v},expression:\"selectedValue\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":_vm.$i18n.i18next.language === 'en' ?\n      (item.usName || item.name) : (item.name || item.usName),\"value\":item.value}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-select\n    v-model=\"selectedValue\"\n    :placeholder=\"placeholder\"\n    :disabled=\"disabled\"\n    clearable\n    @change=\"handleChange\">\n    <el-option\n      v-for=\"item in options\"\n      :key=\"item.value\"\n      :label=\"$i18n.i18next.language === 'en' ?\n        (item.usName || item.name) : (item.name || item.usName)\"\n      :value=\"item.value\" />\n  </el-select>\n</template>\n\n<script>\nimport { getDictByType } from '@/loaders/dictionary';\n\nexport default {\n  props: {\n    // 选中的值\n    value: {\n      type: [String, Number],\n      default: '',\n    },\n    // 字典类型\n    type: {\n      type: String,\n      required: true,\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      selectedValue: '',\n      options: [],\n    };\n  },\n  async created() {\n    try {\n      this.options = (await getDictByType(this.type));\n    } catch (err) {\n      this.$message.error(err.message);\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.selectedValue = val;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    handleChange() {\n      const selectedOptions = this.options.find(item => item.value === this.selectedValue);\n      this.$emit('on-change', this.selectedValue, selectedOptions);\n    },\n  },\n\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DictionarySelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DictionarySelector.vue?vue&type=template&id=f5079b80&\"\nimport script from \"./DictionarySelector.vue?vue&type=script&lang=js&\"\nexport * from \"./DictionarySelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentDetail.vue?vue&type=style&index=0&id=0b90b375&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7207bcd2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.currentComponent,{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.model === _vm.loading),expression:\"model === loading\"}],tag:\"component\",attrs:{\"model\":_vm.model,\"vm\":_vm.vm,\"editable\":_vm.editable},on:{\"backward\":_vm.switchPreviousComponent,\"foreward\":_vm.switchNextComponent,\"close\":function($event){return _vm.$emit('cancel')},\"refresh\":function($event){return _vm.getShoeInfo(_vm.modelId)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"model-info-container flex-column flex-1\"},[_c('h1',{staticClass:\"dialog-title no-collapse\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"model.info.design_info\"))+\" \")]),_c('div',{staticClass:\"model-content-box flex-1 scrollable-y \"},[(_vm.mode === 'text')?_c('model-detail-text',{attrs:{\"model\":_vm.model}}):_c('model-detail-form',{ref:\"form\",attrs:{\"model\":_vm.modelFormData}}),_c('section',[_c('h2',{staticClass:\"section-title highlight\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"model.info.materials\"))+\" \")]),_c('material-table',{attrs:{\"data\":_vm.model.materials}})],1),_c('model-time-info',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"creator\":_vm.model.creatorName,\"uploaded\":_vm.model.uploadTime,\"updated\":_vm.model.lastTime}})],1),_c('section',{staticClass:\"submit-button-area\"},[(_vm.mode === 'text')?_c('div',{staticClass:\"flex-justify-flex-end\"},[_c('el-button',{attrs:{\"disabled\":(!_vm.isCreator && !_vm.$can('workspace', 'OP0015')) || _vm.editable === false,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.toggleComponent('form')}}},[_c('i',{staticClass:\"iconfont icon-write\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t(\"model.info.edit\"))+\" \")])])],1):_c('div',{staticClass:\"text-align-right\"},[_c('el-button',{on:{\"click\":function($event){return _vm.toggleComponent('text')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.cancel\"))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.updateInfo($event)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"public.dialog.confirm\"))+\" \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.model,\"rules\":_vm.rules,\"size\":\"medium\"}},[_c('section',{staticClass:\"form-section clearfix\"},[_c('el-form-item',{attrs:{\"prop\":\"modelNumber\",\"label\":_vm.$t('model.info.style_name')}},[_c('el-input',{attrs:{\"disabled\":!_vm.hasPermission('OP0015', 'OP0141'),\"placeholder\":_vm.$t('model.info.input_placeholder')},model:{value:(_vm.model.modelNumber),callback:function ($$v) {_vm.$set(_vm.model, \"modelNumber\", $$v)},expression:\"model.modelNumber\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"type\",\"label\":_vm.$t('model.info.type')}},[_c('dictionary-selector',{staticClass:\"width-100\",attrs:{\"value\":_vm.model.type,\"disabled\":!_vm.isCreator,\"type\":\"shoeCategory\",\"placeholder\":_vm.$t('model.info.shoe_category')},on:{\"on-change\":function($event){return _vm.changeProperty('type', $event)}}})],1)],1),_c('section',{staticClass:\"form-section clearfix\",staticStyle:{\"margin\":\"0 0 5px\"}},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.tags'))+\" \")]),_c('TagsEditor',{attrs:{\"tags\":_vm.model.tags,\"shareId\":_vm.model.id,\"type\":0,\"relateType\":0,\"editable\":_vm.hasPermission('OP0015' ,'OP0141')}})],1),_c('section',{staticClass:\"form-section clearfix\",staticStyle:{\"margin-right\":\"0px\"}},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.notes'))+\" \")]),_c('el-input',{attrs:{\"disabled\":!_vm.hasPermission('OP0015', 'OP0141'),\"placeholder\":_vm.$t('model.info.input_placeholder'),\"rows\":3,\"type\":\"textarea\",\"resize\":\"none\",\"clearable\":\"\",\"maxlength\":\"200\",\"show-word-limit\":\"\"},model:{value:(_vm.model.notes),callback:function ($$v) {_vm.$set(_vm.model, \"notes\", $$v)},expression:\"model.notes\"}})],1),_c('section',{staticClass:\"form-section clearfix\"},_vm._l((_vm.basicList),function(item){return _c('el-form-item',{key:item.label,attrs:{\"label\":item.label,\"prop\":item.prop}},[(item.prop === 'gender')?_c('el-select',{attrs:{\"disabled\":!_vm.isCreator,\"placeholder\":_vm.$t('model.info.input_placeholder')},model:{value:(_vm.model[item.prop]),callback:function ($$v) {_vm.$set(_vm.model, item.prop, $$v)},expression:\"model[item.prop]\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"女\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"童\",\"value\":\"3\"}})],1):(item.prop === 'price')?_c('input-with-unit',{attrs:{\"value\":_vm.model.price,\"disabled\":!_vm.isCreator,\"default-unit\":_vm.model.monetaryUnit,\"unit-options\":[\n          { value: 'USD', label: _vm.$i18n.i18next.language === 'en' ? 'USD' : '美元' },\n          { value: 'CNY', label: _vm.$i18n.i18next.language === 'en' ? 'CNY' : '人民币' }\n        ],\"inputPlaceholder\":_vm.$t('model.info.input_placeholder')},on:{\"on-input-blur\":function($event){return _vm.changeProperty('price', $event)},\"on-select-change\":function($event){return _vm.changeProperty('monetaryUnit', $event)}}}):(item.prop === 'dueTime')?_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"format\":\"MM/dd/yyyy\",\"value-format\":\"timestamp\",\"type\":\"date\",\"size\":\"small\"},on:{\"change\":function($event){_vm.changeModelInfo('dueTime', (new Date($event)).valueOf())}},model:{value:(_vm.model[item.prop]),callback:function ($$v) {_vm.$set(_vm.model, item.prop, $$v)},expression:\"model[item.prop]\"}}):_c('el-input',{attrs:{\"disabled\":!_vm.isCreator,\"placeholder\":_vm.$t('model.info.input_placeholder')},model:{value:(_vm.model[item.prop]),callback:function ($$v) {_vm.$set(_vm.model, item.prop, $$v)},expression:\"model[item.prop]\"}})],1)}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import getGroupAppId from '@/router/utils/get-group-app-id';\n\nexport default {\n  data() {\n    return {\n      currentWorkspaceId: getGroupAppId(),\n    };\n  },\n  methods: {\n    // 判定是否有权限（包括在自己空间和在workspace空间）\n    hasPermission(workspaceCode, systemCode) {\n      // 根据 currentWorkspaceId 是否有值，判定是不是在workspace的中\n      if (this.currentWorkspaceId) {\n        return this.$can(this.currentWorkspaceId, workspaceCode);\n      }\n      return this.$can('system', systemCode);\n    },\n  },\n};\n","<template>\n  <!-- 名称和类型 -->\n  <el-form :model=\"model\" :rules=\"rules\" size=\"medium\" ref=\"form\">\n    <section class=\"form-section clearfix\">\n      <el-form-item prop=\"modelNumber\" :label=\"$t('model.info.style_name')\">\n        <el-input\n          v-model=\"model.modelNumber\"\n          :disabled=\"!hasPermission('OP0015', 'OP0141')\"\n          :placeholder=\"$t('model.info.input_placeholder')\" />\n      </el-form-item>\n\n      <el-form-item prop=\"type\" :label=\"$t('model.info.type')\">\n        <dictionary-selector\n          :value=\"model.type\"\n          :disabled=\"!isCreator\"\n          type=\"shoeCategory\"\n          :placeholder=\"$t('model.info.shoe_category')\"\n          class=\"width-100\"\n          @on-change=\"changeProperty('type', $event)\" />\n      </el-form-item>\n    </section>\n\n    <!-- 鞋标签 -->\n    <section class=\"form-section clearfix\" style=\"margin: 0 0 5px;\">\n      <h2 class=\"section-title\">\n        {{ $t('model.info.tags') }}\n      </h2>\n      <TagsEditor :tags=\"model.tags\"\n        :shareId=\"model.id\" :type=\"0\" :relateType=\"0\" :editable=\"hasPermission('OP0015' ,'OP0141')\" />\n    </section>\n\n    <!-- 备注信息 -->\n    <section class=\"form-section clearfix\" style=\"margin-right: 0px;\">\n      <h2 class=\"section-title\">\n        {{ $t('model.info.notes') }}\n      </h2>\n      <el-input\n        v-model=\"model.notes\"\n        :disabled=\"!hasPermission('OP0015', 'OP0141')\"\n        :placeholder=\"$t('model.info.input_placeholder')\"\n        :rows=\"3\"\n        type=\"textarea\"\n        resize=\"none\"\n        clearable\n        maxlength=\"200\"\n        show-word-limit />\n    </section>\n\n    <!-- 鞋基本信息 -->\n    <section class=\"form-section clearfix\">\n      <el-form-item\n        v-for=\"item in basicList\"\n        :key=\"item.label\"\n        :label=\"item.label\"\n        :prop=\"item.prop\">\n        <el-select\n          v-if=\"item.prop === 'gender'\"\n          v-model=\"model[item.prop]\"\n          :disabled=\"!isCreator\"\n          :placeholder=\"$t('model.info.input_placeholder')\">\n          <el-option label=\"男\" value=\"1\"></el-option>\n          <el-option label=\"女\" value=\"2\"></el-option>\n          <el-option label=\"童\" value=\"3\"></el-option>\n        </el-select>\n        <input-with-unit\n          v-else-if=\"item.prop === 'price'\"\n          :value=\"model.price\"\n          :disabled=\"!isCreator\"\n          :default-unit=\"model.monetaryUnit\"\n          :unit-options=\"[\n            { value: 'USD', label: $i18n.i18next.language === 'en' ? 'USD' : '美元' },\n            { value: 'CNY', label: $i18n.i18next.language === 'en' ? 'CNY' : '人民币' }\n          ]\"\n          :inputPlaceholder=\"$t('model.info.input_placeholder')\"\n          @on-input-blur=\"changeProperty('price', $event)\"\n          @on-select-change=\"changeProperty('monetaryUnit', $event)\" />\n\n        <el-date-picker\n          v-else-if=\"item.prop === 'dueTime'\"\n          v-model=\"model[item.prop]\"\n          format=\"MM/dd/yyyy\"\n          value-format=\"timestamp\"\n          type=\"date\"\n          size=\"small\"\n          style=\"width: 100%\"\n          @change=\"changeModelInfo('dueTime', (new Date($event)).valueOf())\" />\n\n        <el-input\n          v-else\n          v-model=\"model[item.prop]\"\n          :disabled=\"!isCreator\"\n          :placeholder=\"$t('model.info.input_placeholder')\" />\n      </el-form-item>\n\n      <!-- <el-form-item prop=\"price\" :label=\"$t('model.info.prices')\">\n        <input-with-unit\n          :value=\"model.price\"\n          :disabled=\"!isCreator\"\n          :default-unit=\"model.monetaryUnit\"\n          :unit-options=\"[\n            { value: 'USD', label: $i18n.i18next.language === 'en' ? 'USD' : '美元' },\n            { value: 'CNY', label: $i18n.i18next.language === 'en' ? 'CNY' : '人民币' }\n          ]\"\n          :inputPlaceholder=\"$t('model.info.input_placeholder')\"\n          @on-input-blur=\"changeProperty('price', $event)\"\n          @on-select-change=\"changeProperty('monetaryUnit', $event)\" />\n      </el-form-item> -->\n    </section>\n  </el-form>\n</template>\n\n<script>\nimport Vue from 'vue';\n\nimport i18n from 'i18next';\nimport AppError from '@/utils/error';\nimport DictionarySelector from '@/components/dictionary/DictionarySelector';\nimport InputWithUnit from '@/components/form/InputWithUnit';\nimport { updateModelInfo } from '@/api/shoe';\nimport formRules from '@/views/model/info/rules';\nimport TagsEditor from '@/components/base/TagsEditor.vue';\nimport mixinHasPermission from '../../mixinHasPermission';\nimport { getContextUser } from '../../../../../loaders/context';\n\nexport default Vue.extend({\n  name: 'ModelDetailForm',\n  components: {\n    TagsEditor,\n    DictionarySelector,\n    InputWithUnit,\n  },\n  props: {\n    model: {\n      type: Object,\n      required: true,\n    },\n  },\n  mixins: [mixinHasPermission],\n  data() {\n    return {\n      rules: formRules,\n      basicList: [\n        { label: i18n.t('model.info.itemNumber'), prop: 'style' },\n        { label: i18n.t('model.info.category'), prop: 'category' },\n        { label: i18n.t('model.info.frequency'), prop: 'waveband' },\n        { label: i18n.t('model.info.gender'), prop: 'gender' },\n        { label: i18n.t('model.info.season'), prop: 'season' },\n        { label: i18n.t('model.info.collection'), prop: 'series' },\n        { label: i18n.t('model.info.last_number'), prop: 'lastNumber' },\n        { label: i18n.t('model.info.outsole_number'), prop: 'soleNumber' },\n        { label: i18n.t('model.info.heel_number'), prop: 'heelNumber' },\n        { label: i18n.t('model.info.customer'), prop: 'customer' },\n        { label: i18n.t('model.info.designerLeader'), prop: 'designerLeader' },\n        { label: i18n.t('model.info.designer'), prop: 'designerName' },\n        { label: i18n.t('model.info.technician'), prop: 'craftsman' },\n        { label: i18n.t('model.info.colour'), prop: 'colour' },\n        { label: i18n.t('model.info.price'), prop: 'price' },\n        { label: i18n.t('model.info.size'), prop: 'size' },\n        { label: i18n.t('model.info.factory'), prop: 'factory' },\n        { label: i18n.t('model.info.purpose'), prop: 'purpose' },\n        { label: i18n.t('model.info.dueDate'), prop: 'dueTime' },\n      ],\n    };\n  },\n  computed: {\n    isCreator() {\n      return getContextUser().id === this.model.creator;\n    },\n  },\n  methods: {\n    // 修改鞋模型信息\n    async changeModelInfo() {\n      const groupAppId = this.$closest('ModelInfo').groupAppId || '';\n      // 先校验填写内容是否通过表单校验\n      const valid = await this.$refs.form.validate();\n      if (!valid) {\n        throw AppError.abort;\n      }\n\n      // 发出更新数据请求\n      try {\n        await updateModelInfo({ relateId: this.model.id, ...this.model }, groupAppId);\n      } catch (err) {\n        this.$errHandler(err);\n      }\n    },\n    // 处理其他组件更新的事件\n    changeProperty(prop, value) {\n      // 先要把数据同步到当前的model，否则表单对当前属性检验是旧数据\n      this.model[prop] = value;\n      // this.changeModelInfo(prop, value);\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.el-form {\n  .form-section {\n    margin-right: -20px;\n    margin-bottom: 15px;\n\n    .el-form-item {\n      float: left;\n      width: 300px;\n      margin-right: 15px;\n      margin-bottom: 0;\n    }\n  }\n  .el-select {\n    width: 100%;\n  }\n\n  /deep/ .el-form-item__label {\n    float: none;\n  }\n}\n\n// 公共样式\n.section-title {\n  margin-bottom: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  .section-subtitle {\n    font-weight: 700;\n  }\n}\n\n/deep/ .input-unit {\n  height: 36px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailForm.vue?vue&type=template&id=1cf2b770&scoped=true&\"\nimport script from \"./DetailForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailForm.vue?vue&type=style&index=0&id=1cf2b770&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cf2b770\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-text\"},[_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.style_name'),\"content\":_vm.model.modelNumber}}),_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.type'),\"content\":_vm.model.typeName && _vm.model.typeName.label}}),_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.notes'),\"content\":_vm.model.notes,\"ellipsis\":false}}),_c('form-field-text',{attrs:{\"label\":_vm.$t('model.info.tags'),\"content\":_vm.model.tags.length}},[_c('ul',{staticClass:\"tags-list\"},_vm._l((_vm.model.tags),function(item,index){return _c('li',{key:index,staticClass:\"el-tag\"},[_vm._v(\" \"+_vm._s(item.tag)+\" \")])}),0)]),_c('ul',{staticClass:\"section-half\"},_vm._l((_vm.generateFields()),function(field){return _c('li',{key:field.label,staticClass:\"form-field\"},[_c('form-field-text',{attrs:{\"label\":field.label,\"content\":field.content || '',\"unit\":field.unit}})],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detail-text\">\n    <form-field-text\n      :label=\"$t('model.info.style_name')\"\n      :content=\"model.modelNumber\"\n    />\n    <form-field-text\n      :label=\"$t('model.info.type')\"\n      :content=\"model.typeName && model.typeName.label\"\n    />\n    <form-field-text\n      :label=\"$t('model.info.notes')\"\n      :content=\"model.notes\"\n      :ellipsis=\"false\"\n    />\n\n    <!-- 标签 -->\n    <form-field-text\n      :label=\"$t('model.info.tags')\"\n      :content=\"model.tags.length\"\n    >\n      <ul class=\"tags-list\">\n        <li v-for=\"(item, index) in model.tags\" :key=\"index\" class=\"el-tag\">\n          {{ item.tag }}\n        </li>\n      </ul>\n    </form-field-text>\n\n    <ul class=\"section-half\">\n      <li\n        v-for=\"field in generateFields()\"\n        :key=\"field.label\"\n        class=\"form-field\"\n      >\n        <form-field-text\n          :label=\"field.label\"\n          :content=\"field.content || ''\"\n          :unit=\"field.unit\"\n        />\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport i18n from 'i18next';\n\nimport FormFieldText from '@/components/form/FormFieldText.vue';\nimport { date } from '@/filters';\n\nexport default {\n  name: 'ModelDetailText',\n  components: {\n    FormFieldText,\n  },\n  props: {\n    model: {\n      type: Object,\n      required: true,\n    },\n  },\n  methods: {\n    generateFields() {\n      const {\n        season, series, lastNumber, customer, soleNumber,\n        designerName, heelNumber, price, monetaryUnit, style, category,\n        waveband, gender, designerLeader, craftsman, colour, size, factory,\n        purpose, dueTime,\n      } = this.model;\n\n      const genderList = [i18n.t('material.info.men'), i18n.t('material.info.women'), i18n.t('material.info.children')];\n\n      return [\n        { label: i18n.t('model.info.style'), content: style },\n        { label: i18n.t('model.info.category'), content: category },\n        { label: i18n.t('model.info.waveband'), content: waveband },\n        { label: i18n.t('model.info.gender'), content: gender ? genderList[Number(gender) - 1] : '' },\n        { label: i18n.t('model.info.season'), content: season },\n        { label: i18n.t('model.info.collection'), content: series },\n        { label: i18n.t('model.info.last_number'), content: lastNumber },\n        { label: i18n.t('model.info.outsole_number'), content: soleNumber },\n        { label: i18n.t('model.info.heel_number'), content: heelNumber },\n        { label: i18n.t('model.info.customer'), content: customer },\n        { label: i18n.t('model.info.designerLeader'), content: designerLeader },\n        { label: i18n.t('model.info.designer'), content: designerName },\n        { label: i18n.t('model.info.technician'), content: craftsman },\n        { label: i18n.t('model.info.colour'), content: colour },\n        { label: i18n.t('model.info.price'), content: price, unit: monetaryUnit },\n        { label: i18n.t('model.info.size'), content: size },\n        { label: i18n.t('model.info.factory'), content: factory },\n        { label: i18n.t('model.info.purpose'), content: purpose },\n        { label: i18n.t('model.info.dueDate'), content: date(dueTime, 'MM/DD/YYYY') },\n      ];\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-text {\n  .section-title {\n    margin: 30px 0 15px;\n    font-size: 16px;\n    color: #666;\n  }\n}\n\n.section-half {\n  display: flex;\n  flex-wrap: wrap;\n  .form-field {\n    width: 50%;\n    padding-right: 30px;\n  }\n}\n\n.price-field {\n  line-height: 30px;\n}\n\n// 标签\n.tags-list {\n  min-height: 30px;\n  margin-top: 10px;\n\n  .el-tag {\n    height: 30px;\n    padding: 0 18px;\n    margin: 0 10px 10px 0;\n    font-size: 14px;\n    line-height: 30px;\n    background-color: #fff;\n    border-radius: 15px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailText.vue?vue&type=template&id=69c50802&scoped=true&\"\nimport script from \"./DetailText.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailText.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailText.vue?vue&type=style&index=0&id=69c50802&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69c50802\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',{staticClass:\"custom-table\",attrs:{\"data\":_vm.data,\"height\":\"215\"}},[_c('el-table-column',{attrs:{\"prop\":\"componentName\",\"label\":_vm.$t('model.info.component'),\"width\":150}}),_c('el-table-column',{attrs:{\"prop\":\"materialName\",\"label\":_vm.$t('model.info.material_name'),\"min-width\":120}}),_c('el-table-column',{attrs:{\"prop\":\"color\",\"label\":_vm.$t('model.info.color')}}),_c('el-table-column',{attrs:{\"prop\":\"supplierName\",\"label\":_vm.$t('model.info.supplier'),\"min-width\":120}}),_c('el-table-column',{attrs:{\"prop\":\"samplePrice\",\"label\":_vm.$t('model.info.sample_price'),\"width\":110}}),_c('el-table-column',{attrs:{\"prop\":\"supplierArticleName\",\"label\":_vm.$t('model.info.supplier_article_name'),\"min-width\":170}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-table :data=\"data\" class=\"custom-table\" height=\"215\">\n    <el-table-column prop=\"componentName\" :label=\"$t('model.info.component')\" :width=\"150\" />\n    <el-table-column prop=\"materialName\" :label=\"$t('model.info.material_name')\"\n    :min-width=\"120\" />\n    <el-table-column prop=\"color\" :label=\"$t('model.info.color')\" />\n    <el-table-column prop=\"supplierName\" :label=\"$t('model.info.supplier')\" :min-width=\"120\"/>\n    <el-table-column prop=\"samplePrice\" :label=\"$t('model.info.sample_price')\" :width=\"110\" />\n    <el-table-column prop=\"supplierArticleName\" :label=\"$t('model.info.supplier_article_name')\"\n    :min-width=\"170\" />\n  </el-table>\n</template>\n\n<script>\nexport default {\n  name: 'MaterialTable',\n  props: {\n    data: {\n      type: Array,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.custom-table {\n  border: 1px solid #d4d8de;\n  border-radius: 2px;\n\n  &.el-table {\n    /deep/ .el-table__header th {\n      padding: 6px 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MaterialTable.vue?vue&type=template&id=1404d1b9&scoped=true&\"\nimport script from \"./MaterialTable.vue?vue&type=script&lang=js&\"\nexport * from \"./MaterialTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MaterialTable.vue?vue&type=style&index=0&id=1404d1b9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1404d1b9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"model-info-container flex-column flex-1\">\n    <!-- 弹框标题 -->\n    <h1 class=\"dialog-title no-collapse\">\n      {{ $t(\"model.info.design_info\") }}\n    </h1>\n\n    <div class=\"model-content-box flex-1 scrollable-y \">\n      <!-- 名称和类型 -->\n      <model-detail-text v-if=\"mode === 'text'\" :model=\"model\" />\n      <model-detail-form v-else :model=\"modelFormData\" ref=\"form\" />\n\n      <!-- 材质表格 -->\n      <section>\n        <h2 class=\"section-title highlight\">\n          {{ $t(\"model.info.materials\") }}\n        </h2>\n        <material-table :data=\"model.materials\" />\n      </section>\n\n      <!-- 鞋上传和修改时间 -->\n      <model-time-info\n        :creator=\"model.creatorName\"\n        :uploaded=\"model.uploadTime\"\n        :updated=\"model.lastTime\"\n        style=\"margin-top: 20px\"\n      />\n    </div>\n\n    <!-- 取消和确认按钮 -->\n    <section class=\"submit-button-area\">\n      <!-- <div v-if=\"mode === 'text'\" class=\"flex-space-between\"> -->\n      <div v-if=\"mode === 'text'\" class=\"flex-justify-flex-end\">\n        <!--\n        <el-button\n          :disabled=\"!$can('workspace', 'OP0013')\"\n          type=\"primary\"\n          @click=\"$emit('foreward')\">\n          Export the sample list\n        </el-button>\n        -->\n        <el-button\n          :disabled=\"(!isCreator && !$can('workspace', 'OP0015')) || editable === false\"\n          type=\"primary\"\n          @click=\"toggleComponent('form')\"\n        >\n          <i class=\"iconfont icon-write\" />\n          <span>\n            {{ $t(\"model.info.edit\") }}\n          </span>\n        </el-button>\n      </div>\n      <div v-else class=\"text-align-right\">\n        <el-button @click=\"toggleComponent('text')\">\n          {{ $t(\"public.dialog.cancel\") }}\n        </el-button>\n        <el-button type=\"primary\" @click.native=\"updateInfo\">\n          {{ $t(\"public.dialog.confirm\") }}\n        </el-button>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\n\nimport ModelTimeInfo from '@/views/material/info/components/TimeInfo';\nimport { getContextUser } from '../../../../loaders/context';\nimport ModelDetailForm from './model-info/DetailForm';\nimport ModelDetailText from './model-info/DetailText';\nimport MaterialTable from './model-info/MaterialTable';\n// import Scrollable from '@/components/Scrollable.vue';\n\nexport default Vue.extend({\n  name: 'ComponentModelInfo',\n  components: {\n    ModelDetailForm,\n    ModelDetailText,\n    MaterialTable,\n    ModelTimeInfo,\n  },\n  props: {\n    model: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      mode: 'text', // mode: form, text\n      modelFormData: {},\n    };\n  },\n  computed: {\n    isCreator() {\n      return getContextUser()?.id === this.model.creator;\n    },\n  },\n  methods: {\n    toggleComponent(compName) {\n      if (compName === 'text') this.$emit('refresh');\n      this.mode = compName;\n    },\n\n    async updateInfo() {\n      await this.$refs.form.changeModelInfo();\n      this.toggleComponent('text');\n    },\n  },\n  watch: {\n    model: {\n      handler(newV) {\n        this.modelFormData = newV;\n      },\n      immediately: true,\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.model-info-container {\n  overflow: hidden;\n  .dialog-title {\n    margin: 20px 30px 10px;\n    font-size: 20px;\n    font-weight: 500;\n    color: #333;\n  }\n\n  .model-content-box {\n    padding: 0 30px;\n    margin-bottom: 20px;\n    // max-height: 610px;\n    overflow-y: auto;\n  }\n}\n\n// 公共样式\n.section-title {\n  margin-bottom: 10px;\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  &.highlight {\n    margin-top: 30px;\n    color: #2878ff;\n  }\n\n  .section-subtitle {\n    font-weight: 700;\n  }\n}\n\n.submit-button-area {\n  padding-bottom: 20px;\n  padding-right: 30px;\n  .iconfont {\n    margin-right: 5px;\n    font-size: 18px;\n    color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentModelInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentModelInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentModelInfo.vue?vue&type=template&id=89f83024&scoped=true&\"\nimport script from \"./ComponentModelInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentModelInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentModelInfo.vue?vue&type=style&index=0&id=89f83024&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89f83024\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"dialog-subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.complete_info_to_download_excel_tip'))+\" \")]),_c('el-form',{ref:\"form\",staticClass:\"clearfix\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"85px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"Purpose\",\"prop\":\"purpose\"}},[_c('el-input',{on:{\"change\":function($event){return _vm.changeModelInfo('purpose', $event)}},model:{value:(_vm.form.purpose),callback:function ($$v) {_vm.$set(_vm.form, \"purpose\", $$v)},expression:\"form.purpose\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Due Date\",\"prop\":\"dueDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"format\":\"MM/dd/yyyy\",\"type\":\"date\",\"size\":\"small\"},on:{\"change\":function($event){_vm.changeModelInfo('dueDate', $event.getTime())}},model:{value:(_vm.form.dueDate),callback:function ($$v) {_vm.$set(_vm.form, \"dueDate\", $$v)},expression:\"form.dueDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Size\",\"prop\":\"size\"}},[_c('el-input',{on:{\"change\":function($event){return _vm.changeModelInfo('size', $event)}},model:{value:(_vm.form.size),callback:function ($$v) {_vm.$set(_vm.form, \"size\", $$v)},expression:\"form.size\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Factory\",\"prop\":\"factory\"}},[_c('el-input',{on:{\"change\":function($event){return _vm.changeModelInfo('factory', $event)}},model:{value:(_vm.form.factory),callback:function ($$v) {_vm.$set(_vm.form, \"factory\", $$v)},expression:\"form.factory\"}})],1),_c('el-form-item',{staticClass:\"width-100\",attrs:{\"label\":\"Notes\",\"prop\":\"notes\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"resize\":\"none\",\"maxlength\":\"200\",\"show-word-limit\":\"\"},on:{\"change\":function($event){return _vm.changeModelInfo('notes', $event)}},model:{value:(_vm.form.notes),callback:function ($$v) {_vm.$set(_vm.form, \"notes\", $$v)},expression:\"form.notes\"}})],1)],1),_c('div',{staticClass:\"text-align-right\"},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('backward')}}},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.back'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$act(_vm.downloadExcel)}}},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.export'))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentAdditionalInfo.vue?vue&type=template&id=2b51c364&scoped=true&\"\nimport script from \"./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentAdditionalInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentAdditionalInfo.vue?vue&type=style&index=0&id=2b51c364&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b51c364\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-container flex-center\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('model.info.download_excel'))+\" \")]),_c('el-progress',{attrs:{\"type\":\"circle\",\"stroke-width\":10,\"width\":240,\"color\":_vm.colors,\"percentage\":_vm.percentage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComponentDownloadProcess.vue?vue&type=template&id=2d5eb102&scoped=true&\"\nimport script from \"./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"\nexport * from \"./ComponentDownloadProcess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ComponentDownloadProcess.vue?vue&type=style&index=0&id=2d5eb102&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d5eb102\",\n  null\n  \n)\n\nexport default component.exports","export default {\n  // 上传后才有的字段\n  id: '',\n  materials: [],\n\n  // 基本信息\n  type: '',\n  modelNumber: '',\n  tags: [],\n  notes: '',\n  curtailImg: '',\n  // 详细信息\n  season: '',\n  series: '',\n  lastNumber: '',\n  customer: '',\n  soleNumber: '',\n  designerName: '',\n  heelNumber: '',\n  factory: '',\n  size: '',\n  price: '',\n  purpose: '',\n  monetaryUnit: 'USD',\n  dueDate: '',\n};\n","<template>\n  <component\n    v-loading=\"model === loading\"\n    :is=\"currentComponent\"\n    :model=\"model\"\n    :vm=\"vm\"\n    @backward=\"switchPreviousComponent\"\n    @foreward=\"switchNextComponent\"\n    @close=\"$emit('cancel')\"\n    :editable=\"editable\"\n    @refresh=\"getShoeInfo(modelId)\"\n  />\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { defineComponent } from '@vue/composition-api';\n\nimport { getResourceInfo } from '@/api/shoe';\nimport { getUsersInfoByIds } from '@/api/account';\nimport ComponentModelInfo from './components/ComponentModelInfo';\nimport ComponentAdditionalInfo from './components/ComponentAdditionalInfo';\nimport ComponentDownloadProcess from './components/ComponentDownloadProcess';\n\nimport modelForm from './form';\n\nexport default defineComponent({\n  name: 'ModelInfo',\n  dialogify: {\n    props: {\n      width: '692px',\n      closeOnClickModal: false,\n      flex: 'column',\n      top: 'auto',\n      bottom: 'auto',\n      compact: true,\n      maxHeight: '80vh',\n      // height: '90vh',\n    },\n    closeWith: 'model',\n  },\n  components: {\n    ComponentModelInfo,\n    ComponentAdditionalInfo,\n    ComponentDownloadProcess,\n  },\n  props: {\n    modelId: {\n      types: String,\n      required: true,\n    },\n    groupAppId: {\n      types: String,\n    },\n    editable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      // 组件数组\n      components: ['ComponentModelInfo', 'ComponentAdditionalInfo', 'ComponentDownloadProcess'],\n      index: 0, // 当前组件的下标\n      model: modelForm, // 获取公共的鞋模型属性对象\n      loading: true,\n      vm: new Vue(),\n    };\n  },\n  computed: {\n    currentComponent() {\n      return this.components[this.index];\n    },\n  },\n  watch: {\n    modelId: {\n      handler: 'getShoeInfo',\n      immediate: true,\n    },\n  },\n  destroyed() {\n    this.vm = null;\n  },\n  methods: {\n    // 跳转到上一步\n    switchPreviousComponent() {\n      if (this.index > 0) this.index--;\n    },\n    // 跳转到下一步\n    switchNextComponent() {\n      if (this.index < 2) this.index++;\n    },\n    // 获取模型信息\n    async getShoeInfo(modelId) {\n      try {\n        this.loading = true;\n        this.model = (await getResourceInfo(modelId))?.data;\n        this.usersInfo = (await getUsersInfoByIds([this.model.creator])).data;\n        this.model.creatorName = this.usersInfo[0]?.name || '';\n      } catch (err) {\n        this.$errHandler(err);\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n});\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=543cef50&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}