{"version":3,"sources":["webpack:///./node_modules/@4dst-saas/public-utils/dist/composables/use-loader.js","webpack:///./src/views/model/offline/RenderPhotoPreview.vue?f0ac","webpack:///./src/assets/img/header/logo-header.png","webpack:///./src/views/model/offline/RenderPhotoPreview.vue?cf5b","webpack:///./src/views/model/offline/RenderPhotoPreview.vue?b9e3","webpack:///./src/views/model/offline/RenderPhotoPreview.vue?2d45","webpack:///./src/views/model/offline/RenderPhotoPreview.vue"],"names":["_interopRequireDefault","Object","defineProperty","exports","value","default","_regenerator","_asyncToGenerator2","_defineProperty2","_compositionApi","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defaultOptions","initialValue","undefined","loadingValue","oldValue","useLoader","loader","oldWatcher","params","_ref","_ref$initialValue","_ref$loadingValue","r","reactive","watchSource","resultRef","ref","tmp","that","getCurrentInstance","loaderPromiseRef","$on","mark","_callee2","wrap","_context2","prev","next","watch","_ref3","_callee","_loaderPromiseRef","_context","sent","stop","_x","this","immediate","s","_ref4","_callee3","_tmp","_context3","isRef","__tmp","_x2","_default","module","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","$route","path","startsWith","on","closeWin","_e","attrs","keyframe","items","model","callback","$$v","$set","expression","staticRenderFns","components","GestureFrame","props","p","type","String","require","setup","console","info","btoa","JSON","parse","atob","renderRelateId","albumId","groupAppId","axios","get","headers","_items","data","item","indexs","index","split","map","parseInt","valueY","Math","floor","valueX","maxScale","host","component"],"mappings":"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","file":"js/chunk-5c360bb3.e74879ac.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.array.filter\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _compositionApi = require(\"@vue/composition-api\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar defaultOptions = {\n  initialValue: undefined,\n  loadingValue: function loadingValue(oldValue) {\n    return oldValue;\n  }\n};\n\nfunction useLoader(loader) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions,\n      _ref$initialValue = _ref.initialValue,\n      initialValue = _ref$initialValue === void 0 ? defaultOptions.initialValue : _ref$initialValue,\n      _ref$loadingValue = _ref.loadingValue,\n      loadingValue = _ref$loadingValue === void 0 ? defaultOptions.loadingValue : _ref$loadingValue;\n\n  var r = (0, _compositionApi.reactive)(params);\n\n  var watchSource = function watchSource() {\n    return _objectSpread({}, r);\n  };\n\n  var resultRef = (0, _compositionApi.ref)(initialValue);\n  var tmp = (0, _compositionApi.ref)(null);\n  var that = (0, _compositionApi.getCurrentInstance)();\n  var loaderPromiseRef = (0, _compositionApi.ref)();\n  if (!that) return;\n  that.$on('hook:created', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loaderPromiseRef.value = loader(watchSource());\n            (0, _compositionApi.watch)(loaderPromiseRef, /*#__PURE__*/function () {\n              var _ref3 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(_loaderPromiseRef) {\n                return _regenerator.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        resultRef.value = loadingValue(resultRef.value);\n                        _context.next = 3;\n                        return _loaderPromiseRef;\n\n                      case 3:\n                        tmp.value = _context.sent;\n\n                      case 4:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x) {\n                return _ref3.apply(this, arguments);\n              };\n            }(), {\n              immediate: true\n            });\n            _context2.next = 4;\n            return loaderPromiseRef.value;\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })));\n  var oldWatcher;\n  (0, _compositionApi.watch)(watchSource, function (s) {\n    if (oldWatcher) {\n      oldWatcher();\n    }\n\n    loaderPromiseRef.value = loader(s);\n  });\n  (0, _compositionApi.watch)(tmp, /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(_tmp) {\n      return _regenerator.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if ((0, _compositionApi.isRef)(_tmp)) {\n                oldWatcher = (0, _compositionApi.watch)(_tmp, function (__tmp) {\n                  resultRef.value = __tmp;\n                }, {\n                  immediate: true\n                });\n              } else {\n                resultRef.value = _tmp;\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }()); // eslint-disable-next-line consistent-return\n\n  return resultRef;\n}\n\nvar _default = useLoader;\nexports.default = _default;","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPhotoPreview.vue?vue&type=style&index=0&id=7198ee92&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/logo-header.5862394a.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-1 flex-column\",staticStyle:{\"position\":\"relative\",\"background-color\":\"#fff\"}},[(_vm.$route.path.startsWith('/qt'))?_c('i',{staticClass:\"iconfont icon-cross\",on:{\"click\":_vm.closeWin}}):_vm._e(),_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"@/assets/img/header/logo-header.png\"),\"alt\":\"logo\",\"width\":\"174\"}}),(_vm.keyframe)?_c('GestureFrame',{staticClass:\"gesture-frame\",staticStyle:{\"flex\":\"1\"},attrs:{\"items\":_vm.keyframe.items,\"speed\":[-12 / 375, 12 / 375]},model:{value:(_vm.keyframe.value),callback:function ($$v) {_vm.$set(_vm.keyframe, \"value\", $$v)},expression:\"keyframe.value\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  defineComponent,\n} from '@vue/composition-api';\n\nimport { getHost } from '@/utils/exec';\n\nimport GestureFrame from '@/components/GestureFrame.vue';\nimport useLoader from '_/composables/use-loader';\nimport axios from '@/utils/axios';\n\ntype Items = { url: string }[][];\n\nexport default defineComponent({\n  components: {\n    GestureFrame,\n  },\n  props: {\n    // renderRelateId: {\n    //   type: String,\n    //   require: true,\n    // },\n    // albumId: {\n    //   type: String,\n    //   required: true,\n    // },\n    // groupAppId: {\n    //   type: String,\n    // },\n    p: {\n      type: String,\n      require: true,\n    },\n  },\n  setup(props) {\n    const keyframe = useLoader(async ({ p }) => {\n      if (!p) return null;\n      console.info(btoa(p));\n      const { renderRelateId, albumId, groupAppId } = JSON.parse(atob(p));\n      console.info(renderRelateId, albumId, groupAppId);\n      const _items = (await axios.get<{ index: string, url: string }[]>(\n        'bff-center/cloud-disk/list/getPanoramaPictureList', {\n          params: { renderRelateId, albumId },\n          headers: {\n            groupAppId,\n          },\n        },\n      )).data;\n      const items: Items = [];\n      _items.forEach(item => {\n        const indexs = item.index.split('_').map(i => parseInt(i, 10));\n        items[indexs[0]] = items[indexs[0]] || [];\n        items[indexs[0]][indexs[1]] = item;\n      });\n      const valueY = Math.floor(items.length / 2);\n      const valueX = Math.floor(items[0].length / 2);\n      return {\n        items,\n        value: [valueY, valueX],\n        maxScale: 3,\n      };\n    }, props);\n\n    const closeWin = async () => {\n      const host = await getHost();\n      host.closeWin('closeRenderPreview');\n    };\n\n    return {\n      keyframe,\n      closeWin,\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPhotoPreview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenderPhotoPreview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RenderPhotoPreview.vue?vue&type=template&id=7198ee92&scoped=true&\"\nimport script from \"./RenderPhotoPreview.vue?vue&type=script&lang=ts&\"\nexport * from \"./RenderPhotoPreview.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RenderPhotoPreview.vue?vue&type=style&index=0&id=7198ee92&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7198ee92\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}