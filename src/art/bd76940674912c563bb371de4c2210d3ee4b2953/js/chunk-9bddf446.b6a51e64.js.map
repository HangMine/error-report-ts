{"version":3,"sources":["webpack:///./src/views/supplier-backend/components/FromFieldText.vue?07b2","webpack:///./src/views/material/info/components/UnitField.vue?c985","webpack:///./src/views/supplier-backend/components/FromFieldText.vue?2d72","webpack:///./src/views/supplier-backend/components/FromFieldText.vue?fefd","webpack:///./src/views/supplier-backend/components/FromFieldText.vue?f308","webpack:///./src/views/supplier-backend/components/FromFieldText.vue","webpack:///./src/views/material/info/components/UnitField.vue?b6eb","webpack:///src/views/material/info/components/UnitField.vue","webpack:///./src/views/material/info/components/UnitField.vue?bf5f","webpack:///./src/views/material/info/components/UnitField.vue","webpack:///./src/api/dictionary.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","label","_t","content","_e","_l","unit","index","key","type","attrs","value","units","length","$i18n","i18next","language","staticRenderFns","name","components","UnitField","props","String","required","Number","default","Array","setup","component","immediate","getDictionaryByTypeCode","typeCode","axios","method","url","headers","params","getCountryList","keyword"],"mappings":"kHAAA,W,kCCAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,OAAO,OAAOT,EAAIU,GAAG,UAAU,CAAEV,EAAW,QAAEI,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIW,SAAS,OAAOX,EAAIY,KAAKZ,EAAIa,GAAIb,EAAS,OAAE,SAASc,EAAKC,GAAO,MAAO,CAACX,EAAG,YAAY,CAACY,IAAIF,EAAKG,KAAKC,MAAM,CAAC,KAAOJ,EAAKG,KAAK,MAAQH,EAAKK,SAAUJ,EAAQf,EAAIoB,MAAMC,OAAS,EAAGjB,EAAG,OAAO,CAACY,IAAID,EAAMT,YAAY,YAAY,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAkC,OAA/BR,EAAIsB,MAAMC,QAAQC,SAAoB,QAAU,KAAK,OAAOxB,EAAIY,YAAW,MAClnBa,EAAkB,G,oCCiCP,+BAAgB,CAC7BC,KAAM,wBACNC,WAAY,CAAEC,YAAA,MACdC,MAAO,CAELpB,MAAO,CACLQ,KAAMa,OACNC,UAAU,GAGZpB,QAAS,CACPM,KAAM,CAACa,OAAQE,QACfC,QAAS,IAGXb,MAAO,CACLH,KAAMiB,MACND,QAAS,iBAAM,MAGnBE,MApB6B,SAoBvBN,GACJ,MAAO,MCvDia,I,wBCQxaO,EAAY,eACd,EACArC,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAW,E,kECnBf,IAAIrC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIc,UACnJW,EAAkB,G,0FCStB,gCACEI,MAAO,CAELZ,KAAM,CACJA,KAAMa,OACNC,UAAU,GAGZZ,MAAO,CACLF,KAAM,CAACe,OAAQF,UAInBK,MAbF,SAaA,EAbA,GAaA,yBACA,uBAiCI,OA/BA,OAAJ,WAAI,EAAJ,8KAEA,QAFA,6BAOA,mBAPA,iCAQA,iBARA,OAQA,EARA,OAQA,KACA,gDAEA,UACA,yDACA,GAbA,yCAgBA,uCAhBA,QAeA,EAfA,OAiBA,KACA,uDACA,qBAnBA,6DAsBA,QAtBA,gCAyBA,WAzBA,0DA2BA,CACME,WAAW,IAGN,CAAX,WCzDgY,I,wBCQ5XD,EAAY,eACd,EACArC,EACA0B,GACA,EACA,KACA,WACA,MAIa,OAAAW,E,oLCAFE,EAA0B,SAACC,EAAUf,GAChD,OAAOgB,eAAM,CACXC,OAAQ,MACRC,IAAK,+CACLC,QAAS,CAAEnB,YACXoB,OAAQ,CAAEL,eASDM,EAAiB,WAAkB,IAAjBC,EAAiB,uDAAP,GACvC,OAAON,eAAM,CACXC,OAAQ,MACRC,IAAK,8BACLE,OAAQ,CAAEE","file":"js/chunk-9bddf446.b6a51e64.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=style&index=0&id=f41e56ee&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=8f26f40a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-form-field\"},[_c('div',{staticClass:\"content-box\"},[_c('label',[_vm._v(_vm._s(_vm.label)+\"：\")]),_vm._t(\"default\",[(_vm.content)?_c('span',{staticClass:\"content\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")]):_vm._e(),_vm._l((_vm.units),function(unit,index){return [_c('UnitField',{key:unit.type,attrs:{\"type\":unit.type,\"value\":unit.value}}),(index < _vm.units.length - 1)?_c('span',{key:index,staticClass:\"unit-sep\"},[_vm._v(\" \"+_vm._s(_vm.$i18n.i18next.language === 'en' ? ' per ' : '/')+\" \")]):_vm._e()]})])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent } from '@vue/composition-api';\n\nimport UnitField from '@/views/material/info/components/UnitField.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\nexport default defineComponent({\n  name: 'MaterialFormFieldText',\n  components: { UnitField },\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String, Number],\n      default: '',\n    },\n    // 单位数组\n    units: {\n      type: Array as () => Unit[],\n      default: () => [],\n    },\n  },\n  setup(props) {\n    return {\n    };\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FromFieldText.vue?vue&type=template&id=f41e56ee&scoped=true&\"\nimport script from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nexport * from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FromFieldText.vue?vue&type=style&index=0&id=f41e56ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f41e56ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watch } from '@vue/composition-api';\nimport i18n from 'i18next';\n\nimport { getCountryList, getDictionaryByTypeCode } from '@/api/dictionary';\n\nexport default defineComponent({\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler } }) {\n    const unit = ref('');\n\n    watch(() => props.value, async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          if (props.type === 'country') {\n            units = (await getCountryList()).data;\n            currentUnit = units.find(u => +u.id === +props.value);\n            // unit.value = currentUnit ? currentUnit.usName : '';\n            unit.value = currentUnit\n              ? (i18n.language === 'en' ? (currentUnit.usName || currentUnit.name) : (currentUnit.name || currentUnit.usName))\n              : '';\n          } else {\n            units = (\n              await getDictionaryByTypeCode(props.type, i18n.language)\n            ).data;\n            currentUnit = units.find(u => +u.itemValue === +props.value);\n            unit.value = currentUnit ? currentUnit.label : '';\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    }, {\n      immediate: true,\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=8f26f40a&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=8f26f40a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8f26f40a\",\n  null\n  \n)\n\nexport default component.exports","import { getDictByType as _getDictByType } from '@/loaders/dictionary';\nimport axios from './axios';\n\n/**\n * 根据类型获取该字典数据\n * @param {String} type 类型\n * @returns {Promise}\n */\nexport const getDictByType = async (type) => {\n  return {\n    data: await _getDictByType({ type }),\n  };\n};\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n/**\n * 获取国家列表\n * @param {String} countryId 国家ID\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCityList = (countryId, keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCity',\n    params: { countryId, keyword },\n  });\n};\n\n\nexport const getOSSAuth = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSAuth',\n  });\n};\n\nexport const getOSSUrl = () => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getOSSUrl',\n  });\n};\n\n// 获取国家下的城市\n\n\n/* ==================== 标签相关 ================== */\n/**\n * 新增标签\n * @param {Object} data { shareId: string, tags: string[], type: string }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6116\n */\nexport const addTags = (data) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/addTags',\n    data,\n  });\n};\n\n/**\n * 删除标签\n * @param {Array} tagIds { string[] }\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6128\n */\nexport const removeTags = (tagIds) => {\n  return axios({\n    method: 'post',\n    url: '/bff-center/showCommon/deleteTag',\n    data: tagIds,\n  });\n};\n"],"sourceRoot":""}