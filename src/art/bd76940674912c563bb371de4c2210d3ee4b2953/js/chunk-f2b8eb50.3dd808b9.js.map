{"version":3,"sources":["webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?914a","webpack:///src/views/material-mall/mobile-material-goods/components/UnitField.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?b0fb","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?ba99","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?d41e","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?acf8","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue","webpack:///./src/views/material-mall/mobile-material-goods/components/FromFieldText.vue?256c","webpack:///./src/views/material-mall/mobile-material-goods/utils.ts","webpack:///./src/views/material-mall/mobile-material-goods/components/UnitField.vue?42b8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","unit","staticRenderFns","method","url","params","headers","mixins","props","type","String","required","value","Number","setup","immediate","component","label","_t","content","_e","_l","index","key","attrs","count","on","addCount","units","length","$i18n","i18next","language","name","components","UnitField","default","Array","getMaterialDetail","id","countSettledAxios","model","prop","event","methods","$emit"],"mappings":"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","file":"js/chunk-f2b8eb50.3dd808b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"unit-text\"},[_vm._v(_vm._s(_vm.unit))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"unit-text\">{{ unit }}</span>\n</template>\n\n<script>\nimport { defineComponent, ref, watch } from '@vue/composition-api';\nimport i18n from 'i18next';\nimport axios from '@/utils/axios';\nimport { countSettledAxios } from '../utils';\n\n\n/**\n * 获取国家列表\n * @param {String} keyword 搜索关键字\n * @returns {Promise}\n */\nexport const getCountryList = (keyword = '') => {\n  return axios({\n    method: 'get',\n    url: '/show/dictionary/getCountry',\n    params: { keyword },\n  });\n};\n\n\n/**\n * 根据类型获取该字典数据\n * @param {String} typeCode\n * @see http://yapi.4dshoetech.local/project/115/interface/api/6104\n */\nexport const getDictionaryByTypeCode = (typeCode, language) => {\n  return axios({\n    method: 'get',\n    url: '/bff-center/showCommon/getDictionaryTypeItem',\n    headers: { language },\n    params: { typeCode },\n  });\n};\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  props: {\n    // 单位的类型\n    type: {\n      type: String,\n      required: true,\n    },\n    // 单位的值\n    value: {\n      type: [Number, String],\n      // required: true,\n    },\n  },\n  setup(props, { root: { $errHandler }, emit, ...arg }) {\n    const unit = ref('');\n\n    watch(() => props.value, async () => {\n      // 处理空值和null情况\n      if (props.value) {\n        try {\n          let units;\n          let currentUnit;\n          // 国家字典的情况\n          if (props.type === 'country') {\n            units = (await getCountryList()).data;\n            currentUnit = units.find(u => +u.id === +props.value);\n            // unit.value = currentUnit ? currentUnit.usName : '';\n            unit.value = currentUnit\n              ? (i18n.language === 'en' ? (currentUnit.usName || currentUnit.name) : (currentUnit.name || currentUnit.usName))\n              : '';\n            emit('update', props.count + 1);\n          } else {\n            units = (\n              await getDictionaryByTypeCode(props.type, i18n.language)\n            ).data;\n            currentUnit = units.find(u => +u.itemValue === +props.value);\n            unit.value = currentUnit ? currentUnit.label : '';\n            emit('update', props.count + 1);\n          }\n        } catch (err) {\n          $errHandler(err);\n        }\n      } else {\n        unit.value = '';\n      }\n    }, {\n      immediate: true,\n    });\n\n    return { unit };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.unit-text {\n  display: inline-block;\n  line-height: 22px;\n  vertical-align: middle;\n  white-space: normal;\n  & + .unit-text {\n    margin-left: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UnitField.vue?vue&type=template&id=01b1cef2&scoped=true&\"\nimport script from \"./UnitField.vue?vue&type=script&lang=js&\"\nexport * from \"./UnitField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UnitField.vue?vue&type=style&index=0&id=01b1cef2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01b1cef2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-form-field\"},[_c('div',{staticClass:\"content-box\"},[_c('label',[_vm._v(_vm._s(_vm.label)+\"：\")]),_vm._t(\"default\",[_c('div',[(_vm.content)?_c('span',{staticClass:\"content\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")]):_vm._e(),_vm._l((_vm.units),function(unit,index){return [_c('UnitField',{key:unit.type,attrs:{\"count\":_vm.count,\"type\":unit.type,\"value\":unit.value},on:{\"update\":_vm.addCount}}),(index < _vm.units.length - 1)?_c('span',{key:index,staticClass:\"unit-sep\"},[_vm._v(\" \"+_vm._s(_vm.$i18n.i18next.language === 'en' ? ' per ' : '/')+\" \")]):_vm._e()]})],2)])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport i18n from 'i18next';\nimport { defineComponent } from '@vue/composition-api';\n\nimport { countSettledAxios } from '../utils';\nimport UnitField from './UnitField.vue';\n\ninterface Unit {\n  type: string,\n  value: number | string,\n}\n\nexport default defineComponent({\n  mixins: [countSettledAxios],\n  name: 'MaterialFormFieldText',\n  components: { UnitField },\n  props: {\n    // 标签名称\n    label: {\n      type: String,\n      required: true,\n    },\n    // 内容\n    content: {\n      type: [String, Number],\n      default: '',\n    },\n    // 单位数组\n    units: {\n      type: Array as () => Unit[],\n      default: () => [],\n    },\n  },\n  setup(props) {\n    return {\n    };\n  },\n});\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FromFieldText.vue?vue&type=template&id=72cd31bc&scoped=true&\"\nimport script from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nexport * from \"./FromFieldText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FromFieldText.vue?vue&type=style&index=0&id=72cd31bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72cd31bc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FromFieldText.vue?vue&type=style&index=0&id=72cd31bc&lang=scss&scoped=true&\"","import axios from '@/utils/axios';\n\nexport interface ImgJson {\n  diffuse: string\n  flat: string\n  height: string\n  normal: string\n  specular: string\n  thumbnail: string\n  toeThumbnail: string\n  texture?: string\n\n  glossiness: string\n  // 有的有有的没有，条件暂时不明\n  images?: string[]\n  models?: string[]\n  videos?: string[]\n}\n\nexport interface MaterialGoods {\n  id: string\n  materialId: string\n  materialName: string\n  imgJson: ImgJson\n  /* 点击数 */\n  click?: number\n  color?: string\n  colorFamily?: string\n  companyId?: string\n  samplePrice?: number\n  totalSize?: number\n  [propName: string]: any\n\n  materialType: number\n  /** 供应商材料名称 */\n  supplierArticleName: string\n  supplierArticleNo: string\n  supplierName: string\n  /** 使用部位 */\n  partUsed: string\n  /** 起订量 */\n  moq: number\n  moqUnit: number\n  season: string\n  /** 样品周期 */\n  samplePeriod: string\n  samplePeriodUnit: number\n  /** 大货周期；接口如此 */\n  productionLeadTime: null\n  productionLeadTimeUnit: string\n  /* 规格 */\n  specification: string\n  /** 接口如此 */\n  thickness:null\n  /* 原产地 */\n  materialCountryOfOrigin: string\n}\n\n/**\n * 查询面料详细信息\n */\nexport const getMaterialDetail = (id: string) => {\n  return axios({\n    method: 'get',\n    url: '/mall/material',\n    params: {\n      id,\n    },\n  });\n};\n\nexport const countSettledAxios = {\n  props: {\n    count: Number,\n  },\n  model: {\n    prop: 'count',\n    event: 'update',\n  },\n  methods: {\n    addCount() {\n      this.$emit('update', this.count + 1);\n    },\n  },\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnitField.vue?vue&type=style&index=0&id=01b1cef2&lang=scss&scoped=true&\""],"sourceRoot":""}