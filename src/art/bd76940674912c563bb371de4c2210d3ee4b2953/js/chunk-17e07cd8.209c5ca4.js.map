{"version":3,"sources":["webpack:///./src/components/dynamic-form/MaterialOrder/MaterialForm.vue","webpack:///./src/components/dynamic-form/MaterialOrder/material.ts","webpack:///./src/components/dynamic-form/MaterialOrder/MaterialForm.vue?5696","webpack:///./src/components/dynamic-form/MaterialOrder/MaterialForm.vue?5caa","webpack:///./src/components/dynamic-form/MaterialOrder/MaterialForm.vue?e2ba"],"names":["staticRenderFns","schema","$schema","$id","type","title","description","default","required","sort","properties","materialName","i18n","t","maxLength","validator","materialNumber","materialType","custom","customType","wrapperClass","supplierArticleName","supplierArticleNo","samplePrice","supplierName","partUsed","moq","season","colorFamily","color","samplePeriod","productionLeadTime","specification","thickness","shape","materialCountryOfOrigin","notes","inputType","rows","resize","modifyDesc","dataReceiviedTime","deadline","bindOrderNo","labels","limit","customInputs","ref","materialForm","props","id","String","f2","render","this","formData","formItemClass","formItemGenerator","v","valueWithUnit","item","value","max","window","close","$act","submit","setup","data","opener","JSON","parse","stringify","j2t","validate","$refs","customInputForm","Object","assign","component"],"mappings":"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","file":"js/chunk-17e07cd8.209c5ca4.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./MaterialForm.vue?vue&type=script&lang=tsx&\"\nexport * from \"./MaterialForm.vue?vue&type=script&lang=tsx&\"\nimport style0 from \"./MaterialForm.vue?vue&type=style&index=0&id=a3c65420&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3c65420\",\n  null\n  \n)\n\nexport default component.exports","import i18n from '@/i18n';\nimport { JSONschema } from '@4dst-saas/form-utils/dist/components/jsonschema2form';\n\nexport const schema: JSONschema = {\n  $schema: 'http://json-schema.org/draft-07/schema',\n  $id: 'http://example.com/example.json',\n  type: 'object',\n  title: 'The root schema',\n  description: 'The root schema comprises the entire JSON document.',\n  default: {},\n  required: ['materialName', 'materialType'],\n  sort: [\n    'materialName', 'materialNumber',\n    'materialType', 'supplierArticleName',\n    'supplierArticleNo', 'samplePrice',\n    'supplierName', 'partUsed',\n    'moq', 'season',\n    'colorFamily', 'color',\n    'samplePeriod', 'productionLeadTime',\n    'specification', 'thickness',\n    'shape', 'materialCountryOfOrigin',\n    'notes', 'modifyDesc',\n    'dataReceiviedTime', 'deadline',\n    'bindOrderNo', 'labels',\n    'customInputs'],\n  properties: {\n    materialName: {\n      $id: '#/properties/materialName',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.material_name'),\n      maxLength: 18,\n      default: '',\n      validator: ['materialName'],\n    },\n    materialNumber: {\n      $id: '#/properties/materialNumber',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.material_number'),\n      maxLength: 18,\n      default: '',\n    },\n    materialType: {\n      $id: '#/properties/materialType',\n      custom: true,\n      customType: 'DictionarySelectorMateiral',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.material_type_name'),\n      wrapperClass: 'flex-column',\n      maxLength: 18,\n      default: '',\n      validator: ['materialType'],\n    },\n    supplierArticleName: {\n      $id: '#/properties/supplierArticleName',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.material_type_number'),\n      maxLength: 18,\n      default: '',\n    },\n    supplierArticleNo: {\n      $id: '#/properties/supplierArticleNo',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.color_number'),\n      maxLength: 18,\n      default: '',\n    },\n    samplePrice: {\n      $id: '#/properties/samplePrice',\n      title: i18n.t('order_management.material_dynamic_form.sample_price'),\n      custom: true,\n      customType: 'SamplePriceInput',\n      type: 'object',\n      wrapperClass: 'flex-column',\n    },\n    supplierName: {\n      $id: '#/properties/supplierName',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.supplier_name'),\n      maxLength: 18,\n      default: '',\n    },\n    partUsed: {\n      $id: '#/properties/partUsed',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.application_area'),\n      maxLength: 18,\n      default: '',\n    },\n    moq: {\n      $id: '#/properties/moq',\n      type: 'object',\n      title: i18n.t('order_management.material_dynamic_form.moq'),\n      custom: true,\n      customType: 'InputWithMoq',\n      wrapperClass: 'flex-column',\n      validator: ['valueWithUnit'],\n    },\n    season: {\n      $id: '#/properties/season',\n      type: 'string',\n      maxLength: 18,\n      title: i18n.t('order_management.material_dynamic_form.season'),\n      default: '',\n    },\n    colorFamily: {\n      $id: '#/properties/colorFamily',\n      custom: true,\n      customType: 'MaterialColorPicker',\n      title: i18n.t('order_management.material_dynamic_form.color_system'),\n      wrapperClass: 'flex-column',\n      type: 'string',\n    },\n    color: {\n      $id: '#/properties/color',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.color_name'),\n      maxLength: 18,\n      default: '',\n    },\n    samplePeriod: {\n      $id: '#/properties/smaple',\n      title: i18n.t('order_management.material_dynamic_form.sample_cycle'),\n      custom: true,\n      customType: 'InputWithDate',\n      type: 'object',\n      wrapperClass: 'flex-column',\n      validator: ['valueWithUnit'],\n    },\n    productionLeadTime: {\n      $id: '#/properties/smaple',\n      title: i18n.t('order_management.material_dynamic_form.production_cycle'),\n      custom: true,\n      customType: 'InputWithDate',\n      type: 'object',\n      wrapperClass: 'flex-column',\n      validator: ['valueWithUnit'],\n\n    },\n    specification: {\n      $id: '#/properties/specification',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.specification'),\n      maxLength: 18,\n      default: '',\n    },\n    thickness: {\n      $id: '#/properties/thickness',\n      type: 'object',\n      custom: true,\n      customType: 'InputWithThickness',\n      title: i18n.t('order_management.material_dynamic_form.thickness'),\n      wrapperClass: 'flex-column',\n      validator: ['valueWithUnit'],\n    },\n    shape: {\n      $id: '#/properties/shape',\n      type: 'array',\n      custom: true,\n      customType: 'VueInputTag',\n      title: i18n.t('order_management.material_dynamic_form.print_patterns'),\n      wrapperClass: 'flex-column',\n      maxLength: 18,\n    },\n    materialCountryOfOrigin: {\n      $id: '#/properties/materialCountryOfOrigin',\n      type: 'string',\n      custom: true,\n      customType: 'DictionaryCountrySelector',\n      wrapperClass: 'flex-column',\n      title: i18n.t('order_management.material_dynamic_form.origin'),\n    },\n    notes: {\n      $id: '#/properties/notes',\n      type: 'string',\n      wrapperClass: 'custom-component-wrap',\n      inputType: 'textarea',\n      title: i18n.t('order_management.material_dynamic_form.note'),\n      maxLength: 500,\n      'show-word-limit': true,\n      rows: 4,\n      resize: 'none',\n      default: '',\n    },\n    modifyDesc: {\n      $id: '#/properties/modifyDesc',\n      type: 'array',\n      custom: true,\n      customType: 'ModifyRemark',\n      wrapperClass: 'custom-component-wrap',\n    },\n    dataReceiviedTime: {\n      $id: '#/properties/dataReceiviedTime',\n      type: 'string',\n      custom: true,\n      customType: 'DateHourPicker',\n      title: i18n.t('order_management.material_dynamic_form.receive_date'),\n    },\n    deadline: {\n      $id: '#/properties/deadline',\n      type: 'string',\n      custom: true,\n      customType: 'DateHourPicker',\n      title: i18n.t('order_management.material_dynamic_form.delivery_time'),\n    },\n    bindOrderNo: {\n      $id: '#/properties/bindOrderNo',\n      type: 'string',\n      title: i18n.t('order_management.material_dynamic_form.customer_order_number'),\n      maxLength: 18,\n      default: '',\n    },\n    labels: {\n      $id: '#/properties/labels',\n      type: 'array',\n      title: i18n.t('order_management.material_dynamic_form.tag'),\n      custom: true,\n      customType: 'VueInputTag',\n      wrapperClass: 'flex-column',\n      limit: 1,\n    },\n    customInputs: {\n      $id: '#/properties/customInputs',\n      type: 'array',\n      custom: true,\n      customType: 'CustomInput',\n      wrapperClass: 'custom-component-wrap',\n      ref: 'customInputForm',\n    },\n  },\n};\nexport default {};\n","\nimport { defineComponent, reactive, ref } from '@vue/composition-api';\nimport JSONschema2Type from '@4dst-saas/form-utils/dist/components/jsonschema2form';\nimport formItemGenerator from '@/components/dynamic-form/formItemGenerator';\nimport isFilled from '@/utils/validators/is-filled';\nimport { ValueWithUnit } from '@/views/components/InputWithUnit.vue';\nimport strLength from '@/utils/validators/str-length';\nimport i18n from '@/i18n';\nimport { schema } from './material';\n\nconst materialForm = defineComponent({\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    // 是否禁用编辑要求\n    f2: {\n      type: String,\n    },\n  },\n  render() {\n    return (\n      <section class=\"form-page\">\n        <div class=\"form-container\">\n          <div class=\"title\">{i18n.t('order_management.material_dynamic_form.collection_detail')}</div>\n          <JSONschema2Type ref=\"j2t\" form={this.formData}\n            disabled={this.f2 === '1'}\n            size=\"small\"\n            class=\"custom-form\"\n            setting={{\n              formItemClass: 'custom-form-item',\n            }}\n            jsonschema={schema} formItemGenerator={formItemGenerator}\n            formItemValidator={{\n              materialName(v: string) {\n                isFilled(v);\n              },\n              materialType(v: string) {\n                isFilled(v);\n              },\n              valueWithUnit(item: ValueWithUnit) {\n                const { value } = item;\n                if (typeof value === 'string') {\n                  strLength(value, { max: 18 });\n                }\n              },\n            }} />\n        </div>\n        <div class=\"form-submit-section\">\n          <el-button type=\"default\" round onclick={() => window.close()}>{i18n.t('order_management.material_dynamic_form.cancel')}</el-button>\n          <el-button type=\"primary\" round onclick={\n            () => { this.$act(this.submit); }\n          }>{i18n.t('order_management.material_dynamic_form.save')}</el-button>\n        </div>\n      </section>\n    );\n  },\n  setup(props) {\n    const data = ref(window.opener[`material_${props.id}`]);\n    const formData = ref(JSON.parse(JSON.stringify(data.value)));\n    const j2t = ref();\n    async function submit() {\n      if (j2t.value) {\n        await j2t.value.validate();\n        if (j2t.value.$refs.customInputForm) {\n          await j2t.value.$refs.customInputForm.validate();\n        }\n\n        Object.assign(data.value, formData.value);\n        window.close();\n      }\n    }\n    // watch(() => {return props.f2}, () => {\n    //   sampleJson.$set()\n    // })\n    return {\n      data,\n      submit,\n      j2t,\n      formData,\n    };\n  },\n});\nexport default materialForm;\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialForm.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialForm.vue?vue&type=script&lang=tsx&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialForm.vue?vue&type=style&index=0&id=a3c65420&lang=scss&scoped=true&\""],"sourceRoot":""}