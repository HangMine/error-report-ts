{"version":3,"sources":["webpack:///./src/components/rte/main.vue?591e","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./src/components/rte/placeholder/image.scss","webpack:///./src/components/rte/iframe.scss","webpack:///./src/components/rte/main.vue?5f9c","webpack:///./src/components/rte/default-tool.vue?16ad","webpack:///src/components/rte/default-tool.vue","webpack:///./src/components/rte/default-tool.vue?9251","webpack:///./src/components/rte/default-tool.vue","webpack:///./src/components/rte/editor.vue?a39c","webpack:///./src/components/rte/util.js","webpack:///src/components/rte/editor.vue","webpack:///./src/components/rte/editor.vue?bac9","webpack:///./src/components/rte/editor.vue","webpack:///./src/components/rte/upload.vue?43de","webpack:///src/components/rte/upload.vue","webpack:///./src/components/rte/upload.vue?9693","webpack:///./src/components/rte/upload.vue","webpack:///./src/components/rte/default-tools.js","webpack:///./src/components/rte/commands.js","webpack:///./src/components/rte/separator.vue?8767","webpack:///./src/components/rte/separator.vue","webpack:///src/components/rte/main.vue","webpack:///./src/components/rte/main.vue?bf4f","webpack:///./src/components/rte/main.vue","webpack:///./src/components/rte/placeholder/video.scss","webpack:///./src/components/rte/separator.vue?48ff","webpack:///./src/components/rte/editor.vue?65fc","webpack:///./src/components/rte/placeholder/Video.jsx","webpack:///./src/components/rte/placeholder/Image.jsx","webpack:///./src/components/rte/default-tool.vue?9e99","webpack:///./src/components/rte/upload.vue?9a3e"],"names":["cssWithMappingToString","item","useSourceMap","content","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","map","source","concat","sourceRoot","join","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","module","exports","list","toString","this","i","modules","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","___CSS_LOADER_API_IMPORT___","render","_vm","_h","$createElement","_c","_self","staticClass","class","isFull","_t","_l","idx","is","_b","key","ref","refInFor","tag","attrs","$refs","editor","placeholderComponents","styles","value","on","v","$emit","staticRenderFns","command","name","title","_e","slot","icon","state","active","$event","preventDefault","click","props","states","computed","window","document","watch","methods","call","refreshState","getState","component","isDndOver","getRange","range","sel","getSelection","getRangeAt","rangeCount","createRange","setStart","anchorNode","anchorOffset","setEnd","focusNode","focusOffset","collapsed","isCollapsed","clearRange","removeAllRanges","removeRange","getSelectionContainer","container","commonAncestorContainer","nodeType","parentNode","html2Node","doc","str","fragment","createDocumentFragment","div","createElement","innerHTML","firstChild","appendChild","isNode","obj","insert","node","replace","clearRangeAfterInjected","deleteContents","insertNode","body","focus","el","setDesignMode","elem","toggle","undefined","style","userModify","webkitUserModify","contentEditable","designMode","injectStyle","css","head","getElementsByTagName","textContent","styleSheet","cssText","replaceElementWithPlaceholder","dataset","componentData","Constructor","options","VueConstructor","vm","$mount","$el","vmId","_uid","replaceWith","childNodes","placeholder","default","type","Array","placeholders","_cacheHtml","val","setHTML","registryPlaceholder","indexOf","html","getHTML","$options","propsData","$props","outerHTML","nodeValue","isSelfClosed","indexOfClose","memo","insertVue","contains","$destroy","$parent","$on","onselectionchange","uploadingFile","parseInt","progress","directives","rawName","arg","disabled","fileValidationOptions","mimeTypes","e","$act","pick","target","files","loadVideo","url","Promise","video","onloadeddata","onerror","src","getVideoThumbnail","canvas","width","videoWidth","height","videoHeight","context","drawImage","toDataURL","thumbOptions","fixOrientation","mode","maxRatio","rawFiles","forEach","file","Image","Video","children","Upload","closest","tagName","createHeadingCommand","level","execCommand","alignRefreshState","console","log","params","alignCommands","includes","toggleState","queryCommandState","fullScreen","toggleFull","undo","h1","h2","h3","h4","bold","param","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyRight","justifyCenter","delete","indent","outdent","formatBlock","insertHorizontalRule","justifyFull","removeFormat","selectAll","unlink","insertUnorderedList","insertOrderedList","script","isComponent","com","normalizeTool","tool","components","Separator","commands","isArray","bind","DefaultTool","componentName","Editor","tools","tools_","cCommands","Vue","extend","edit","remove","removeChild","mediaDemensions","status","backgroundImage","thumb","placeholderStyle","media","Object","assign","loading"],"mappings":"kHAAA,W,oCCmEA,SAASA,EAAuBC,EAAMC,GACpC,IAAIC,EAAUF,EAAK,IAAM,GAErBG,EAAaH,EAAK,GAEtB,IAAKG,EACH,OAAOD,EAGT,GAAID,GAAgC,oBAATG,KAAqB,CAC9C,IAAIC,EAAgBC,EAAUH,GAC1BI,EAAaJ,EAAWK,QAAQC,KAAI,SAAUC,GAChD,MAAO,iBAAiBC,OAAOR,EAAWS,YAAc,IAAID,OAAOD,EAAQ,UAE7E,MAAO,CAACR,GAASS,OAAOJ,GAAYI,OAAO,CAACN,IAAgBQ,KAAK,MAGnE,MAAO,CAACX,GAASW,KAAK,MAIxB,SAASP,EAAUQ,GAEjB,IAAIC,EAASX,KAAKY,SAASC,mBAAmBC,KAAKC,UAAUL,MACzDM,EAAO,+DAA+DT,OAAOI,GACjF,MAAO,OAAOJ,OAAOS,EAAM,OApF7BC,EAAOC,QAAU,SAAUrB,GACzB,IAAIsB,EAAO,GAuDX,OArDAA,EAAKC,SAAW,WACd,OAAOC,KAAKhB,KAAI,SAAUT,GACxB,IAAIE,EAAUH,EAAuBC,EAAMC,GAE3C,OAAID,EAAK,GACA,UAAUW,OAAOX,EAAK,GAAI,MAAMW,OAAOT,EAAS,KAGlDA,KACNW,KAAK,KAKVU,EAAKG,EAAI,SAAUC,EAASC,EAAYC,GACf,kBAAZF,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAIG,EAAyB,GAE7B,GAAID,EACF,IAAK,IAAIH,EAAI,EAAGA,EAAID,KAAKM,OAAQL,IAAK,CAEpC,IAAIM,EAAKP,KAAKC,GAAG,GAEP,MAANM,IACFF,EAAuBE,IAAM,GAKnC,IAAK,IAAIC,EAAK,EAAGA,EAAKN,EAAQI,OAAQE,IAAM,CAC1C,IAAIjC,EAAO,GAAGW,OAAOgB,EAAQM,IAEzBJ,GAAUC,EAAuB9B,EAAK,MAKtC4B,IACG5B,EAAK,GAGRA,EAAK,GAAK,GAAGW,OAAOiB,EAAY,SAASjB,OAAOX,EAAK,IAFrDA,EAAK,GAAK4B,GAMdL,EAAKW,KAAKlC,MAIPuB,I,uEC/DT,IAAIY,EAA8B,EAAQ,QAC1Cb,EAAUa,GAA4B,GAEtCb,EAAQY,KAAK,CAACb,EAAOK,EAAI,gEAAiE,KAE1FL,EAAOC,QAAUA,G,8CCLjB,IAAIa,EAA8B,EAAQ,QAC1Cb,EAAUa,GAA4B,GAEtCb,EAAQY,KAAK,CAACb,EAAOK,EAAI,+mCAAwnC,KAEjpCL,EAAOC,QAAUA,G,kCCNjB,IAAIc,EAAS,WAAa,IAAIC,EAAIZ,KAASa,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,CAAC,UAAWN,EAAIO,SAAS,CAACP,EAAIQ,GAAG,QAAQ,CAACL,EAAG,MAAM,CAACE,YAAY,cAAc,CAACL,EAAIS,GAAIT,EAAU,QAAE,SAASrC,EAAK+C,GAAK,MAAO,CAACP,EAAGxC,EAAKgD,GAAGX,EAAIY,GAAG,CAACC,IAAIH,EAAII,IAAI,UAAUC,UAAS,EAAKC,IAAI,YAAYC,MAAM,CAAC,OAASjB,EAAIkB,MAAMC,SAAS,YAAYxD,EAAKsD,OAAM,SAAY,KAAKd,EAAG,SAAS,CAACW,IAAI,SAAST,YAAY,SAASY,MAAM,CAAC,sBAAwBjB,EAAIoB,sBAAsB,OAASpB,EAAIqB,OAAO,MAAQrB,EAAIsB,OAAOC,GAAG,CAAC,MAAQ,SAAUC,GAAKxB,EAAIyB,MAAM,QAASD,QAAS,IACxlBE,EAAkB,G,kECDlB,EAAS,WAAa,IAAI1B,EAAIZ,KAASa,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAAuB,UAArBH,EAAI2B,QAAQC,KAAkBzB,EAAG,aAAa,CAACc,MAAM,CAAC,UAAY,YAAY,MAAQjB,EAAI2B,QAAQE,MAAM,MAAQ,MAAM,QAAU,UAAU,CAAE7B,EAAU,OAAEG,EAAG,MAAM,CAACH,EAAIS,GAAIT,EAAI2B,QAAgB,UAAE,SAAShE,EAAK+C,GAAK,MAAO,CAACP,EAAGxC,EAAKgD,GAAGX,EAAIY,GAAG,CAACC,IAAIH,EAAIM,IAAI,YAAYC,MAAM,CAAC,OAASjB,EAAImB,SAAS,YAAYxD,EAAKsD,OAAM,SAAY,GAAGjB,EAAI8B,KAAK3B,EAAG,IAAI,CAACE,YAAY,MAAMY,MAAM,CAAC,KAAO,YAAY,KAAO,eAAec,KAAK,aAAa,CAAC5B,EAAG,IAAI,CAACG,MAAMN,EAAI2B,QAAQK,WAAW7B,EAAG,IAAI,CAACE,YAAY,MAAMC,MAAMN,EAAIiC,OAASjC,EAAIiC,MAAMC,OAAS,SAAW,GAAGjB,MAAM,CAAC,KAAO,eAAeM,GAAG,CAAC,MAAQ,SAASY,GAAgC,OAAxBA,EAAOC,iBAAwBpC,EAAIqC,WAAW,CAAClC,EAAG,IAAI,CAACG,MAAMN,EAAI2B,QAAQK,UAAU,IACvxB,EAAkB,GCgDtB,GACEJ,KAAM,iBACNU,MAAO,CACLX,QAAS,GACTR,OAAQ,GACRoB,OAAQ,IAGVxD,KARF,WASI,MAAO,CACLkD,MAAO,KAGXO,SAAU,CACRC,OADJ,WAEM,OAAOrD,KAAK+B,OAAS/B,KAAK+B,OAAOsB,OAAS,MAE5CC,SAJJ,WAKM,OAAOtD,KAAK+B,OAAS/B,KAAK+B,OAAOuB,SAAW,OAGhDC,MAAO,CACLxB,OADJ,SACA,cACU,GACF,EAAR,kCACU,EAAV,oBAKEyB,QAAS,CACPP,MADJ,WAEUjD,KAAKuC,QAAQU,OACfjD,KAAKuC,QAAQU,MAAMQ,KAAKzD,OAG5B0D,aANJ,WAOM,MAAqC,oBAA1B1D,KAAKuC,QAAQoB,UACtB3D,KAAK6C,MAAQ7C,KAAKuC,QAAQoB,SAASF,KAAKzD,MACjCA,KAAK6C,OAEP,MC1FwV,I,wBCQjWe,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAIhD,EAAIZ,KAASa,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAaC,MAAM,CAAC2C,UAAWjD,EAAIiD,YAAY,CAAC9C,EAAG,SAAS,CAACW,IAAI,SAASG,MAAM,CAAC,IAAM,oBACzM,EAAkB,G,+ICKf,SAASiC,EAAST,GACvB,IACIU,EADEC,EAAMX,EAAOY,eAoBnB,OAlBID,EAAIE,WACFF,EAAIG,WAAa,IACnBJ,EAAQC,EAAIE,WAAW,KAKzBH,EAAQT,SAASc,cACjBL,EAAMM,SAASL,EAAIM,WAAYN,EAAIO,cACnCR,EAAMS,OAAOR,EAAIS,UAAWT,EAAIU,aAI5BX,EAAMY,YAAcX,EAAIY,cAC1Bb,EAAMM,SAASL,EAAIS,UAAWT,EAAIU,aAClCX,EAAMS,OAAOR,EAAIM,WAAYN,EAAIO,gBAG9BR,EAEF,SAASc,EAAWxB,GACzB,IAAMW,EAAMX,EAAOY,eACnB,GAAID,EAAIc,gBACNd,EAAIc,uBAEJ,MAAOd,EAAIG,WACTH,EAAIe,YAAYf,EAAIE,WAAW,IAM9B,SAASc,EAAsB3B,GACpC,IAAMU,EAAQD,EAAST,GACvB,GAAIU,EAAO,CACT,IAAMkB,EAAYlB,EAAMmB,wBAExB,OAA8B,IAAvBD,EAAUE,SAAiBF,EAAUG,WAAaH,GAYtD,SAASI,EAAUC,EAAKC,GAC7B,IAAMC,EAAWF,EAAIG,yBACfC,EAAMJ,EAAIK,cAAc,OAC9BD,EAAIE,UAAYL,EAChB,IAAItF,EAAIyF,EAAIG,WACZ,MAAO5F,EACLuF,EAASM,YAAY7F,GACrBA,EAAIyF,EAAIG,WAEV,OAAOL,EAEF,SAASO,EAAOC,GACrB,MAAsB,WAAf,eAAOA,IAAoB,aAAcA,EAE3C,SAASC,EAAO5C,EAAQ6C,GAAsD,IAAhDC,IAAgD,yDAAhCC,IAAgC,yDAC9EL,EAAOG,KAAOA,EAAOb,EAAUhC,EAAOC,SAAU4C,IACrD,IAAMnC,EAAQD,EAAST,GACnBU,GACEoC,GACFpC,EAAMsC,iBAERtC,EAAMuC,WAAWJ,GACbE,GACFvB,EAAWxB,IAGbA,EAAOC,SAASiD,KAAKT,YAAYI,GAG9B,SAASM,EAAMC,GACpBA,EAAGD,QAmBE,SAASE,EAAcC,GAAqB,IAAfC,IAAe,8DACnBC,IAA1BF,EAAKG,MAAMC,iBAA4DF,IAAhCF,EAAKG,MAAME,iBACpDL,EAAKM,gBAAkBL,EAEdD,EAAKO,WACdP,EAAKO,WAAaN,EAAS,KAAO,MAElCD,EAAKM,gBAAkBL,EA0CpB,SAASO,EAAY7B,EAAK8B,GAC/B,IAAMC,EAAO/B,EAAIgC,qBAAqB,QAAQ,GACxCR,EAAQxB,EAAIK,cAAc,SAC5B,gBAAiBmB,EACnBA,EAAMS,YAAcH,EAEpBN,EAAMU,WAAWC,QAAUL,EAE7BC,EAAKvB,YAAYgB,GCpJnB,SAASY,EACT,OAEE,GAAIjB,EAAGkB,SAAWlB,EAAGkB,QAAQ/D,UAAW,CACtC,IAAJ,2BACI,GAAIgE,GAAR,WAAyB,OAAzB,OAAyB,CAAzB,UACM,IAAN,sBACQ,OAAOC,EAAYC,QAAQtF,OAASoF,EAAcrG,MAEpD,GAAIwG,EAAgB,CAClB,IAAR,iCACQC,EAAGC,SACHD,EAAGE,IAAIP,QAAQQ,KAAOH,EAAGI,KACzB,EAAR,2BACQ3B,EAAG4B,YAAYL,EAAGE,OAIxB,GAAIzB,EAAG6B,WACL,IAAK,IAAT,8BACMZ,EAA8BjB,EAAG6B,WAAWrI,GAAIsI,EAAavG,GAKnE,OACEQ,KAAM,YACNU,MAAO,CACLhB,MAAO,CACLsG,QAAS,IAEXvG,OAAQ,CACNwG,KAAMC,MACNF,QAFN,WAGQ,MAAO,KAGXxG,sBAAuB,CACrByG,KAAMC,MACNF,QAFN,WAGQ,MAAO,MAIb7I,KAnBF,WAoBI,MAAO,CACLkE,WAAW,EACXP,cAAUuD,EACVxD,YAAQwD,EACR8B,aAAc,KAGlBpF,MAAO,CACLrB,MADJ,SACA,KACUlC,KAAKsD,UACHtD,KAAK4I,aAAeC,GACtB7I,KAAK8I,QAAQD,KAKrBrF,QAAS,CACPuF,oBADJ,SACA,GACoC,oBAAnBhB,IACTA,EAAiB,EAAzB,uBAEkE,IAAxD/H,KAAKgC,sBAAsBgH,QAAQjB,IACrC/H,KAAKgC,sBAAsBvB,KAAKsH,IAGpCe,QATJ,SASA,GACM9I,KAAK2I,aAAe,GACpB,IAAN,qBACMjB,EAA8BlC,EAAUxF,KAAK2I,aAAc3I,KAAKgC,uBAHtE,IAKA,qBACM,MAAOwD,EAASK,WACdU,EAAKT,YAAYN,EAASK,YAE5B7F,KAAK4I,WAAaK,GAEpBC,QApBJ,WAoBA,IAEA,EAFA,mFACA,4BAKM,GAHIlJ,KAAK2I,aAAaR,KACpBH,EAAKhI,KAAK2I,aAAaR,IAErBH,GAA4B,oBAAfA,EAAGkB,QAAwB,CAC1C,IAAR,cAOQ,OALKnD,EAAOG,KAAOA,EAAOb,EAAUrF,KAAKsD,SAAU4C,GAAMoC,WAAW,IACpEpC,EAAKyB,QAAQ/D,UAAYnE,KAAKC,UAAU,CACtC6B,GAAIyG,EAAGmB,SAAS3G,KAChB4G,UAAWpB,EAAGqB,SAETnD,EAAKoD,UAEd,GAAoB,IAAhB7C,EAAGtB,SAAgB,OAAOsB,EAAG8C,UACjC,GAAoB,IAAhB9C,EAAGtB,SAAgB,MAAO,UAApC,6BAjBA,IAkBA,cACA,mBACA,sBACM,GAAIqE,IAAkC,IAAlBC,EAClB,OAAOhD,EAAG6C,UAEZ,IAAN,qBACA,uCACA,sBACM,OAAO,OAAb,OAAa,CAAb,oCACQ,OAAOI,EAAO,EAAtB,aACA,MAEIzD,OAnDJ,SAmDA,iIACM,EAAN,oBAEIO,MAtDJ,WAuDM,EAAN,cAEImD,UAzDJ,SAyDI,EAAJ,cACM3J,KAAK+I,oBAAoBhB,GACzB,IAAN,WACMC,EAAGC,SACHjI,KAAKiG,OAAO+B,EAAGE,KACfF,EAAGE,IAAIP,QAAQQ,KAAOH,EAAGI,KACzB,EAAN,2CACM,IAAN,mBACA,aACA,SACa7B,EAAKqD,SAAS5B,EAAGE,OACpBF,EAAG6B,WACH,EAAV,yCACU,EAAV,oCAGM7J,KAAK8J,QAAQC,IAAI,kBAAmBC,KAGxC,QAhHF,WAgHA,2KACA,iBACA,kBAFA,SAGA,kBAHA,OAIA,aACA,SACA,WACA,aACA,KACA,8BACA,UAEA,mBACA,wBACA,iDACA,8BAEA,wCACA,mBACA,sBAEA,0CACA,qBACA,2BACA,wBAGA,wCACA,wBAEA,wNACA,cADA,OAEA,yBACA,0CAHA,6CAIA,GACA,0CACA,eACA,0BACA,GACA,uCACA,mBACA,oBACA,eACA,kCACA,GACA,2CACA,wBACA,kBACA,MAhDA,gDCzJ+V,ICQ3V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIpJ,EAAIZ,KAASa,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,aAAa,CAACW,IAAI,UAAUG,MAAM,CAAC,UAAY,SAAS,MAAQ,MAAM,QAAU,SAAS,QAAUjB,EAAIqJ,gBAAgB,CAAErJ,EAAiB,cAAEG,EAAG,MAAM,CAACA,EAAG,cAAc,CAACc,MAAM,CAAC,eAAc,EAAK,eAAe,GAAG,WAAaqI,SAAsC,IAA7BtJ,EAAIqJ,cAAcE,SAAgB,QAAQ,GAAGvJ,EAAI8B,OAAO3B,EAAG,QAAQ,CAACqJ,WAAW,CAAC,CAAC5H,KAAK,UAAU6H,QAAQ,oBAAoBC,IAAI,YAAYrJ,YAAY,MAAMC,MAAM,CAACqJ,SAAU3J,EAAImB,QAAUnB,EAAImB,OAAOkI,eAAepI,MAAM,CAAC,KAAO,aAAac,KAAK,aAAa,CAAC5B,EAAG,IAAI,CAACG,MAAMN,EAAI2B,QAAQK,OAAO7B,EAAG,QAAQ,CAACE,YAAY,eAAeY,MAAM,CAAC,KAAO,OAAO,OAASjB,EAAI4J,sBAAsBC,UAAUrL,KAAK,MAAM+C,GAAG,CAAC,OAAS,SAAUuI,GAAK9J,EAAI+J,KAAK/J,EAAIgK,KAAM,CAACF,EAAEG,OAAOC,QAASJ,EAAEG,OAAO3I,MAAQ,YAAc,IAC/0B,EAAkB,G,iJCiDtB,SAAS6I,EAAUC,GACjB,OAAO,IAAIC,SAAQ,SAArB,KACI,IAAJ,kCACIC,EAAMC,aAAe,WAAzB,MACID,EAAME,QAAU,WAApB,cACIF,EAAMG,IAAML,KAOhB,SAASM,EAAkBJ,GACzB,IAAF,mCACEK,EAAOC,MAAQN,EAAMO,WACrBF,EAAOG,OAASR,EAAMS,YACtB,IAAF,qBAEE,OADAC,EAAQC,UAAUX,EAAO,EAAG,EAAGK,EAAOC,MAAOD,EAAOG,QAC7CH,EAAOO,UAAU,aAY1B,OACE5I,MAAO,CACLX,QAAS,GACTR,OAAQ,GACR0G,KAAM,GACN7F,KAAM,IAERjD,KAPF,WAQI,MAAO,CACLoM,aAAc,CACZP,MAAO,KACPE,OAAQ,IACRM,gBAAgB,EAChBC,KAAM,MACNC,SAAU,GAEZjC,cAAe,OAGnB7G,SAAU,CACRoH,sBADJ,WAEM,OAAO,OAAb,OAAa,CAAb,aAGEhH,QAAS,CACPoH,KADJ,SACA,cACMuB,EAAW,OAAjB,OAAiB,CAAjB,GACMA,EAASC,SAAQ,SAAvB,GACQ,OAAR,OAAQ,CAAR,8BAEMD,EAASC,QAAf,2KACA,yBAIA,eALA,uBAMA,IANA,SAOA,OAPA,OAOA,EAPA,OAQA,GACA,qBACA,wBAVA,0BAYA,iBAZA,kCAaA,KAbA,QAaA,EAbA,OAcA,OACA,GACA,mBACA,sBAjBA,eAqBA,GACA,QACA,WACA,QACA,gBACA,OACA,kBACA,OAPA,WAQA,OACA,gBACA,oBACA,UACA,cACA,cACA,qCAIA,kBAvCA,UAwCA,aACA,kBACA,OACA,SAHA,SAGA,SACA,qBACA,gBA7CA,QAwCA,EAxCA,OAgDA,mBACA,sBACA,YACA,iBACA,6IAEA,cAEA,YACA,qBAzDA,oGA4DInG,OAlEJ,SAkEI,GAEE,IAAN,EADMjG,KAAKiK,cAAgBoC,EAEH,QAAdrM,KAAKyI,KACPzI,KAAK+B,OAAO4H,UAAU2C,EAA9B,YACUlD,UAAW,CACTiD,KAAZ,KAGA,qBACQrM,KAAK+B,OAAO4H,UAAU4C,EAA9B,YACUnD,UAAW,CACTiD,KAAZ,KAIU9D,GACFvI,KAAK+B,OAAO4H,UAAUpB,GAExBvI,KAAK+B,OAAOyE,WC7L6U,ICQ3V,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCjBA,GACb,OAAQ,IACR,CACEhE,KAAM,QAASI,KAAM,wBAAyB4J,SAAU,CAAC,KAAM,KAAM,KAAM,MAAO/J,MAAO,QACxF,OAAQ,SAAU,YAAa,IAElC,cAAe,gBAAiB,eAAgB,IAEhD,oBAAqB,sBAAuB,IAC5C,CACElB,GAAIkL,EACJ5K,MAAO,CACLU,QAAS,CACPE,MAAO,OACPG,KAAM,4BAER6F,KAAM,QAGV,CACElH,GAAIkL,EACJ5K,MAAO,CACLU,QAAS,CACPE,MAAO,OACPG,KAAM,uBAER6F,KAAM,W,UC1BZ,SAASiE,EAAQC,EAAShG,EAAMrD,GAC9B,MAAOqD,EAAKgG,UAAYA,GAAWhG,EAAKvB,WACtCuB,EAAOA,EAAKvB,WAKd,OAHIuB,IAASrD,IACXqD,OAAOE,GAEFF,EAET,SAASiG,GAAqBC,GAC5B,IAAMF,EAAU,IAAH,OAAOE,GACpB,MAAO,CACLpK,MAAO,KAAF,OAAOoK,GACZ5J,MAFK,WAGCjD,KAAK6C,MAAMC,OAEb9C,KAAKsD,SAASwJ,YAAY,eAAe,EAAO,OAEhD9M,KAAKsD,SAASwJ,YAAY,eAAe,EAAOH,IAGpDhJ,SAVK,WAWH,IAAIgD,EAAO3B,EAAsBhF,KAAKqD,QAEtC,OADAsD,EAAO+F,EAAQC,EAAShG,EAAM3G,KAAKsD,UAC5B,CACLR,SAAU6D,IAGd/D,KAAM,kBAAF,OAAoBiK,IAG5B,SAASE,KACPC,QAAQC,IAAI,QAASjN,KAAKuC,QAAQC,KAAM,QAASxC,KAAKuC,QAAQ2K,QAC9DlN,KAAKsD,SAASwJ,YAAY9M,KAAKuC,QAAQC,MAAM,EAAOxC,KAAKuC,QAAQ2K,QACjE,IAAMC,EAAgB,CAAC,cAAe,eAAgB,iBACtDnN,KAAK8J,QAAQhI,MAAMS,QAAQ6J,SAAQ,SAAA7N,GAC7BA,EAAKgE,SAAW4K,EAAcC,SAAS7O,EAAKgE,QAAQC,OACtDjE,EAAKmF,kBAIX,SAAS2J,KACPL,QAAQC,IAAI,QAASjN,KAAKuC,QAAQC,KAAM,QAASxC,KAAKuC,QAAQ2K,QAC9DlN,KAAKsD,SAASwJ,YAAY9M,KAAKuC,QAAQC,MAAM,EAAOxC,KAAKuC,QAAQ2K,QACjE1G,EAAMxG,KAAKsD,SAASiD,KAAMvG,KAAKqD,QAC/BrD,KAAK6C,MAAMC,QAAU9C,KAAK6C,MAAMC,OAElC,SAASa,KACP,MAAO,CACLb,OAAQ9C,KAAKsD,SAASgK,kBAAkBtN,KAAKuC,QAAQC,OAG1C,QACb+K,WAAY,CACV3K,KAAM,kBACNK,MAFU,WAGRjD,KAAK8J,QAAQ0D,aACbxN,KAAK0D,gBAEPC,SANU,WAOR,MAAO,CACLb,OAAQ9C,KAAK8J,QAAQ3I,UAI3BsM,KAAM,CACJhL,MAAO,KACPG,KAAM,qBACNK,MAAOoK,IAETK,GAAId,GAAqB,GACzBe,GAAIf,GAAqB,GACzBgB,GAAIhB,GAAqB,GACzBiB,GAAIjB,GAAqB,GACzBkB,KAAM,CACJrL,MAAO,KACPsL,OAAO,EACPnL,KAAM,qBACNK,MAAOoK,GACP1J,aAEFqK,OAAQ,CACNvL,MAAO,KACPsL,OAAO,EACPnL,KAAM,uBACNK,MAAOoK,GACP1J,aAEFsK,UAAW,CACTxL,MAAO,MACPsL,MAAO,GACPnL,KAAM,0BACNK,MAAOoK,GACP1J,aAEFuK,cAAe,CACbzL,MAAO,MACPsL,MAAO,GACPnL,KAAM,8BACNK,MAAOoK,GACP1J,aAEFwK,UAAW,CACT1L,MAAO,KACPsL,MAAO,OACPnL,KAAM,0BACNK,MAAOoK,GACP1J,aAEFyK,YAAa,CACX3L,MAAO,KACPsL,MAAO,OACPnL,KAAM,4BACNK,MAAOoK,GACP1J,aAEF0K,YAAa,CACXpL,MAAO8J,GACPnG,QAAQ,EACRnE,MAAO,MACPG,KAAM,2BACNe,aAEF2K,aAAc,CACZrL,MAAO8J,GACPtK,MAAO,MACPG,KAAM,4BACNe,aAEF4K,cAAe,CACbtL,MAAO8J,GACPtK,MAAO,OACPG,KAAM,6BACNe,aAEF6K,OAAQ,CACNvF,KAAM,KACN8E,OAAO,EACP9K,MAAOoK,IAEToB,OAAQ,CACNxL,MAAOoK,GACP5K,MAAO,OACPG,KAAM,uBACNe,aAEF+K,QAAS,CACPzL,MAAOoK,GACP5K,MAAO,OACPG,KAAM,wBACNe,aAEFgL,YAAa,GAGbC,qBAAsB,CACpB3F,KAAM,UACN8E,MAAO,IAETc,YAAa,CACXpM,MAAO,OACPsL,OAAO,GAGTe,aAAc,CACZrM,MAAO,OACPsL,MAAO,IAETgB,UAAW,CACT9F,KAAM,KACN8E,MAAO,IAGTiB,OAAQ,CACNvM,MAAO,OACPsL,MAAO,IAGTkB,oBAAqB,CACnBhM,MAAOoK,GACP5K,MAAO,OACPsL,MAAO,GACPnL,KAAM,qBACNe,aAEFuL,kBAAmB,CACjBjM,MAAOoK,GACP5K,MAAO,OACPsL,MAAO,GACPnL,KAAM,2BACNe,cChMA,GAAS,WAAa,IAAI/C,EAAIZ,KAASa,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,cACnH,GAAkB,GCAlBkO,I,UAAS,IAMT,GAAY,eACdA,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCMf,SAASC,GAAYC,GACnB,MAAF,WAAS,OAAT,OAAS,CAAT,cAEA,SAASC,GAAcC,GACrB,OAAIA,EAAKhO,GACAgO,EAELH,GAAYG,GACP,CACLhO,GAAIgO,EACJ1N,MAAO,IAGE,MAAT0N,EACK,CACLhO,GAAIvB,KAAKmJ,SAASqG,WAAWC,UAC7B5N,MAAO,KAGS,kBAAT0N,GAAqBG,GAASH,KACvCA,EAAO,CACL/M,KAAM+M,IAGN7G,MAAMiH,QAAQJ,KAChBA,EAAO,CACL/M,KAAM,QACNgK,SAAU+C,IAGdA,EAAO,OAAT,OAAS,CAAT,MACMA,EAAK/C,WACP+C,EAAK/C,SAAW+C,EAAK/C,SAASxN,IAAIsQ,GAAcM,KAAK5P,QAEzD,WAAM,OAAN,OAAM,CAAN,KACIuP,EAAO,CACLhO,GAAIvB,KAAKmJ,SAASqG,WAAWK,YAC7BhO,MAAO,CACLU,QAAS,OAAjB,OAAiB,CAAjB,kBACA,0BACA,MAKSgN,GAET,QACE/M,KAAM,MACNsN,cAAe,MACfN,WAAY,CACVO,OAAJ,EACIF,YAAJ,EACIJ,UAAJ,IAEEvM,MAAO,CACLhB,MAAO,CACLsG,QAAS,IAEXG,aAAc,GACdqH,MAAO,CACLvH,KAAMC,MACNF,QAAS,WAAf,WAEIxG,sBAAuB,CACrByG,KAAMC,MACNF,QAAS,WAAf,OACA,kBACA,qBAGIvG,OAAQ,CACNwG,KAAMC,MACNF,QAAS,WAAf,OAEQ,EAAR,QAEQ,EAAR,QAEQ,EAAR,YAIE7I,KApCF,WAqCI,MAAO,CACL2D,cAAUuD,EACVxD,YAAQwD,EACR1F,QAAQ,IAGZiC,SAAU,CACR6M,OADJ,WAEM,OAAOjQ,KAAKgQ,MAAMhR,IAAIsQ,GAAcM,KAAK5P,SAG7CwD,QAAS,CACPgK,WADJ,WAEMxN,KAAKmB,QAAUnB,KAAKmB,QAEtBuC,aAJJ,WAIA,IACA,sBACUwM,GACFA,EAAU9D,SAAQ,SAA1B,GACU7J,EAAQmB,oBAKhBH,MAAO,CACLrB,MADJ,SACA,KACMlC,KAAK0D,kBCtIkV,MCQzV,I,UAAY,eACd,GACA/C,EACA2B,GACA,EACA,KACA,WACA,OAIa,U,uDClBf,IAAI5B,EAA8B,EAAQ,QAC1Cb,EAAUa,GAA4B,GAEtCb,EAAQY,KAAK,CAACb,EAAOK,EAAI,sFAAuF,KAEhHL,EAAOC,QAAUA,G,oCCNjB,W,oCCAA,W,2GCEa0M,EAAQ4D,aAAIC,OAAO,CAC9B5N,KAAM,sBACNU,MAAO,CACLmJ,KAAM,GACNgE,KAAM,IAER7M,QAAS,CACP8M,OADO,WAELtQ,KAAKkI,IAAI9C,WAAWoB,QACpBxG,KAAKkI,IAAI9C,WAAWmL,YAAYvQ,KAAKkI,KACrClI,KAAK6J,YAEPX,QANO,WAMG,MACR,sCAAsBlJ,KAAKqM,KAAKrB,WAAhC,QAAuC,GAAvC,kBAGJrK,OAhB8B,WAgBrB,mBACD6K,EAAQ,GAAH,OAAMxL,KAAKqM,KAAKmE,gBAAgBhF,MAAhC,MACLE,EAAS,GAAH,OAAM1L,KAAKqM,KAAKmE,gBAAgB9E,OAAhC,MACZ,GAAyB,YAArB1L,KAAKqM,KAAKoE,OACZ,uBAAoB,wBAApB,uBAA4D,SAA5D,MAA2E,CACzEC,gBAAiB,QAAF,OAAU1Q,KAAKqM,KAAKsE,MAApB,MACfnF,QACAE,YAGJ,IAAMkF,EAAmB,GACrB5Q,KAAKqM,KAAKwE,OAAS7Q,KAAKqM,KAAKsE,OAC/BG,OAAOC,OAAOH,EAAkB,CAAEpF,QAAOE,WAE3C,IAAMsF,EAAiC,IAAvBhR,KAAKqM,KAAKlC,cACtBtD,EACA7G,KAAKqM,KAAKlC,SAAV,UACKD,SAA8B,IAArBlK,KAAKqM,KAAKlC,SAAgB,IADxC,KACiD,KACrD,uBAAoB,cAApB,eAA2C6G,GAA3C,wBAAgEJ,QAGrDrE,gB,2GCpCFD,EAAQ6D,aAAIC,OAAO,CAC9B5N,KAAM,sBACNU,MAAO,CACLmJ,KAAM,GACNgE,KAAM,IAER7M,QAAS,CACP8M,OADO,WAELtQ,KAAKkI,IAAI9C,WAAWoB,QACpBxG,KAAKkI,IAAI9C,WAAWmL,YAAYvQ,KAAKkI,KACrClI,KAAK6J,YAEPX,QANO,WAMG,MACR,oCAAoBlJ,KAAKqM,KAAKrB,WAA9B,QAAqC,GAArC,SAGJrK,OAhB8B,WAgBrB,mBACD6K,EAAQ,GAAH,OAAMxL,KAAKqM,KAAKmE,gBAAgBhF,MAAhC,MACLE,EAAS,GAAH,OAAM1L,KAAKqM,KAAKmE,gBAAgB9E,OAAhC,MACZ,GAAyB,YAArB1L,KAAKqM,KAAKoE,OACZ,sBAAmB,wBAAnB,WAAiDzQ,KAAKqM,KAAKrB,IAA3D,mBAAmFvL,KAAKC,UAAUM,KAAKqM,KAAKnK,UAE9G,IAAM0O,EAAmB,GACrB5Q,KAAKqM,KAAKwE,OAAS7Q,KAAKqM,KAAKsE,OAC/BG,OAAOC,OAAOH,EAAkB,CAAEpF,QAAOE,SAAQgF,gBAAiB1Q,KAAKqM,KAAKsE,MAAV,cAAyB3Q,KAAKqM,KAAKsE,MAAnC,KAA8C,OAElH,IAAMK,EAAiC,IAAvBhR,KAAKqM,KAAKlC,cACtBtD,EACA7G,KAAKqM,KAAKlC,SAAV,UACKD,SAA8B,IAArBlK,KAAKqM,KAAKlC,SAAgB,IADxC,KACiD,KACrD,uBAAoB,cAApB,eAA2C6G,GAA3C,wBAAgEJ,QAGrDtE,gB,kCCpCf,W,yDCAA","file":"js/chunk-9cae533e.c9a6d597.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&id=2bcf52bc&lang=scss&scoped=true&\"","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rte-image-placeholder{display:inline-block;max-width:100%}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".thumb{display:inline-block;position:relative}.thumb img{display:block}.thumb:focus:before{outline:none;content:\\\"\\\";position:absolute;top:0;bottom:0;left:0;right:0;border:2px dashed white;animation:blink .7s linear infinite alternate-reverse}@keyframes blink{0%{border-color:transparent}100%{border-color:white}}span.placeholder{overflow:hidden;display:inline-block;transition:width .2s ease-in, height .2s ease-in;width:0;height:0;background-color:#f5f5f5}div.placeholder{overflow:hidden;height:0;background-color:#f5f5f5}[loading]{position:relative}@keyframes loading-dot{0%{content:attr(loading) \\\" ...\\\"}25%{content:attr(loading) \\\" ..\\\"}50%{content:attr(loading) \\\" .\\\"}75%{content:attr(loading) \\\" ..\\\"}}[loading]:before{content:'';background-color:rgba(255,255,255,0.5);display:block;text-align:center;position:absolute;top:0;bottom:0;left:0;right:0}[loading]:after{font-family:'Microsoft YaHei';content:attr(loading) \\\" ...\\\";animation:loading-dot 3s linear infinite;position:absolute;top:50%;left:0;right:0;text-align:center;font-size:30px;text-shadow:0 0 5px rgba(0,0,0,0.3);color:#FFF;transform:translateY(-50%);display:block}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bse-rte\",class:{'is-full': _vm.isFull}},[_vm._t(\"tools\",[_c('div',{staticClass:\"menu-group\"},[_vm._l((_vm.tools_),function(item,idx){return [_c(item.is,_vm._b({key:idx,ref:\"command\",refInFor:true,tag:\"component\",attrs:{\"editor\":_vm.$refs.editor}},'component',item.attrs,false))]})],2)]),_c('editor',{ref:\"editor\",staticClass:\"editor\",attrs:{\"placeholderComponents\":_vm.placeholderComponents,\"styles\":_vm.styles,\"value\":_vm.value},on:{\"input\":function (v) { _vm.$emit('input', v) }}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.command.name === 'group')?_c('el-popover',{attrs:{\"placement\":\"top-start\",\"title\":_vm.command.title,\"width\":\"200\",\"trigger\":\"hover\"}},[(_vm.editor)?_c('div',[_vm._l((_vm.command.children),function(item,idx){return [_c(item.is,_vm._b({key:idx,tag:\"component\",attrs:{\"editor\":_vm.editor}},'component',item.attrs,false))]})],2):_vm._e(),_c('a',{staticClass:\"btn\",attrs:{\"slot\":\"reference\",\"href\":\"javascript:\"},slot:\"reference\"},[_c('i',{class:_vm.command.icon})])]):_c('a',{staticClass:\"btn\",class:_vm.state && _vm.state.active ? 'active' : '',attrs:{\"href\":\"javascript:\"},on:{\"click\":function($event){$event.preventDefault();return _vm.click()}}},[_c('i',{class:_vm.command.icon})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <el-popover\n      placement=\"top-start\"\n      :title=\"command.title\"\n      width=\"200\"\n      trigger=\"hover\"\n      v-if=\"command.name === 'group'\"\n    >\n      <div v-if=\"editor\">\n        <template v-for=\"(item, idx) in command.children\" >\n          <component :is=\"item.is\" :key=\"idx\" v-bind=\"item.attrs\" :editor=\"editor\"></component>\n        </template>\n      </div>\n      <a class=\"btn\" href=\"javascript:\" slot=\"reference\">\n        <i :class=\"command.icon\"></i>\n      </a>\n    </el-popover>\n\n    <a v-else class=\"btn\" :class=\"state && state.active ? 'active' : ''\"\n      href=\"javascript:\"  @click.prevent=\"click()\">\n      <i :class=\"command.icon\"></i>\n    </a>\n  </span>\n\n</template>\n<style lang=\"scss\" scoped>\n  .btn, /deep/ .btn {\n    border-radius: 3px;\n    display: inline-block;\n    width: 2em;\n    height: 2em;\n    line-height: 2;\n    text-align: center;\n    vertical-align: top;\n    &.active {\n      // color #1989fa\n      box-shadow: inset 0 0 7px rgba(#000, .3);\n    }\n    &:hover {\n      background-color: rgba(#000, .05);\n    }\n    + a {\n      margin-left: .2em;\n    }\n  }\n\n</style>\n<script>\nexport default {\n  name: 'RteDefaultTool',\n  props: {\n    command: {},\n    editor: {},\n    states: {\n    },\n  },\n  data() {\n    return {\n      state: {},\n    };\n  },\n  computed: {\n    window() {\n      return this.editor ? this.editor.window : null;\n    },\n    document() {\n      return this.editor ? this.editor.document : null;\n    },\n  },\n  watch: {\n    editor(editor) {\n      if (editor) {\n        editor.$on('selectionchange', () => {\n          this.refreshState();\n        });\n      }\n    },\n  },\n  methods: {\n    click() {\n      if (this.command.click) {\n        this.command.click.call(this);\n      }\n    },\n    refreshState() {\n      if (typeof this.command.getState === 'function') {\n        this.state = this.command.getState.call(this);\n        return this.state;\n      }\n      return {};\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default-tool.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default-tool.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./default-tool.vue?vue&type=template&id=75550267&scoped=true&\"\nimport script from \"./default-tool.vue?vue&type=script&lang=js&\"\nexport * from \"./default-tool.vue?vue&type=script&lang=js&\"\nimport style0 from \"./default-tool.vue?vue&type=style&index=0&id=75550267&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75550267\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rte-editor\",class:{isDndOver: _vm.isDndOver}},[_c('iframe',{ref:\"iframe\",attrs:{\"src\":\"about:blank\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function initIFrame(win, content) {\n  win.document.open();\n  win.document.write(content);\n  win.document.close();\n}\n\nexport function getRange(window) {\n  const sel = window.getSelection();\n  let range;\n  if (sel.getRangeAt) {\n    if (sel.rangeCount > 0) {\n      range = sel.getRangeAt(0);\n    }\n  } else {\n    // Old WebKit selection object has no getRangeAt, so\n    // create a range from other selection properties\n    range = document.createRange();\n    range.setStart(sel.anchorNode, sel.anchorOffset);\n    range.setEnd(sel.focusNode, sel.focusOffset);\n\n    // Handle the case when the selection was selected backwards\n    // (from the end to the start in the document)\n    if (range.collapsed !== sel.isCollapsed) {\n      range.setStart(sel.focusNode, sel.focusOffset);\n      range.setEnd(sel.anchorNode, sel.anchorOffset);\n    }\n  }\n  return range;\n}\nexport function clearRange(window) {\n  const sel = window.getSelection();\n  if (sel.removeAllRanges) {\n    sel.removeAllRanges();\n  } else {\n    while (sel.rangeCount) {\n      sel.removeRange(sel.getRangeAt(0));\n    }\n  }\n}\n\n// 选择光标处元素\nexport function getSelectionContainer(window) {\n  const range = getRange(window);\n  if (range) {\n    const container = range.commonAncestorContainer;\n    // Check if the container is a text node and return its parent if so\n    return container.nodeType === 3 ? container.parentNode : container;\n    // return container;\n  }\n  return undefined;\n}\n\n/**\n *\n * @param {Document} doc\n * @param {string} str\n * @returns {DocumentFragment}\n */\nexport function html2Node(doc, str) {\n  const fragment = doc.createDocumentFragment();\n  const div = doc.createElement('div');\n  div.innerHTML = str;\n  let i = div.firstChild;\n  while (i) {\n    fragment.appendChild(i);\n    i = div.firstChild;\n  }\n  return fragment;\n}\nexport function isNode(obj) {\n  return typeof obj === 'object' && 'nodeType' in obj;\n}\nexport function insert(window, node, replace = true, clearRangeAfterInjected = true) {\n  if (!isNode(node)) node = html2Node(window.document, node);\n  const range = getRange(window);\n  if (range) {\n    if (replace) {\n      range.deleteContents();\n    }\n    range.insertNode(node);\n    if (clearRangeAfterInjected) {\n      clearRange(window);\n    }\n  } else {\n    window.document.body.appendChild(node);\n  }\n}\nexport function focus(el) {\n  el.focus();\n  /*\n    if (typeof window.getSelection !== 'undefined'\n      && typeof document.createRange !== 'undefined') {\n      const range = document.createRange();\n      range.selectNodeContents(el);\n      range.collapse(false);\n      const sel = window.getSelection();\n      sel.removeAllRanges();\n      sel.addRange(range);\n    } else if (typeof document.body.createTextRange !== 'undefined') {\n      const textRange = document.body.createTextRange();\n      textRange.moveToElementText(el);\n      textRange.collapse(false);\n      textRange.select();\n    }\n  */\n}\n// 将元素设置为可编辑\nexport function setDesignMode(elem, toggle = true) {\n  if (elem.style.userModify !== undefined || elem.style.webkitUserModify !== undefined) {\n    elem.contentEditable = toggle;\n    // body.style.userModify = body.style.webkitUserModify = 'read-write-plaintext-only';\n  } else if (elem.designMode) {\n    elem.designMode = toggle ? 'On' : 'Off';\n  } else {\n    elem.contentEditable = toggle;\n  }\n  /*\n    body.addEventListener('paste', (e) => {\n      debugger\n      e.preventDefault();\n      let text = null;\n      let textRange;\n      if (window.clipboardData && clipboardData.setData) {\n        // IE\n        text = window.clipboardData.getData('text');\n      } else {\n        text = (e.originalEvent || e).clipboardData.getData('text/plain') || prompt('在这里输入文本');\n      }\n      if (document.body.createTextRange) {\n        if (document.selection) {\n          debugger\n          textRange = document.selection.createRange();\n        } else if (window.getSelection) {\n          debugger\n          const sel = window.getSelection();\n          const range = sel.getRangeAt(0);\n          // 创建临时元素，使得TextRange可以移动到正确的位置\n          const tempEl = document.createElement('span');\n          tempEl.innerHTML = '&#FEFF;';\n          range.deleteContents();\n          range.insertNode(tempEl);\n          textRange = document.body.createTextRange();\n          textRange.moveToElementText(tempEl);\n          tempEl.parentNode.removeChild(tempEl);\n        }\n        textRange.text = text;\n        textRange.collapse(false);\n        textRange.select();\n      } else {\n        debugger\n        // Chrome之类浏览器\n        document.execCommand('insertText', false, text);\n      }\n    });\n  */\n}\nexport function injectStyle(doc, css) {\n  const head = doc.getElementsByTagName('head')[0];\n  const style = doc.createElement('style');\n  if ('textContent' in style) {\n    style.textContent = css;\n  } else {\n    style.styleSheet.cssText = css;\n  }\n  head.appendChild(style);\n}\n","\n<template>\n  <div class=\"rte-editor\" :class=\"{isDndOver}\">\n    <iframe ref=\"iframe\" src=\"about:blank\"></iframe>\n  </div>\n</template>\n<script>\nimport { debounce } from 'throttle-debounce';\nimport Vue from 'vue';\nimport tryParseJson from '_/try-parse-json';\nimport { untilLoaded } from '@/utils/open-window';\nimport {\n  setDesignMode, insert, focus, injectStyle, isNode, html2Node,\n} from './util';\n\n\nfunction replaceElementWithPlaceholder(\n  /** @type {HTMLElement} */el, placeholder, placeholderComponents,\n) {\n  if (el.dataset && el.dataset.component) {\n    const componentData = tryParseJson(el.dataset.component);\n    if (componentData && typeof componentData === 'object' && componentData.is) {\n      const VueConstructor = placeholderComponents.find((Constructor) => {\n        return Constructor.options.name === componentData.is;\n      });\n      if (VueConstructor) {\n        const vm = new VueConstructor({ propsData: componentData.propsData });\n        vm.$mount();\n        vm.$el.dataset.vmId = vm._uid;\n        Vue.set(placeholder, vm._uid, vm);\n        el.replaceWith(vm.$el);\n      }\n    }\n  }\n  if (el.childNodes) {\n    for (let i = 0; i < el.childNodes.length; i++) {\n      replaceElementWithPlaceholder(el.childNodes[i], placeholder, placeholderComponents);\n    }\n  }\n}\n\nexport default {\n  name: 'RteEditor',\n  props: {\n    value: {\n      default: '',\n    },\n    styles: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    placeholderComponents: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      isDndOver: false,\n      document: undefined,\n      window: undefined,\n      placeholders: {},\n    };\n  },\n  watch: {\n    value(val, oldVal) {\n      if (this.document) {\n        if (this._cacheHtml !== val) {\n          this.setHTML(val);\n        }\n      }\n    },\n  },\n  methods: {\n    registryPlaceholder(VueConstructor) {\n      if (typeof VueConstructor !== 'function') {\n        VueConstructor = Vue.extend(VueConstructor);\n      }\n      if (this.placeholderComponents.indexOf(VueConstructor) === -1) {\n        this.placeholderComponents.push(VueConstructor);\n      }\n    },\n    setHTML(html) {\n      this.placeholders = {};\n      const fragment = html2Node(this.document, html);\n      replaceElementWithPlaceholder(fragment, this.placeholders, this.placeholderComponents);\n      /** @type {Document} */\n      const { body } = this.document;\n      while (fragment.firstChild) {\n        body.appendChild(fragment.firstChild);\n      }\n      this._cacheHtml = html;\n    },\n    getHTML(/** @type {HTMLElement} */el = this.document.body) {\n      const vmId = el.dataset && el.dataset.vmId;\n      let vm;\n      if (this.placeholders[vmId]) {\n        vm = this.placeholders[vmId];\n      }\n      if (vm && typeof vm.getHTML === 'function') {\n        let node = vm.getHTML();\n        // eslint-disable-next-line prefer-destructuring\n        if (!isNode(node)) node = html2Node(this.document, node).childNodes[0];\n        node.dataset.component = JSON.stringify({\n          is: vm.$options.name,\n          propsData: vm.$props,\n        });\n        return node.outerHTML;\n      }\n      if (el.nodeType === 3) return el.nodeValue;\n      if (el.nodeType === 8) return `<!--${el.nodeValue}-->`;\n      const { outerHTML } = el;\n      const isSelfClosed = outerHTML.endsWith('/>');\n      const indexOfClose = outerHTML.lastIndexOf('</');\n      if (isSelfClosed || indexOfClose === -1) {\n        return el.outerHTML;\n      }\n      const isBody = el.tagName === 'BODY';\n      const start = isBody ? '' : outerHTML.substring(0, outerHTML.indexOf('>') + 1);\n      const end = isBody ? '' : outerHTML.substring(indexOfClose);\n      return [...el.childNodes].reduce((memo, _el) => {\n        return memo + this.getHTML(_el);\n      }, start) + end;\n    },\n    insert(dom, replace = true, clearRangeAfterInject = true) {\n      insert(this.window, dom, replace, clearRangeAfterInject);\n    },\n    focus() {\n      focus(this.window);\n    },\n    insertVue(/** @type {VueConstructor} */VueConstructor, options) {\n      this.registryPlaceholder(VueConstructor);\n      const vm = new VueConstructor(options);\n      vm.$mount();\n      this.insert(vm.$el);\n      vm.$el.dataset.vmId = vm._uid;\n      Vue.set(this.placeholders, vm._uid, vm);\n      const onselectionchange = () => {\n        const { document } = this;\n        const { body } = document;\n        if (!body.contains(vm.$el)) {\n          vm.$destroy();\n          Vue.delete(this.placeholders, vm._uid);\n          this.$parent.$off('selectionchange', onselectionchange);\n        }\n      };\n      this.$parent.$on('selectionchange', onselectionchange);\n    },\n  },\n  async mounted() {\n    const { iframe } = this.$refs;\n    const win = iframe.contentWindow;\n    await untilLoaded(win);\n    const doc = win.document;\n    const { body } = doc;\n    this.window = win;\n    this.document = doc;\n    setDesignMode(body);\n    this.styles.forEach(style => {\n      injectStyle(doc, style);\n    });\n    this.setHTML(this.value);\n    this.$nextTick(() => {\n      doc.addEventListener('selectionchange', () => {\n        this.$emit('selectionchange');\n      });\n      doc.addEventListener('click', (e) => {\n        this.$emit('click', e);\n        e.preventDefault();\n      });\n      doc.addEventListener('keydown', (e) => {\n        this.$emit('keydown', e);\n        if (e.ctrlKey && e.keyCode === 13) {\n          this.$emit('ctrlEnter');\n        }\n      });\n      doc.addEventListener('keyup', (e) => {\n        this.$emit('keydown', e);\n      });\n      body.addEventListener('DOMSubtreeModified', debounce(100, async () => {\n        await this.$nextTick();\n        this._cacheHtml = this.getHTML();\n        this.$emit('input', this._cacheHtml, body.innerText);\n      }), false);\n      doc.addEventListener('dragover', () => {\n        this.isDndOver = true;\n        this.$emit('dragOver', true);\n      }, false);\n      doc.addEventListener('drop', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        this.isDndOver = false;\n        this.$emit('drop', e.dataTransfer);\n      }, false);\n      doc.addEventListener('dragleave', () => {\n        this.$emit('dragLeave', false);\n        this.isDndOver = false;\n      }, false);\n    });\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.rte-editor {\n  flex: 1;\n  position: relative;\n}\niframe {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border-style: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editor.vue?vue&type=template&id=61add298&scoped=true&\"\nimport script from \"./editor.vue?vue&type=script&lang=js&\"\nexport * from \"./editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editor.vue?vue&type=style&index=0&id=61add298&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61add298\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('el-popover',{ref:\"popover\",attrs:{\"placement\":\"bottom\",\"width\":\"200\",\"trigger\":\"manual\",\"value\":!!_vm.uploadingFile}},[(_vm.uploadingFile)?_c('div',[_c('el-progress',{attrs:{\"text-inside\":true,\"stroke-width\":16,\"percentage\":parseInt(_vm.uploadingFile.progress * 100, 10)}})],1):_vm._e()]),_c('label',{directives:[{name:\"popover\",rawName:\"v-popover:popover\",arg:\"popover\"}],staticClass:\"btn\",class:{disabled: _vm.editor && _vm.editor.uploadingFile},attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('i',{class:_vm.command.icon}),_c('input',{staticClass:\"upload-input\",attrs:{\"type\":\"file\",\"accept\":_vm.fileValidationOptions.mimeTypes.join(',')},on:{\"change\":function (e) { _vm.$act(_vm.pick, [e.target.files]); e.target.value = null; }}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <el-popover\n      ref=\"popover\"\n      placement=\"bottom\"\n      width=\"200\"\n      trigger=\"manual\"\n      :value=\"!!uploadingFile\"\n    >\n      <div v-if=\"uploadingFile\">\n        <el-progress :text-inside=\"true\" :stroke-width=\"16\"\n          :percentage=\"parseInt(uploadingFile.progress * 100, 10)\"/>\n      </div>\n\n    </el-popover>\n    <label class=\"btn\"\n      :class=\"{disabled: editor && editor.uploadingFile}\"\n      slot=\"reference\" v-popover:popover>\n      <i :class=\"command.icon\"></i>\n      <input class=\"upload-input\"\n        type=\"file\"\n        @change=\"(e) => { $act(pick, [e.target.files]); e.target.value = null; }\"\n        :accept=\"fileValidationOptions.mimeTypes.join(',')\"/>\n    </label>\n  </span>\n</template>\n<style lang=\"scss\" scoped>\n  .btn {\n    cursor: pointer;\n    overflow: hidden;\n  }\n  .upload-input {\n    left: -9999px;\n    position: absolute;\n    opacity: 0;\n  }\n</style>\n<script>\nimport OSSUploader from '@/utils/oss/uploader';\nimport { thumb as mkThumb } from '@/utils/oss/utils';\nimport getFileValidationOptions from '@/utils/get-file-validation-options';\nimport validFile from '@/utils/validators/valid-file';\nimport loadImage from '_/load-image';\nimport ImagePlaceholder from './placeholder/Image';\nimport VideoPlaceholder from './placeholder/Video';\n\n/**\n * @param url {string}\n * @return {Promise<HTMLVideoElement>}\n */\nfunction loadVideo(url) {\n  return new Promise((resolve, reject) => {\n    const video = document.createElement('video');\n    video.onloadeddata = () => { resolve(video); };\n    video.onerror = () => { reject(new Error()); };\n    video.src = url;\n  });\n}\n\n/**\n * @param video {HTMLVideoElement}\n */\nfunction getVideoThumbnail(video) {\n  const canvas = document.createElement('canvas');\n  canvas.width = video.videoWidth;\n  canvas.height = video.videoHeight;\n  const context = canvas.getContext('2d');\n  context.drawImage(video, 0, 0, canvas.width, canvas.height);\n  return canvas.toDataURL('image/png');\n}\n\n/** @typedef {{\n *  media: HTMLImageElement | HTMLVideoElement,\n *  url: string,\n *  progress: number,\n *  thumb: string,\n *  status: 'success' | 'inited' | 'uploading',\n *  blob: Blob,\n *  value: any\n * }} CFile */\nexport default {\n  props: {\n    command: {},\n    editor: {},\n    type: {},\n    icon: {},\n  },\n  data() {\n    return {\n      thumbOptions: {\n        width: 1600,\n        height: 900,\n        fixOrientation: true,\n        mode: 'fix',\n        maxRatio: 1,\n      },\n      uploadingFile: null,\n    };\n  },\n  computed: {\n    fileValidationOptions() {\n      return getFileValidationOptions(this.type);\n    },\n  },\n  methods: {\n    pick(rawFiles) {\n      rawFiles = [...rawFiles];\n      rawFiles.forEach(rawFile => {\n        validFile(rawFile, this.fileValidationOptions);\n      });\n      rawFiles.forEach(async (/** @type {File} */blob) => {\n        const url = URL.createObjectURL(blob);\n        let thumb;\n        let media;\n        let mediaDemensions;\n        if (this.type === 'img') {\n          thumb = url;\n          media = await loadImage(url);\n          mediaDemensions = {\n            width: media.naturalWidth,\n            height: media.naturalHeight,\n          };\n        } else if (this.type === 'video') {\n          media = await loadVideo(url);\n          thumb = getVideoThumbnail(media);\n          mediaDemensions = {\n            width: media.videoWidth,\n            height: media.videoHeight,\n          };\n        }\n        /** @type {CFile} */\n        const cFile = {\n          media,\n          progress: 0,\n          thumb,\n          status: 'inited',\n          blob,\n          mediaDemensions,\n          toJSON() {\n            return {\n              status: cFile.status,\n              progress: cFile.progress,\n              url: cFile.url,\n              value: cFile.value,\n              thumb: cFile.thumb,\n              mediaDemensions: cFile.mediaDemensions,\n            };\n          },\n        };\n        this.uploadingFile = cFile;\n        const serverData = await OSSUploader.send({\n          sourceType: 'BASE',\n          body: blob,\n          onUpload(event, fileLoaded, fileSize, progress) {\n            cFile.status = 'uploading';\n            cFile.progress = progress;\n          },\n        });\n        cFile.status = 'success';\n        cFile.value = { path: serverData.path };\n        cFile.url = serverData.url;\n        if (this.type === 'video') {\n          cFile.thumb = `${cFile.url}?x-oss-process=video/snapshot,t_0,f_jpg,w_${cFile.mediaDemensions.width},h_${cFile.mediaDemensions.height}`;\n        } else {\n          cFile.thumb = cFile.url;\n        }\n        this.insert(cFile);\n        this.uploadingFile = null;\n      });\n    },\n    insert(/** @type {CFile} */file) {\n      this.uploadingFile = file;\n      let placeholder;\n      if (this.type === 'img') {\n        this.editor.insertVue(ImagePlaceholder, {\n          propsData: {\n            file,\n          },\n        });\n      } else if (this.type === 'video') {\n        this.editor.insertVue(VideoPlaceholder, {\n          propsData: {\n            file,\n          },\n        });\n      }\n      if (placeholder) {\n        this.editor.insertVue(placeholder);\n      }\n      this.editor.focus();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=5c19ff16&scoped=true&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload.vue?vue&type=style&index=0&id=5c19ff16&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c19ff16\",\n  null\n  \n)\n\nexport default component.exports","import Upload from './upload.vue';\n\nexport default [\n  'undo', '|',\n  {\n    name: 'group', icon: 'iconfont icon-heading', children: ['h1', 'h2', 'h3', 'h4'], title: '设置标题',\n  }, 'bold', 'italic', 'underline', '|',\n  // 'superscript', 'subscript', '|',\n  'justifyLeft', 'justifyCenter', 'justifyRight', '|',\n  // 'indent', 'outdent', '|',\n  'insertOrderedList', 'insertUnorderedList', '|',\n  {\n    is: Upload,\n    attrs: {\n      command: {\n        title: '上传图片',\n        icon: 'iconfont iconxiangce_nol',\n      },\n      type: 'img',\n    },\n  },\n  {\n    is: Upload,\n    attrs: {\n      command: {\n        title: '上传视频',\n        icon: 'iconfont icon-video',\n      },\n      type: 'video',\n    },\n  },\n  // '|',\n  // 'fullScreen',\n];\n","import { getSelectionContainer, focus } from './util';\n\nfunction closest(tagName, elem, document) {\n  while (elem.tagName !== tagName && elem.parentNode) {\n    elem = elem.parentNode;\n  }\n  if (elem === document) {\n    elem = undefined;\n  }\n  return elem;\n}\nfunction createHeadingCommand(level) {\n  const tagName = `H${level}`;\n  return {\n    title: `标题${level}`,\n    click() {\n      if (this.state.active) {\n        // closest(tagName, getSelectionContainer(this.window), this.document).tagName = 'DIV';\n        this.document.execCommand('formatBlock', false, 'DIV');\n      } else {\n        this.document.execCommand('formatBlock', false, tagName);\n      }\n    },\n    getState() {\n      let elem = getSelectionContainer(this.window);\n      elem = closest(tagName, elem, this.document);\n      return {\n        active: !!elem,\n      };\n    },\n    icon: `iconfont icon-h${level}`,\n  };\n}\nfunction alignRefreshState() {\n  console.log('运行命令：', this.command.name, '\\n参数：', this.command.params);\n  this.document.execCommand(this.command.name, false, this.command.params);\n  const alignCommands = ['justifyLeft', 'justifyRight', 'justifyCenter'];\n  this.$parent.$refs.command.forEach(item => {\n    if (item.command && alignCommands.includes(item.command.name)) {\n      item.refreshState();\n    }\n  });\n}\nfunction toggleState() {\n  console.log('运行命令：', this.command.name, '\\n参数：', this.command.params);\n  this.document.execCommand(this.command.name, false, this.command.params);\n  focus(this.document.body, this.window);\n  this.state.active = !this.state.active;\n}\nfunction getState() {\n  return {\n    active: this.document.queryCommandState(this.command.name),\n  };\n}\nexport default {\n  fullScreen: {\n    icon: 'icon-fullscreen',\n    click() {\n      this.$parent.toggleFull();\n      this.refreshState();\n    },\n    getState() {\n      return {\n        active: this.$parent.isFull,\n      };\n    },\n  },\n  undo: {\n    title: '撤销',\n    icon: 'iconfont icon-undo',\n    click: toggleState,\n  },\n  h1: createHeadingCommand(1),\n  h2: createHeadingCommand(2),\n  h3: createHeadingCommand(3),\n  h4: createHeadingCommand(4),\n  bold: {\n    title: '加粗',\n    param: true,\n    icon: 'iconfont icon-bold',\n    click: toggleState,\n    getState,\n  },\n  italic: {\n    title: '斜体',\n    param: true,\n    icon: 'iconfont icon-italic',\n    click: toggleState,\n    getState,\n  },\n  underline: {\n    title: '下划线',\n    param: '',\n    icon: 'iconfont icon-underline',\n    click: toggleState,\n    getState,\n  },\n  strikeThrough: {\n    title: '删除线',\n    param: '',\n    icon: 'iconfont icon-strikethrough',\n    click: toggleState,\n    getState,\n  },\n  subscript: {\n    title: '下标',\n    param: 'true',\n    icon: 'iconfont icon-subscript',\n    click: toggleState,\n    getState,\n  },\n  superscript: {\n    title: '上标',\n    param: 'true',\n    icon: 'iconfont icon-superscript',\n    click: toggleState,\n    getState,\n  },\n  justifyLeft: {\n    click: alignRefreshState,\n    toggle: false,\n    title: '左对齐',\n    icon: 'iconfont icon-align-left',\n    getState,\n  },\n  justifyRight: {\n    click: alignRefreshState,\n    title: '右对齐',\n    icon: 'iconfont icon-align-right',\n    getState,\n  },\n  justifyCenter: {\n    click: alignRefreshState,\n    title: '居中对齐',\n    icon: 'iconfont icon-align-center',\n    getState,\n  },\n  delete: {\n    html: '删除',\n    param: true,\n    click: toggleState,\n  },\n  indent: {\n    click: toggleState,\n    title: '增加缩进',\n    icon: 'iconfont icon-indent',\n    getState,\n  },\n  outdent: {\n    click: toggleState,\n    title: '减少缩进',\n    icon: 'iconfont icon-outdent',\n    getState,\n  },\n  formatBlock: {\n\n  },\n  insertHorizontalRule: {\n    html: '插入水平分割线',\n    param: '',\n  },\n  justifyFull: {\n    title: '绝对对齐',\n    param: true,\n  },\n\n  removeFormat: {\n    title: '清除格式',\n    param: '',\n  },\n  selectAll: {\n    html: '全选',\n    param: '',\n  },\n\n  unlink: {\n    title: '删除链接',\n    param: '',\n  },\n\n  insertUnorderedList: {\n    click: toggleState,\n    title: '无序列表',\n    param: '',\n    icon: 'iconfont icon-list',\n    getState,\n  },\n  insertOrderedList: {\n    click: toggleState,\n    title: '有序列表',\n    param: '',\n    icon: 'iconfont icon-order-list',\n    getState,\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"interval\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./separator.vue?vue&type=template&id=6e8f6b51&scoped=true&\"\nvar script = {}\nimport style0 from \"./separator.vue?vue&type=style&index=0&id=6e8f6b51&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e8f6b51\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"bse-rte\" :class=\"{'is-full': isFull}\">\n    <slot name=\"tools\">\n      <div class=\"menu-group\">\n        <template v-for=\"(item, idx) in tools_\">\n          <component ref=\"command\"\n            :key=\"idx\" :is=\"item.is\"\n            v-bind=\"item.attrs\" :editor=\"$refs.editor\"/>\n        </template>\n      </div>\n    </slot>\n    <editor class=\"editor\" ref=\"editor\"\n      :placeholderComponents=\"placeholderComponents\"\n      :styles=\"styles\" :value=\"value\" @input=\"(v) => { $emit('input', v) }\" />\n  </div>\n\n</template>\n<script>\nimport DefaultTool from './default-tool.vue';\nimport Editor from './editor.vue';\nimport defaultTools from './default-tools';\nimport commands from './commands';\nimport Separator from './separator.vue';\n\nfunction isComponent(com) {\n  return typeof com === 'object' && !!com.props;\n}\nfunction normalizeTool(tool) {\n  if (tool.is) {\n    return tool;\n  }\n  if (isComponent(tool)) {\n    return {\n      is: tool,\n      attrs: {},\n    };\n  }\n  if (tool === '|') {\n    return {\n      is: this.$options.components.Separator,\n      attrs: {},\n    };\n  }\n  if (typeof tool === 'string' && commands[tool]) {\n    tool = {\n      name: tool,\n    };\n  }\n  if (Array.isArray(tool)) {\n    tool = {\n      name: 'group',\n      children: tool,\n    };\n  }\n  tool = { ...tool };\n  if (tool.children) {\n    tool.children = tool.children.map(normalizeTool.bind(this));\n  }\n  if (typeof tool === 'object') {\n    tool = {\n      is: this.$options.components.DefaultTool,\n      attrs: {\n        command: {\n          ...(commands[tool.name] ? commands[tool.name] : {}),\n          ...tool,\n        },\n      },\n    };\n  }\n  return tool;\n}\nexport default {\n  name: 'Rte',\n  componentName: 'Rte',\n  components: {\n    Editor,\n    DefaultTool,\n    Separator,\n  },\n  props: {\n    value: {\n      default: '',\n    },\n    placeholders: [],\n    tools: {\n      type: Array,\n      default: () => defaultTools,\n    },\n    placeholderComponents: {\n      type: Array,\n      default: () => [\n        require('./placeholder/Video').default,\n        require('./placeholder/Image').default,\n      ],\n    },\n    styles: {\n      type: Array,\n      default: () => [\n        // eslint-disable-next-line import/no-webpack-loader-syntax\n        require('!css-loader!sass-loader!./iframe.scss'),\n        // eslint-disable-next-line import/no-webpack-loader-syntax\n        require('!css-loader!sass-loader!./placeholder/image.scss'),\n        // eslint-disable-next-line import/no-webpack-loader-syntax\n        require('!css-loader!sass-loader!./placeholder/video.scss'),\n      ],\n    },\n  },\n  data() {\n    return {\n      document: undefined,\n      window: undefined,\n      isFull: false,\n    };\n  },\n  computed: {\n    tools_() {\n      return this.tools.map(normalizeTool.bind(this));\n    },\n  },\n  methods: {\n    toggleFull() {\n      this.isFull = !this.isFull;\n    },\n    refreshState() {\n      const { commands: cCommands } = this.$refs;\n      if (cCommands) {\n        cCommands.forEach((command) => {\n          command.refreshState();\n        });\n      }\n    },\n  },\n  watch: {\n    value(val, oldVal) {\n      this.refreshState();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n  .bse-rte {\n    background-color: #FFF;\n    border: 1px solid #ddd;\n    height: 400px;\n    display: flex;\n    flex-direction: column;\n    border-radius: 5px;\n    &.is-full {\n      z-index: 1080;\n      position: fixed;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      .editor {\n        flex: 1;\n      }\n    }\n  }\n  .menu-group {\n    padding: 5px;\n    line-height: 30px;\n    border-bottom: 1px solid #ddd;\n    .btn, /deep/ .btn {\n      border-radius: 3px;\n      display: inline-block;\n      width: 2em;\n      height: 2em;\n      line-height: 2;\n      text-align: center;\n      vertical-align: top;\n      &.active {\n        // color #1989fa\n        box-shadow: inset 0 0 7px rgba(#000, .3);\n      }\n      &:hover {\n        background-color: rgba(#000, .05);\n      }\n      + a {\n        margin-left: .2em;\n      }\n    }\n\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=2bcf52bc&scoped=true&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&id=2bcf52bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bcf52bc\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rte-video-placeholder{display:inline-block;background-color:#eee;max-width:100%}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./separator.vue?vue&type=style&index=0&id=6e8f6b51&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=style&index=0&id=61add298&lang=scss&scoped=true&\"","import Vue from 'vue';\n\nexport const Video = Vue.extend({\n  name: 'RteVideoPlaceholder',\n  props: {\n    file: {},\n    edit: {},\n  },\n  methods: {\n    remove() {\n      this.$el.parentNode.focus();\n      this.$el.parentNode.removeChild(this.$el);\n      this.$destroy();\n    },\n    getHTML() {\n      return `<video src=\"${this.file.url ?? ''}\" controls/>`;\n    },\n  },\n  render() {\n    const width = `${this.file.mediaDemensions.width}px`;\n    const height = `${this.file.mediaDemensions.height}px`;\n    if (this.file.status === 'success') {\n      return (<span class=\"rte-video-placeholder\" contenteditable=\"false\" style={{\n        backgroundImage: `url(\"${this.file.thumb}\")`,\n        width,\n        height,\n      }}/>);\n    }\n    const placeholderStyle = {};\n    if (this.file.media && this.file.thumb) {\n      Object.assign(placeholderStyle, { width, height });\n    }\n    const loading = this.file.progress === 1\n      ? undefined\n      : this.file.progress\n        ? `${parseInt(this.file.progress * 100, 10)}%` : '0%';\n    return (<span class=\"placeholder\" loading={loading} style={{ ...placeholderStyle }}></span>);\n  },\n});\nexport default Video;\n","\nimport Vue from 'vue';\n\nexport const Image = Vue.extend({\n  name: 'RteImagePlaceholder',\n  props: {\n    file: {},\n    edit: {},\n  },\n  methods: {\n    remove() {\n      this.$el.parentNode.focus();\n      this.$el.parentNode.removeChild(this.$el);\n      this.$destroy();\n    },\n    getHTML() {\n      return `<img src=\"${this.file.url ?? ''}\"/>`;\n    },\n  },\n  render() {\n    const width = `${this.file.mediaDemensions.width}px`;\n    const height = `${this.file.mediaDemensions.height}px`;\n    if (this.file.status === 'success') {\n      return (<img class=\"rte-image-placeholder\" src={ this.file.url } data-server-data={JSON.stringify(this.file.value)}/>);\n    }\n    const placeholderStyle = {};\n    if (this.file.media && this.file.thumb) {\n      Object.assign(placeholderStyle, { width, height, backgroundImage: this.file.thumb ? `url(${this.file.thumb})` : null });\n    }\n    const loading = this.file.progress === 1\n      ? undefined\n      : this.file.progress\n        ? `${parseInt(this.file.progress * 100, 10)}%` : '0%';\n    return (<span class=\"placeholder\" loading={loading} style={{ ...placeholderStyle }}></span>);\n  },\n});\nexport default Image;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default-tool.vue?vue&type=style&index=0&id=75550267&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=style&index=0&id=5c19ff16&lang=scss&scoped=true&\""],"sourceRoot":""}